orted** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Facebook Pixel native SDK is loaded from `https://connect.facebook.net/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Facebook Pixel SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Facebook Pixel, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Facebook Pixel**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Facebook Pixel as a destination, you will need to configure the following settings:\n\n*   **Facebook Pixel ID**: Enter your Facebook Pixel ID. This is required for sending events via both cloud and device modes.\n*   **Business Access Token**: Enter your Facebook business access token required to send the events via cloud mode.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Facebook Pixel ID and Business Access Token, refer to the [FAQ](#faq) section below.\n\n### Event settings\n\n*   **Enable Standard Event (PageView) for all Page and Screen Calls**: If this setting is enabled, RudderStack sets `pageview` as a standard event for all `page` and `screen` calls.\n*   **Map your events with Facebook Standard Events**: RudderStack maps some events to the Facebook standard events by default. You can use this option to override the [default mappings](https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-pixel/fb-pixel-cloud-mode/#standard-events) and map events to the Facebook standard events.\n*   **Value Field Identifier**: Set this field to `properties.price` or `properties.value`. RudderStack assigns it to the Facebook payload’s `value` field. You can use this setting for the **Product Viewed** or **Product Added** events.\n*   **Enable Advanced Matching**: Enable this setting to update the user information in Facebook Pixel device mode.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you enable both the **Enable Advanced Matching** and **Use Updated Mapping** settings, RudderStack maps `external_id` from `userId` > `context.traits.userId` > `context.traits.id` > `anonymousId`, in the mentioned order.\n\n### PII properties settings\n\n*   **Denylist PII Properties**: The PII properties mentioned in this field will not be sent to Facebook if **Denylist PII Hash Property** is not enabled. If it is enabled, the properties will be SHA256-hashed and sent to Facebook. The properties listed below are the **default denylisted properties**.\n    \n    *   `email`\n    *   `firstName`\n    *   `lastName`\n    *   `firstname`\n    *   `lastname`\n    *   `first_name`\n    *   `last_name`\n    *   `gender`\n    *   `city`\n    *   `country`\n    *   `phone`\n    *   `state`\n    *   `zip`\n    *   `postalCode`\n    *   `birthday`\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you want to send any of the above properties hashed by SHA256, you need to enter the property name in the **Denylist PII Properties** field and enable the **Denylist PII Hash Property** toggle.\n\n*   **Allowlist PII Properties**: The PII properties mentioned in this field will be sent to Facebook if they are present in the properties of the events. This is only necessary for properties that match the **Default Denylisted PII** properties listed above.\n\n### Other settings\n\n*   **Limited Data Usage**: If enabled, RudderStack will take the data processing information from the payload and send it to Facebook. The data in the RudderStack payload should be as shown below:\n\n```\n\"context\": {\n  \"dataProcessingOptions\": [\n    [\n      \"LDU\"\n    ],\n    1,\n    1000\n  ],\n  \"fbc\": \"fb.1.1554763741205.AbCdEfGhIjKlMnOpQrStUvWxYz1234567890\",\n  \"fbp\": \"fb.1.1554763741205.234567890\",\n  \"fb_login_id\": \"fb_id\",\n  \"lead_id\": \"lead_id\",\n  \"device\": {\n    \"id\": \"df16bffa-5c3d-4fbb-9bce-3bab098129a7R\",\n    \"manufacturer\": \"Xiaomi\",\n    \"model\": \"Redmi 6\",\n    \"name\": \"xiaomi\"\n  },\n  \"network\": {\n    \"carrier\": \"AirCarrier\"\n  },\n  \"os\": {\n    \"name\": \"android\",\n    \"version\": \"8.1.0\"\n  },\n  \"screen\": {\n    \"height\": \"100\",\n    \"density\": 50\n  },\n  \"traits\": {\n    \"email\": \"john@example.com\",\n    \"anonymousId\": \"c82cbdff-e5be-4009-ac78-cdeea09ab4b1\"\n  }\n}\n```\n\nHere, you can send the value of [`fbc`](https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc/#fbc) parameter via `context.fbc` as shown in the above payload. If not sent, RudderStack auto generates it using the following values:\n\n*   Fetches `fbclid` from `context.page.url`\n    \n*   Uses `originalTimestamp` as the creation time\n    \n*   Sets `subdomainIndex` to `1`\n    \n*   Sets `version` to `fb`\n    \n*   **Use as Test Destination:** Enable this setting if you are using this destination for testing purposes and enter the **Test Event Code**. This code can be found in your Facebook Pixel dashboard. When enabled, you can check your events in the Facebook Pixel dashboard in real time.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `context.dataProcessingOptions` will be mapped to `data_processing_options` in Facebook as is mentioned in the [Facebook developer docs](https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/server-event#data-processing-options).\n\n*   **Don’t send external\\_id for user**: If enabled, RudderStack does not send either `userId` or `anonymousId` as the `external_id` to Facebook Pixel.\n\n### Client-side event filtering\n\nRudderStack supports specifying which events should be discarded or allowed to flow through, when sending events via device mode. For more information, refer to the [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) documentation.\n\n### Web device mode settings\n\n*   **Use Updated Mapping**: If this setting is disabled, RudderStack sends the user traits to Facebook Pixel without any modification. If you enable this setting, RudderStack takes the following traits:\n\n```\n{\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  email: \"alex@example.com\",\n  phone: \"12345678910\",\n  gender: \"Male\",\n  birthday: \"01012001\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  zip: \"90009\", // You can also send postalCode instead\n  state: \"Louisiana\",\n  foo: \"bar\",\n}\n```\n\nIt then sends the above traits to Facebook Pixel in the following format:\n\n```\n{\n  fn: \"Alex\",\n  ln: \"Keener\",\n  em: \"alex@example.com\",\n  ph: \"12345678910\",\n  ge: \"Male\",\n  db: \"01012001\",\n  ct: \"New Orleans\",\n  country: \"USA\",\n  zp: \"90009\",\n  state: \"Louisiana\",\n  foo: \"bar\"\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you enable both the **Enable Advanced Matching** and **Use Updated Mapping** settings, RudderStack maps `external_id` from `userId` > `context.traits.userId` > `context.traits.id` > `anonymousId`, in the mentioned order.\n\n*   **Legacy Conversion Pixel IDs**: With this setting, you can send specific events to a legacy conversion Pixel by specifying the event-Pixel ID mapping. Note that this option is available only when sending events via device mode.\n    \n*   **Enable Automatic Configuration**: Enabled by default, this setting sends button click and page metadata from your website to improve your ads delivery and measurement and automate your Pixel setup. See [Meta documentation](https://developers.facebook.com/docs/meta-pixel/advanced/#automatic-configuration) for more information.\n    \n*   **Use device-mode to send events**: Enable this setting to send events from the JavaScript SDK to Facebook Pixel via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n    \n*   Finally, click **Next** to complete the configuration.\n    \n\n## FAQ\n\n#### Where can I find the Pixel ID?\n\nTo get your Pixel ID, go to your Facebook Ads Manager account. On the left navigation bar, select Business Tools, and click **Events Manager** under **Manage Business**.\n\n[![](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.22.01-pm.webp)](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.22.01-pm.webp)\n\nIn the Data Sources, you should be able to see your Pixel ID underneath your site name.\n\n[![](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.19.03-pm.webp)](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.19.03-pm.webp)\n\n#### Where can I find the Business Access Token?\n\nIn order to use the Facebook Conversions API, you need to generate an access token. We recommend using the Facebook Events Manager to do so, by following these steps:\n\n*   Choose the relevant Facebook Pixel and click the **Settings** tab.\n*   In the Conversions API section, click **Generate access token** under the **Set up manually** section:\n\n[![](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.44.33-pm.webp)](https://www.rudderstack.com/docs/images/screen-shot-2021-03-03-at-1.44.33-pm.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on how to use this access token or to generate your access token via your own app, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/conversions-api/get-started/#via-events-manager).\n\n#### Can I hash my user data before sending it to RudderStack?\n\nYes. Facebook Pixel requires all user data, data coming from `context.traits`, to be hashed. This includes `email`, `phone`, `birthday`, `address`, etc. By default, RudderStack will automatically hash all of the necessary properties for you. However, if you would like to hash these traits before sending to RudderStack then you need to add this code to the event.\n\n```\nrudderanalytics.track(\n  \"some_event_name\",\n  { some_properties },\n  {\n    integrations: {\n      \"Facebook Pixel\": {\n        hashed: true,\n      },\n    },\n  }\n)\n```\n\nThe `integrations` object with these key-values will tell RudderStack not to hash the traits in `context.traits` because they are already hashed. Otherwise, RudderStack will hash your data again and Facebook will not be able to match the traits. Please keep in mind that Facebook will not accept un-hashed data.\n\n#### I can see my events being sent in the RudderStack dashboard but are not visible in the Facebook Pixel dashboard. What could be the reason?\n\nIt may take upto 24 hours for your events to reflect in the Facebook Pixel dashboard.  \nYou can also verify if your events are flowing correctly by enabling the **Use as Test Destination** setting in the RudderStack dashboard. It reflects the events in the Facebook Pixel dashboard in real time.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Facebook Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Facebook Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-pixel/",
  "markdown": "# Facebook Pixel | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Facebook Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Facebook Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-offline-conversions/",
  "markdown": "# Facebook Offline Conversions | RudderStack Docs\n\nSend your event data from RudderStack to Facebook Offline Conversions.\n\n* * *\n\n*     6 minute read  \n    \n\n[Facebook Offline Conversions](https://www.facebook.com/business/help/1142103235885551?id=565900110447546) lets you measure your sales in the offline world, resulting through your online Facebook ads. It helps you leverage the offline events data by tracking the in-store purchases, phone orders, bookings, etc.\n\n> ![danger](https://www.rudderstack.com/docs/images/danger.svg)\n> \n> **This destination is now deprecated**.\n> \n> To send your event data from RudderStack to Facebook by leveraging the Conversions API, see the [Facebook Conversions](https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-conversions/) destination documentation.\n\n## Getting started\n\nRudderStack supports sending event data to Facebook Offline Conversions via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Facebook Offline Conversions, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Facebook Offline Conversions**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Facebook Offline Conversions as a destination, you will need to configure the following settings:\n\n*   **System User Access Token**: Enter your system user access token from the Facebook Business account. Refer to the [FAQ](#faq) section for more information on obtaining the access token.\n*   **Map your events with Facebook Standard Events**: Use this setting to map the standard Facebook events with custom event names. You can map one or more custom events to a standard Facebook event but **not** vice-versa.\n*   **Map Facebook Standard Events With Event Set IDs**: Use this setting to map the standard Facebook events (specified in the above setting) to Facebook event set ID’s. You can map one or more standard Facebook events to event set ID’s and vice-versa. Refer to the [FAQ](#faq) section for more information on obtaining the event set ID’s.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If a Facebook standard event is mapped to more than one event set ID, RudderStack will send an event for every event set ID.\n\n*   **Map Categories to Facebook Content Types**: Enter the category value and the corresponding Facebook [`content_type`](https://developers.facebook.com/docs/meta-pixel/get-started/advantage-catalog-ads#content-type) which should be mapped to each other. This `content_type` is sent to Facebook every time you send the specified category value via RudderStack. Refer to the [Sending custom `content_type`](#sending-custom-content_type) section for more information on sending the customized `content_type` to Facebook.\n*   **Value Field Identifier**: Enter the identifier you want to assign to the `value` field in Facebook’s event payload. The default value is set to `properties.value`.\n*   **Limited Data Usage**: Enable this setting to let RudderStack take the data processing information from the payload and send it to Facebook.\n*   **Enable Hashing**: This setting is enabled by default and hash encodes the user data using `SHA256`. Facebook expects the user data to be hash encoded.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events along with the properties associated with them.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Facebook’s [conversion attribution window](https://developers.facebook.com/docs/marketing-api/insights#sample) is 28 days. Hence, it is recommended to send your server-side `track` conversions within 62 days of the occurrence of offline conversions.\n\nThe event name sent in the `track` call must be mapped in the **Map Facebook Standard Events With Event Set IDs** RudderStack dashboard setting otherwise, an error is thrown.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track({\n  userId: 'user@1',\n  event: 'Product Added',\n  properties: {\n    products: [{\n      id: 1,\n      category: 'Games',\n      brand: 'Hasbro',\n      price: 18.99,\n      quantity: 1,\n    }],\n    order_id: 'cart1234',\n    price: 18.99,\n    currency: \"USD\"\n  },\n  traits: {\n    email: 'alex@example.com',\n    phone: '+1-202-555-0146',\n    gender: 'male',\n    firstName: 'Alex',\n    lastName: \"Keener\",\n    address: {\n      city: 'New Orleans',\n      state: 'Louisiana',\n      postalCode: '90009',\n      country: 'USA'\n    }\n  },\n  context: {\n    \"dataProcessingOptions\": [\n      [\n        \"LDU\"\n      ],\n      1,\n      1000\n    ],\n  }\n});\n```\n\nIf your server has access to Facebook’s `leadId` from their [Lead Ads](https://developers.facebook.com/docs/marketing-api/guides/lead-ads/) product, you can choose to send it using the integration specific options. The `leadId` is mapped via `externalId`:\n\n```\n\"externalId\": [\n  {\n  \"id\": \"leadId-value\",\n  \"type\": \"LeadId\"\n  }, ]\n```\n\n### Property mappings\n\nThe following table lists the event property mappings between RudderStack and Facebook Offline Conversions:\n\n| RudderStack property | Facebook Offline Conversions property | Notes |\n| --- | --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId`  <br>Required | `extern_id` | \\-  |\n| `originalTimestamp`  <br>`timestamp`  <br>Required | `event_time` | Unix timestamp. The default value is the current timestamp. |\n| `event`  <br>Required | `event_name` | \\-  |\n| `properties.currency`  <br>Required | `currency` | If not provided, the default value is set to `USD`. |\n| `properties.total`  <br>`properties.price`  <br>`properties.value`  <br>`properties.revenue`  <br>Required | `value` (currency value) | If not provided, the default value is set to `0`. |\n| `properties.upload_tag` | `upload_tag` | The default value is set to `RudderStack`. |\n| `properties.item_number` | `item_number` | \\-  |\n| `properties.order_id`  <br>`properties.orderId` | `order_id` | \\-  |\n| `properties` | `custom_data` | \\-  |\n| `properties.products` | `contents` | \\-  |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`context.externalId.0.id` | `email` | \\-  |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone` | `phone` | \\-  |\n| `traits.gender`  <br>`context.traits.gender` | `gen` | \\-  |\n| `traits.birthday`  <br>`context.traits.birthday`  <br>`traits.dateOfBirth`  <br>`context.traits.dateOfBirth`  <br>`traits.dateofbirth`  <br>`context.dateofbirth`  <br>`traits.dob`  <br>`context.traits.dob`  <br>`traits.DOB`  <br>`context.traits.DOB` | `doby` | The expected format is `DD, MM, YYYY`. RudderStack extracts the year, month, and day before sending it to Facebook Offline Conversions. |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `fn` | \\-  |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `ln` | \\-  |\n| `traits.address.city`  <br>`context.traits.address.city` | `ct` | \\-  |\n| `traits.state`  <br>`context.traits.state` | `st` | \\-  |\n| `traits.zip`  <br>`traits.zipcode`  <br>`traits.zip_code`  <br>`traits.zipCode`  <br>`traits.postalcode`  <br>`traits.postal_code`  <br>`traits.postalCode`  <br>`traits.address.zipcode`  <br>`traits.address.zip_code` | `zip` | \\-  |\n| `traits.country`  <br>`context.traits.country` | `country` | \\-  |\n| `context.device.advertisingId` | `madid` | \\-  |\n| `context.userAgent` | `client_user_agent` | \\-  |\n| `traits.action_source`  <br>`context.traits.action_source`  <br>`properties.action_source` | `action_source` | \\-  |\n| `context.page.url`  <br>`properties.url` | `event_source_url` | \\-  |\n| `context.fbc` | `fbc` | \\-  |\n| `context.fbp` | `fbp` | \\-  |\n\nNote the following important points while sending event data to Facebook Offline Conversions:\n\n*   At least one [`match_key`](https://developers.facebook.com/docs/marketing-api/offline-conversions/#:~:text=one%20API%20call.-,Match%20Keys,-match_keys%20is%20a) is required to send an event successfully. RudderStack uses SHA256 encoding to hash all `match_keys` that include personally identifiable data in compliance with Facebook’s privacy requirements.\n*   If you send a `products` array using the `properties` object, RudderStack sends only the `id`, `quantity`, `brand`, `category`, and `price` properties for each product. The reason is that Facebook throws an error on encountering any property apart from these.\n*   If you send an event name as **Product List Viewed**, the value of [`content_type`](https://developers.facebook.com/docs/meta-pixel/get-started/advantage-catalog-ads#content-type) key is set as `product_group` otherwise, it is set as `product`.\n*   RudderStack sends a conversion event as long as it contains a `userId`. However, it is recommended to send as much user data through `context.traits` for better attribution results.\n*   You can send either the `firstName` and `lastName` separately or just the `name` property. RudderStack maps it to `fn` and `ln` on its own.\n\n## Sending custom `content_type`\n\nYou can either send the custom [`content_type`](https://developers.facebook.com/docs/meta-pixel/get-started/advantage-catalog-ads#content-type) by specifying it in the **Map Categories to Facebook Content Types** dashboard setting or via the `integrations` object:\n\n```\n\"integrations\": {\n  \"FacebookOfflineConversions\": {\n    \"contentType\": \"sending dedicated content type for this particular payload\"\n  }\n}\n```\n\nThe priority order of setting the `content_type` value is as follows:\n\n1.  `content_type` provided in the `integrations` object is given the highest priority.\n2.  `content_type` provided in the RudderStack dashboard is given the second highest priority.\n3.  If none of the above is provided, the `content_type` is set to `product` by default, except in the following cases:\n\n*   If **Product List Viewed** event is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If **Product Viewed** event is mapped in the RudderStack dashboard, then the `content_type` is set to `product`.\n*   If **Product Viewed** event is not mapped in RudderStack dashboard (default mapping is set to **View Content** event) and is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If any other event is mapped to the Facebook standard event **View Content** in the RudderStack dashboard and is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n\n## FAQ\n\n#### Where can I find the System User Access Token?\n\n1.  Log in to the [Facebook Business](https://business.facebook.com/) account.\n2.  Go to **Business Settings** > **Users** > **System users**.\n3.  Click **Generate New Token**, select your app from the dropdown, and **ads\\_management** permission.\n4.  Click **Generate Token** as shown:\n\n[![Facebook settings](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-generate-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-generate-token.webp)\n\n#### Where can I find the event set ID in Facebook dashboard?\n\n1.  Log in to the [Facebook Business](https://business.facebook.com/) account.\n2.  Go to **Business Settings** > **Data Sources** > **Offline event sets** and select **Open in Events Manager**. You can see the event set ID as shown:\n\n[![Facebook settings](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-event-set-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-event-set-id.webp)\n\n#### Which permissions are required to upload the offline event data?\n\nRefer to the [Facebook dcoumentation](https://www.facebook.com/business/help/629677790575687?id=565900110447546) to know about the detailed permissions required to upload offline event data.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Facebook Offline Conversions | RudderStack Docs",
  "description": "Send your event data from RudderStack to Facebook Offline Conversions.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-pixel/fb-pixel-cloud-mode/",
  "markdown": "# Facebook Pixel cloud mode | RudderStack Docs\n\nSend events to Facebook Pixel using RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Facebook Pixel via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/facebook_pixel).\n\n## Identify\n\nIn Facebook Pixel, the immediate updating of user properties via the `identify` call is not supported. To do so, you need to enable the **Enable Advanced Matching** setting in the RudderStack dashboard.\n\nThe following snippet highlights the use of the `identify` call:\n\n```\nrudderanalytics.identify(\"userId\", userVars) // userVars is a JSON object\n```\n\n## Page\n\nWhen you make the `page` call, RudderStack sends the data to Facebook Pixel with the event type as `pageView`. You can also pass properties to `page` - RudderStack automatically sends these properties along with the event ID to Pixel.\n\nA sample `page` call is as shown:\n\n## Track\n\nThe `track` call lets you track custom events as they occur in your web application.\n\nA sample call looks like the following code snippet:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  order_ID: \"123\",\n  category: \"boots\",\n  product_name: \"yellow_cowboy_boots\",\n  price: 99.95,\n  currency: \"EUR\",\n  revenue: 2000,\n  value: 3000,\n  checkinDate: \"Thu Mar 24 2018 17:46:45 GMT+0000 (UTC)\",\n})\n```\n\nIn addition to the above call, a `contentType` in the integrations options can be available. If present, it will precede the default value or dashboard settings of `contentType`.\n\n```\nrudderanalytics.track(\n  \"Product Added\",\n  {\n    order_ID: \"123\",\n    category: \"boots\",\n    product_name: \"yellow_cowboy_boots\",\n    price: 99.95,\n    currency: \"EUR\",\n    revenue: 2000,\n    value: 3000,\n    checkinDate: \"Thu Mar 24 2018 17:46:45 GMT+0000 (UTC)\",\n  },\n  {\n    \"Facebook Pixel\": { contentType: \"mycustomtype\" },\n  }\n)\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> String is the only valid data type for the `category` field. However, you can pass an array of string values which will be concatenated using a delimiter (,) before sending the events.\n\n## Standard events\n\nRudderStack maps the event name in the payload to the Facebook standard event before sending it to Facebook Pixel. The properties are sent as the standard events require them. Refer to the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for more information.\n\nRudderStack maps the following events to the Facebook standard events by default:\n\n| RudderStack Event | Facebook Standard Event |\n| --- | --- |\n| `Product List Viewed` | `ViewContent` |\n| `Product Viewed` | `ViewContent` |\n| `Product Added` | `AddToCart` |\n| `Order Completed` | `Purchase` |\n| `Products Searched` | `Search` |\n| `Checkout Started` | `InitiateCheckout` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can use the **Map your events with Facebook Standard Events** setting in the RudderStack dashboard to override the default mappings specified in the table above.\n\nNote that:\n\n*   For the `Purchase` standard event (mapped to `Order Completed` event), `properties.revenue` is a required field. Also, RudderStack sends the `delivery_category` field along with `id`, `item_price` and `quantity`.\n    \n*   For the `Products Searched` event, the `query` property must be a string.\n    \n*   If you map an event with the `ViewContent` standard event using the RudderStack dashboard setting and don’t send the `products` array in the `message.properties` object:\n    \n    ```\n    \"properties\": {\n      \"phone\": 1-202-555-0146,\n      \"email\": \"alex@example.com\",\n      \"category\": \"clothing\",\n      \"list_id\": \"1234\",\n      \"testDimension\": true,\n      \"testMetric\": true\n    }\n    ```\n    \n    Then, `content_ids` is mapped to `properties.category` value (`clothing` in this case) and `quantity` is set to `1` inside the `contents` object.\n    \n\nThe below table elaborates the property mappings between RudderStack and Facebook corresponding to the RudderStack event:\n\n| RudderStack event | RudderStack property | Facebook property |\n| --- | --- | --- |\n| Product List Viewed |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `category`  <br>`contentName`  <br>`currency`  <br>`value` | `content_category`  <br>`content_name`  <br>`currency`  <br>`value` |\n| `products.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Product Viewed |\n| `product_id/sku/id`  <br>`product_name/name`  <br>`category`  <br>`currency` | `content_ids`  <br>`content_name`  <br>`content_category`  <br>`currency` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Product Added |\n| `product_id/sku/id`  <br>`product_name/name`  <br>`currency` | `content_ids`  <br>`content_name`  <br>`currency` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Order Completed |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `contentName`  <br>`currency`  <br>`revenue` | `content_name`  <br>`currency`  <br>`value` |\n| `products.$.delivery_category`/`properties.delivery_category`  <br>`products.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price/price` | `contents.delivery_category`  <br>`contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Products Searched | `query`  <br>`product_id/sku/id`  <br>`category`  <br>`currency`  <br>`value` | `search_string`  <br>`content_ids`  <br>`content_category`  <br>`currency`  <br>`value` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Checkout Started |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `category`  <br>`currency`  <br>`revenue` | `content_category`  <br>`currency`  <br>`value` |\n| `pproducts.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price/price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In the above table, the default values for the `currency` and `quantity` properties are `USD` and `1` respectively.\n\n### Other standard events\n\nIf you map your event to any of the following Facebook standard events, then RudderStack treats it as a standard event as well:\n\n*   `AddToWishlist`\n*   `AddPaymentInfo`\n*   `Lead`\n*   `CompleteRegistration`\n*   `Contact`\n*   `CustomizeProduct`\n*   `Donate`\n*   `FindLocation`\n*   `Schedule`\n*   `StartTrial`\n*   `SubmitApplication`\n*   `Subscribe`\n\nFor any properties you want to send with these events, you must specify them in the **Standard Events custom properties** settings field.\n\n## Custom events\n\nCustom events are used to send any event that does not appear in any of the mappings.\n\n## Deduplication\n\nFacebook Pixel allows you to send events via your web browser and your server via the Conversion API. Depending on how you send your events, with this duel set-up, redundant events may be received by Facebook. Therefore, to help get accurate representation of your data, Facebook tries to [deduplicate events](https://www.facebook.com/business/help/823677331451951?id=1205376682832142) coming in.\n\n#### `event_id` method (Recommended)\n\nFacebook’s (and RudderStack’s) recommended form of deduplication is to leverage the `event_name` and `event_id` properties. When two events coming into Facebook meet the following criteria, they will be deduplicated.\n\n*   They are sent within 48 hours of each other\n*   They are received by the same Facebook Pixel ID\n*   They have the same `event_name` i.e. `Purchase` etc.\n*   They have the same `event_id`\n    *   The `event_id` must be unique to that specific event and the same for both of the events coming from the Pixel and Conversion API\n    *   For example: the `event_id` could be the purchase order number etc.\n\nYou can set the `event_id` in `traits` , `context.traits` or `properties` object as a unique identifier.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you don’t set the `event_id`, RudderStack will use `messageId` to map to Facebook’s `eventId`.\n\nThe `event_name` will be picked up from the name of the event. For more information regarding the logic behind the `event_id` deduplication, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/#event-id-and-event-name---recommended).\n\n#### `fbp` and `external_id` method (Not Recommended)\n\nFor this approach, it is necessary to send an event, first from the browser, then from the server. Both events must have the same `event_name`, and the same `fbp` parameter and the same `external_id`. If the browser event is received before the server event and both events have the same `event_name` and the same `fbp` and `external_id`, then the server event will be discarded. Below are a few shortcomings for this deduplication method.\n\n*   It will always discard the server event is Facebook identifies a redundant event.\n*   This method only works for deduplicating events sent first from the browser and then the server.\n*   There will be no deduplication if two consecutive browser events with the same information are sent to Facebook. The same is true if two server events with the same information is sent to Facebook\n\nRudderStack maps the `event_name` from whatever the name of the event that is being sent is. The `fbp` parameter is taken from the `context.fbp` key-value pair. Finally, the `external_id` will just be the `userId` or `anonymousId` (if `userId` is not present).\n\nFor more information regarding the logic behind the `fbp` and `external_id` deduplication, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/#fbp-or-external-id).\n\n## Sending custom `content_type`\n\nYou can send a custom [`content_type`](https://developers.facebook.com/docs/meta-pixel/get-started/advantage-catalog-ads#content-type) field by specifying it in the `properties.content_type` field of your event.\n\nRudderStack sets the value of `content_type` in the following priority order:\n\n1.  It gives the highest priority to `properties.content_type` in your event.\n2.  If `properties.content_type` is absent, RudderStack sets the `content_type` to `product` by default, except in the following cases:\n\n*   If **Product List Viewed** event is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If **Product Viewed** event is not mapped in RudderStack dashboard (default mapping is set to **View Content** event) but is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If any other event is mapped to the Facebook standard event **View Content** in the RudderStack dashboard and is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `product` and `product_group` are the only two acceptable values for `content_type`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Facebook Pixel cloud mode | RudderStack Docs",
  "description": "Send events to Facebook Pixel using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fb-pixel/fb-pixel-device-mode/",
  "markdown": "# Facebook Pixel device mode | RudderStack Docs\n\nSend events to Facebook Pixel using RudderStack web device mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Facebook Pixel via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\nFind the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/FacebookPixel).\n\n## Page\n\nWhen you make the `page` call, RudderStack sends the data to Facebook Pixel with the event type as `pageView`. You can also pass properties to `page` - RudderStack automatically sends these properties along with the event ID to Pixel.\n\nA sample `page` call is as shown:\n\n## Track\n\nThe `track` call lets you track custom events as they occur in your web application.\n\nA sample call looks like the following code snippet:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  order_ID: \"123\",\n  category: \"boots\",\n  product_name: \"yellow_cowboy_boots\",\n  price: 99.95,\n  currency: \"EUR\",\n  revenue: 2000,\n  value: 3000,\n  checkinDate: \"Thu Mar 24 2018 17:46:45 GMT+0000 (UTC)\",\n})\n```\n\nIn addition to the above call, a `contentType` in the integrations options can be available. If present, it will precede the default value or dashboard settings of `contentType`.\n\n```\nrudderanalytics.track(\n  \"Product Added\",\n  {\n    order_ID: \"123\",\n    category: \"boots\",\n    product_name: \"yellow_cowboy_boots\",\n    price: 99.95,\n    currency: \"EUR\",\n    revenue: 2000,\n    value: 3000,\n    checkinDate: \"Thu Mar 24 2018 17:46:45 GMT+0000 (UTC)\",\n  },\n  {\n    \"Facebook Pixel\": { contentType: \"mycustomtype\" },\n  }\n)\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> String is the only valid data type for the `category` field. However, you can pass an array of string values which will be concatenated using a delimiter (,) before sending the events.\n\n## Standard events\n\nRudderStack maps the event name in the payload to the Facebook standard event before sending it to Facebook Pixel. The properties are sent as the standard events require them. Refer to the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for more information.\n\nRudderStack maps the following events to the Facebook standard events by default:\n\n| RudderStack Event | Facebook Standard Event |\n| --- | --- |\n| `Product List Viewed` | `ViewContent` |\n| `Product Viewed` | `ViewContent` |\n| `Product Added` | `AddToCart` |\n| `Order Completed` | `Purchase` |\n| `Products Searched` | `Search` |\n| `Checkout Started` | `InitiateCheckout` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can use the **Map your events with Facebook Standard Events** setting in the RudderStack dashboard to override the default mappings specified in the table above.\n\nNote that:\n\n*   For the `Purchase` standard event, `properties.revenue` is a required field.\n    \n*   For the `Products Searched` event, the `query` property must be a string.\n    \n*   If you map an event with the `ViewContent` standard event using the RudderStack dashboard setting and don’t send the `products` array in the `message.properties` object:\n    \n    ```\n    \"properties\": {\n      \"phone\": 1-202-555-0146,\n      \"email\": \"alex@example.com\",\n      \"category\": \"clothing\",\n      \"list_id\": \"1234\",\n      \"testDimension\": true,\n      \"testMetric\": true\n    }\n    ```\n    \n    Then, `content_ids` is mapped to `properties.category` value (`clothing` in this case) and `quantity` is set to `1` inside the `contents` object.\n    \n\nThe below table elaborates the property mappings between RudderStack and Facebook corresponding to the RudderStack event:\n\n| RudderStack event | RudderStack property | Facebook property |\n| --- | --- | --- |\n| Product List Viewed |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `category`  <br>`contentName`  <br>`currency`  <br>`value` | `content_category`  <br>`content_name`  <br>`currency`  <br>`value` |\n| `products.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Product Viewed |\n| `product_id/sku/id`  <br>`product_name/name`  <br>`category`  <br>`currency` | `content_ids`  <br>`content_name`  <br>`content_category`  <br>`currency` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Product Added |\n| `product_id/sku/id`  <br>`product_name/name`  <br>`currency` | `content_ids`  <br>`content_name`  <br>`currency` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Order Completed |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `contentName`  <br>`currency`  <br>`revenue` | `content_name`  <br>`currency`  <br>`value` |\n| `products.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price/price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Products Searched | `query`  <br>`product_id/sku/id`  <br>`category`  <br>`currency`  <br>`value` | `search_string`  <br>`content_ids`  <br>`content_category`  <br>`currency`  <br>`value` |\n| `product_id/sku/id`  <br>`quantity`  <br>`price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n| Checkout Started |\n| `products.$.product_id/products.$.sku/products.$.id` | `content_ids` |\n| `category`  <br>`currency`  <br>`revenue` | `content_category`  <br>`currency`  <br>`value` |\n| `pproducts.$.product_id/products.$.sku/products.$.id`  <br>`products.$.quantity/quantity`  <br>`product.$.price/price` | `contents.id`  <br>`contents.quantity`  <br>`contents.item_price` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In the above table, the default values for the `currency` and `quantity` properties are `USD` and `1` respectively.\n\n### Other standard events\n\nIf you map your event to any of the following Facebook standard events, then RudderStack treats it as a standard event as well:\n\n*   `AddToWishlist`\n*   `AddPaymentInfo`\n*   `Lead`\n*   `CompleteRegistration`\n*   `Contact`\n*   `CustomizeProduct`\n*   `Donate`\n*   `FindLocation`\n*   `Schedule`\n*   `StartTrial`\n*   `SubmitApplication`\n*   `Subscribe`\n\nFor any properties you want to send with these events, you must specify them in the **Standard Events custom properties** settings field.\n\n## Legacy events\n\nIn the dashboard, the legacy conversion Pixel IDs can be filled. The events which appear in the mapping are sent to Pixel with the mapped Pixel ID. The conversion events only support currency and value as their event properties.\n\n## Custom events\n\nCustom events are used to send any event that does not appear in any of the mappings.\n\n## Deduplication\n\nFacebook Pixel allows you to send events via your web browser and your server via the Conversion API. Depending on how you send your events, with this duel set-up, redundant events may be received by Facebook. Therefore, to help get accurate representation of your data, Facebook tries to [deduplicate events](https://www.facebook.com/business/help/823677331451951?id=1205376682832142) coming in.\n\n#### `event_id` method (Recommended)\n\nFacebook’s (and RudderStack’s) recommended form of deduplication is to leverage the `event_name` and `event_id` properties. When two events coming into Facebook meet the following criteria, they will be deduplicated.\n\n*   They are sent within 48 hours of each other\n*   They are received by the same Facebook Pixel ID\n*   They have the same `event_name` i.e. `Purchase` etc.\n*   They have the same `event_id`\n    *   The `event_id` must be unique to that specific event and the same for both of the events coming from the Pixel and Conversion API\n    *   For example: the `event_id` could be the purchase order number etc.\n\nYou can set the `event_id` in `traits` , `context.traits` or `properties` object as a unique identifier.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you don’t set the `event_id`, RudderStack will use `messageId` to map to Facebook’s `eventId`.\n\nThe `event_name` will be picked up from the name of the event. For more information regarding the logic behind the `event_id` deduplication, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/#event-id-and-event-name---recommended).\n\n#### `fbp` and `external_id` method (Not Recommended)\n\nFor this approach, it is necessary to send an event, first from the browser, then from the server. Both events must have the same `event_name`, and the same `fbp` parameter and the same `external_id`. If the browser event is received before the server event and both events have the same `event_name` and the same `fbp` and `external_id`, then the server event will be discarded. Below are a few shortcomings for this deduplication method.\n\n*   It will always discard the server event is Facebook identifies a redundant event.\n*   This method only works for deduplicating events sent first from the browser and then the server.\n*   There will be no deduplication if two consecutive browser events with the same information are sent to Facebook. The same is true if two server events with the same information is sent to Facebook\n\nRudderStack maps the `event_name` from whatever the name of the event that is being sent is. The `fbp` parameter is taken from the `context.fbp` key-value pair. Finally, the `external_id` will just be the `userId` or `anonymousId` (if `userId` is not present).\n\nFor more information regarding the logic behind the `fbp` and `external_id` deduplication, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/#fbp-or-external-id).\n\n## Timestamps\n\nFacebook Pixel uses ISO 8601 timestamp without the timezone information. It expects the timestamp to be sent in the following format:\n\n`\"checkinDate\", \"checkoutDate\", \"departingArrivalDate\", \"departingDepartureDate\", \"returningArrivalDate\", \"returningDepartureDate\", \"travelEnd\", \"travelStart\"`\n\n## Sending custom `content_type`\n\nYou can send a custom [`content_type`](https://developers.facebook.com/docs/meta-pixel/get-started/advantage-catalog-ads#content-type) field by specifying it in the `properties.content_type` field of your event.\n\nRudderStack sets the value of `content_type` in the following priority order:\n\n1.  It gives the highest priority to `properties.content_type` in your event.\n2.  If `properties.content_type` is absent, RudderStack sets the `content_type` to `product` by default, except in the following cases:\n\n*   If **Product List Viewed** event is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If **Product Viewed** event is not mapped in RudderStack dashboard (default mapping is set to **View Content** event) but is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n*   If any other event is mapped to the Facebook standard event **View Content** in the RudderStack dashboard and is sent:\n    *   with `products` array, then the `content_type` is set to `product`.\n    *   without the `products` array, then the `content_type` is set to `product_group`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Facebook Pixel device mode | RudderStack Docs",
  "description": "Send events to Facebook Pixel using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/factors/",
  "markdown": "# FactorsAI | RudderStack Docs\n\n## FactorsAI Beta\n\nStep-by-step guide on sending your event data from RudderStack to FactorsAI.\n\n* * *\n\n*     2 minute read  \n    \n\n[FactorsAI](https://www.factors.ai/) is a marketing analytics and attribution platform. It collects and processes all data across your customer journeys to help you make smart business decisions.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/factorsai).\n\n## Getting started\n\nRudderStack supports sending event data to FactorsAI via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to FactorsAI, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Factors AI**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure FactorsAI as a destination, you will need to configure the following settings:\n\n*   **API Key**: Enter the FactorsAI API Key. For more information on obtaining your FactorsAI API key, refer to the [FAQ](#faq) section below.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in FactorsAI. RudderStack uses the `userId` field to perform these actions.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4e', {\n  email: 'alex@example.com'\n});\n```\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events and their associated properties, and send this information to FactorsAI.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 4.0,\n  review_body: \"Good product.\"\n})\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) event lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call sent using RudderStack’s JavaScript SDK:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user to a group like a company, organization, or an account.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"sample-group-id\", {\n  name: \"Example Company\",\n  employees: 1000,\n  industry: \"Software\"\n});\n```\n\n## FAQ\n\n#### Where can I get the FactorsAI API key?\n\nTo get your FactorsAI API key:\n\n1.  Log in to your [FactorsAI dashboard](https://app.factors.ai/).\n2.  Click the menu button in the left corner and go to **Settings** > **Integrations**.\n3.  From the integrations list, select **RudderStack** to generate the API key:\n\n[![FactorsAI API key](https://www.rudderstack.com/docs/images/event-stream-destinations/factorsai-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/factorsai-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "FactorsAI | RudderStack Docs",
  "description": "Step-by-step guide on sending your event data from RudderStack to FactorsAI.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/gladly/",
  "markdown": "# Gladly | RudderStack Docs\n\n## Gladly Beta\n\nSend your event data from RudderStack to Gladly.\n\n* * *\n\n*     2 minute read  \n    \n\n[Gladly](https://www.gladly.com/) is a customer service platform that leverages AI to deliver personalized agent-assisted customer service and enhance customer relationships.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/gladly/).\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Gladly**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Gladly as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **API Token**: Enter your [Gladly API token](#faq) by going to **Settings** > **API Tokens** in your Gladly dashboard.\n*   **Domain**: Enter your Gladly domain.\n*   **User Name**: Enter your Gladly agent email. You can find it in your Gladly dashboard under **Settings** > **Users** > **Email**.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to send user details like profile and contact information, notes, and transactions to Gladly.\n\nRudderStack sends this information to Gladly using their [`Customers`](https://developer.gladly.com/rest/#tag/Customers) REST API endpoint.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  createdAt: \"Mon May 19 2019 18:34:24 GMT+0000 (UTC)\",\n})\n```\n\n### Traits mapping\n\nRudderStack maps the following `identify` traits to the [Gladly attributes](https://developer.gladly.com/rest/#operation/createCustomer):\n\n| RudderStack property | Gladly property | Data type |\n| --- | --- | --- |\n| `userId`  <br>Required | `id` | String |\n| `traits.name`  <br>`context.traits.name` | `name` | String |\n| `traits.email`  <br>`context.traits.email` | `emails[0].original` | String |\n| `traits.phone`  <br>`context.traits.phone` | `phones[0].original` | String |\n| `traits.image_url`  <br>`context.traits.image_url` | `image` | String |\n| `traits.address`  <br>`context.traits.address` | `address` | String |\n| `externalId` | `externalCustomerId` | String |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends any other user information apart from the above-mentioned traits as `customAttributes`.\n\nNote that RudderStack currently does not support additional email properties. However, you can send this information to Gladly by sending an `emailProperties` object in your event as follows:\n\n```\n{\n  \"emailProperties\": [{\n      \"<traits.email1>\": {\n        \"normalised\": \"\",\n        \"primary\": true,\n        \"newKey\": \"\"\n      }\n    },\n    {\n      \"<traits.email2>\": {\n        \"normalised\": \"\",\n        \"primary\": false,\n        \"newKey\": \"\"\n      }\n    }\n  ]\n}\n```\n\n## FAQ\n\n#### **Where can I find the Gladly API token?**\n\n1.  Log in to your Gladly dashboard.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Each organization has its own unique Gladly login URL. Make sure to log in using the correct URL. Contact your Gladly customer success team for more information.\n\n2.  Go to **Settings**. Under **APP DEVELOPER TOOLS**, click **API Tokens**.\n\n[![Gladly API token](https://www.rudderstack.com/docs/images/event-stream-destinations/gladly-api-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gladly-api-token.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Gladly | RudderStack Docs",
  "description": "Send your event data from RudderStack to Gladly.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/freshsales/",
  "markdown": "# Freshsales | RudderStack Docs\n\nSend your event data from RudderStack to Freshsales.\n\n* * *\n\n*     6 minute read  \n    \n\n[Freshsales](https://www.freshworks.com/crm/lp/sales-crm-software/) is a CRM tool that lets you discover the best leads, drive them to closure, and nurture them to boost contextual engagement.\n\nRudderStack supports Freshsales as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Freshsales as a destination in RudderStack, verify if the source platform is supported by Freshsales by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Freshsales, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Freshsales**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Freshsales as a destination, you will need to configure the following settings:\n\n*   **API Key**: Enter your Freshsales API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Freshsales API key, refer to the [FAQ](#FAQ) section below.\n\n*   **Domain**: Enter the full organization URL associated with your Freshsales account. For example, `testcompany.myfreshworks.com`.\n\n*   **Map your events with Freshsales Standard Events**: Use this setting to map the standard Freshsales events with the custom event names.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update your Freshsales contact.\n\nRudderStack uses the Freshsales [Upsert a Contact](https://developers.freshworks.com/crm/api/#upsert_a_contact) API to pass the relevant user information via the following parameters:\n\n| Attribute | Type | Description |\n| --- | --- | --- |\n| `unique_identifier` | String | RudderStack passes the user’s `email`. |\n| `contact` | Hashed Object | RudderStack passes the other relevant user details required to create or update the user in Freshsales. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If `email` already exists, the contact details are updated. Otherwise, RudderStack creates a new user in Freshsales.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  email: \"alex@example.com\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  state: \"Louisiana\",\n  country: \"USA\",\n  postalCode: \"90009\",\n});\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Freshsales properties:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>Required | `emails` |\n| `traits.firstname`  <br>`traits.first_name`  <br>`traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name`  <br>`context.traits.firstName` | `first_name` |\n| `traits.lastname`  <br>`traits.last_name`  <br>`traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name`  <br>`context.traits.lastName` | `last_name` |\n| `traits.subscriptionStatus`  <br>`context.traits.subscriptionStatus` | `subscription_status` |\n| `traits.job_title`  <br>`traits.jobTitle`  <br>`context.traits.job_title`  <br>`context.traits.jobTitle` | `job_title` |\n| `traits.phone`  <br>`context.traits.phone` | `work_number` |\n| `userId` | `external_id` |\n| `traits.mobileNumber`  <br>`context.traits.mobileNumber` | `mobile_number` |\n| `traits.address`  <br>`context.traits.address` | `address` |\n| `traits.address.city`  <br>`traits.city`  <br>`context.traits.address.city`  <br>`context.traits.city` | `city` |\n| `traits.address.state`  <br>`traits.state`  <br>`context.traits.address.state`  <br>`context.traits.state` | `state` |\n| `traits.address.postalCode`  <br>`traits.zip`  <br>`traits.zipcode`  <br>`context.traits.zip`  <br>`context.traits.zipcode`  <br>`context.traits.address.postalCode` | `zipcode` |\n| `traits.address.country`  <br>`traits.country`  <br>`context.traits.address.country`  <br>`context.traits.country` | `country` |\n| `traits.salesAccounts`  <br>`context.traits.salesAccounts` | `sales_accounts` |\n| `traits.territoryId`  <br>`context.traits.territoryId` | `territory_id` |\n| `traits.leadSourceId`  <br>`context.traits.leadSourceId` | `lead_source_id` |\n| `traits.ownerId`  <br>`context.traits.ownerId` | `owner_id` |\n| `traits.subscriptionTypes`  <br>`context.traits.subscriptionTypes` | `subscription_types` |\n| `traits.medium`  <br>`context.traits.medium` | `medium` |\n| `traits.campaignId`  <br>`traits.campaign_id`  <br>`context.traits.campaignId`  <br>`context.traits.campaign_id`  <br>`context.campaign.name` | `campaign_id` |\n| `traits.keyword`  <br>`context.traits.keyword`  <br>`context.campaign.term` | `keyword` |\n| `traits.timeZone`  <br>`context.traits.timeZone` | `time_zone` |\n| `traits.facebookUserName`  <br>`context.traits.facebookUserName` | `facebook` |\n| `traits.twitterUserName`  <br>`context.traits.twitterUserName` | `twitter` |\n| `traits.linkedinUserName`  <br>`context.traits.linkedinUserName` | `linkedin` |\n| `createdAt` | `created_at` |\n| `timestamp` | `updated_at` |\n| `traits.contactStatusId`  <br>`context.traits.contactStatusId` | `contact_status_id` |\n| `traits.salesAccountId`  <br>`context.traits.salesAccountId` | `sales_account_id` |\n| `traits.lifecycleStageId`  <br>`context.traits.lifecycleStageId` | `lifecycle_stage_id` |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call can be used to track the user activities in Freshsales.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To make a `track` call successfully, you must map the event to be sent in the `track` call in the **Map your events with Freshsales Standard Events** dashboard setting.\n\nRudderStack supports the following `track` events:\n\n### Lifecycle stage\n\nLifecycle stage events capture the decision journey of a customer. Refer to the [Freshsales documentation](https://support.freshsales.io/en/support/solutions/articles/50000003344-how-to-manage-lifecycle-stages-and-status-for-contacts-) to create lifecycle stages in Freshsales.\n\nRudderStack lets you update the status of a contact in their lifecycle stage by using either the `lifecycleStageId` or `lifecycleStageName`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `lifecycleStageName` is a case-sensitive field and throws an error if not used in the intended manner.\n\nA sample `track` call for a lifecycle stage event is shown below:\n\n```\nrudderanalytics.track(\"eventName\", {\n  email: \"alex@example.com\",\n  lifecycleStageId: 71010794467,\n  phone: \"+1-202-555-0146\",\n  owner_id: \"70000090119\",\n});\n```\n\nThe following table lists the property mappings betweeen RudderStack and Freshsales for lifecycle stage events:\n\n| RudderStack property | Freshsales property |\n| --- | --- |\n| `email`  <br>Required | `email` |\n| `lifecycleStageName`  <br>Required, if lifecycleStageId is absent. | `lifecycleStageName` |\n| `lifecycleStageId`  <br>Required, if lifecycleStageName is absent. | `lifecycle_stage_id` |\n\n### Sales activities\n\n[Sales activities](https://developers.freshworks.com/crm/api/#sales-activities) events can be used to track any activity related to a contact/deal/account. Refer to the [Freshsales documentation](https://support.freshsales.io/en/support/solutions/articles/230199-how-to-configure-different-sales-activities-in-freshsales-) to create sales activities in Freshsales.\n\nRudderStack lets you create the status of a contact by using either the `salesActivityTypeId` or `salesActivityName`.\n\nA sample `track` call for a sales activity event is shown below:\n\n```\nrudderanalytics.track(\"eventName\", {\n  salesActivityTypeId: \"70000663932\",\n  title: \"new contact\",\n  startDate: \"2021-05-04T17:00:00+05:30\",\n  endDate: \"2022-06-04T17:30:00+05:30\",\n  ownerId: \"70054866612\",\n});\n```\n\nThe following table lists the property mappings betweeen RudderStack and Freshsales for sales activity events:\n\n| RudderStack property | Freshsales property |\n| --- | --- |\n| `properties.title`  <br>Required | `title` |\n| `properties.salesActivityName`  <br>Required, if properties.salesActivityTypeId is absent. | `sales_activity_name` |\n| `properties.salesActivityTypeId`  <br>Required, if properties.salesActivityName is absent. | `sales_activity_type_id` |\n| `properties.startDate`  <br>Required | `start_date` |\n| `properties.endDate`  <br>Required | `end_date` |\n| `context.externalId.type`  <br>Required | `targetable_type` |\n| `properties.ownerId`  <br>Required | `owner_id` |\n| `salesActivityOutcomeId` | `sales_activity_outcome_id` |\n| `properties.notes` | `notes` |\n| `context.externalId.id` | `targetable_id` |\n| `properties.createrId` | `creater_id` |\n| `originalTimestamp` | `created_at` |\n| `timestamp` | `updated_at` |\n| `properties.location` | `location` |\n| `latitude`  <br>`context.address.latitude`  <br>`context.location.latitude` | `latitude` |\n| `longitude`  <br>`context.address.longitude`  <br>`context.location.longitude` | `longitude` |\n| `properties.checkedinAt` | `checkedin_at` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `targetable_type` field denotes the entity for which the sales activity has been created and can take `Contact`/`SalesAccount`/`Deal` as its value. However, if its value is set to `contact`, then either the `targetable_id` or `email` is required.\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified Freshsales contact with a company, organization, or an account. You can also record any custom group traits like the company name, number of employees, etc.\n\nRudderStack uses the [Upsert an Account](https://developers.freshworks.com/crm/api/#upsert_an_account) API to create or update a [sales account](https://developers.freshworks.com/crm/api/#accounts) via the following parameters:\n\n| Attribute | Type | Description |\n| --- | --- | --- |\n| `unique_identifier` | String | RudderStack passes the account `name`. |\n| `sales_account` | Hashed Object | RudderStack passes the other relevant details associated with the Freshsales account. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   If `name` already exists, the Freshsales account details are updated. Otherwise, a new account is created.\n> *   RudderStack also checks if the contact’s `email` is present in the `context.traits` object. If yes, RudderStack links the contact to the Freshsales account.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"group01\", {\n    name: \"Alex Keener\",\n    phone: \"1234567890\",\n    numberOfEmployees: 51,\n    annualRevenue: 10000,\n    zipcode: 90009,\n    street: \"6649 N Blue Gum Street\",\n    city: \"New Orleans\",\n    state: \"Louisiana\",\n    country: \"USA\"\n  }, {\n    context: {\n      traits: {\n        email: \"alex@example.com\"\n      }\n    }\n  }\n);\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Freshsales properties:\n\n| RudderStack property | Freshsales property |\n| --- | --- |\n| `name`  <br>Required | `name` |\n| `traits.industryTypeId`  <br>`context.traits.industryTypeId` | `industry_type_id` |\n| `traits.businessTypeId`  <br>`context.traits.businessTypeId`  <br>`traits.business_type_id`  <br>`context.traits.business_type_id` | `business_type_id` |\n| `phone` | `phone` |\n| `traits.numberOfEmployees`  <br>`context.traits.numberOfEmployees` | `number_of_employees` |\n| `traits.annualRevenue`  <br>`context.traits.annualRevenue` | `annual_revenue` |\n| `traits.address`  <br>`context.traits.address` | `address` |\n| `traits.city`  <br>`traits.address.city`  <br>`context.traits.city`  <br>`context.traits.address.city` | `city` |\n| `traits.state`  <br>`traits.address.state`  <br>`context.traits.state`  <br>`context.traits.address.state` | `state` |\n| `traits.country`  <br>`traits.address.country`  <br>`context.traits.country`  <br>`context.traits.address.country` | `country` |\n| `zipcode` | `zipcode` |\n| `traits.website`  <br>`context.traits.website` | `website` |\n| `traits.territoryId`  <br>`context.traits.territoryId` | `territory_id` |\n| `traits.parentSalesAccountid`  <br>`context.traits.parentSalesAccountid` | `parent_sales_account_id` |\n| `traits.ownerId`  <br>`context.traits.ownerId` | `ownerId` |\n| `traits.facebookUserName`  <br>`context.traits.facebookUserName` | `facebook` |\n| `traits.twitterUserName`  <br>`context.traits.twitterUserName` | `twitter` |\n| `traits.linkedinUserName`  <br>`context.traits.linkedinUserName` | `linkedin` |\n| `createdAt` | `created_at` |\n| `timestamp` | `updated_at` |\n\n## FAQ\n\n#### Where can I find the Freshsales API key?\n\nTo obtain your Freshsales API key, follow these steps:\n\n1.  Log into your [Freshsales dashboard](https://www.freshworks.com/crm/login/).\n2.  Go to **Personal Settings** > **API Settings**.\n3.  Enable the captcha to complete the authentication process.\n4.  You will find your Freshsales API key listed under the **API Authentication** section:\n\n[![Freshsales API key](https://www.rudderstack.com/docs/images/event-stream-destinations/freshsales-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/freshsales-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Freshsales | RudderStack Docs",
  "description": "Send your event data from RudderStack to Freshsales.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/freshmarketer/",
  "markdown": "# Freshmarketer | RudderStack Docs\n\nSend your event data from RudderStack to Freshmarketer.\n\n* * *\n\n*     7 minute read  \n    \n\n[Freshmarketer](https://www.freshworks.com/crm/marketing/) is a [Freshsales](https://www.freshworks.com/) ecommerce CRM platform. It is a marketing automation tool that offers a unified marketing, sales, and CRM platform to engage your customer base and grow your business.\n\nRudderStack supports Freshmarketer as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Freshmarketer as a destination in RudderStack, verify if the source platform is supported by Freshmarketer by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Freshmarketer, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Freshmarketer**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Freshmarketer as a destination, you will need to configure the following settings:\n\n[![Freshmarketer connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/freshmarketer-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/freshmarketer-connection-settings.webp)\n\n*   **API Key**: Enter your Freshmarketer API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Freshmarketer API key, refer to the [FAQ](#FAQ) section below.\n\n*   **Domain**: Enter the full organization URL associated with your Freshsales account. For example, `testcompany.myfreshworks.com`.\n\n*   **Map your events with Freshmarketer Standard Events**: Use this setting to map the standard Freshmarketer events with the custom event names.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update your Freshmarketer contact.\n\nRudderStack uses the Freshmarketer [Upsert a Contact](https://developers.freshworks.com/crm/api/#upsert_a_contact) API to pass the relevant user information via the following parameters:\n\n| Attribute | Type | Description |\n| --- | --- | --- |\n| `unique_identifier` | String | RudderStack passes the user’s `email`. |\n| `contact` | Hashed Object | RudderStack passes the other relevant user details required to create or update the user in Freshmarketer. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If `email` already exists, the contact details are updated. Otherwise, RudderStack creates a new user in Freshmarketer.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  email: \"alex@example.com\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  state: \"Louisiana\",\n  country: \"USA\",\n  postalCode: \"90009\",\n});\n```\n\nThe following table lists the mappings between the RudderStack and Freshmarketer properties:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>Required | `emails` |\n| `traits.firstname`  <br>`traits.first_name`  <br>`traits.firstName`<br><br>`context.traits.firstname`  <br>`context.traits.first_name`  <br>`context.traits.firstName` | `first_name` |\n| `traits.lastname`  <br>`traits.last_name`  <br>`traits.lastName`<br><br>`context.traits.lastname`  <br>`context.traits.last_name`  <br>`context.traits.lastName` | `last_name` |\n| `traits.subscriptionStatus`  <br>`context.traits.subscriptionStatus` | `subscription_status` |\n| `traits.job_title`  <br>`traits.jobTitle`  <br>`context.traits.job_title`  <br>`context.traits.jobTitle` | `job_title` |\n| `traits.phone`  <br>`context.traits.phone` | `work_number` |\n| `userId` | `external_id` |\n| `traits.mobileNumber`  <br>`context.traits.mobileNumber` | `mobile_number` |\n| `traits.address`  <br>`context.traits.address` | `address` |\n| `traits.address.city`  <br>`traits.city`  <br>`context.traits.address.city`  <br>`context.traits.city` | `city` |\n| `traits.address.state`  <br>`traits.state`  <br>`context.traits.address.state`  <br>`context.traits.state` | `state` |\n| `traits.address.postalCode`  <br>`traits.zip`  <br>`traits.zipcode`  <br>`context.traits.zip`  <br>`context.traits.zipcode`  <br>`context.traits.address.postalCode` | `zipcode` |\n| `traits.address.country`  <br>`traits.country`  <br>`context.traits.address.country`  <br>`context.traits.country` | `country` |\n| `traits.salesAccounts`  <br>`context.traits.salesAccounts` | `sales_accounts` |\n| `traits.territoryId`  <br>`context.traits.territoryId` | `territory_id` |\n| `traits.leadSourceId`  <br>`context.traits.leadSourceId` | `lead_source_id` |\n| `traits.ownerId`  <br>`context.traits.ownerId` | `owner_id` |\n| `traits.subscriptionTypes`  <br>`context.traits.subscriptionTypes` | `subscription_types` |\n| `traits.medium`  <br>`context.traits.medium` | `medium` |\n| `traits.campaignId`  <br>`traits.campaign_id`  <br>`context.traits.campaignId`  <br>`context.traits.campaign_id`  <br>`context.campaign.name` | `campaign_id` |\n| `traits.keyword`  <br>`context.traits.keyword`  <br>`context.campaign.term` | `keyword` |\n| `traits.timeZone`  <br>`context.traits.timeZone` | `time_zone` |\n| `traits.facebookUserName`  <br>`context.traits.facebookUserName` | `facebook` |\n| `traits.twitterUserName`  <br>`context.traits.twitterUserName` | `twitter` |\n| `traits.linkedinUserName`  <br>`context.traits.linkedinUserName` | `linkedin` |\n| `createdAt` | `created_at` |\n| `timestamp` | `updated_at` |\n| `traits.contactStatusId`  <br>`context.traits.contactStatusId` | `contact_status_id` |\n| `traits.salesAccountId`  <br>`context.traits.salesAccountId` | `sales_account_id` |\n| `traits.lifecycleStageId`  <br>`context.traits.lifecycleStageId` | `lifecycle_stage_id` |\n\n## Track\n\nYou can use the RudderStack [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to track the user activities in Freshmarketer.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To make a `track` call successfully, you must map the event to be sent in the `track` call in the **Map your events with Freshmarketer Standard Events** dashboard setting.\n\nRudderStack supports the following `track` events:\n\n### Lifecycle stage\n\nLifecycle stage events capture the decision journey of a customer. Refer to the [Freshsales documentation](https://support.freshsales.io/en/support/solutions/articles/50000003344-how-to-manage-lifecycle-stages-and-status-for-contacts-) to create lifecycle stages in Freshmarketer.\n\nRudderStack lets you update the status of a contact in their lifecycle stage by using either the `lifecycleStageId` or `lifecycleStageName`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `lifecycleStageName` is a case-sensitive field and throws an error if not used in the intended manner.\n\nA sample `track` call for a lifecycle stage event is shown below:\n\n```\nrudderanalytics.track(\"eventName\", {\n  email: \"alex@example.com\",\n  lifecycleStageId: 71010794467,\n  phone: \"+1-202-555-0146\",\n  owner_id: \"70000090119\",\n});\n```\n\nThe following table lists the property mappings betweeen RudderStack and Freshmarketer for lifecycle stage events:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `email`  <br>Required | `email` |\n| `lifecycleStageName`  <br>Required, if lifecycleStageId is absent. | `lifecycleStageName` |\n| `lifecycleStageId`  <br>Required, if lifecycleStageName is absent. | `lifecycle_stage_id` |\n\n### Sales activities\n\n[Sales activities](https://developers.freshworks.com/crm/api/#sales-activities) events can be used to track any activity related to a contact/deal/account. Refer to the [Freshsales documentation](https://support.freshsales.io/en/support/solutions/articles/230199-how-to-configure-different-sales-activities-in-freshsales-) to create sales activities in Freshmarketer.\n\nRudderStack lets you create the status of a contact by using either the `salesActivityTypeId` or `salesActivityName`.\n\nA sample `track` call for a sales activity event is shown below:\n\n```\nrudderanalytics.track(\"eventName\", {\n  salesActivityTypeId: \"70000663932\",\n  title: \"new contact\",\n  startDate: \"2021-05-04T17:00:00+05:30\",\n  endDate: \"2022-06-04T17:30:00+05:30\",targetable_type\n  ownerId: \"70054866612\",\n});\n```\n\nThe following table lists the property mappings betweeen RudderStack and Freshmarketer for sales activity events:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `properties.title`  <br>Required | `title` |\n| `properties.salesActivityName`  <br>Required, if properties.salesActivityTypeId is absent. | `sales_activity_name` |\n| `properties.salesActivityTypeId`  <br>Required, if properties.salesActivityName is absent. | `sales_activity_type_id` |\n| `properties.startDate`  <br>Required | `start_date` |\n| `properties.endDate`  <br>Required | `end_date` |\n| `context.externalId.type`  <br>Required | `targetable_type` |\n| `properties.ownerId`  <br>Required | `owner_id` |\n| `salesActivityOutcomeId` | `sales_activity_outcome_id` |\n| `properties.notes` | `notes` |\n| `context.externalId.id` | `targetable_id` |\n| `properties.createrId` | `creater_id` |\n| `originalTimestamp` | `created_at` |\n| `timestamp` | `updated_at` |\n| `properties.location` | `location` |\n| `latitude`  <br>`context.address.latitude`  <br>`context.location.latitude` | `latitude` |\n| `longitude`  <br>`context.address.longitude`  <br>`context.location.longitude` | `longitude` |\n| `properties.checkedinAt` | `checkedin_at` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `targetable_type` field denotes the entity for which the sales activity has been created and can take `Contact`/`SalesAccount`/`Deal` as its value. However, if its value is set to `contact`, then either the `targetable_id` or `email` is required.\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified Freshmarketer contact with a company, organization, or an account. You can also record any custom group traits like the company name, number of employees, etc.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To make a `group` call successfully, you must pass the `groupType` field with value as `accounts` or `marketing_lists`.\n\n### Accounts\n\nRudderStack uses the [Upsert an Account](https://developers.freshworks.com/crm/api/#upsert_an_account) API to create or update a [sales account](https://developers.freshworks.com/crm/api/#accounts) via the following parameters:\n\n| Attribute | Type | Description |\n| --- | --- | --- |\n| `unique_identifier` | String | RudderStack passes the account `name`. |\n| `sales_account` | Hashed Object | RudderStack passes the other relevant details associated with the Freshmarketer account. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   If `name` already exists, RudderStack updates the Freshmarketer account details. Otherwise, it creates a new account in Freshmarketer.\n> *   RudderStack also checks if the contact’s `email` is present in the `context.traits` object. If yes, RudderStack links the contact to the Freshmarketer account.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"group01\", {\n    groupType: \"accounts\",\n    name: \"Alex Keener\",\n    phone: \"1234567890\",\n    numberOfEmployees: 51,\n    annualRevenue: 10000,\n    zipcode: 90009,\n    street: \"6649 N Blue Gum Street\",\n    city: \"New Orleans\",\n    state: \"Louisiana\",\n    country: \"USA\"\n  }, {\n    context: {\n      traits: {\n        email: \"alex@example.com\"\n      }\n    }\n  }\n);\n```\n\nThe following table lists the mappings between the RudderStack and Freshmarketer properties to create or update an account:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `name`  <br>Required | `name` |\n| `traits.industryTypeId`  <br>`context.traits.industryTypeId` | `industry_type_id` |\n| `traits.businessTypeId`  <br>`context.traits.businessTypeId`  <br>`traits.business_type_id`  <br>`context.traits.business_type_id` | `business_type_id` |\n| `phone` | `phone` |\n| `traits.numberOfEmployees`  <br>`context.traits.numberOfEmployees` | `number_of_employees` |\n| `traits.annualRevenue`  <br>`context.traits.annualRevenue` | `annual_revenue` |\n| `traits.address`  <br>`context.traits.address` | `address` |\n| `traits.city`  <br>`traits.address.city`  <br>`context.traits.city`  <br>`context.traits.address.city` | `city` |\n| `traits.state`  <br>`traits.address.state`  <br>`context.traits.state`  <br>`context.traits.address.state` | `state` |\n| `traits.country`  <br>`traits.address.country`  <br>`context.traits.country`  <br>`context.traits.address.country` | `country` |\n| `zipcode` | `zipcode` |\n| `traits.website`  <br>`context.traits.website` | `website` |\n| `traits.territoryId`  <br>`context.traits.territoryId` | `territory_id` |\n| `traits.parentSalesAccountid`  <br>`context.traits.parentSalesAccountid` | `parent_sales_account_id` |\n| `traits.ownerId`  <br>`context.traits.ownerId` | `ownerId` |\n| `traits.facebookUserName`  <br>`context.traits.facebookUserName` | `facebook` |\n| `traits.twitterUserName`  <br>`context.traits.twitterUserName` | `twitter` |\n| `traits.linkedinUserName`  <br>`context.traits.linkedinUserName` | `linkedin` |\n| `createdAt` | `created_at` |\n| `timestamp` | `updated_at` |\n\n### Marketing lists\n\n[Marketing lists](https://developers.freshworks.com/crm/api/#marketing-lists) help you group contacts into lists which you can quickly invoke for marketing campaigns and bulk emailing.\n\nRudderStack lets you add one or more contacts to a specified marketing list. To do so, you need to provide the contact’s `email` and `listId`/`listName`. Also, RudderStack creates a new marketing list if the `listName` (case-sensitive) does not exist already.\n\nA sample `group` call to add a contact to a marketing list is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  groupType: \"marketing_lists\",\n  email: \"alex@example.com\",\n  listName: \"listIdX123\",\n});\n```\n\nThe following table lists the property mappings between RudderStack and Freshmarketer to create marketing lists:\n\n| RudderStack property | Freshmarketer property |\n| --- | --- |\n| `email`  <br>Required | `email` |\n| `listId`  <br>Required, if listName is absent. | `listId` |\n| `listName`  <br>Required, if listId is absent. | `listName` |\n\n## Type conversion and invalid format error\n\nThe following event properties accept only the number data type:\n\n*   `territoryId`\n*   `leadSourceId`\n*   `ownerId`\n*   `campaignId`\n*   `contactStatusId`\n*   `lifecycleStageId`\n*   `industryTypeId`\n*   `businessTypeId`\n*   `numberOfEmployees`\n*   `parentSalesAccountid`\n\nIf any of the above properties are present in any `identify` or `group` call in a different format, RudderStack will try to convert them into the number data type. If the type conversion is unsuccessful, RudderStack will give an “invalid format” error.\n\n## FAQ\n\n#### Where can I find the Freshmarketer API key?\n\nTo obtain your Freshmarketer API key, follow these steps:\n\n1.  Log into your [Freshmarketer dashboard](https://www.freshworks.com/crm/login/).\n2.  Go to **Personal Settings** > **API Settings**.\n3.  Enable the captcha to complete the authentication process.\n4.  You will find your Freshmarketer API key listed under the **API Authentication** section:\n\n[![Freshmarketer API key](https://www.rudderstack.com/docs/images/event-stream-destinations/freshmarketer-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/freshmarketer-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Freshmarketer | RudderStack Docs",
  "description": "Send your event data from RudderStack to Freshmarketer.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/firebase/",
  "markdown": "# Firebase | RudderStack Docs\n\nSend your event data from RudderStack to Firebase.\n\n* * *\n\n*     9 minute read  \n    \n\n[Firebase](https://firebase.google.com/) is a popular mobile platform powered by Google. It helps you to quickly develop high-quality, enterprise-grade applications and grow your business.\n\nRudderStack supports Firebase as a [mobile device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) to which you can seamlessly send your customer data for analytics.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Firebase device mode support is not available for the [Cordova](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-cordova-sdk/) SDK.\n\n## Getting started\n\nBefore configuring Firebase as a destination in RudderStack, verify if the source platform is supported by Firebase by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | **Supported** | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Firebase is a device mode-only integration. To learn more about the difference between cloud mode and device mode in RudderStack, refer to the [RudderStack Connection Modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/) guide.\n\nOnce you have confirmed that the source platform supports sending events to Firebase, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Firebase**.\n2.  Assign a name to the destination and click **Next**.\n\n### Connection settings\n\nConnect this destination to your Android/iOS/Unity/React Native source. You should then see the following screen:\n\n[![Firebase connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/firebase-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/firebase-connection-settings.webp)\n\n*   **Client-side Events Filtering**: Refer to the [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information on this setting.\n\nAs this is a device mode-only integration, click **Next** to complete the destination setup.\n\n### Adding device mode integration\n\nDepending on your platform of integration, follow the steps below to add Firebase to your project:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Use the [latest version](https://search.maven.org/artifact/com.rudderstack.android.integration/firebase) of the Firebase Android device mode to get the latest updates, bug fixes, and performance enhancements.\n\nFollow these steps to add Firebase to your Android project:\n\n1.  Register your mobile app in the [Firebase console](https://console.firebase.google.com/).\n2.  Once you have successfully created the app in the Firebase console, you will be prompted to download the `google-services.json` file.\n3.  Copy this file in the `app` folder of your project. It contains all necessary information about the project and the integration.\n4.  Add the `classpath` under `dependencies` to your project level `build.gradle`:\n\n```\nbuildscript {\n  repositories {\n    google()\n  }\n  dependencies {\n    // add this line\n    classpath 'com.google.gms:google-services:4.3.3'\n  }\n}\n```\n\n5.  Now, you can add the `plugins` and `dependencies` to your `app/build.gradle` file:\n\n```\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n```\n\n6.  Then, add the `mavenCentral` repository:\n\n```\nrepositories {\n  mavenCentral()\n}\n```\n\n7.  Add the RudderStack-Firebase SDK extension along with the `core` SDK under `dependencies`:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.+'\nimplementation 'com.rudderstack.android.integration:firebase:2.+'\n\n//Firebase\nimplementation platform('com.google.firebase:firebase-bom:28.4.2')\nimplementation 'com.google.firebase:firebase-analytics'\n```\n\n8.  Next, add the necessary `permissions` under `AndroidManifest.xml`:\n\n```\n<uses-permission android:name=\"android.permission.INTERNET\"></uses-permission>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"></uses-permission>\n```\n\n9.  Finally, change the SDK initialization in your `Application` class:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(FirebaseIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you’re using the Firebase iOS device mode v1.0.2, update to the [latest version](https://cocoapods.org/pods/Rudder-Firebase) to get the latest updates, bug fixes, and performance enhancements.\n\nFollow these steps to add Firebase to your iOS project:\n\n1.  Register your app in the [Firebase console](https://console.firebase.google.com/). It will then prompt you to download the `GoogleServices-Info.plist` file.\n2.  Add the file to the root of your XCode project.\n3.  Go to your `Podfile` and add the `Rudder-Firebase` extension along with the core SDK using the following code:\n\n```\npod 'Rudder-Firebase', '~> 2.0.5'\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `Rudder-Firebase` version `2.0.5` is tested and fully compatible with `Firebase/Analytics` version `8.15.0`.\n\n4\\. After adding the dependency followed by the \\`pod install\\` command, you can add the imports to your \\`AppDelegate.m\\` file:\n\n```\n#import \"RudderFirebaseFactory.h\"\n```\n\n5.  Finally, change the SDK initialization, as shown in the following snippet:\n\n```\nRSConfigBuilder *builder = [[RSConfigBuilder alloc] init];\n[builder withDataPlaneUrl:<data_plane_url>];\n[builder withFactory:[RudderFirebaseFactory instance]];\n[builder withLoglevel:RSLogLevelDebug];\n[RSClient getInstance:<write_key> config:[builder build]];\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This device mode integration is supported for Firebase v8.15.0 and above.\n\nFollow these steps to add Firebase to your iOS project:\n\n1.  Add Firebase as a destination in the [RudderStack dashboard](https://app.rudderstack.com/).\n2.  Register your app in the [Firebase console](https://console.firebase.google.com/). It will then prompt you to download the `GoogleServices-Info.plist` file.\n3.  Download and place this file in your project.\n4.  Install `RudderFirebase` (available through [CocoaPods](https://cocoapods.org/)) by adding the following line to your `Podfile`:\n\n```\npod 'RudderFirebase', '~> 1.0.0'\n```\n\n5.  Run the `pod install` command.\n6.  Then, import the SDK depending on your preferred platform:\n\n7.  Next, add the imports to your `AppDelegate` file under the `didFinishLaunchingWithOptions` method:\n\n```\nRSConfig *config = [[RSConfig alloc] initWithWriteKey:WRITE_KEY];\n[config dataPlaneURL:DATA_PLANE_URL];\n[[RSClient sharedInstance] configureWith:config];\n[[RSClient sharedInstance] addDestination:[[RudderFirebaseDestination alloc] init]];\n```\n\n```\nlet config: RSConfig = RSConfig(writeKey: WRITE_KEY)\n            .dataPlaneURL(DATA_PLANE_URL)\nRSClient.sharedInstance().configure(with: config)\nRSClient.sharedInstance().addDestination(RudderFirebaseDestination())\n```\n\nFollow these steps to add Firebase to your Unity project:\n\n1.  Register your project in the [Firebase Console](https://console.firebase.google.com/). Currently, RudderStack supports only Android and iOS platforms for Unity.\n2.  After adding the project, Firebase will prompt you to download the `google-services.json` for Android and `GoogleServices-Info.plist` for iOS.\n3.  Add those two files to your project’s `Assets` folder.\n4.  Integrate the RudderStack core SDK with your project. For more information, refer to the [Unity SDK documentation](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-unity-sdk/).\n5.  Download and import the Firebase Unity SDK and follow the [instructions](https://firebase.google.com/docs/unity/setup) to add the Firebase SDK (specifically, `FirebaseAnalytics.unitypackage`) to your project.\n6.  Download the [RudderStack Firebase Extension](https://github.com/rudderlabs/rudder-sdk-unity/raw/master/Integrations/Firebase/rudder-integration-firebase-unity.unitypackage) from the GitHub page and import it in your project.\n7.  Attach the `RudderPreferbs.prefab` file from `Rudder` to your main `GameObject`\n8.  Finally, change the SDK initialization using the following code snippet:\n\n```\n\n// Build your config\nRudderConfigBuilder configBuilder = new RudderConfigBuilder()\n    .WithEndPointUrl(<data_plane_url>)\n    .WithFactory(RudderFirebaseIntegrationFactory.GetFactory());\n\n// get instance for RudderClient\nRudderClient rudderClient = RudderClient.GetInstance(\n    <source_write_key>,\n    configBuilder.Build()\n);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Use the [latest version](https://www.npmjs.com/package/@rudderstack/rudder-integration-firebase-react-native) of the Firebase React Native device mode to get the latest updates and performance enhancements.\n\nFollow these steps to add Firebase to your React Native project:\n\n1.  Register your Android and iOS applications in the [Firebase console](https://console.firebase.google.com/).\n2.  Once you have successfully created the applications in the Firebase console, you will be prompted to download the `google-services.json` and `GoogleServices-Info.plist` files.\n3.  Add the RudderStack React Native SDK to your app by referring to the [React Native SDK documentation](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-react-native-sdk/).\n4.  Add the RudderStack-Firebase React Native module to your app using the following command:\n\n```\nnpm install @rudderstack/rudder-integration-firebase-react-native\n// OR //\nyarn add @rudderstack/rudder-integration-firebase-react-native\n```\n\n5.  Next, import the module you added above and add it to your SDK initialization code as shown:\n\n```\nimport rudderClient from '@rudderstack/rudder-sdk-react-native';\nimport firebase from \"@rudderstack/rudder-integration-firebase-react-native\";\n\nconst config = {\n    dataPlaneUrl: <data_plane_url>,\n    trackAppLifecycleEvents: true,\n    withFactories: [firebase]\n};\n\nrudderClient.setup(<source_write_key>, config);\n```\n\n6.  Navigate to your app’s `android` folder and follow the steps below:\n\n*   Copy the `google-services.json` file in the `app` folder of your Android project. This file contains all necessary information about the project and the integration.\n*   Add the `classpath` under `dependencies` to your project level `build.gradle` file:\n\n```\nbuildscript {\n  repositories {\n    google()\n  }\n  dependencies {\n    // add this line\n    classpath 'com.google.gms:google-services:4.3.3'\n  }\n}\n```\n\n*   Once you have completed the steps above, you can add the plugins and dependencies to your `app/build.gradle` file:\n\n```\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n```\n\n*   Then, add the necessary permissions under `AndroidManifest.xml`:\n\n```\n<uses-permission android:name=\"android.permission.INTERNET\"></uses-permission>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"></uses-permission>\n```\n\n7.  For React-Native Firebase version 1.0.16 and above, if you encounter any static libraries issue while installing the Rudder-Firebase pods, add the below lines in your iOS app’s `Podfile`:\n\n```\npod 'FirebaseCore', :modular_headers => true\npod 'GoogleUtilities', :modular_headers => true\n```\n\n8.  Finally, navigate to your app’s `iOS` folder and follow these steps:\n\n*   Install all required pods using the `pod install` command.\n*   Add the `GoogleServices-Info.plist` file to the root of your XCode project.\n\nFollow the below steps to add Firebase to your Flutter Project:\n\n1.  Add the following dependency to the `dependencies` section of your `pubspec.yaml` file.\n\n```\nrudder_integration_firebase_flutter: ^1.0.1\n```\n\n2.  Run the below command to install the dependency added in the above step:\n\n3.  Import the `RudderIntegrationFirebaseFlutter` in your application where you are initializing the SDK.\n\n```\nimport 'package:rudder_integration_firebase_flutter/rudder_integration_firebase_flutter.dart';\n```\n\n4.  Change the initialization of your `RudderClient` as shown:\n\n```\nfinal RudderController rudderClient = RudderController.instance;\nRudderConfigBuilder builder = RudderConfigBuilder();\nbuilder.withFactory(RudderIntegrationFirebaseFlutter());\nrudderClient.initialize(<write_key>, config: builder.build(), options: null);\n```\n\n5.  Navigate to your app’s `android` folder and follow the below steps:\n\n*   Copy the `google-services.json` file in the `app` folder of your Android project. This file contains all necessary information about the project and the integration.\n*   Add the `classpath` under `dependencies` to your project level `build.gradle` file:\n\n```\nbuildscript {\n  repositories {\n    google()\n  }\n  dependencies {\n    // add this line\n    classpath 'com.google.gms:google-services:4.3.3'\n  }\n}\n```\n\n*   Add `mavenCentral()` as a repository under `buildscript.repositories` and `allprojects.repositories` to your project level `build.gradle` file:\n\n```\nbuildscript {\n  repositories {\n    google()\n    // should be added\n    mavenCentral()\n  }\n  dependencies {\n    classpath 'com.google.gms:google-services:4.3.3'\n  }\n}\nallprojects {\n  repositories {\n      google()\n      // should be added\n      mavenCentral()\n  }\n}\n```\n\n*   Next, add the plugins and dependencies to your `app/build.gradle` file:\n\n```\napply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n```\n\n*   Add the necessary permissions under `AndroidManifest.xml`:\n\n```\n<uses-permission android:name=\"android.permission.INTERNET\"></uses-permission>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"></uses-permission>\n```\n\n6.  Finally, navigate to your app’s `iOS` folder and add the `GoogleServices-Info.plist` file to the root of your XCode project.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call sets the `userId` through the `setUserId` method from `FirebaseAnalytics`. RudderStack sets the other user properties from `RudderTraits` to Firebase using the `setUserProperty` method.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack ignores `age`, `gender`, and `interest`, as these properties are reserved by Google.\n\n```\n[[RSClient sharedInstance] identify:@\"test_user_id\"\n                             traits:@{@\"foo\": @\"bar\",\n                                      @\"foo1\": @\"bar1\",\n                                      @\"email\": @\"test@gmail.com\",\n                                      @\"key_1\" : @\"value_1\",\n                                      @\"key_2\" : @\"value_2\"\n                             }\n];\n```\n\n## Track\n\nRudderStack’s [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events are mapped to the standard Firebase events wherever possible.\n\n### Event mapping\n\nRudderStack maps the following events to the standard Firebase events:\n\n| RudderStack Event | Firebase Event |\n| --- | --- |\n| `Payment Info Entered` | `add_payment_info` |\n| `Product Added` | `add_to_cart` |\n| `Product Added to Wishlist` | `add_to_wishlist` |\n| `Application Opened` | `app_open` |\n| `Checkout Started` | `begin_checkout` |\n| `Order Completed` | `purchase` |\n| `Order Refunded` | `refund` |\n| `Products Searched` | `search` |\n| `Cart Shared` | `share` |\n| `Product Shared` | `share` |\n| `Product Viewed` | `view_item` |\n| `Product List Viewed` | `view_item_list` |\n| `Product Removed` | `remove_from_cart` |\n| `Product Clicked` | `select_content` |\n| `Promotion Viewed` | `view_promotion` |\n| `Promotion Clicked` | `select_promotion` |\n| `Cart Viewed` | `view_cart` |\n\nThe following Firebase events are **not** mapped to any RudderStack event:\n\n*   `number_of_nights`\n*   `number_of_rooms`\n*   `number_of_passengers`\n*   `origin`\n*   `destination`\n*   `start_date`\n*   `end_date`\n*   `travel_class`\n*   `item_list_name`\n*   `creative_slot`\n*   `location_id`\n*   `transaction_id`\n*   `screen_class`\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack passes all event-related properties to Firebase. The nested values in the properties are converted to JSON using [GSON](https://github.com/google/gson).\n\n### Property mapping\n\nRudderStack maps the following event properties to the standard Firebase properties:\n\n| RudderStack property | Firebase property |\n| --- | --- |\n| `category` | `item_category` |\n| `cart_id`,`product_id` | `item_id` |\n| `share_via` | `method` |\n| `query` | `search_term` |\n| `revenue`, `value`, `total` | `value` |\n| `currency` | `currency` |\n| `tax` | `tax` |\n| `shipping` | `shipping` |\n| `coupon` | `coupon` |\n| `name` | `name`, `promotion_name` |\n| `quantity` | `quantity` |\n| `price` | `price` |\n| `payment_method` | `payment_type` |\n| `list_id` | `item_list_id` |\n| `promotion_id` | `promotion_id` |\n| `creative` | `creative_name` |\n| `affiliation` | `affiliation` |\n\nAlong with mapping the above list of the standard property names, RudderStack exhibits the following behavior:\n\n*   Converts the event names to the lower case.\n*   Trims the whitespaces at the start and the end.\n*   Replaces a space with an underscore.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Firebase enforces a [strict event name length limit](https://firebase.google.com/docs/reference/cpp/group/event-names#summary) of 40 characters. RudderStack takes a substring of 40 characters (from the beginning) if the event names exceed this permitted value.\n\nA sample `track` call sent from the iOS SDK is shown below:\n\n```\n[[RSClient sharedInstance] track:@\"simple_track_with_props\" properties:@{\n    @\"key_1\" : @\"value_1\",\n    @\"key_2\" : @\"value_2\"\n}];\n```\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) method lets you record whenever a user sees their mobile screen along with any optional properties about the viewed screen.\n\nA sample `screen` call is as shown:\n\n```\n[[RSClient sharedInstance] screen:@\"Home Screen\"\n                              properties:@{\n                                  @\"Width\" : @\"13\"\n                              }];\n```\n\n## Reset\n\nThe `reset` method resets the user identification.\n\nA sample `reset` call is shown below:\n\n```\n[[RSClient getInstance] reset];\n```\n\n```\nRudderClient.getInstance()?.reset()\n```\n\n## Debugging\n\nYou can check the events and their properties in the [Firebase DebugView](https://firebase.google.com/docs/analytics/debugview). To enable it for Android, run the following command from your terminal:\n\n```\n$ adb shell setprop debug.firebase.analytics.app <your_package_name>\n```\n\nFor iOS, specify the following in your command line argument in XCode:\n\n```\n-FIRAnalyticsDebugEnabled\n```\n\n## FAQ\n\n#### How do I disable automatic screen tracking while using the RudderStack SDKs?\n\n*   For Android, nest the following setting within the `<application>` tag of your `AndroidManifest.xml` file:\n\n```\n<meta-data android:name=\"google_analytics_automatic_screen_reporting_enabled\" android:value=\"false\" />\n```\n\n*   For iOS, set `FirebaseAutomaticScreenReportingEnabled` to `NO` (Boolean) in your `Info.plist`.\n\nFor more information, refer to the [Firebase documentation](https://firebase.google.com/docs/analytics/screenviews#automatically_track_screens).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Firebase | RudderStack Docs",
  "description": "Send your event data from RudderStack to Firebase.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/cloud-mode/",
  "markdown": "# Gainsight PX Cloud Mode Integration\n\nSend events to Gainsight PX using RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nAfter you have successfully instrumented Gainsight PX as a destination in RudderStack, follow this guide to correctly send your events to Gainsight PX in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/gainsight_px).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack requires the `userId` field for the `identify`, `group`, and `track` calls. If `userId` is absent, it uses `anonymousId` instead.\n\n## Identify\n\nRudderStack creates a `User` object in Gainsight PX when you make an [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call. It maps the `userId` from the event to Gainsight’s `identifyId` (unique identifier for the `User` object). If `userId` is absent, RudderStack uses `anonymousId` instead.\n\nRudderStack supports all default attributes for the `User` object. You can map the custom atrributes in the RudderStack event to the Gainsight PX custom attributes using **User Attribute Mapping** dashboard setting:\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack drops any undefined custom attributes from the event and sends the rest of the attributes to Gainsight PX.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsightpx-identify-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsightpx-identify-mapping.webp)\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Z\", {\n  email: \"alex@example.com\",\n  name: \"Alex Keener\",\n  gender: \"Male\",\n  countryName: \"USA\",\n  countryCode: \"US\",\n  city: \"New Orleans\",\n  score: 100,\n  hobbyCustomField: \"Painting\",\n  title: \"Doctor\",\n})\n```\n\nIn the above example, `hobbyCustomField` is a custom field. You need to provide the mapping for `hobbyCustomField` to the corresponding custom attribute `hobby` [created in Gainsight PX](https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/setup-guide/#create-custom-attributes). If you do not provide this mapping, RudderStack drops the `hobbyCustomField` attribute and sends the other attributes to Gainsight PX.\n\n## Track\n\nRudderStack uses the Gainsight PX’s [Custom Event API](https://support.gainsight.com/PX/API_for_Developers/02Usage_of_Different_APIs/Use_Custom_Event_API) for sending the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events.\n\nA sample `track` call is shown:\n\n```\nrudderanalytics.track(\"User Tracked\", {\n  description: \"Sample user tracking event\",\n  status: \"Demo\",\n})\n```\n\nRudderStack maps the event name to the `eventName` field in Gainsight PX.\n\n### Specify global context metadata\n\nYou can provide the [Global Context](https://support.gainsight.com/PX/Engagements/02Engagement_Configuration/Use_Global_Context) metadata by specifying the `globalContext` object in the `track` event as shown:\n\n```\nrudderanalytics.track(\"User Tracked\", {\n  description: \"Sample user tracking event\",\n  status: \"Demo\",\n  globalContext: {\n    projectId: \"p-123\",\n  },\n})\n```\n\nAlternatively, you can set the global context for the `track` events by specifying the key-value pairs under the **Global Context Mapping** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/setup-guide/#connection-settings), as shown:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsight-px-global-context-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsight-px-global-context-mapping.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack gives higher precedence to the global context metadata specified in the event over the key-value pairs specified in the **Global Context Mapping** setting.\n\n## Group\n\nRudderStack associates the user with an account in Gainsight PX when you send a [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) event. It automatically maps the `groupId` to the `accountId` in Gainsight PX.\n\nRudderStack supports all the default fields for `Account` object. In addition, you can map the custom RudderStack event attributes to Gainsight custom attributes in the **Account Attribute Mapping** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/setup-guide/#connection-settings):\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsightpx-group-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gainsightpx-group-mapping.webp)\n\nA sample `group` call is shown:\n\n```\nrudderanalytics.group(\"group18\", {\n  name: \"Sample Group\",\n  industry: \"Online Streaming\",\n  numberOfEmployees: 10000,\n  website: \"www.example-group.com\",\n  cultureCustomField: \"customfield01\",\n})\n```\n\nIn the above example, `cultureCustomField` is a custom field. You need to provide the mapping for `cultureCustomField` to the corresponding custom attribute `customfield01` [created in Gainsight PX](https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/setup-guide/#create-custom-attributes). If you do not provide this mapping, RudderStack drops the `cultureCustomField` attribute and sends the other attributes to Gainsight PX.\n\nTo update the group details with fewer API calls to Gainsight PX, make sure to set `limitAPIForGroup` to `true` in the event’s `context`, as shown:\n\n```\nrudderanalytics.group(\n  'group18', {\n    name: 'New Group Name',\n    industry: 'Online Streaming',\n    numberOfEmployees: 5000,\n    website: 'www.new-group.com',\n    cultureCustomField: 'customfield01',\n  }, {\n    integrations: {\n      All: true,\n      GAINSIGHT_PX: {\n        limitAPIForGroup: true\n      }\n    }\n  },\n);\n```\n\nNote that the if the `groupId` is invalid, then RudderStack creates a new group in Gainsight PX with the provided ID.\n\n## Location attribute mapping\n\nRudderStack maps the below event properties to the corresponding location properties of the Gainsight PX `User` and `Account` objects:\n\n| RudderStack property | Gainsight PX property |\n| --- | --- |\n| `countryName` | `location.countryName` |\n| `countryCode` | `location.countryCode` |\n| `stateName` | `location.stateName` |\n| `stateCode` | `location.stateCode` |\n| `city` | `location.city` |\n| `street` | `location.street` |\n| `postalCode` | `location.postalCode` |\n| `continent` | `location.continent` |\n| `regionName` | `location.regionName` |\n| `timeZone` | `location.timeZone` |\n| `latitude` | `location.coordinates.latitude` |\n| `longitude` | `location.coordinates.longitude` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Gainsight PX Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Gainsight PX using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/",
  "markdown": "# Google Ads (gtag.js) Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Google Ads (gtag.js) Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fullstory/",
  "markdown": "# FullStory | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "FullStory | RudderStack Docs",
  "description": "Send your event data from RudderStack to FullStory.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nSet up Google Ads as a destination in RudderStack.\n\n* * *\n\n*     4 minute read  \n    \n\nThis guide will help you set up Google Ads as a destination in the RudderStack dashboard. It also lists the configuration settings required to correctly send data from the supported sources to Google Ads.\n\n## Connection compatibility\n\n| Destination info |     |     |     |\n| --- |\n| *   **Status:** Generally Available<br>*   **Supported sources:** Web<br>*   Refer to it as **GOOGLEADS** in the [Integrations object](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/filtering/#filtering-destinations). |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Google Ads native SDK from the `https://www.googletagmanager.com/` domain.\n> \n> Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Ads SDK successfully.\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Google Ads**.\n\n### Connection settings\n\n| Setting | Description |\n| --- | --- |\n| Ecommerce event spec support for track events | This setting is turned on by default and causes RudderStack to follow the [Ecommerce Event Spec](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) to send the [`track`](#track) events to Google Ads. |\n| Allow identify calls for the Google Ads destination | Turn on this setting to allow RudderStack to send [`identify`](#identify) calls (used to define enhanced conversion fields) to Google Ads. |\n| Conversion ID | Enter your [Google Ads Conversion ID](https://support.google.com/tagmanager/answer/6105160?hl=en). |\n| Map RudderStack events to standard Google Ads events | Use this setting to map custom events to the standard Google Ads events. |\n\n### Track event settings\n\n| Setting | Description |\n| --- | --- |\n| Track Conversions | This setting is turned on by default and sends your conversion events to Google Ads. You can disable it to prevent RudderStack from sending the conversion events. |\n| Enable Conversion Events Filtering | This setting is visible if **Track Conversions** setting is toggled on.<br><br>Use it to enter a list of events you want to send as conversion events in the **Events to Track Conversions** setting. If toggled off, RudderStack sends all the events to Google Ads as conversion events. |\n| Track Dynamic Remarketing | Turn on this setting to send your [dynamic remarketing](https://support.google.com/google-ads/answer/7305793) events. |\n| Enable Dynamic Remarketing Events Filtering | This setting is visible if **Track Dynamic Remarketing** setting is toggled on.<br><br>Use it to enter a list of events you want to send as dynamic remarketing events in the **Events to Track Dynamic Remarketing** setting. If turned off, RudderStack sends all events as dynamic remarketing events. |\n\n### Event filtering settings\n\n| Setting | Description |\n| --- | --- |\n| Client-side Events Filtering | Specify which events should be blocked or allowed to flow through to Google Ads. See the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information. |\n\n### Page load conversion settings\n\nFor `page` calls, you can configure the following settings for multiple instances:\n\n| Setting | Description |\n| --- | --- |\n| Conversion Label | Specify the [conversion label](#faq) from Google Ads. |\n| Name | Enter the name of the `page` event associated with the page load conversion. |\n| Default Conversion Label | Specify the name to set as the default conversion label. |\n\n### Click event conversion settings\n\n| Setting | Description |\n| --- | --- |\n| Conversion Label | Specify the [conversion label](#faq) from Google Ads. |\n| Name | Enter the name of the `track` event to send to Google Ads. |\n\n### Other settings\n\n| Setting | Description |\n| --- | --- |\n| Send Page View | Turn on this setting to automatically send your `page` events to Google Ads. |\n| Conversion Linker | This setting is toggled on by default. Turn off this setting if you don’t want the global site tag (`gtag.js`) to set first-party cookies on your website domain. See the [Google Ads documentation](https://support.google.com/google-ads/answer/7521212?hl=en) for more information on this feature.<br><br>**Note**: Turning off this feature can lead to less accurate conversion measurements. |\n| Disable Ad Personalization | Turn on this setting to [disable ad personalization](https://developers.google.com/analytics/devguides/collection/gtagjs/display-features#disable_advertising_personalization) programmatically. |\n| Send Event Label As Conversion for Conversion Events | Turn on this setting to set the conversion events label to `conversion`. Otherwise, RudderStack sets the label to the respective event name. |\n| Allow Enhanced Conversions | Turn on this setting to [send enhanced conversions](https://support.google.com/google-ads/answer/12785474) programmatically. |\n| OneTrust Cookie Categories | This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Google Ads. |\n| Use device mode to send events | As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only integration, this is turned on by default and **cannot** be toggled off. |\n\n## Next steps\n\n*   [Send events in device mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/device-mode/)\n\n## FAQ\n\n#### How do I get the conversion ID in Google Ads?\n\nYou can get the conversion ID from your global site tag snippet.\n\nFor example, a sample conversion ID would look like `AW-123456789`.\n\n#### How do I get the conversion label for Google Ads?\n\nYou can find the value of the **Conversion Label** from your event snippet.\n\nFor example, a event snippet can look like `send_to: 'AW-123456789/bpg3CMiIjLMBELXBp8wC'`. The corresponding conversion label in this case is `bpg3CMiIjLMBELXBp8wC`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up Google Ads as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fullstory/setup-guide/",
  "markdown": "# Set up FullStory | RudderStack Docs\n\nSend your event data from RudderStack to FullStory.\n\nThis guide will help you set up FullStory as a destination in RudderStack.\n\nConfigure the following settings to set up FullStory as a destination in RudderStack:\n\nRudderStack supports the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/) for sending events to FullStory:\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in FullStory:\n\nThe following settings are applicable when sending events to FullStory in web device mode, that is, using their native web SDK:\n\nOnce you add FullStory as a destination in the [RudderStack dashboard](https://app.rudderstack.com/), follow these steps to add it to your mobile project depending on your integration platform:\n\n1.  Add the following dependencies in your `Podfile`:\n\n```\npod 'FullStory', :http => 'https://ios-releases.fullstory.com/fullstory-1.18.0-xcframework.tar.gz'\npod 'Rudder-FullStory', :git => 'https://github.com/rudderlabs/rudder-integration-fullstory-ios.git', :tag => 'v1.0.0'\n```\n\n2.  Run the `pod install` command.\n3.  Add the following imports to your `AppDelegate.m` file:\n\n```\n#import <Rudder/Rudder.h>\n#import <RudderFullStoryFactory.h>\n```\n\n4.  Initialize your iOS SDK:\n\n```\nRSConfigBuilder *configBuilder = [[RSConfigBuilder alloc] init];\n[configBuilder withDataPlaneUrl:dataPlaneUrl];\n[configBuilder withFactory:[RudderFullStoryFactory instance]];\nRSClient *rudderClient = [RSClient getInstance:writeKey config:[configBuilder build]];\n```\n\nTo complete the FullStory integration, you need to specify which FullStory organization to record. Follow these steps:\n\n1.  Open your app’s `Info.plist`.\n2.  From the menu, choose **Editor** > **Add Item**. Set the key name to `FullStory` and type to `Dictionary`.\n3.  Right-click the FullStory row and choose **Add Row**. Set the key name to `OrgId` and type to `String`. For the value, paste your assigned organization ID.\n\nWhen configured correctly, the `Info.plist` entry should look as follows:\n\n![Final entry](https://www.rudderstack.com/docs/images/event-stream-destinations/fullstory-devicemode-ios.webp)\n\nFor more information, see [FullStory iOS documentation](https://help.fullstory.com/hc/en-us/articles/360042772333-Getting-Started-with-iOS-Recording).\n\n1.  Open your `app/build.gradle` (Module: app) file and add the following under the `dependencies` section:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.0.22'\nimplementation 'com.rudderstack.android.integration:fullstory:1.0.0'\nimplementation 'com.google.code.gson:gson:2.8.6'\n// FullStory\nrepositories {\n  maven { url \"https://maven.fullstory.com\" }\n}\nimplementation 'com.fullstory:instrumentation-full:1.18.0@aar'\n```\n\n2.  Add the FullStory Maven plugin to your build script. To do so, add the following snippet into the `Gradle Scripts` section of your root `build.gradle`:\n\n```\nbuildscript {\n  repositories {\n    google()\n    jcenter()\n    maven { url \"https://maven.fullstory.com\" }\n  }\n  dependencies {\n    classpath 'com.fullstory:gradle-plugin-local:PLUGIN_VERSION'\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n```\n\n3.  Replace `PLUGIN_VERSION` with the correct version of the FullStory Android plugin. You can find the latest release notes [here](https://help.fullstory.com/hc/en-us/articles/4412766845591).\n4.  To apply the FullStory plugin, add the following snippet into your app-specific `build.gradle` (if your Gradle file adds plugins via plugin ID):\n\n```\nplugins {\n  id 'com.android.application'\n  id 'fullstory'\n}\nfullstory {\n  org 'YOUR_ORG_ID_HERE'\n}\n```\n\n5.  If your Gradle file applies plugins, use the following snippet instead:\n\n```\napply plugin: 'com.android.application'\napply plugin: 'fullstory'\nfullstory {\n  org 'YOUR_ORG_ID_HERE' // Replace with your organization ID.\n}\n```\n\n6.  To apply FullStory to all variants, including those used at debug time, add the following line below `org`:\n\n```\norg 'YOUR_ORG_ID_HERE'\nenabledVariants 'all'\n```\n\n7.  Add the following permissions, if not present already, to your `AndroidManifest.xml`:\n\n```\n<uses-permission android:name=\"android.permission.INTERNET\"/>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\n```\n\n8.  Initialize the Android SDK in your `Application` class’ `onCreate()` method as shown:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(FullStoryIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\nFor more information, see [FullStory Android documentation](https://help.fullstory.com/hc/en-us/articles/360040596093-Getting-Started-with-Android-Recording).",
  "title": "Set up FullStory | RudderStack Docs",
  "description": "Send your event data from RudderStack to FullStory.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fullstory/cloud-mode/",
  "markdown": "# FullStory cloud mode | RudderStack Docs\n\nSend events to FullStory using RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide will help you send events to FullStory in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) using their [Server API](https://developer.fullstory.com/server/getting-started/).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/fullstory).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a user in FullStory.\n\nRudderStack uses the [Create User](https://developer.fullstory.com/server/users/create-user/) endpoint to send user details to FullStory.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  displayName: \"Alex\",\n  email: \"alex@example.com\",\n  country: \"US\",\n});\n```\n\n### Supported mappings\n\nThe following table details the mapping between RudderStack and FullStory properties:\n\n| RudderStack property | FullStory property |\n| --- | --- |\n| `userId` | `uid` |\n| `context.traits.email` | `email` |\n| `context.traits.name` | `display_name` |\n| `traits`  <br>`context.traits` | `properties` |\n\n## Track\n\nUse the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to create object-specific events with the associated details.\n\nRudderStack uses the [Create Events](https://developer.fullstory.com/server/events/create-events/) endpoint to send the event details to FullStory.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  orderId: \"1234567\",\n  price: \"567\",\n  currency: \"USD\",\n});\n```\n\n### Supported mappings\n\nIn addition to the event properties mapped to the FullStory’s `properties`, the following table details the mapping between RudderStack and FullStory properties for the following three objects:\n\n*   [`user`](#user)\n*   [`session`](#session)\n*   [`context`](#context)\n\n#### **user**\n\n| RudderStack property | FullStory property |\n| --- | --- |\n| `userId` | `uid` |\n\n#### **session**\n\n| RudderStack property | FullStory property |\n| --- | --- |\n| `properties.sessionId` | `id` |\n| `properties.useMostRecent` | `useMostRecent` |\n\n#### **context**\n\n| RudderStack property | FullStory property |\n| --- | --- |\n| `context.page.url` | `context.browser.url` |\n| `context.userAgent` | `context.browser.user_agent` |\n| `context.page.initial_referrer` | `context.browser.initial_referrer` |\n| `context.app.name` | `context.mobile.app_name` |\n| `context.app.version` | `context.mobile.app_version` |\n| `context.device.manufacturer` | `context.device.manufacturer` |\n| `context.device.model` | `context.device.model` |\n| `context.ip` | `context.location.ip_address` |\n| `properties.latitude` | `context.location.latitude` |\n| `properties.longitude` | `context.location.longitude` |\n| `properties.city` | `context.location.city` |\n| `properties.region` | `context.location.region` |\n| `properties.country` | `context.location.country` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "FullStory cloud mode | RudderStack Docs",
  "description": "Send events to FullStory using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/device-mode/",
  "markdown": "# Google Ads Device Mode Integration\n\nSend events to Google Ads using RudderStack web device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide will help you send conversion events to Google Ads in the [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\n## Identify\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before sending the `identify` events to Google Ads, make sure to:\n> \n> *   Set up and enable [enhanced conversions for web](https://support.google.com/google-ads/answer/13258081#zippy=%2Cvalidate-your-implementation-using-chrome-developer-tools%2Cfind-enhanced-conversions-fields-on-your-conversion-page).\n> *   Turn on the **Allow identify calls for the Google Ads destination** [connection setting](#connection-settings) in the RudderStack dashboard.\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) calls to send `user_data` to Google Ads for [enhanced conversions](https://support.google.com/google-ads/answer/9888656?sjid=5425985205954373980-AP).\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  email: \"alex@example.com\",\n  phone: \"(800) 555‑0175\",\n})\n```\n\n## Track\n\nYou can send a [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call with the conversion name and specify it in the **Click Event Conversion** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/setup-guide/#click-event-conversion-settings). RudderStack, in turn, sends this data to Google Ads.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack maps `properties.currency`, `properties.order_id`, and `properties.revenue` in the event to Google Ads’ `currency`, `transaction_id`, and `value` fields respectively. Note that this is applicable only when the **Track Dynamic Remarketing** setting is turned off in the dashboard.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track('track conversion', {\n  revenue: 125,\n  currency: 'INR',\n  order_id: 'order_1'\n});\n```\n\nA sample `track` call after turning on the **Track Dynamic Remarketing** setting in the dashboard is shown below:\n\n```\nrudderanalytics.track('view_item', {\n  'value': 998.55,\n  'items': [{\n      'id': 1234,\n      'google_business_vertical': 'retail'\n    },\n    {\n      'id': 45678,\n      'google_business_vertical': 'retail'\n    }\n  ]\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The format for passing the parameters is quite flexible. You can use the standard Google format for tracking specific categories or use your own format for tracking custom categories.\n\nA sample `track` call for a custom event is shown below:\n\n```\nrudderanalytics.track(\"custom_event\", {\n  custom_parameter1: \"1\",\n  custom_parameter2: 2,\n});\n```\n\n### Set up new customer acquisition reporting\n\nRudderStack supports sending a `newCustomer` property in your `track` events to determine whether a converting user is a new customer in your Google Ads campaign. This is helpful in [setting up new customer acquisition reporting](https://support.google.com/google-ads/answer/12077475?hl=en#zippy=%2Cinstall-with-the-global-site-tag%2Cinstall-with-google-tag-manager) in Google Ads.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Do not pass the `newCustomer` property if you are unsure about the converting the user status (applicable for new and existing customers).\n\nA sample `track` call highlighting this feature is shown:\n\n```\nrudderanalytics.track('Order Completed', {\n  'newCustomer': false,\n  'currency': 'USD',\n  'price': 43.99,\n  'transaction_id': 'A122311',\n  \"checkout_id\": \"CHK1044\",\n  \"revenue\": 47.99,\n  \"products\": [{\n    \"product_id\": \"A1223\",\n    \"name\": \"car\"\n  }]\n});\n```\n\n## Page\n\nYou can make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call with the conversion name to RudderStack for a page load conversion. RudderStack, in turn, sends this data to Google Ads.\n\nA sample `page` call is as shown below:\n\n```\nrudderanalytics.page('page view');\n```\n\nYou can turn on **Track Dynamic Remarketing** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-ads/setup-guide/#track-event-settings) to send custom parameters in the `page` call:\n\n```\nrudderanalytics.page(\"custom_event\", {\n  custom_parameter1: \"Sample\",\n  custom_parameter2: 2,\n});\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Ads Device Mode Integration | RudderStack Docs",
  "description": "Send events to Google Ads using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/fullstory/device-mode/",
  "markdown": "# FullStory device mode | RudderStack Docs\n\nSend events to FullStory using RudderStack device mode.\n\n* * *\n\n*     4 minute read  \n    \n\nThis guide will help you send events to FullStory in [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using their native web/mobile SDK.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before sending events, follow the instructions in the [Setup guide](https://www.rudderstack.com/docs/destinations/streaming-destinations/fullstory/setup-guide/) to set up the FullStory device mode integration depending on your platform.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method to uniquely identify a user in FullStory.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  displayName: \"Alex\",\n  email: \"alex@example.com\",\n  country: \"US\",\n});\n```\n\nRudderStack translates the above call to FullStory’s `identify` call as follows:\n\n*   Sends `userId` as `uid`.\n*   Passes the remaining traits as is.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In web device mode, RudderStack sends the `anonymousId` of the user as `uid` if you do not provide the `userId`.\n\n`displayName` and `email` are **optional** traits and FullStory handles them differently. Once specified in the `identify` call, they show up automatically the next time you browse your user list in FullStory.\n\nSee [FullStory documentation](https://help.fullstory.com/hc/en-us/articles/360020828113#displayname) for more information.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you track custom events as they occur in your web application.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  orderId: \"1234567\",\n  price: \"567\",\n  currency: \"USD\",\n});\n```\n\nRudderStack passes a `track` call with all its associated event properties to FullStory via its [FS.event](https://help.fullstory.com/hc/en-us/articles/360020623274-FS-event-API-Sending-custom-event-data-into-FullStory) method.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views, with any additional relevant information about the viewed page. By default, RudderStack sends all `page` calls to FullStory as events.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"homepage\");\n```\n\nThe above call sends a `Viewed a Page` event to FullStory along with the following properties:\n\n*   `name` (`homepage` in the above example)\n*   `path`\n*   `referrer`\n*   `search`\n*   `title`\n*   `url`\n\nRudderStack also passes any additional properties in the `page` call to FullStory.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call is the mobile equivalent of the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call. It lets you record the screen views on your mobile app along with other relevant information about the screen.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the `screen` call to FullStory as a custom event.\n\nA sample `screen` call is shown below:\n\n```\nMainApplication.rudderClient.screen(\n    \"Sample Screen Name\",\n    RudderProperty().putValue(\"prop_key\", \"prop_value\")\n)\n```\n\nIn the above snippet, RudderStack captures all the information related to the viewed screen, along with any additional info associated with that event. In FullStory, the above `screen` call is shown as `Screen Viewed`, along with the associated properties.\n\n## Reset\n\nThe `reset` method resets the previously identified user and any related information. See [FullStory Reset API](https://developer.fullstory.com/anonymize?lang=ObjectiveC) for more information.\n\nA sample `reset` call for iOS is shown below:\n\n```\n[[RSClient sharedInstance] reset];\n```\n\nA sample `reset` call for Android is shown below:\n\n```\nMainApplication.rudderClient.reset()\n```\n\n## FAQ\n\n#### **How do I prevent FullStory from automatically recording on startup?**\n\nBy default, FullStory automatically requests a session and starts recording on the app’s startup.\n\nTo start recording the app only when certain conditions are met, you can use FullStory’s `RecordOnStart` feature. Configuring FullStory to disable `RecordOnStart` prevents any recording until you explicitly invoke `FS.restart`.\n\nFollow these steps:\n\n**For iOS**\n\nIn your iOS app’s `Info.plist` FullStory dictionary, add a `RecordOnStart` key of type `Boolean` with a value of `NO`.\n\nSee [FullStory iOS documentation](https://help.fullstory.com/hc/en-us/articles/360042772333-Getting-Started-with-iOS-Recording#01ER0FEDVJS9RJ843477QPRYS6) for more information.\n\n**For Android**\n\nGo to your FullStory plugin configuration (where you set the organiation ID) and set the following:\n\n```\nfullstory {\norg 'YOUR_ORG_ID_HERE'\nrecordOnStart false\n}\n```\n\nSee [FullStory Android documentation](https://help.fullstory.com/hc/en-us/articles/360040596093-Getting-Started-with-Android-Recording#01F5E7XY5HJYV5ZWCCSYNQ8TXC) for more information.\n\n#### **How do I subclass from an application in Android?**\n\nFullStory requires that you enable MultiDex. If your minSdkVersion is set to 21 or higher, Multidex is enabled by default. In this case, you will need to extend `android.app.Application`, otherwise there will be a build error. If your minSdkVersion is lower than 21, you will need to subclass from `androidx.multidex.MultiDexApplication` instead.\n\nIf you’re using Java and if you do not have an application class, you will need to create one. In your `App.java`, add the following:\n\n```\nimport android.app.Application;\npublic class App extends Application {\n...\n}\n```\n\nIf you’re using Kotlin and if you do not have an application class, you will need to create one and add the following in your `App.kt`:\n\n```\nimport android.app.Application\n\nclass App: Application() {\n...\n}\n```\n\nThen, set `android:name=\"App\"` in your `AndroidManifest.xml` under the `<application>` tag as shown:\n\n```\n<application\nandroid:name=\"App\" ….\n```\n\n#### **Build was configured to prefer settings repositories over project repositories but repository ‘Google’ was added by build file ‘build.gradle’. What do I do?**\n\nGo to your `settings.gradle` file located in the root, and then comment or remove this line: `repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)` as shown in the following snippet:\n\n```\ndependencyResolutionManagement {\n    // repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter() // Warning: this repository is going to shut down soon\n    }\n}\nrootProject.name = \"FullStory_Sample_App\"\ninclude ':app'\n```\n\nFor more information, see [FullStory documentation](https://help.fullstory.com/hc/en-us/articles/360040596093-Getting-Started-with-Android-Recording#01F5E7X1NYJY51ME0PEWSM0KBJ).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "FullStory device mode | RudderStack Docs",
  "description": "Send events to FullStory using RudderStack device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight/",
  "markdown": "# Gainsight | RudderStack Docs\n\nSend your event data from RudderStack to Gainsight CS.\n\n* * *\n\n*     6 minute read  \n    \n\n[Gainsight CS](https://www.gainsight.com/customer-success/) is Gainsight’s customer success product. It gives you a complete, 360-degree view of your customers and helps you understand their product behavior based on the data around their interactions and usage trends. With Gainsight CS, you can also analyze your company’s activity with every customer and leverage the insights to improve interaction with them.\n\nRudderStack lets you send your event data from a variety of sources to Gainsight CS.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> **This integration is developed for the Gainsight CS NXT Edition**.\n\n## Getting started\n\nTo send your events to Gainsight CS via RudderStack, you will first need to add it as a destination in the RudderStack dashboard.\n\nFirst, check if the source platform is supported by Gainsight CS by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you’ve confirmed that the source platform supports sending events to RudderStack, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source and select **Gainsight** from the list of supported destinations.\n*   Assign a name to this destination, and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-settings.webp)](https://www.rudderstack.com/docs/images/gainsightcs-settings.webp)\n\nConnection screen for Gainsight\n\nYou will need to enter the following settings under **Connection Settings**:\n\n*   **Access Key**: This key is required for the `identify` and `group` calls. To generate the access key in Gainsight, go to **Administration** - **Connectors 2.0** - **Connectors** tab and click **Gainsight API**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on generating the Gainsight Access Key, refer to their [support page](https://support.gainsight.com/SFDC_Edition/Connectors/Connectors/API_Integrations/Generate_API_Access_Key).\n\n*   **Domain or Subdomain Name**: Subdomain or custom domain is a required field to work with the Gainsight API. required to work with the Gainsight API.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> More information on setting up a Gainsight custom domain can be found in their [support page](https://support.gainsight.com/Gainsight_NXT/06Surveys/02Admin_Guides/Setup_a_Gainsight_Domain).\n\n*   **Gainsight Event Settings**: This setting is related to the Gainsight Events Framework.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Refer to the [Track](#track) section of this documentation for more details.\n\n## Identify\n\nRudderStack creates a `Person` object in Gainsight for the `identify` call. Gainsight uses the `Email` field as an identifier and it is mandatory to merge the object. Hence, for an `identify` call, the `email` field is mandatory.\n\nFor the default fields in Gainsight `Person` object, the camelCase notation is used in the RudderStack payload traits.\n\nThe mapping of the RudderStack traits to the Gainsight `Person` object fields is as shown:\n\n| **Gainsight Person Field** | **RudderStack Trait Name** |\n| --- | --- |\n| `Email` | `email` |\n| `Name` | `name` |\n| `FirstName` | `firstName` |\n| `MiddleName` | `middleName` |\n| `LastName` | `lastName` |\n| `LinkedinUrl` | `linkedinUrl` |\n| `Location` | `location` |\n| `ExternalRecordID__gc` | `externalRecordId` |\n| `EmailOptOut` | `emailOptOut` |\n| `DynamicResolutionKey` | `dynamicResolutionKey` |\n| `Comments` | `comments` |\n| `Timezone` | `timezone` |\n| `MasterRecordID` | `masterRecordId` |\n| `MasterAvatarTypeCode` | `masterAvatarTypeCode` |\n\nAn example of the `identify` call in RudderStack is as shown:\n\n```\nrudderanalytics.identify(\n  \"sample-user-id\",\n  {\n    email: \"user@email.com\",\n    firstName: \"John\",\n    lastName: \"Doe\",\n    comments: \"example identify call\",\n  },\n  () => console.log(\"identify callback\")\n)\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Custom fields are supported for `identify`. Refer to the section below for details.\n\n### Custom Fields\n\nYou can create custom fields in the Gainsight schema for a `Person` object as shown in the image below:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-custom-field-person.webp)](https://www.rudderstack.com/docs/images/gainsightcs-custom-field-person.webp)\n\ngainsightcs-custom-field-person\n\nThen, you can add the RudderStack trait name for the Gainsight custom field mapping in the RudderStack dashboard as shown:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-person-map.webp)](https://www.rudderstack.com/docs/images/gainsightcs-person-map.webp)\n\ngainsightcs-field-map-person\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> When you add custom fields in the Gainsight schema, `__gc` is automatically suffixed at the end. Therefore, you need to provide the field name including the `__gc` suffix in the RudderStack dashboard as shown above.\n\n## Group\n\nThe `group` call associates a person with a group. RudderStack’s `group` call creates a `Company` object if it is not present or updated with the provided traits. The `Name` field in is used as the unique identifier.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For making a `group` call, `email` is a mandatory field in `context.traits` of the RudderStack event payload.\n\nThe mapping of the RudderStack traits to the Gainsight `Company` object fields is as shown:\n\n| **Gainsight Company Field** | **RudderStack Trait Name** |\n| --- | --- |\n| `Name` | `name` |\n| `Employees` | `employees` |\n| `Arr` | `arr` |\n| `BillingAddress` | `billingAddress` |\n| `Summary` | `summary` |\n| `Csm` | `csm` |\n| `CustomerlifetimeInMonths` | `customerLifetimeInMonths` |\n| `Industry` | `industry` |\n| `LifecycleInWeeks` | `lifecycleInWeeks` |\n| `ManagedAs` | `managedAs` |\n| `Mrr` | `mrr` |\n| `OriginalContractDate` | `originalContractDate` |\n| `ParentCompany` | `parentCompany` |\n| `RenewalDate` | `renewalDate` |\n| `Stage` | `stage` |\n| `Status` | `status` |\n| `Tags` | `tags` |\n| `TickerSymbol` | `tickerSymbol` |\n| `Users` | `users` |\n| `SfdcAccountId` | `sfdcAccountId` |\n| `IndustryNew` | `industryNew` |\n\nAn example `group` call is as shown below:\n\n```\nrudderanalytics.group(\n  \"sample-group-id\",\n  {\n    name: \"Example Company\",\n    employees: 1000,\n    industry: \"Software\",\n  },\n  () => console.log(\"group callback\")\n)\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Custom Fields are supported for the `group` call. For details, refer to the section below.\n\n### Custom Fields\n\nTo send custom properties to Gainsight CS via RudderStack, you first need to create custom fields in the Gainsight schema for the `Company` object, as shown in the following image:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-custom-field-company.webp)](https://www.rudderstack.com/docs/images/gainsightcs-custom-field-company.webp)\n\ngainsightcs-custom-field-company\n\nThen, you can add the RudderStack trait name for the Gainsight custom field mapping in the RudderStack dashboard:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-company-map.webp)](https://www.rudderstack.com/docs/images/gainsightcs-company-map.webp)\n\ngainsightcs-field-map-company\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> When you add custom fields in the Gainsight schema, `__gc` is automatically suffixed at the end. Therefore, you need to provide the field name including the `__gc` suffix in the RudderStack dashboard as shown above.\n\n## Track\n\nThe `track` call is used to work with the Gainsight Events Framework. The Gainsight Events Framework lets you create events which can then be used in the **Programs** and **Rules Engine**.\n\nGainsight events are identified with `Event Name` and `Event Version`. The events are grouped under `Topics`. Note that there can be multiple events under a topic.\n\nTo start sending events, you will first need to register as a Publisher in Gainsight by going to **Administration** - **Events** and clicking on **Register as Publisher**. This generates a unique shared secret required for working with Gainsight Events Framework.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> More information on the Gainsight Events Framework can be found in their [support page](https://support.gainsight.com/Gainsight_NXT/Journey_Orchestrator_and_Email_Templates/Programs/Events_Framework#Event_API_Contract).\n\nProvide the required event settings in the RudderStack dashboard as shown:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-event-main-settings.webp)](https://www.rudderstack.com/docs/images/gainsightcs-event-main-settings.webp)\n\ngainsight-event-main-settings\n\nThe required settings are:\n\n*   **Shared Secret**: This is a required field. Go to **Administration** - **Events** and click **Register as Publisher** to get this key.\n*   **TenantId**: The Tenant ID of the Publisher is a required field. You can copy this ID by going to **Administration** - **Application Settings**.\n*   **Contract ID**: This field is optional. If a user subscribes to a contract, only those subscribers associated with this contract will get the event.\n*   **Topic Name**: This is a required field. The events are grouped under topic.\n\nThe **Contract ID** an be provided in the RudderStack dashboard or in the `track` payload as `externalId`. If both are present, RudderStack gives higher precedence to the `externalId` .\n\nThe following is an example of sending `contractId` via a `track` call:\n\n```\nrudderanalytics.track(\n  \"Ticket Closure\",\n  {\n    name: \"John Doe\",\n    status: \"resolved\",\n  },\n  {\n    externalId: [\n      {\n        type: \"gainsightEventContractId\",\n        id: \"sample-contract-id\",\n      },\n    ],\n  },\n  () => console.log(\"track callback\")\n)\n```\n\n### Using RudderStack’s `track` call with Gainsight Events\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Both the event `name` and `version` are needed to use `track` with Gainsight Events.\n\nFirst, create a new event under a particular topic in Gainsight:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-event-create.webp)](https://www.rudderstack.com/docs/images/gainsightcs-event-create.webp)\n\ngainsightcs-event-map-sample\n\nThen, provide this event name and the version mapping in the RudderStack dashboard as shown:\n\n[![](https://www.rudderstack.com/docs/images/gainsightcs-event-map-sample.webp)](https://www.rudderstack.com/docs/images/gainsightcs-event-map-sample.webp)\n\ngainsightcs-event-map-sample\n\nYou are now ready to send events to Gainsight using the `track` method.\n\nAn example of a `track` call is as shown:\n\n```\nrudderanalytics.track(\n  \"Ticket Closure\",\n  {\n    name: \"John Doe\",\n    status: \"resolved\",\n  },\n  () => console.log(\"track callback\")\n)\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To send Gainsight Events to more than one topic, we recommend creating new Gainsight destinations in the RudderStack dashboard for each topic.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Gainsight | RudderStack Docs",
  "description": "Send your event data from RudderStack to Gainsight CS.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-adwords-offline-conversions/",
  "markdown": "# Google Ads Offline Conversions | RudderStack Docs\n\nSend your event data from RudderStack to Google Ads Offline Conversions.\n\n* * *\n\n*     8 minute read  \n    \n\n[Google Ads Offline Conversions](https://support.google.com/google-ads/answer/2998031?hl=en&ref_topic=7280668) helps you track the offline sales which occur when your ads lead to a click or call to your business. It lets you measure your sale conversions in the offline mode after a user clicks your ad online but does not directly proceed to sale in the online mode.\n\n## Getting started\n\nRudderStack supports sending event data to Google Ads Offline Conversions via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Google Ads Offline Conversions, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Google Ads Offline Conversions**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Google Ads Offline Conversions as a destination, first authenticate your account by following the below steps:\n\n1.  Click **Create Account** in the **Account Settings** section.\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n4.  Click **Save** to use the specified account:\n\n[![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In case you have authenticated multiple accounts, you can click **Edit Credentials** to select or delete any other authenticated account:\n> \n> ![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n> \n> RudderStack **gives an error** if you try to delete an account used by any other connection set up for the same destination.\n\nNext, configure the following settings:\n\n*   **Customer ID**: Enter the ID associated with your Google Ads account. See [FAQ](#faq) for more information on obtaining your customer ID.\n*   **Subaccount**: Enable this setting if you are using a Google Ads subaccount. See [Google Ads](https://support.google.com/campaignmanager/answer/2829448?hl=en#zippy=%2Cwhat-are-subaccounts) documentation for more information on subaccounts.\n*   **Map your events with Google Ads Offline Conversions**: Enter the RudderStack event name you want to map to the **Click**, **Call**, or **Store** conversion type in Google Ads.\n*   **Map your Google Ads Conversions Names**: Enter the RudderStack event name corresponding to the Google Ads Conversion name created in the Google Ads dashboard. See [FAQ](#how-to-create-the-click-and-call-conversions-in-google-ads-dashbard) for more information on creating click and call conversions in Google Ads dashboard.\n*   **Map your variable names to custom Google Ads variables**: Enter the `track` event property which you want to map to the Google Ads custom variable (defined in the Google dashboard). See [FAQ](#how-do-i-create-custom-variables-in-google-ads-dashboard-which-event-properties-can-i-map-with-these-variables) for more information.\n*   **User Identifier Source**: Select the type of user identifier source from the dropdown. See [Google Ads API documentation](https://developers.google.com/google-ads/api/rest/reference/rest/v13/UserIdentifier#useridentifiersource) for more information on the different source types.\n*   **Conversion Environment**: Select the conversion environment of the uploaded conversion from the dropdown. See [Google documentation](https://developers.google.com/google-ads/api/rest/reference/rest/v13/customers/uploadClickConversions#ConversionEnvironment) for more information on the different conversion environments.\n*   **The user identifier for store and click conversions**: Select the default user identifier from `email` or `phone` for store and click conversions.\n*   **Hash User Identifying Information (SHA-256)**: This setting is enabled by default and hashes the user identifying information like `email` and `phone number` using SHA-256.\n*   **Validate Only**: Enable this setting to only validate the request and not execute it. See [Google Ads documentation](https://developers.google.com/google-ads/api/rest/reference/rest/v13/customers/uploadClickConversions) for more information.\n\n## Google Ads permissions\n\nThis integration relies on the authorizing Google Ads user’s [underlying permissions](https://support.google.com/google-ads/answer/9978556) and must be at least **Standard** or **Admin**.\n\nIf you authorize the integration without the **Standard** or **Admin** permissions, the API calls will fail and a “RudderStack Admin” user will disable the integration. If you encounter an entry in your [audit logs](https://www.rudderstack.com/docs/dashboard-guides/audit-logs/) from a `Rudder Admin/admin@rudderstack.com` user, it means that RudderStack disabled the integration on account of insufficient user permissions.\n\nTo avoid this, ensure that the authorizing user has the **Standard** permissions, at minimum.\n\n## Track\n\nRudderStack associates the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event with the event name defined in the **Map your events with Google Ads Offline Conversions** dashboard setting.\n\nRudderStack supports the following conversion types:\n\n### Click conversion\n\nYou can create a conversion action to [upload offline click conversions](https://developers.google.com/google-ads/api/docs/conversions/upload-clicks) into Google Ads. The [Google Ads Click Conversion API](https://developers.google.com/google-ads/api/reference/rpc/v13/ConversionUploadService#uploadclickconversions) processes these click conversions.\n\nA sample `track` call for a click conversion is shown below:\n\n```\nrudderanalytics.track('sign up completed', {\n  gclid: \"gclid_value\",\n  conversionDateTime: \"2022-05-20 12:32:45-08:00\"\n});\n```\n\nThe following table lists the property mappings between RudderStack and Google Ads Offline Conversions for the click conversion type:\n\n| RudderStack property | Google Ads Offline Conversions property | Notes |\n| --- | --- | --- |\n| `properties.conversionDateTime`  <br>`timestamp`  <br>`originalTimestamp`  <br>Required | `conversionDateTime` | Date and time at which the conversion occurred. It must be after the click time and must include the timezone offset.<br><br>The format for this field is `yyyy-mm-dd hh:mm:ss +/- hh:mm`.<br><br>For example, `2019-01-01 12:32:45-08:00`. |\n| `traits.email`  <br>`context.traits.email` | `hashedEmail` | If **User Identifier Source** is set in the dashboard, either `email` or `phone` must be passed. |\n| `traits.phone`  <br>`context.traits.phone` | `hashedPhoneNumber` | If **User Identifier Source** is set in the dashboard, either `email` or `phone` must be passed. |\n| `properties.gclid` | `gclid` | \\-  |\n| `properties.gbraid` | `gbraid` | \\-  |\n| `properties.wbraid` | `wbraid` | \\-  |\n| `properties.externalAttributionCredit` | `externalAttributionCredit` | \\-  |\n| `properties.externalAttributionModel` | `externalAttributionModel` | \\-  |\n| `properties.merchantId` | `merchantId` | \\-  |\n| `properties.feedCountryCode` | `feedCountryCode` | \\-  |\n| `properties.feedLanguageCode` | `feedLanguageCode` | \\-  |\n| `properties.localTransactionCost` | `localTransactionCost` | \\-  |\n| `properties.product_id`  <br>`properties.sku` | `productId` | \\-  |\n| `properties.quantity` | `quantity` | \\-  |\n| `properties.price` | `unitPrice` | \\-  |\n| `properties.userIdentifierSource` | `userIdentifierSource` | \\-  |\n| `properties.conversionEnvironment` | `conversionEnvironment` | \\-  |\n| `properties.conversionValue`  <br>`properties.total`  <br>`properties.value`  <br>`properties.revenue` | `conversionValue` | \\-  |\n| `properties.currencyCode`  <br>`properties.currency` | `currencyCode` | \\-  |\n| `properties.orderId`  <br>`properties.order_id` | `orderId` | \\-  |\n\nSee [ID parameters](https://developers.google.com/google-ads/api/docs/conversions/upload-clicks#id_parameters) section for detailed guidelines on passing the combinations of `wbraid`, `gbraid`, and `gclid` parameters.\n\n### Call conversion\n\nYou can create a conversion action to [upload offline call conversions](https://developers.google.com/google-ads/api/docs/conversions/upload-calls) into Google Ads. The [Google Ads Call Conversion API](https://developers.google.com/google-ads/api/reference/rpc/v13/ConversionUploadService#uploadcallconversions) processes these call conversions.\n\nA sample `track` call for a call conversion is shown below:\n\n```\nrudderanalytics.track('login', {\n  callerId: \"callerId_value\",\n  callStartDateTime: \"2022-08-12 15:01:30+05:30\",\n  conversionDateTime: \"2022-09-24 12:32:45-08:00\"\n});\n```\n\nThe following table lists the property mappings between RudderStack and Google Ads Offline Conversions for the call conversion type:\n\n| RudderStack property | Google Ads Offline Conversions property |\n| --- | --- |\n| `properties.callerId`  <br>Required | `callerId` |\n| `properties.callStartDateTime`  <br>Required | `callStartDateTime` |\n| `properties.conversionDateTime`  <br>`originalTimestamp`  <br>Required | `conversionDateTime` |\n| `properties.conversionValue`  <br>`properties.total`  <br>`properties.value`  <br>`properties.revenue` | `conversionValue` |\n| `properties.currencyCode`  <br>`properties.currency` | `currencyCode` |\n\n### Store conversion\n\nYou can create a conversion action to [upload store sales conversions](https://developers.google.com/google-ads/api/docs/conversions/upload-store-sales-transactions) into Google Ads. The [Google Ads Store Conversion API](https://developers.google.com/google-ads/api/reference/rpc/v13/OfflineUserDataJobService#createofflineuserdatajob) creates an offline user data job.\n\nA sample `track` call for a store sales conversion is shown below:\n\n```\nrudderanalytics.track(\"Product Reviewed\",{\n    \"loyaltyFraction\": 1,\n    \"order_id\": \"order id\",\n    \"currency\": \"USD\",\n    \"revenue\": \"100\",\n    \"store_code\": \"store code\",\n    \"email\": \"alex@example.com\",\n    \"gclid\": \"gclid\",\n    \"conversionDateTime\": \"2022-01-01 12:32:45-08:00\",\n    \"product_id\": \"123445\",\n    \"custom_key\": \"CUSTOM_KEY\",\n    \"CUSTOM_KEY\": \"CUSTOM_VALUE\",\n    \"quantity\": 123\n  })\n```\n\nThe below fields are required to send the store conversions successfully:\n\n*   `event`\n*   Any one of the `properties.total`, `properties.value`, `properties.revenue`, or `properties.currency`\n\nSee [job creation](https://github.com/rudderlabs/rudder-transformer/blob/develop/src/v0/destinations/google_adwords_offline_conversions/data/TrackCreateJobStoreConversionsConfig.json), [address info](https://github.com/rudderlabs/rudder-transformer/blob/develop/src/v0/destinations/google_adwords_offline_conversions/data/storeAddoperationAddressMap.json), and [conversion mapping](https://github.com/rudderlabs/rudder-transformer/blob/develop/src/v0/destinations/google_adwords_offline_conversions/data/TrackAddStoreConversionsConfig.json) parameter mappings for more information on the optional fields you can send in the payload.\n\nIf you specify a user identifier in **The user identifier for store and click conversions** setting but don’t include it in the payload, RudderStack looks for the following fields as user identifiers (in the same priority order):\n\n1.  Address\n2.  Email\n3.  Phone\n\nIf none of the above are present, RudderStack sends an empty user identifier.\n\n### Specify consent for click and call conversions\n\nYou can specify user consent for leveraging their data for advertisements and personalization in case of [click](#click-conversion) and [call](#call-conversion) conversions. To do so, use the `integrations` object in your `track` event as follows:\n\n```\nrudderanalytics.track('Signup Completed', {\n  prop1: 'val1',\n  gclid: \"gclid_value\",\n  conversionDateTime: \"2022-05-20 12:32:45-08:00\"\n}, {\n  \"integrations\": {\n    \"GOOGLE_ADWORDS_OFFLINE_CONVERSIONS\": {\n      \"consents\": {\n        \"adUserData\": \"GRANTED\",\n        \"adPersonalization\": \"GRANTED\"\n      }\n    }\n  }\n});\n```\n\nNote the following:\n\n*   The permissible values for the `adUserData` and `adPersonalization` fields are:\n    *   `UNSPECIFIED`\n    *   `UNKNOWN`\n    *   `GRANTED`\n*   If you set these fields to any other value, RudderStack automatically changes them to `UNKNOWN`.\n*   If you do not set the `consents` field in the event payload, RudderStack sets the `adUserData` and `adPersonalization` fields to `UNSPECIFIED` by default.\n\n## FAQ\n\n#### Where can I find my Google Ads customer ID?\n\nTo get the customer ID associated with your Google Ads account, click the **Help** option in your Google Ads dashboard. You will find the customer ID in the resulting pop-up:\n\n[![Google Adwords Offline Conversions connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)\n\n  \n\n#### How do I create custom variables in Google Ads dashboard? Which event properties can I map with these variables?\n\nTo create custom variables in Google Ads dashboard, follow these steps:\n\n1.  Log in to your [Google Ads account](https://ads.google.com/intl/en_IN/home/).\n2.  Click **TOOLS AND SETTINGS** from the top navigation bar and select **Conversions** under **Measurement**.\n3.  In **Custom Variables** section, click the **+** sign to create a new conversion custom variable:\n\n[![Google Adwords Offline Conversions](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-custom-variable.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-custom-variable.webp)\n\nYou can map a `track` event property with a Google Ads custom variable. Suppose you send the following `track` payload to Google Ads via RudderStack:\n\n```\n{\n  \"type\": \"track\",\n  ...\n  \"properties\": {\n    \"gclid\": \"Cj0KCQjw6cKiBhD5ARIsAKXUdybqN7DV7ZFBelg7XMLZO-L1gCEXebkKQ7M73tQOdVNsxI_74J2grtIaAlRLEALw_wcB\",\n    \"gbraid\": null,\n    \"wbraid\": null,\n    \"orderId\": 1108829,\n    \"planName\": \"rudderstackTestingPlan\",\n    \"orderUUID\": \"deaf39a0-c1ff-4e0d-aa6e-770deee66e85\",\n    \"planPeriod\": 0,\n    \"currencyCode\": \"USD\",\n    \"conversionName\": \"annualized_revenue\",\n    \"conversionValue\": 70,\n    \"conversionDateTime\": \"2023-05-08 23:07:34+00:00\"\n  },\n  \"anonymousId\": \"deaf39a0-c1ff-4e0d-aa6e-770deee66e85\"\n}\n```\n\nTo send `planName` as a custom variable to Google Ads, create a custom variable in Google Ads dashboard, for example, `Plan Name`:\n\n[![Google Adwords Offline Conversions](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-custom-variable-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-custom-variable-name.webp)\n\nThen, enter the following mapping in the **Map your variable names to custom Google Ads variables** RudderStack dashboard setting: `planName` → `Plan Name`\n\n#### How to create the click and call conversions in Google Ads dashboard?\n\nTo create the click and call conversions, follow these steps:\n\n1.  Log in to your [Google Ads account](https://ads.google.com/intl/en_IN/home/).\n2.  Click **TOOLS AND SETTINGS** from the top navigation bar and select **Conversions** under **Measurement**.\n3.  Click **New conversion action** > **Import** > **Other data sources or CRMs**.\n4.  Select **Track conversions from clicks** or **Track conversions from calls** and click **Continue** as shown:\n\n[![Google Adwords Offline Conversions](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-track-conversion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-track-conversion.webp)\n\n#### How to check the upload conversions in the Google Ads dashboard?\n\nTo check the upload conversions, follow these steps:\n\n1.  Log in to your [Google Ads account](https://ads.google.com/intl/en_IN/home/).\n2.  Click **TOOLS AND SETTINGS** from the top navigation bar and select **Conversions** under **Measurement**.\n3.  Click **Uploads** to view the uploaded conversions:\n\n[![Google Adwords Offline Conversions](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-upload-conversion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-upload-conversion.webp)\n\n#### Why am I not seeing the enhanced conversions for my offline events?\n\nVerify if you have accepted the customer data terms in the conversion settings page. To do so, follow these steps:\n\n1.  Log in to your [Google Ads account](https://ads.google.com/intl/en_IN/home/).\n2.  Click **TOOLS AND SETTINGS** from the top navigation bar and select **Conversions** under **Measurement**.\n3.  In the page menu on the left, click **Settings**.\n4.  Click **Customer data terms**.\n5.  Review and accept the terms, and click **Save**.\n\nFor more information, see [Google Ads documentation](https://support.google.com/google-ads/answer/11956168?hl=en#zippy=%2Cenhanced-conversions-not-in-use).\n\n#### I am getting a 400 Bad Request error message. What should I do?\n\nIf you get a 400 Bad Request error while configuring the destination, make sure your customer account is allowlisted and configured to have **Standard** or **Administrative** access levels in Google Ads. Refer to the above [FAQ](#what-are-the-account-permissions-required-for-this-integration) for steps on setting the access level permissions for the account.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Ads Offline Conversions | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Ads Offline Conversions.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-adwords-enhanced-conversions/",
  "markdown": "# Google Ads Enhanced Conversions | RudderStack Docs\n\nSend your event data from RudderStack to Google Ads Enhanced Conversions.\n\n* * *\n\n*     6 minute read  \n    \n\n[Google Ads Enhanced Conversions](https://developers.google.com/google-ads/api/docs/conversions/enhance-conversions) lets you improve your conversion measurement accuracy by securely sending first-party conversion data from your website to Google.\n\nRudderStack supports Google Ads Enhanced Conversions as a destination to which you can send your audience list.\n\n## Prerequisites\n\nTo use this destination correctly, you must:\n\n*   [Set up Enhanced Conversions](https://support.google.com/google-ads/answer/11062876) with the Google Ads API.\n    \n*   Accept the Google Ads data terms to receive the enhanced conversions events successfully. To accept the terms:\n    \n    1.  Log in to your Google Ads dashboard.\n    2.  Go to **Conversions** > **Settings** > **Customer Data Terms**.\n    3.  Carefully read and accept the customer data terms.\n\n[![Google Ads Enhanced Conversions data terms](https://www.rudderstack.com/docs/images/event-stream-destinations/g-ads-conversions-data-terms.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/g-ads-conversions-data-terms.webp)\n\n## Getting started\n\nRudderStack supports sending event data to Google Ads Enhanced Conversions via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Google Ads Enhanced Conversions, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Google Ads Enhanced Conversions**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Google Ads Enhanced Conversions as a destination, first authenticate your account by following the below steps:\n\n1.  Click **Create Account** in the **Account Settings** section.\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n4.  Click **Save** to use the specified account:\n\n[![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In case you have authenticated multiple accounts, you can click **Edit Credentials** to select or delete any other authenticated account:\n> \n> ![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n> \n> RudderStack **gives an error** if you try to delete an account used by any other connection set up for the same destination.\n\nNext, configure the following settings:\n\n*   **Customer ID**: Enter the ID associated with your Google Ads account. You can find it by clicking the **Help** option in your dashboard. For more information on obtaining the customer ID, refer to the [Google Ads Help Center](https://support.google.com/google-ads/answer/1704344?hl=en) page.\n*   **Subaccount**: Enable this setting if you are using a Google Ads subaccount. For more information on subaccounts, refer to the [Google Ads Help Center](https://support.google.com/campaignmanager/answer/2829448?hl=en#zippy=%2Cwhat-are-subaccounts) page.\n*   **Login Customer ID**: Enter the customer ID of the manager account (associated with the subaccount). This field is required only when you want to send data to a customer list of a subaccount.\n*   **List of Conversion**: Enter the list of events on which you want to perform enhanced conversions. RudderStack will discard any events that are not specified in this list.\n*   **Hashing Required**: This setting is enabled by default and hash encrypts the user identifiers like email, phone number, first name, last name, and street address using the SHA256 encryption method.\n\n## Google Ads permissions\n\nThis integration relies on the authorizing Google Ads user’s [underlying permissions](https://support.google.com/google-ads/answer/9978556) and must be at least **Standard** or **Admin**.\n\nIf you authorize the integration without the **Standard** or **Admin** permissions, the API calls will fail and a “RudderStack Admin” user will disable the integration. If you encounter an entry in your [audit logs](https://www.rudderstack.com/docs/dashboard-guides/audit-logs/) from a `Rudder Admin/admin@rudderstack.com` user, it means that RudderStack disabled the integration on account of insufficient user permissions.\n\nTo avoid this, ensure that the authorizing user has the **Standard** permissions, at minimum.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record and send the conversion events along with any properties associated with them. RudderStack uses the [`ConversionAdjustment`](https://developers.google.com/google-ads/api/reference/rpc/v12/ConversionAdjustment) method to send the `track` events to Google Ads.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You must create the [conversion actions](https://support.google.com/google-ads/answer/12216226?hl=en) in Google Ads before sending the associated conversion events from RudderStack. Also, the conversion names should match in Rudderstack (**List of Conversion** dashboard setting) and Google Ads dashboards.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"12345\",\n  orderId: \"123\",\n  affiliation: \"Apple Store\",\n  gclid: \"abcd1234\",\n  conversionDateTime: \"2019-01-01 12:32:45-08:00\",\n  adjustedValue: 100,\n  currencyCode: \"INR\",\n  adjustmentDateTime: \"2019-01-01 12:32:45-08:00\",\n  total: 20,\n  revenue: 15.0,\n  shipping: 22,\n  tax: 1,\n  discount: 1.5,\n  coupon: \"SAVE45\",\n  currency: \"USD\",\n  products: [\n    {\n      product_id: \"FS247\",\n      sku: \"G-32\",\n      name: \"Monopoly\",\n      price: 14,\n      quantity: 1,\n      category: \"Games\",\n      url: \"https://www.estore.com/product/funskool-monopoly\",\n    },\n  ],\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `orderId` is a required field to send a `track` call successfully.\n\n### Supported mappings\n\nThe following table details the mapping of the fields specified in the RudderStack dashboard and Google Ads Enhanced Conversions, along with the relevant guidelines:\n\n| RudderStack field | Google Ads Enhanced Conversions field | Guidelines |\n| --- | --- | --- |\n| `gclid` | `gclid` | This is the Google click ID associated with the original conversion. |\n| `conversionDateTime` | `conversionDateTime` | The datetime at which the conversion for the adjustment occurred. You must specify the timezone in the format \\`yyyy-mm-dd hh:mm:ss+ |\n| `adjustedValue` | `adjustedValue` | The value of the conversion after restatement. To change the value of a conversion from `100` to `75`, for example, you should report an adjusted value of `75`. |\n| `currencyCode` | `currencyCode` | Use the ISO 4217 3-character currency code, e.g. `USD`/`EUR`. |\n| `orderId` | `orderId` | If a conversion was reported with a specific order ID, then that order ID must be used as the identifier. |\n| `adjustmentDateTime` | `adjustmentDateTime` | The datetime at which the adjustment occurred. You must specify the timezone in the format \\`yyyy-mm-dd hh:mm:ss+ |\n| `userAgent` | `userAgent` | User agent should only be specified in enhancements with the user identifiers and it should match the user agent of the request that sent the original conversion. This is so that the conversion and the enhancement both are either attributed as same or cross-device. |\n| `email` | `hashedEmail` | Include a domain name for all email addresses. Remove any spaces in between the addresses. |\n| `phone` | `hashedPhone` | Format the phone number using the [E.164 format](https://en.wikipedia.org/wiki/E.164). Include the country code as well. |\n| `firstName` | `hashedFirstName` | Do not include any prefixes (e.g., `Mrs.`). |\n| `lastName` | `hashedLastName` | Do not include any suffixes (e.g., `Sr.`). |\n| `city` | `city` | This field accepts any string. |\n| `state` | `state` | This field accepts any string. |\n| `country` / `countryCode` | `countryCode` | Use the ISO two-letter/three-letter [country codes](https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-16). Include the country code even if all your users belong to the same country. |\n| `postalCode` | `postalCode` | Both the US and international zip and postal codes are allowed. For the US, 5 digit codes followed by 4 digit extensions are also allowed. For the rest of the countries, do not include the postal code extensions. |\n\n## FAQ\n\n#### According to my audit logs, a “Rudder Admin” user updated my destination. Why is this?\n\nThis is a Google Ads permissions issue. See [Google Ads Permissions](#google-ads-permissions) for details.\n\n#### Can I set up the Enhanced Conversions and Remarketing Lists destinations using the same Google Ads account?\n\nYes, you can. Both the integrations are the sub-features of Google Ads. Hence, you can use the same Google Ads account to configure both the destinations in RudderStack.\n\n#### Where can I find my Google Ads customer ID?\n\nTo get the customer ID associated with your Google Ads account, click the **Help** option in your Google Ads dashboard. You will find the customer ID in the resulting pop-up:\n\n[![Google Ads Enhanced Conversions connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)\n\n#### What are the account permissions required for this integration?\n\nFor the integration to be successful, make sure the customer account used for OAuth verification adheres to Google’s [Customer Match policy](https://support.google.com/google-ads/answer/6299717) and has **Standard** or higher (**Administrative**) access level permissions. For more information on the access level permissions, refer to this [Google Ads support page](https://support.google.com/google-ads/answer/9978556?visit_id=637611563637058259-4176462731&rd=1).\n\nTo set the access level, follow these steps:\n\n1.  Sign into to your Google Ads account and go to **TOOLS AND SETTINGS** > **Access and security**:\n\n[![Access and Security option in Google Ads dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-access-security.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-access-security.webp)\n\n2.  Enter the email address of the account and from the list of permissions, select **Standard** or **Administrative**. Then, click **SEND INVITATION**:\n\n[![Specifying access levels](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-specify-access-level.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-specify-access-level.webp)\n\nThe account will have the access level permissions once they accept the invitation.\n\n#### I am getting a 400 Bad Request error message. What should I do?\n\nIf you get a 400 Bad Request error while configuring the destination, make sure your customer account is allowlisted and configured to have **Standard** or **Administrative** access levels in Google Ads. Refer to the above [FAQ](#what-are-the-account-permissions-required-for-this-integration) for steps on setting the access level permissions for the account.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Ads Enhanced Conversions | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Ads Enhanced Conversions.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-ga/",
  "markdown": "# Google Analytics destination | RudderStack Docs\n\nSend your event data from RudderStack to Google Analytics.\n\n* * *\n\n*     18 minute read  \n    \n\n[Google Analytics](https://analytics.google.com/) is a popular analytics service that lets you track and report your website traffic across a variety of sources.\n\nRudderStack supports Google Analytics as a destination and makes requests to its endpoints through the [Google Analytics Measurement Protocol](https://developers.google.com/analytics/devguides/collection/protocol/v1).\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/ga).\n\n## Getting started\n\nRudderStack supports sending event data to Google Analytics via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **Supported** | \\-  | \\-  |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Google Analytics native SDK from the `https://www.google-analytics.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Analytics SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Google Analytics, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Google Analytics**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully set up Google Analytics as a destination, configure the following settings:\n\n*   **Tracking ID**: Enter the Google Analytics tracking ID from your Google Analytics dashboard. See [FAQ](#faq) for more information on obtaining the tracking ID.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Google Analytics. For more information, see [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/).\n*   **Remarketing, Display Ads and Demographic Reports**: Enable this setting to tag visitors for the remarketing campaign. See [Enable Remarketing and Advertising Reporting Features](https://support.google.com/analytics/answer/2444872?hl=en#zippy=%2Cin-this-article) for more information.\n*   **Enable Enhanced Link Attribution**: Enable this setting to retrieve the detailed report of links clicked on your website. See [Enhanced Link Attribution](https://support.google.com/analytics/answer/2444872?hl=en#zippy=%2Cin-this-article) for more information.\n*   **Include the Querystring in Page Views**: Enable this setting to include the query string in your page views along with the URL to be sent to Google Analytics. For more information on this feature, see [Site search](#site-search).\n*   **Custom Dimensions & Metrics**: Enter the event name, traits, or properties you want to map to the corresponding custom dimensions and metrics. See [Custom dimensions](#custom-dimensions) for more information.\n*   **Property & Trait Mapping**: Enter the property you want to map to the Google Analytics content grouping. See [Content groupings](#content-groupings) for more information.\n*   **Enable Server Side Identify**: Enable this setting to trigger the `identify` calls from the server side.\n*   **Server Side Identify Event Category**: Specify the event category of the `identify` call triggered from the server side. If you specify a category, it is sent as `ec`; otherwise, the default value is set to `All`.\n*   **Server Side Identify Event Action**: Specify the event action of the `identify` call triggered from the server side. If you specify an action, it is sent as `ea`; otherwise, the default value is set to `User Enriched`.\n*   **Disable Md5 encryption from Client ID**: Use this setting to determine how RudderStack should map the `client id`. For more information on this setting, see [How RudderStack takes the `clientId`](#how-rudderstack-takes-clientid).\n*   **Anonymize IP Addresses**: Enable this setting to anonymize the IP address at the earliest possible stage of the collection network. See [IP Anonymization](https://support.google.com/analytics/answer/2763052?hl=en).\n*   **Enable Enhanced Ecommerce**: Enable this setting to derive detailed insights for ecommerce events. See [Enhanced ecommerce](#enhanced-ecommerce) for more information.\n*   **Add the non-interaction flag to all events**: Enable this setting to consider all event hits as non-interaction event hits. For more information on this feature, see [Non-Interaction events](#non-interaction-events).\n*   **Send user-id to GA**: Enable this setting to set a user ID for the identified visitors before sending it to Google Analytics.\n*   **Use device-mode to send events**: Enable this setting to send events to Google Analytics via the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n*   **Track Categorized Pages**: This setting is enabled by default and lets you track only the pages having a category associated with them.\n*   **Track Named Pages**: This setting is enabled by default and lets you track only those pages that contain a name.\n*   **Sample Rate**: Enter the percentage of users that RudderStack should track. The default value is `100`.\n*   **Site Speed Sample Rate**: Enter the sample size for Site Speed data collection. The default value is `1`.\n*   **Reset dimensions on Page calls**: Specify the dimensions (set in the `page` call properties) that need to be reset and assigned a new value.\n*   **Set Custom Dimensions & Metrics to the Page**: This setting is enabled by default and passes the custom dimensions and metrics as properties for all events on a given page. When disabled, RudderStack only passes the custom dimensions and metrics as part of the event payload with which they are explicitly associated.\n*   **Use Named Tracker**: Enable this setting to push events to the `rudderGATracker` Google Analytics tracker instead of the default tracker. For more information on trackers, see [Named tracker](#named-tracker).\n*   **Cookie Domain Name**: Specify the domain name on which the `_ga` cookie should set on. The default value is set to `auto`. See [Cookies and User Identification](https://developers.google.com/analytics/devguides/collection/analyticsjs/domains) for more information.\n*   **Optimize Container ID**: Enter your Optimize container ID to integrate with the Google Analytics [Optimize plugin](https://support.google.com/optimize/answer/6262084#optimize-ga-plugin).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you specify the container ID and Optimize plugin is linked to your Google Analytics property, it will be enabled automatically the next time `analytics.js` is loaded. **Note that this is applicable only if you are using Google Analytics in web device mode**.\n\n*   **Use Google AMP Client ID**: Enable this setting to uniquely identify users who engage with your content on AMP and non-AMP pages. See [Google Analytics session unification for AMP](https://support.google.com/analytics/answer/7486764?hl=en&ref_topic=7378717#zippy=%2Cin-this-article) for more information.\n*   **OneTrust Cookie Categories**: If **Use device-mode to send events** is enabled, this setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Google Analytics.\n*   **User deletion**: Use this setting to add and authenticate an account used to delete users in Google Analytics. See [Deleting a user](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-ga/#deleting-a-user) for more information.\n\n## Identify\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack does not support sending Personally Identifiable Information (PII) to the Google Analytics reporting interface.\n\nGoogle Analytics’ universal tracking lets you set a user ID to the identified visitors if you enable the **Send User ID to GA** dashboard setting. Also, you must enable the `userid` property in Google Analytics and create the corresponding view.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"user123\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n});\n```\n\nIn the above snippet, RudderStack sets the `userId` to `user123` in Google Analytics but **does not** share the name and email with Google. You can set the user traits along with custom dimensions, metrics, and content groupings via the SDK calls.\n\nFor sending server-side events, Google Analytics needs a customer identifier for each call. RudderStack passes an internally generated ID as the `cid` parameter for Google Analytics to identify every unique user. RudderStack does not map the user traits to custom dimensions, metrics and content grouping when sending server-side events.\n\nYou can call `identify` once in order to set the `userId` and the associated traits for all subsequent calls that you make for a particular user via RudderStack. If `userId` is not set, RudderStack sends an automatically-generated ID called `anonymousId` from its SDKs with every call. This `id` is used as the `cid` in Google Analytics. If **Send User ID to GA** dashboard setting is enabled, RudderStack sets the event’s `userId` as `uid`.\n\n### Deleting a user\n\nTo [delete a user in Google Analytics](https://developers.google.com/analytics/devguides/config/userdeletion/v3), first [authenticate your Google account](https://developers.google.com/analytics/devguides/config/userdeletion/v3/authorization) in the RudderStack dashboard by following the below steps:\n\n1.  Click **Create Account** in the **User Deletion** section:\n\n[![User deletion](https://www.rudderstack.com/docs/images/event-stream-destinations/user-deletion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/user-deletion.webp)\n\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If your account authentication fails, you can refer to these [troubleshooting steps](https://developers.google.com/analytics/devguides/config/userdeletion/v3/authorization#troubleshooting) for identifying and fixing the root cause.\n\n4.  Click **Save** to connect the specified account to delete users in Google Analytics:\n\n[![User deletion](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect.webp)\n\nIn case you have authenticated multiple accounts, you can click **Edit Credentials** to select or delete any other authenticated account:\n\n[![User deletion](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack gives an error if you try to delete an account used by any other connection set up for the same destination.\n\nAfter authenticating your account in the RudderStack dashboard, you can delete a user in Google Analytics using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#add-a-suppression-regulation) of the RudderStack [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To delete a user, you must specify their `userId` in the event. Additionally, you can specify a custom identifier (optional) in the event.\n\nA sample regulation request body for deleting a user in Google Analytics is shown below:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n    \"userId\": \"1hKOmRA4GRlm\",\n    \"<customKey>\": \"<customValue>\"\n  }]\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Limits and quotas](https://developers.google.com/analytics/devguides/config/userdeletion/v3/limits-quotas#user_deletion_api) documentation for more information about the specified quotas for the user deletion API requests.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\"\n});\n```\n\nFor the above call, RudderStack sends the following properties to Google Analytics:\n\n| Property | Value |\n| --- | --- |\n| Event Category | `category` |\n| Event Action | `Track me` |\n| Event Label | `label` |\n| Event Value | `value` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack does not populate the `Event Category` field by default. If the event does not contain the `category` property, you can use the [transformations](https://www.rudderstack.com/docs/transformations/overview/) feature to manually populate it in the payload.\n\n## Page\n\nRudderStack sends a `pageview` hit to Google Analytics whenever you make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page({\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\"\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must send a `path` or `url` property with every `page` call; otherwise, Google Analytics will reject the event.\n\nThe following snippets demonstrate variants of the `page` that involve sending your page `name` and `category`:\n\n```\n// Passing page category and name\nrudderanalytics.page(\"category\", \"name\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n})\n\n// \"home\" is the name of the page.\nrudderanalytics.page(\"home\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   For a server-side `page` call, you must pass the application name in `context.app.name` contextual property as `an`. Otherwise, Google Analytics will reject the event.\n> *   If the **Include the Querystring in Page Views** setting is enabled in the RudderStack dashboard, then RudderStack sends the entire URL to Google Analytics (including the querystring) as `dp` (Document Path). Otherwise, RudderStack removes the querystring from the URL.\n\n#### Page title in device mode\n\nWhen sending events in [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), RudderStack sets the page title as one of the following, depending on the presence of `message.properties.category` and `message.name` in the event:\n\n| `message.properties.category` | `message.name` | Page title |\n| --- | --- | --- |\n| Absent | Absent | `pageTitle` = `message.properties.title` |\n| Absent | Present | `pageTitle` = `message.name` |\n| Present | Absent | `pageTitle` = `message.properties.category` |\n| Present | Present | `pageTitle` = `${rudderElement.message.properties.category} ${rudderElement.message.name}` |\n\n#### Page title in cloud mode\n\nWhen sending events in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode), RudderStack sets page title from the event’s `properties.title` or  `context.page.title`.\n\n## Ecommerce\n\nRudderStack supports ecommerce event tracking for Google Analytics. The prerequisites are listed below:\n\n*   You must enable ecommerce tracking in Google Analytics; otherwise, it will not be shown in the reports.\n*   For every `Order Completed` event, `orderId` is required. Also, for each product in the order, there must be an `id` and `name`. Other properties are optional.\n\n## Enhanced ecommerce\n\n[Enhanced ecommerce](https://developers.google.com/analytics/devguides/collection/analyticsjs/enhanced-ecommerce) lets you derive insights from your ecommerce events by combining the data related to product impressions, promotions, and user actions.\n\nTo use this feature, enable the **Enable Enhanced Ecommerce** setting in the RudderStack dashboard and Google Analytics. Also, make sure that your events adhere to RudderStack’s [Ecommerce events specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/).\n\nSome other prerequisites for enhanced ecommerce tracking are:\n\n*   Similar to ecommerce tracking, for every `Order Completed` event, `orderId` is required. Also, for each product in the order, there must be an `id` and `name`.\n*   `order_id` is required for refunded orders.\n*   You must pass the product ID or name for all events that have the product details. `product_id` checks the presence of `properties.product_id`. Otherwise, `properties.sku` is preferred.\n\n### Measuring checkout steps\n\nCheckout steps is a key feature of enhanced ecommerce tracking and a major differentiator between the regular ecommerce and enhanced ecommerce tracking.\n\nYou can configure the checkout funnel in the Google Analytics admin interface as shown below:\n\n[![MD5 disabled](https://www.rudderstack.com/docs/images/image%20%2821%29.webp)](https://www.rudderstack.com/docs/images/image%20%2821%29.webp)\n\nYou can then implement the checkout flow by sending a `track` event named `Checkout Step Viewed` and `Checkout Step Completed` for the steps added in Google Analytics.\n\n```\nrudderanalytics.track('Checkout Step Viewed', {\n  currency: 'CAD',\n  step: 1\n});\nrudderanalytics.track('Checkout Step Completed', {\n  currency: 'CAD',\n  step: 1,\n  //if this is the shipping step\n  shippingMethod: 'FedEx',\n  //if this is the payment step\n  paymentMethod: 'Visa'\n});\n```\n\n### Measuring promotions\n\n```\nrudderanalytics.track('Promotion Viewed', {\n  currency: 'USD',\n  promotion_id: 'PROMO_12345',\n  name: 'Winter Sale',\n  creative: 'winter_banner2',\n  position: 'banner_slot1',\n  testDimension: true,\n  testMetric: true\n});\nrudderanalytics.track('Promotion Clicked', {\n  currency: 'USD',\n  promotion_id: 'PROMO_12345',\n  name: 'winter Sale',\n  creative: 'winter_banner2',\n  position: 'banner_slot1',\n  testDimension: true,\n  testMetric: true\n});\n```\n\n### Coupons\n\nYou can add the `coupon` property in your event to send your coupon data in the `Order Completed` event.\n\n```\nrudderanalytics.track('Order Completed', {\n  orderId: 'abc55',\n  total: 999.9,\n  shipping: 23.99,\n  tax: 25.99,\n  currency: 'USD',\n  coupon: 'coupon',\n  affiliation: 'affiliation',\n  testDimension: true,\n  testMetric: true,\n  products: [{\n      quantity: 1,\n      price: 24.75,\n      name: 'rudder product',\n      category: 'cat 1',\n      sku: 'p-298',\n      productDimension: 'testing'\n    },\n    {\n      quantity: 3,\n      price: 24.75,\n      name: 'other product',\n      category: 'cat 2',\n      sku: 'p-299',\n      currency: 'EUR',\n      productDimension: 'testing'\n    }\n  ]\n});\n```\n\n### Measuring product impressions\n\nYou can use enhanced ecommerce tracking to collect impressions-related information like the users who have viewed or filtered through the product. RudderStack maps the product impressions to the `Product List Viewed` and `Product List Filtered` events:\n\n```\nrudderanalytics.track('Product List Viewed', {\n  category: 'cat 1',\n  list_id: '1234',\n  products: [{\n      product_id: '507f1f77bcf86cd799439011',\n      productDimension: 'My Product Dimension1',\n      productMetric: 'My Product Metric1',\n      position: 10\n    },\n    {\n      product_id: '507f1f77bcf86cd799439012',\n      productDimension: 'My Product Dimension2',\n      productMetric: 'My Product Metric2',\n      position: 12\n    },\n    {\n      product_id: '507f1f77bcf86cd799439015',\n      productDimension: 'My Product Dimension3',\n      productMetric: 'My Product Metric3',\n      position: 8\n    }\n  ]\n});\n```\n\n```\nrudderanalytics.track('Product List Filtered', {\n  category: 'cat 1',\n  list_id: '1234',\n  filters: [{\n      type: 'department',\n      value: 'beauty'\n    },\n    {\n      type: 'price',\n      value: 'under'\n    }\n  ],\n  sorts: [{\n    type: 'price',\n    value: 'desc'\n  }],\n  products: [{\n    product_id: '507f1f77bcf86cd799439011',\n    productDimension: 'My Product Dimension',\n    productMetric: 'My Product Metric'\n  }],\n  testDimension: true,\n  testMetric: true\n});\n```\n\n### Refunds\n\nFor full refunds, you can use the `Order Refunded` event:\n\n```\nrudderanalytics.track('Order Refunded', {\n  order_id: 'abc55',\n  testDimension: true,\n  testMetric: true\n});\n```\n\nFor partial refunds, a sample `Order Refunded` event is as follows:\n\n```\nrudderanalytics.track('Order Refunded', {\n  order_id: 'abc55',\n  products: [{\n      quantity: 1,\n      sku: 'p-1'\n    },\n    {\n      quantity: 2,\n      sku: 'p-2'\n    }\n  ],\n  testDimension: true,\n  testMetric: true\n});\n```\n\n## Additional features\n\nThe following sections highlight some other important features of this integration.\n\n### Passing cookies from Universal Analytics\n\nRudderStack uses the client ID (`cid`) to keep a track of unique visitors to your website. A sample Google Analytics universal cookie with the client ID `476220681.159039102` looks like the following:\n\n```\n_ga=GA1.2.476220681.159039102;\n```\n\nYou can verify the client ID by running the following snippet:\n\n```\nga(function (tracker) {\n    var clientId = tracker.get('clientId');\n    console.log('My GA universal client ID is: ' + clientId);\n});\n```\n\nFor server-side events, if you set the client ID manually by sending `anonymousId` in your event and if the **Send user ID to Google Analytics** dashboard setting is enabled, then RudderStack passes the `userId` as the `uid` to Google Analytics along with the `cid` parameter. For more information, see [Identify](#identify) section above.\n\n#### How RudderStack takes `clientId`\n\nIf **Disable Md5 encryption from Client ID** dashboard setting is enabled, RudderStack takes the client ID in the following priority order:\n\n1.  From the `integrations` object while initializing the SDK:\n\n```\n\"integrations\": {\n  \"All\": true,\n  \"Google Analytics\": {\n    \"clientId\": \"clientId\"\n  }\n},\n```\n\n2.  From `gaExternalId` by setting it as the client ID, if specified in the payload:\n\n```\n\"externalId\": [{\n  \"id\": \"externalClientId\",\n  \"type\": \"gaExternalId\"\n}]\n```\n\n3.  From `traits.cid`.\n4.  From `anonymousId`.\n\nIf none of the above is present, `clientId` is set as `undefined`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If **Disable Md5 encryption from Client ID** dashboard setting is disabled and the `integrations` object, `externalId`, `traits.cid`, and `anonymousId` are all absent, RudderStack passes the event’s `userId` as the client ID in an MD5-hashed format.\n\n### User agent\n\nDuring server-side tracking, RudderStack maps `user_agent` to the following parameters:\n\n*   `message.traits.ua` for `identify` events.\n*   `context.userAgent` for `track` and `page` events.\n\n### Visitor geolocation\n\nDuring client-side tracking, RudderStack automatically sends the IP address of the HTTP request to determine the visitor’s location. However, for server-side tracking, you must include the visitor’s IP in the `track` call.\n\n### UTM parameters\n\nRudderStack’s [JavaScript](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) SDK automatically maps the UTM parameters from the URL and send them to Google Analytics.\n\nFor the other SDKs, you must manually pass the UTM parameters in your event’s `context` object via the `context.campaign`, `campaign.name`, and `campaign.mediums` properties for them to show up in your Google Analytics report. Note that `campaign.term` and `campaign.content` are optional properties.\n\nFor the `identify` events, you can also pass the UTM parameters via the `message.traits` object.\n\n### Measurement protocol parameters\n\nWhen sending events to Google Analytics via server-side tracking, you can send the following event traits or properties as measurement protocol parameters:\n\n| Parameters | RudderStack trait/property |\n| --- | --- |\n| [`sr`](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#sr) | `context.screen.width` x `context.screen.height` |\n| [`vp`](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#vp) | `context.screen.innerWidth` x `context.screen.innerHeight` |\n| [`ci`](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#ci) | `context.campaign.campaignId` |\n| [`gclid`](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#gclid) | from externalID `googleAdsId` |\n| [`dclid`](https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#dclid) | from externalID `googleDisplayAdsId` |\n\nThe following snippet demonstrates how to send `gclid` and `dclid` using `externalId`:\n\n```\n\"externalId\": [{\n    \"type\": \"googleAdsId\",\n    \"id\": \"gclid_value\"\n  },\n  {\n    \"type\": \"googleDisplayAdsId\",\n    \"id\": \"dclid_value\"\n  }\n]\n```\n\n### Custom dimensions\n\nYou can configure the [custom dimensions](https://support.google.com/analytics/answer/10075209?hl=en) in the [Admin](https://support.google.com/analytics/answer/6132368?hl=en) page of your Google Analytics dashboard.\n\nThere are multiple scopes for custom dimensions such as `hits`, `session`, `user`, and `products` (if **Enhanced ecommerce** setting is enabled). Once you set these up in Google Analytics, you can map the event traits and properties to the custom dimensions in the RudderStack dashboard.\n\n[![](https://www.rudderstack.com/docs/images/image%20%2859%29.webp)](https://www.rudderstack.com/docs/images/image%20%2859%29.webp)\n\nA custom dimension should be set as `dimension{index}`. For example, in the above image, `dimension1` is mapped to the `first_name`, `dimension2` is mapped to `gender`, and so on. The following image highlights the custom dimensions as seen in the Google Analytics dashboard:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2836%29.webp)](https://www.rudderstack.com/docs/images/image%20%2836%29.webp)\n\nNote that an `identify` call containing the custom dimensions is recorded after the next `track` or `page` call. An example is shown below:\n\n```\nrudderanalytics.identify({\n  gender: 'Female'\n});\n\nrudderanalytics.track('Viewed History');\n```\n\n### Non-interaction events\n\nThe non-interaction parameter (`nonInteraction`) in the events lets you specify the bounce rate for pages in your website that also include event measurement. Refer to the [Non-Interaction Events](https://support.google.com/analytics/answer/1033068#NonInteractionEvents&zippy=%2Cin-this-article) guide for more information.\n\nIf you enable the **Add the non-interaction flag to all events** setting in the RudderStack dashboard, `nonInteraction` is set to `1`. A sample payload is shown below:\n\n```\n{\n  \"action\": \"track\",\n  \"event\": \"Track Page\",\n  \"properties\": {\n    \"nonInteraction\": 1\n  }\n}\n```\n\n### Named tracker\n\nIf you enable the **Use Named Tracker** setting in RudderStack dashboard, RudderStack pushes the events to a Google Analytics tracker named `rudderGATracker` instead of the default tracker. For more information on creating trackers in Google Analytics, refer to the [Creating Trackers](https://developers.google.com/analytics/devguides/collection/analyticsjs/creating-trackers) guide.\n\nIf **Use Named Tracker** setting is disabled, RudderStack sets a default tracker with the name `t0`.\n\n#### Setting multiple trackers\n\nYou can set a second tracker in the `ready()` callback function of the RudderStack SDK. The following snippets show an example of sending events to Google Analytics with another tracking ID:\n\n```\n// without any tracker name\nwindow.rudderanalytics.ready(() => {\n  console.log(\"we are all set!!!\")\n  window.ga(\"create\", \"UA-XXXXXXX-1\", \"auto\")\n  window.ga(\"send\", \"pageview\")\n})\n```\n\n```\n// with a tracker name\nwindow.rudderanalytics.ready(() => {\n  console.log(\"we are all set!!!\")\n  window.ga(\"create\", \"UA-XXXXXXX-1\", \"auto\", {\n    name: \"newTracker\"\n  })\n  window.ga(\"newTracker.send\", \"pageview\")\n})\n```\n\n### Cross-domain-tracking\n\nYou can implement cross-domain tracking by following either of the following approaches:\n\n*   **Tracking visitors with userId**: If the **Send user-id to GA** dashboard setting is enabled, you can send `userId` to uniquely identify a given user. However, this only works for the identified users. RudderStack does not track or maintain the anonymous visitor sessions.\n*   **Tracking Anonymous Visitors**: In this approach, RudderStack automatically enables `allowLinker` - an auto-linking plugin provided by Google Analytics to track cookies and anonymous visitors when users navigate from one page to the other.\n\n### Ignored referrers\n\nFor universal profiles, you can edit the ignored referrers in Google Analytics directly.\n\n### Site search\n\nWhen sending `page` events to Google Analytics, you can enable the **Include the Querystring in Page Views** setting in the RudderStack dashboard to add the search term to the page URL.\n\nAlso, you need to enable the **Site search Tracking** in your Google Analytics account and enter the query parameter. If the query is `abc.com/s=xyz`, the setting should be as follows:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2818%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/image%20%2818%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29.webp)\n\n### Content groupings\n\nYou can set the [content grouping](https://support.google.com/analytics/answer/2853423?hl=en) mappings in the RudderStack dashboard using the **Property & Trait Mapping** setting.\n\nThe below image shows the content grouping configuration settings in Google Analytics:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2826%29.webp)](https://www.rudderstack.com/docs/images/image%20%2826%29.webp)\n\nWhen you send a `page` call with custom properties, RudderStack uses the property value as the value of the specified content grouping.\n\n## FAQ\n\n#### Where can I find the Google Analytics tracking ID?\n\n1.  In your Google Analytics dashboard, click the **Admin** tab in the bottom left corner and go to **Tracking Info**.\n\n[![Google Analytics tracking ID](https://www.rudderstack.com/docs/images/event-stream-destinations/ga-tracking-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ga-tracking-id.webp)\n\n2.  Click **Tracking Code** to get your Google Analytics tracking ID:\n\n[![Google Analytics tracking ID](https://www.rudderstack.com/docs/images/event-stream-destinations/ga-tracking-id-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ga-tracking-id-2.webp)\n\n#### What are custom metrics and custom dimensions?\n\n**Custom metrics** and **custom dimensions** are fields that let you track custom properties associated with your events using RudderStack.\n\nMetrics are applicable for event properties having a numeric data type while dimensions are used for event properties having string data type. Both are used to track custom data properties in Google Analytics.\n\n#### My website uses HTTPS. Do I need to change any settings for accurate Google Analytics tracking?\n\nIn the **Property Setup**, you need to change the website URL from HTTP (default) to HTTPS:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2849%29.webp)](https://www.rudderstack.com/docs/images/image%20%2849%29.webp)\n\n#### Can I view real-time reports of my event data?\n\nYes, you can. Check the **Realtime** reports in Google Analytics. A sample dashboard is shown below:\n\n[![](https://www.rudderstack.com/docs/images/faq2.webp)](https://www.rudderstack.com/docs/images/faq2.webp)\n\n#### How do I view the already processed events for a particular day?\n\nTo view the processed events for a particular day, adjust the Google Analytics’ default reporting time frame to the required date.\n\n#### Why are my page views in Google Analytics different when sent from device mode as against cloud mode?\n\nThere could be two reasons for this:\n\n*   There can be adblockers enabled in the user’s browser while visiting your site. This blocks the browser from sending requests directly to Google Analytics.\n    \n*   For cloud mode, RudderStack is not blocked by adblockers presently. If you’re sending the events to Google Analytics via cloud mode, the actual number of events intended to be sent to Google Analytics are forwarded by the RudderStack server.\n    \n    In this scenario, the number of requests in device mode is expected to be lower than in cloud mode.\n    \n\nRudderStack’s JavaScript SDK provides a way of detecting how many page view requests are potentially blocked by the adblockers through your site pages. See [Detecting Ad-blocked Pages](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/detecting-adblocked-pages/) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Analytics destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Analytics.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Gainsight PX as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/gainsight-px/",
  "markdown": "# Gainsight PX | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Gainsight PX | RudderStack Docs",
  "description": "Send your event data from RudderStack to Gainsight PX.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-360/",
  "markdown": "# Google Analytics 360 | RudderStack Docs\n\nSend your event data from RudderStack to Google Analytics 360.\n\n* * *\n\n*     2 minute read  \n    \n\n[Google Analytics 360](https://marketingplatform.google.com/about/analytics-360/) is the enterprise version of Google Analytics that allows you to get actionable insights from your data. It provides enterprise teams with all standard [Google Analytics features](https://www.rudderstack.com/learn/GA4/what-are-the-new-features-of-google-analytics-4-ga4/) along with more sophisticated analytics capabilities and the ability to export your data and insights to BigQuery. You also get SLA obligations, guaranteed uptime, extended support, and more.\n\nRudderStack supports sending real-time customer events to Google Analytics 360.\n\n## Getting started\n\nRudderStack supports sending event data to Google Analytics 360 via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **Supported** | \\-  | \\-  |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Google Analytics 360 native SDK is loaded from `https://www.google-analytics.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Analytics 360 SDK successfully.\n\nThen, perform the steps below:\n\n*   Choose a source for which you would like to add Google Analytics 360 as a destination.\n*   From the list of destinations, select **Google Analytics 360**. Then, assign a name to the destination and click **Next**.\n*   You should then see the following **Connection Settings** page:\n\n[![](https://www.rudderstack.com/docs/images/1%20%2820%29.webp)](https://www.rudderstack.com/docs/images/1%20%2820%29.webp)\n\n[![](https://www.rudderstack.com/docs/images/2%20%2826%29.webp)](https://www.rudderstack.com/docs/images/2%20%2826%29.webp)\n\n[![](https://www.rudderstack.com/docs/images/3%20%2823%29.webp)](https://www.rudderstack.com/docs/images/3%20%2823%29.webp)\n\n*   **Tracking ID** is a required field to configure the destination. You can configure the other options as per your preference.\n*   To add a transformation, click **Create New Transformation**. Otherwise, click **Next**.\n\n*   The destination is now configured and enabled.\n\n[![](https://www.rudderstack.com/docs/images/final.webp)](https://www.rudderstack.com/docs/images/final.webp)\n\nYou can now start sending your real-time events and view them in Google Analytics 360 by going to your Google Analytics 360 dashboard and navigating to **Realtime** - **Events**.\n\n## FAQ\n\n#### Can I anonymize an IP Address in Google Analytics 360?\n\nYes, you can. Turn on the **Anonymize IP Addresses** setting under the **Other Settings** option in the RudderStack dashboard while configuring Google Analytics 360.\n\nThis setting lets Google Analytics anonymize the address at the earliest possible stage of the data collection.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Analytics 360 | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Analytics 360.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/",
  "markdown": "# Google Analytics 4 Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Google Analytics 4 Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Analytics 4.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/hybrid-mode/",
  "markdown": "# Google Analytics 4 Hybrid Mode\n\nSend events to Google Analytics 4 using RudderStack hybrid mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack’s [hybrid mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#hybrid-mode) lets you send your event data to Google Analytics 4 via both the native SDK ([device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)) and the Google Analytics 4 Measurement Protocol ([cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode)).\n\nTo use GA4 connection in hybrid mode, you can select **Hybrid mode** while [setting up the connection modes](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/#connection-mode). This option is available only for the `gtag.js` web SDK.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> We recently updated our Google Analytics 4 hybrid mode destination to support new instrumentation options. See the [release note](https://www.rudderstack.com/docs/releases/ga4-hybrid-mode-updates/) for more information.\n\n## Why use hybrid mode?\n\nUnlike GA Universal, GA4’s server-side tracking (cloud mode) is less independent and may require support from client-side tracking (device mode). As noted in Google’s docs, Measurement Protocol is meant to [augment automatic collection](https://developers.google.com/analytics/devguides/collection/protocol/ga4) via gtag, Tag Manager, and Google Analytics, not replace them.\n\nThrough a single hybrid mode deployment, you would have access to a fuller, more unified and accurate set of attribution data with the least impact on performance (resulting from a combination of client-side and server-side tracking).\n\nSpecifically, a hybrid instrumentation may make sense for those who prefer to maintain the benefits of cloud mode—including a faster site, more reliable data collection, and first-party data capture, while also capturing data required for attribution, sessionization, geolocation, and conversions for Google Ads Remarketing.\n\n## How does hybrid mode work?\n\nRudderStack sends `page` calls via device mode and all other calls via cloud mode. The purpose of sending `page` calls via device mode is to capture attribution information (such as UTM parameters) that is only available in device mode.\n\nFurther, RudderStack stitches the `page` call information with the rest of the cloud mode events using Google’s `clientID` and `sessionID`.\n\n[![GA4 hybrid mode](https://www.rudderstack.com/docs/images/event-stream-destinations/ga4-hybrid-mode.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ga4-hybrid-mode.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Analytics 4 Hybrid Mode | RudderStack Docs",
  "description": "Send events to Google Analytics 4 using RudderStack hybrid mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/cloud-mode/",
  "markdown": "# Google Analytics 4 Cloud Mode\n\nSend events to Google Analytics 4 using RudderStack cloud mode.\n\n* * *\n\n*     13 minute read  \n    \n\nRudderStack lets you send your event data to Google Analytics 4 via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) by leveraging the [Google Analytics 4 Measurement Protocol](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag#payload).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Google Analytics 4 **does not officially support a complete server-to-server integration**. RudderStack utilizes the [GA4 Measurement Protocol API](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag#payload) for **cloud mode** integration, which **does not currently allow ingestion of UTM parameters** for attribution reporting. This may significantly limit your ability to use certain GA4 reporting features. Refer to the [Google’s documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4) for more information on these limitations.\n> \n> **For capturing a fuller, more robust set of attribution data while using Measurement Protocol, RudderStack suggests referencing and setting up a [hybrid mode connection](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/hybrid-mode/).**\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/ga4).\n\n## Tagging methods\n\nRudderStack supports both the `gtag` and `firebase` ways for tagging in websites in cloud mode. However, note that:\n\n*   If you use `gtag`, passing the `client_id` parameter is mandatory.\n*   If you use `firebase`, passing the `app_instance_id` parameter is mandatory.\n\nRefer to the [Google Analytics 4 Measurement Protocol](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag#payload) guide for more information.\n\nThe mappings for the above-mentioned mandatory parameters are listed in the following table:\n\n| Parameters | Mapping value |\n| --- | --- |\n| `client_id` | GA4 requires it to uniquely identify the user instance of a client. See [Mapping `client_id`](#mapping-client_id). |\n| [`app_instance_id`](#how-do-i-obtain-app_instance_id) | from [`externalId`](#externalID) `ga4AppInstanceId` |\n\n#### Mapping `client_id`\n\nRudderStack maps `client_id` from the following fields in the same priority order as listed below:\n\n*   From `externalID`: `ga4ClientId`\n*   From `anonymousId`\n*   From `rudderId`\n\n#### `externalId`\n\nYou can use `externalID` to send a custom `client_id` that is external to RudderStack.\n\nThere are certain scenarios where you may want to send a custom `client_id`. For example, if you maintain a user with a certain identifier, then you may prefer to pass it as the custom `client_id` as a part of `externalId`:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    firstName: \"Alex\",\n    city: \"New Orleans\",\n    country: \"Louisiana\",\n    phone: \"+1-202-555-0146\",\n    email: \"alex@example.com\",\n  } {\n    externalId: [{\n      id: \"4718026.1683606287\",\n      type: \"ga4ClientId\",\n    }, ],\n  }\n);\n```\n\n### Supported mappings\n\nThe following table lists the mappings for the `gtag` and `firebase` parameters:\n\n| Parameters | Mapping | Description |\n| --- | --- | --- |\n| `user_id` | `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id` | Unique identifier for a user which helps Google Analytics 4 know if two devices/browsers belong to the same user. |\n| `timestamp_micros` | `originalTimestamp`  <br>`timestamp` | Timestamp in ISO 8601 format. |\n| `non_personalized_ads` | `context.device.adTrackingEnabled` | Indicates whether the events should be used for personalized ads. If `context.device.adTrackingEnabled` is set as `true`, `non_personalised_ads` will be set to `false`. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Google Analytics 4 Measurement Protocol only supports timestamps 72 hours into the past and 15 minutes into the future. RudderStack discards any event with a timestamp out of this range.\n\n## Track\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can use a `track` call to send any event to Google Analytics 4. However, you can use the `page` call to record page-related information for your website specifically.\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nYou can send all the events mentioned in [GA4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference/events) as track events.\n\nA sample `track` call using `gtag` is shown below:\n\n```\nrudderanalytics.track('Product List Viewed', {\n  list_id: \"related_products\",\n  category: \"Related_products\",\n  products: [{\n    product_id: \"507f1f77bcf86cd799439011\",\n    name: \"Monopoly: 3rd Edition\",\n    coupon: \"SUMMER_FUN\",\n    category: \"Apparel\",\n    brand: \"Google\",\n    variant: \"green\",\n    price: \"19\",\n    quantity: \"2\",\n    position: \"1\",\n    affiliation: \"Google Merchandise Store\",\n    currency: \"USD\",\n    discount: 2.22,\n    item_category2: \"Adult\",\n    item_category3: \"Shirts\",\n    item_category4: \"Crew\",\n    item_category5: \"Short sleeve\",\n    item_list_id: \"related_products\",\n    item_list_name: \"Related Products\",\n    location_id: \"L_12345\"\n  }]\n}, {\n    externalId: [{\n        type: \"ga4ClientId\",\n        id: \"client_id\"\n    }],\n});\n```\n\nA sample `track` call using `firebase` is shown below:\n\n```\nrudderanalytics.track('Product List Viewed', {\n  list_id: \"related_products\",\n  category: \"Related_products\",\n  products: [{\n    product_id: \"507f1f77bcf86cd799439011\",\n    name: \"Monopoly: 3rd Edition\",\n    coupon: \"SUMMER_FUN\",\n    category: \"Apparel\",\n    brand: \"Google\",\n    variant: \"green\",\n    price: \"19\",\n    quantity: \"2\",\n    position: \"1\",\n    affiliation: \"Google Merchandise Store\",\n    currency: \"USD\",\n    discount: 2.22,\n    item_category2: \"Adult\",\n    item_category3: \"Shirts\",\n    item_category4: \"Crew\",\n    item_category5: \"Short sleeve\",\n    item_list_id: \"related_products\",\n    item_list_name: \"Related Products\",\n    location_id: \"L_12345\"\n  }]\n}, {\n  externalId: [{\n    type: \"ga4AppInstanceId\",\n    id: \"f0dd99b6f979fb551ce583373900f937\"\n  }],\n});\n```\n\n### Supported mappings\n\nThe following table lists the property mappings between RudderStack and Google Analytics 4 for `login` and `sign_up` events:\n\n| RudderStack property | Google Analytics 4 property | Default value |\n| --- | --- | --- |\n| `traits.method`  <br>`properties.method` | `method` | \\-  |\n| `traits.engagementTimeMsec`  <br>`properties.engagementTimeMsec`  <br>`context.traits.engagementTimeMsec`  <br>`traits.engagement_time_msec`  <br>`properties.engagement_time_msec`  <br>`context.traits.engagement_time_msec` | `engagement_time_msec` | `1` |\n\nThe following table lists the property mappings between RudderStack and Google Analytics 4 for `generate_lead` event:\n\n| RudderStack property | Google Analytics 4 property | Default value |\n| --- | --- | --- |\n| `properties.currency` | `currency` | USD |\n| `properties.total`  <br>`properties.price`  <br>`properties.value`  <br>`properties.revenue`  <br>Required | `value` | \\-  |\n| `traits.engagementTimeMsec`  <br>`properties.engagementTimeMsec`  <br>`context.traits.engagementTimeMsec`  <br>`traits.engagement_time_msec`  <br>`properties.engagement_time_msec`  <br>`context.traits.engagement_time_msec` | `engagement_time_msec` | `1` |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nRudderStack maps the `page` call to a `page_view` event by default, and passes it to Google Analytics 4 as a custom event.\n\nAs mentioned in the [`track`](#track) section, the RudderStack cloud mode supports both the `gtag` and `firebase` methods for tagging in websites.\n\nA sample `page` call using `gtag` is shown below:\n\nA sample `page` call using `firebase` is shown below:\n\n```\nrudderanalytics.page({}, {\n  externalId: [{\n    type: \"ga4AppInstanceId\",\n    id: \"f0dd99b6f979fb551ce583373900f937\"\n  }],\n});\n```\n\n### Supported mappings\n\nThe following table lists the property mappings between RudderStack and Google Analytics 4:\n\n| RudderStack property | Google Analytics 4 property |\n| --- | --- |\n| `context.page.referrer` | `page_referrer` |\n| `context.page.title` | `page_title` |\n| `context.page.url` | `page_location` |\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group such as a company, organization, or an account, and record any traits associated with that group, for example, company name, number of employees, etc.\n\nRudderStack maps the `group` call to the `join_group` event by default.\n\nA sample `group` call using `gtag` is shown below:\n\n```\nrudderanalytics.group(\"1hKOmRA4\", {\n    \"custom1\": 1234,\n    \"custom2\": \"custom2\"\n});\n```\n\nA sample `group` call using `firebase` is shown below:\n\n```\nrudderanalytics.group(\"1hKOmRA4\", {\n    \"custom1\": 1234,\n    \"custom2\": \"custom2\"\n}, {\n    externalId: [{\n        type: \"ga4AppInstanceId\",\n        id: \"f0dd99b6f979fb551ce583373900f937\"\n    }],\n});\n```\n\n## Ecommerce event tracking\n\nRudderStack supports ecommerce tracking for Google Analytics 4. You can refer to the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for sending events while instrumenting your site with the RudderStack SDK.\n\n### Supported mappings\n\nEvent mappings  \n\n| RudderStack event | Google Analytics 4 event |\n| --- | --- |\n| Products Searched | `search` |\n| Product List Viewed | `view_item_list` |\n| Product Clicked | `select_item` |\n| Promotion Viewed | `view_promotion` |\n| Promotion Clicked | `select_promotion` |\n| Product Viewed | `view_item` |\n| Product Added | `add_to_cart` |\n| Product Removed | `remove_from_cart` |\n| Cart Viewed | `view_cart` |\n| Product Added to Wishlist | `add_to_wishlist` |\n| Checkout Started | `begin_checkout` |\n| Order Completed | `purchase` |\n| Order Refunded | `refund` |\n| Product Shared | `share` |\n| Cart Shared | `share` |\n| Payment Info Entered | `add_payment_info` |\n| Checkout Step Completed | `add_shipping_info` |\n\nProperty mappings based on specific RudderStack events  \n\n| RudderStack event | RudderStack property | Google Analytics 4 property |\n| --- | --- | --- |\n| Products Searched | `properties.query`  <br>Required | `search_term` |\n| Product List Viewed  <br>Product Clicked | `properties.list_id`  <br>`properties.category` | `item_list_id`  <br>`item_list_name` |\n| Promotion Viewed  <br>Promotion Clicked | `properties.creative_name`  <br>`properties.creative` | `creative_name` |\n| `properties.creative_slot`  <br>`properties.position` | `creative_slot` |\n| `properties.promotion_name`  <br>`properties.name` | `promotion_name` |\n| `properties.promotion_id` | `promotion_id` |\n| Product Viewed  <br>Product Added to Wishlist | `properties.currency` | `currency` |\n| `properties.total`  <br>`properties.price`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| Product Added  <br>Product Removed | `properties.currency` | `currency` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>`(properties.price)` X `(properties.quantity)`  <br>Required (one of the above) | `value` |\n| Cart Viewed | `properties.currency` | `currency` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| Checkout Started | `properties.currency`  <br>`properties.coupon` | `currency`  <br>`coupon` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| Order Completed  <br>Order Refunded | `properties.currency`  <br>`properties.order_id` Required  <br>`properties.coupon`  <br>`properties.shipping`  <br>`properties.tax` | `currency`  <br>`transaction_id`  <br>`coupon`  <br>`shipping`  <br>`tax` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| Product Shared | `properties.share_via`  <br>`properties.content_type` | `method`  <br>`content_type` |\n| `properties.item_id`  <br>`properties.product_id`  <br>`properties.sku` | `item_id` |\n| Cart Shared | `properties.share_via`  <br>`properties.content_type` | `method`  <br>`content_type` |\n| `properties.item_id`  <br>`properties.cart_id` | `item_id` |\n| Group | `groupId` | `group_id` |\n| Payment Info Entered | `properties.currency`  <br>`properties.coupon`  <br>`properties.payment_method` | `currency`  <br>`coupon`  <br>`payment_type` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| Checkout Step Completed | `properties.currency` | `currency` |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue`  <br>Required (one of the above) | `value` |\n| `properties.coupon` | `coupon` |\n| `properties.shipping_method` | `shipping_tier` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The default unit for `currency` property is USD.\n\n`products` parameter for RudderStack events\n\nThe following events include the `products` parameter (mapped to the [`items`](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference/events#view_item_list) parameter) which accepts a `products` array:\n\n| RudderStack event | Presence of `products` parameter |\n| --- | --- |\n| Product List Viewed | Required |\n| Cart Viewed | Required |\n| Checkout Started | Required |\n| [Payment Info entered](#payment-info-entered) | Required |\n| Order Completed | Required |\n| Order Refunded | Optional |\n| [Checkout Step completed](#checkout-step-completed) | Required |\n| View Search Results | Optional |\n| [Promotion Viewed](#promotion-viewed) | Required |\n| [Promotion Clicked](#promotion-clicked) | Optional |\n\n`products` array mappings  \n\n| RudderStack | Google Analytics 4 |\n| --- | --- |\n| properties.products.$.product\\_id  <br>Required, if name is not present. | `item_id` |\n| properties.products.$.name  <br>Required, if product\\_id is not present. | `item_name` |\n| properties.products.$.coupon | `coupon` |\n| properties.products.$.price | `price` |\n| properties.products.$.position | `index` |\n| properties.products.$.category | `item_category` |\n| properties.products.$.brand | `item_brand` |\n| properties.products.$.variant | `item_variant` |\n| properties.products.$.quantity | `quantity` |\n| properties.products.$.affiliation | `affiliation` |\n| properties.products.$.currency | `currency` |\n| properties.products.$.discount | `discount` |\n| properties.products.$.item\\_category2 | `item_category2` |\n| properties.products.$.item\\_category3 | `item_category3` |\n| properties.products.$.item\\_category4 | `item_category4` |\n| properties.products.$.item\\_category5 | `item_category5` |\n| properties.products.$.item\\_list\\_id | `item_list_id` |\n| properties.products.$.item\\_list\\_name | `item_list_name` |\n| properties.products.$.location\\_id | `location_id` |\n\n`products` array mappings for **Promotion Viewed** and **Promotion Clicked** events  \n\n| RudderStack | Google Analytics 4 |\n| --- | --- |\n| properties.products.$.creative\\_name | `creative_name` |\n| properties.products.$.creative\\_slot | `creative_slot` |\n| properties.products.$.promotion\\_id | `promotion_id` |\n| properties.products.$.promotion\\_name | `promotion_name` |\n\nRoot-level property mappings for ecommerce events\n\nThe root-level properties of ecommerce events which do **not** include a `products` array are mapped to the following GA4 [`items`](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference/events#view_item_list_item) array:\n\n| RudderStack | Google Analytics 4 |\n| --- | --- |\n| `properties.product_id`  <br>Required, if name is not present. | `item_id` |\n| `properties.name`  <br>Required, if product\\_id is not present. | `item_name` |\n| `properties.coupon` | `coupon` |\n| `properties.category` | `item_category` |\n| `properties.brand` | `item_brand` |\n| `properties.variant` | `item_variant` |\n| `properties.price` | `price` |\n| `properties.quantity` | `quantity` |\n| `properties.position` | `index` |\n| `properties.affiliation` | `affiliation` |\n| `properties.currency` | `currency` |\n| `properties.discount` | `discount` |\n| `properties.item_category2` | `item_category2` |\n| `properties.item_category3` | `item_category3` |\n| `properties.item_category4` | `item_category4` |\n| `properties.item_category5` | `item_category5` |\n| `properties.item_list_id` | `item_list_id` |\n| `properties.item_list_name` | `item_list_name` |\n| `properties.location_id` | `location_id` |\n\n### Payment Info Entered\n\nThe [Payment Info Entered](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/ordering/#payment-info-entered) event must include the `products` array apart from the common properties, as shown:\n\n```\nrudderanalytics.track(\n  \"Payment Info Entered\", {\n    currency: \"USD\",\n    value: \"7.77\",\n    coupon: \"SUMMER_FUN\",\n    payment_method: \"Credit Card\",\n    products: [{\n      product_id: \"507f1f77bcf86cd799439011\",\n      name: \"Monopoly: 3rd Edition\",\n      coupon: \"SUMMER_FUN\",\n      category: \"Apparel\",\n      brand: \"Google\",\n      variant: \"green\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"1\",\n      affiliation: \"Google Merchandise Store\",\n      currency: \"USD\",\n      discount: 2.22,\n      item_category2: \"Adult\",\n      item_category3: \"Shirts\",\n      item_category4: \"Crew\",\n      item_category5: \"Short sleeve\",\n      item_list_id: \"related_products\",\n      item_list_name: \"Related Products\",\n      location_id: \"L_12345\",\n    }, ],\n  }, {\n    externalId: [{\n      type: \"ga4ClientId\",\n      id: \"client_id\",\n    }, ],\n  }\n);\n```\n\n### Promotion Viewed\n\nThe [Promotion Viewed](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/promotions/#promotion-viewed) event must include the `products` array apart from the common properties, as shown:\n\n```\nrudderanalytics.track(\n  \"Promotion Viewed\", {\n    creative: \"Summer Banner\",\n    position: \"featured_app_1\",\n    promotion_id: \"P_12345\",\n    name: \"Summer Sale\",\n    products: [{\n      product_id: \"507f1f77bcf86cd799439011\",\n      name: \"Monopoly: 3rd Edition\",\n      coupon: \"SUMMER_FUN\",\n      category: \"Apparel\",\n      brand: \"Google\",\n      variant: \"green\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"0\",\n      affiliation: \"Google Merchandise Store\",\n      currency: \"USD\",\n      discount: 2.22,\n      item_category2: \"Adult\",\n      item_category3: \"Shirts\",\n      item_category4: \"Crew\",\n      item_category5: \"Short sleeve\",\n      item_list_id: \"related_products\",\n      item_list_name: \"Related Products\",\n      location_id: \"L_12345\",\n      promotion_id: \"P_12345\",\n      promotion_name: \"Summer Sale\",\n      creative_name: \"summer_banner2\",\n      creative_slot: \"featured_app_1\",\n    }, ],\n  }, {\n    externalId: [{\n      type: \"ga4ClientId\",\n      id: \"client_id\",\n    }, ],\n  }\n);\n```\n\n### Promotion Clicked\n\nThe [Promotion Clicked](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/promotions/#promotion-clicked) event can include the `products` array optionally, apart from the common properties, as shown:\n\n```\nrudderanalytics.track(\n  \"Promotion Clicked\", {\n    creative: \"Summer Banner\",\n    position: \"featured_app_1\",\n    promotion_id: \"P_12345\",\n    name: \"Summer Sale\",\n    products: [{\n      product_id: \"507f1f77bcf86cd799439011\",\n      name: \"Monopoly: 3rd Edition\",\n      coupon: \"SUMMER_FUN\",\n      category: \"Apparel\",\n      brand: \"Google\",\n      variant: \"green\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"0\",\n      affiliation: \"Google Merchandise Store\",\n      currency: \"USD\",\n      discount: 2.22,\n      item_category2: \"Adult\",\n      item_category3: \"Shirts\",\n      item_category4: \"Crew\",\n      item_category5: \"Short sleeve\",\n      item_list_id: \"related_products\",\n      item_list_name: \"Related Products\",\n      location_id: \"L_12345\",\n      promotion_id: \"P_12345\",\n      promotion_name: \"Summer Sale\",\n      creative_name: \"summer_banner2\",\n      creative_slot: \"featured_app_1\",\n    }, ],\n  }, {\n    externalId: [{\n      type: \"ga4ClientId\",\n      id: \"client_id\",\n    }, ],\n  }\n);\n```\n\n### Checkout Step Completed\n\nThe [Checkout Step Completed](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/ordering/#checkout-step-completed) event must include the `products` array apart from the common properties, as shown:\n\n```\nrudderanalytics.track(\n  \"Checkout Step Completed\", {\n    currency: \"USD\",\n    value: \"7.77\",\n    coupon: \"SUMMER_FUN\",\n    shipping_method: \"Ground\",\n    products: [{\n      product_id: \"507f1f77bcf86cd799439011\",\n      name: \"Monopoly: 3rd Edition\",\n      coupon: \"SUMMER_FUN\",\n      category: \"Apparel\",\n      brand: \"Google\",\n      variant: \"green\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"1\",\n      affiliation: \"Google Merchandise Store\",\n      currency: \"USD\",\n      discount: 2.22,\n      item_category2: \"Adult\",\n      item_category3: \"Shirts\",\n      item_category4: \"Crew\",\n      item_category5: \"Short sleeve\",\n      item_list_id: \"related_products\",\n      item_list_name: \"Related Products\",\n      location_id: \"L_12345\",\n    }, ],\n  }, {\n    externalId: [{\n      type: \"ga4ClientId\",\n      id: \"client_id\",\n    }, ],\n  }\n);\n```\n\n## Non ecommerce events tracking\n\nThe below table lists the mappings of the non ecommerce `track` events and properties that are passed to Google Analytics 4 events and properties:\n\n| Event Mapping |     | Property Mapping |     |\n| --- | --- | --- | --- |\n| RudderStack | Google Analytics 4 | RudderStack | Google Analytics 4 |\n| `generate_lead` | `generate_lead` | `properties.${currency}`  <br>`properties.${value}` | `currency`  <br>`value` |\n| `login` | `login` | `properties.${method}` | `method` |\n| `sign_up` | `sign_up` | `properties.${method}` | `method` |\n| `view_search_results` | `view_search_results` | `properties.search_term` | `search_term` |\n| `Campaign Details`  <br>`campaign_details` | `campaign_details` | `context.campaign.id`  <br>`properties.campaign.id` | `campaign_id` |\n| `context.campaign.name`  <br>`properties.campaign.name` | `campaign` |\n| `context.campaign.source`  <br>`properties.campaign.source` | `source` |\n| `context.campaign.medium`  <br>`properties.campaign.medium` | `medium` |\n| `context.campaign.term`  <br>`properties.campaign.term` | `term` |\n| `context.campaign.content`  <br>`properties.campaign.content` | `content` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can pass the custom user properties to any of the events by passing them as `properties.user_properties` or `context.traits`. Refer to the [Google Analytics 4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/user-properties?client_type=gtag) for more information.\n\n## Custom events\n\nYou can use [custom events](https://support.google.com/analytics/answer/12229021?hl=en) to collect additional information that Google Analytics 4 does not collect automatically.\n\nFollow the below rules while choosing a name for the custom events and parameters:\n\n*   Event names are case-sensitive. For example, `my_event` and `My_Event` are two distinct events.\n*   Event names must start with a letter. Only letters, numbers, and underscores are permitted. **Do not** use spaces.\n*   Do not use [reserved prefixes and event names](https://support.google.com/analytics/answer/13316687?sjid=15936425803368383083-AP#zippy=). The list of such prefixes is mentioned below:\n    *   \\_ (underscore)\n    *   firebase\\_\n    *   ga\\_\n    *   google\\_\n    *   gtag.\n*   **Do not** use spaces in event parameter names.\n\n## Custom dimensions and metrics\n\nBefore sending events to Google Analytics 4, you must create [custom dimensions and metrics](https://support.google.com/analytics/answer/10075209) in your GA4 dashboard and link them to the event properties/parameters.\n\nYou can select a parameter from the list of already collected properties or specify the parameter you plan to collect in the future. RudderStack supports sending user properties via `properties.user_properties` and `context.traits`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   Custom dimensions can be either event-scoped or user-scoped. However, custom metrics **must** be event-scoped.\n> *   Each user property should either be of a number, string, or Boolean data type. This is because GA4 accepts only flat key-value pairs as user properties.\n> *   RudderStack drops any user property that is either an object or an array.\n\n## Tracking active users and sessions\n\nAs Google Analytics 4 only reports the users who engage with your website for a non-zero time, RudderStack sets the `engagement_time_msec` parameter to 1, by default. To track engagement time in your events, you can set the `engagement_time_msec` field to a different value.\n\nRudderStack maps the following properties to GA4’s `engagement_time_msec` property:\n\n| RudderStack properties | Google Analytics 4 property |\n| --- | --- |\n| `traits.engagementTimeMsec`  <br>`context.traits.engagementTimeMsec`  <br>`traits.engagement_time_msec`  <br>`context.traits.engagement_time_msec` | `engagement_time_msec` |\n\nYou can use the Google Analytics 4 `session_id` parameter to identify the session associated with a particular event. To know more about sessions in Google Analytics 4, see [Google Analytics 4 help article](https://support.google.com/analytics/answer/9191807?hl=en#zippy=).\n\nRudderStack maps the following session properties for the `group` call:\n\n| RudderStack properties | Google Analytics 4 property |\n| --- | --- |\n| `traits.sessionId`  <br>`context.traits.sessionId`  <br>`traits.session_id`  <br>`context.traits.session_id`  <br>`context.sessionId` | `session_id` |\n\nRudderStack maps the following session properties for the `track` and `page` calls:\n\n| RudderStack properties | Google Analytics 4 property |\n| --- | --- |\n| `properties.sessionId`  <br>`properties.session_id`  <br>`context.sessionId` | `session_id` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack automatically collects `engagement_time_msec` and `session_id` when sending events via [device mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/device-mode/). However, they must be manually passed while sending events via cloud mode.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Server-side session tracking supports only a subset of user dimensions. Google’s Measurement Protocol API does not support the reserved fields like location, demographics, [predefined user dimensions](https://support.google.com/analytics/answer/9268042?hl=en&ref_topic=11151952), and device-specific information.\n\nSee [Google Analytics 4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/sending-events?client_type=firebase#optional_parameters_for_reports) for more information on the optional reporting parameters.\n\n## View events in GA4\n\nTo verify if your events are sent to GA4 successfully, go to **Reports** > **Realtime** in your Google Analytics dashboard or check [Debug View](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/device-mode/#debug-mode) (only available in device mode). For more information, see [GA4 documentation](https://support.google.com/analytics/answer/9333790) for more information.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It can take **up to 24 hours** for the data to be processed in GA4 and appear in the other reports.\n\n#### Events not showing in GA4\n\nIf your events do not show up in GA4’s **Realtime** view, there could be issues with your implementation. See [GA4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/verify-implementation?client_type=gtag#realtime) for more information on verifying your implementation or checking the realtime view.\n\nYou can also see the GA4 [Troubleshooting guide](https://developers.google.com/analytics/devguides/collection/protocol/ga4/troubleshooting?client_type=gtag) for steps on identifying and fixing any possible implementation issues.\n\nAlso, make sure you are not using a reserved name for your events. This is a common reason for events not showing up in GA4. See [FAQ](#faq) for more information on reserved event names.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Not all types of data flow through to GA4’s **Realtime** dashboard. For example, the Measurement Protocol does not support geolocation data and it does not show up in the Realtime dashboard (except for `page` calls sent via hybrid mode).\n\n## FAQ\n\n#### What does the (not set) value mean in reports?\n\nIf you see (not set) value in your reports, see [GA4 documentation](https://support.google.com/analytics/answer/13504892?hl=en#zippy=%2Cin-this-article) to diagnose the cause first.\n\nRudderStack utilizes the GA4 Measurement Protocol API for cloud mode integration. It does not support ingestion of UTM parameters for attribution reporting currently.\n\nSome other probable reasons could be:\n\n**Reserved event, parameter, and user property names in Google Analytics 4**  \nGoogle Analytics 4 has some reserved event, parameter, and user property names that cannot be used. If passed, they are dropped silently. See [Measurement Protocol (Google Analytics 4)](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=gtag#reserved_names) for a complete list of reserved names. Also, note that Google does not accept any event/user property names that include spaces or fields that include null values.\n\n**DebugView**  \n[DebugView](https://support.google.com/analytics/answer/7201382?hl=en) is only supported in the device mode and is enabled automatically when you set up a device mode GA4 connection. For cloud mode connections, RudderStack sends the events to the [validation server](https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events?client_type=gtag) and they do not show up in reports.\n\n**Validating events**  \nThe Google Analytics Measurement Protocol for Google Analytics 4 does not return `HTTP` error codes, even if an event is malformed or missing required parameters. To ensure your events are valid, you should test them against the Measurement Protocol Validation Server before deploying them to production. See [Validating events](https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events?client_type=gtag) for more information.\n\n#### How do I obtain `app_instance_id`?\n\nYou can retrieve `app_instance_id` through the Firebase SDK depending on the platform where the SDK is installed:\n\n*   [Android: `getAppInstanceId()`](https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics#public-taskstring-getappinstanceid)\n*   [Kotlin: `getAppInstanceId()`](https://firebase.google.com/docs/reference/kotlin/com/google/firebase/analytics/FirebaseAnalytics#getappinstanceid)\n*   [Swift: `appInstanceID()`](https://firebase.google.com/docs/reference/swift/firebaseanalytics/api/reference/Classes/Analytics#appinstanceid)\n*   [Objective-C: `appInstanceID`](https://firebase.google.com/docs/reference/ios/firebaseanalytics/api/reference/Classes/FIRAnalytics#+appinstanceid)\n*   [C++: `GetAnalyticsInstanceId()`](https://firebase.google.com/docs/reference/cpp/namespace/firebase/analytics#getanalyticsinstanceid)\n*   [Unity: `GetAnalyticsInstanceIdAsync()`](https://firebase.google.com/docs/reference/unity/class/firebase/analytics/firebase-analytics#getanalyticsinstanceidasync)\n\nSee [GA4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/reference?client_type=firebase#payload_post_body) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Analytics 4 Cloud Mode | RudderStack Docs",
  "description": "Send events to Google Analytics 4 using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-functions/",
  "markdown": "# Google Cloud Functions | RudderStack Docs\n\nSend your event data from RudderStack to Google Cloud Functions.\n\n* * *\n\n*     3 minute read  \n    \n\n[Google Cloud Functions](https://cloud.google.com/functions) is a Functions-as-a-Service (FaaS) product that lets you run your code in the cloud without any servers or containers.\n\nRudderStack supports Google Cloud Functions as a destination where you can send your event data seamlessly.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/google_cloud_function).\n\n## Getting started\n\nRudderStack supports sending event data to Google Cloud Functions via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Google Cloud Functions, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Google Cloud Functions**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully set up Google Cloud Functions as a destination, you need to configure the following settings:\n\n*   **URL**: Enter the Trigger URL obtained in the **Trigger** field during the cloud function setup. For more information on obtaining the URL, see [FAQ](#how-do-i-create-a-google-cloud-function) below.\n*   **Required Authentication**: This setting is turned on by default. Turn it off if your cloud function does not require authentication.\n*   **Credentials**: Enter your service account credentials here. This is a required field if **Required Authentication** setting is turned on, that is, your cloud function requires authentication. To create service account credentials from scratch, see the [Google documentation](https://developers.google.com/workspace/guides/create-credentials#service-account).\n*   **Enable Batch Input**: Turn on this setting to pass a batch input (array of events) to your cloud function.\n    *   **Max Batch Size**: If **Enable Batch Input** setting is turned on, specify the maximum batch size in this field.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to your cloud function.\n\n## Supported events\n\nGoogle Cloud Functions accepts [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/), [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/), [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/), [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/), and [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This destination accepts raw event data similar to a webhook. RudderStack sends the entire event payload to Google Cloud Functions without any transformation or modification.\n\n## FAQ\n\n#### How do I create a Google Cloud Function?\n\n1.  Log in to your [Cloud Functions account](https://cloud.google.com/functions) and click **VIEW CONSOLE**.\n2.  Select your project.\n3.  Then, click **CREATE FUNCTION**.\n4.  Enter a **Function name** and select the **Region** from the dropdown.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Verify that your cloud function name is valid.\n\n5.  In the **Trigger** field, select **HTTP** or **HTTPS**, depending on your use-case.\n6.  In the **Runtime, build and connections settings**, specify the memory allocated for the cloud function in the **Memory allocated** field.\n7.  Configure the rest of the cloud function settings as per your requirement and click **Next**.\n\n[![Google Cloud Functions setup](https://www.rudderstack.com/docs/images/event-stream-destinations/gcf-setup-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gcf-setup-1.webp)\n\n8.  Add the function code and the language in the **Runtime** field.\n9.  Enter the function name as defined in your code in the **Entry point** field.\n10.  Click **Deploy** to save your settings and create the Cloud Function.\n11.  In the **TRIGGER** tab, copy the trigger URL - this is required to set up Google Cloud Functions as a destination in RudderStack.\n\n[![Google Cloud Functions trigger URL](https://www.rudderstack.com/docs/images/event-stream-destinations/gcf-url.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gcf-url.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Cloud Functions | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Cloud Functions.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/",
  "markdown": "# Set up Google Analytics 4\n\nSet up Google Analytics 4 as a destination in RudderStack.\n\n* * *\n\n*     8 minute read  \n    \n\nFollow the below steps to set up Google Analytics 4 as a destination in RudderStack:\n\n1.  From the list of destinations in [RudderStack dashboard](https://app.rudderstack.com/), select **Google Analytics 4**.\n2.  Select an existing source from the displayed ones or set up a new source to connect to **Google Analytics 4** and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Google Analytics 4 as a destination, configure the following settings:\n\n*   **Name**: Assign a name to your destination.\n    \n*   **API Secret**: Enter the API Secret generated through the Google Analytics dashboard. It can be created in the Google Analytics dashboard under **Admin** > **Data Streams** > **Choose your stream** > **Measurement Protocol** > **Create**.\n    \n*   **Client Type**: Select the client type as `gtag` or `Firebase` from the dropdown:\n    \n    *   **`gtag`** - Supported for both cloud and device mode. If you select `gtag`, enter the following:\n        *   **Measurement ID**: Enter the Measurement ID which is the identifier for a data stream. It can be found in the Google Analytics dashboard under **Admin** > **Data Streams** > **Choose your stream** > **Measurement ID**.\n    *   **`Firebase`** - Supported only for cloud mode. If you select `Firebase`, enter the following:\n        *   **Firebase App Id**: Enter the Firebase App ID which is the identifier for Firebase app. It can be found in the Firebase dashboard under **Project Settings** > **General**.\n\nRefer to the [FAQ](#faq) section for more information on how to obtain the API secret, Measurement ID, and Firebase App ID.\n\n*   **SDK Base URL**: Enter the custom domain you want to use as the native SDK’s base URL. RudderStack loads the `gtag.js` in the `{SDK_Base_URL}/gtag/js?id=${measurementId}` format. The default value for the SDK base URL is `https://www.googletagmanager.com/`.\n\n## Connection mode\n\nSpecify how you want to route events from your sources to Google Analytics 4.\n\nRudderStack supports sending event data to Google Analytics 4 via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device Mode | Supported | \\-  | \\-  |\n| Cloud Mode | Supported | Supported | Supported |\n| Hybrid Mode | Supported | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Google Analytics 4 native SDK from `https://www.googletagmanager.com/` domain. To load the native SDK from a custom domain, use the **SDK Base URL** setting in the RudderStack dashboard. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Analytics 4 SDK successfully.\n\n### Connection mode comparison: hybrid vs. cloud vs. device\n\nThe following table lays out a detailed comparison to help you choose a connection mode:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack makes the primary decision on how to track and stitch events together based on the `client_id` and `session_id` parameters.\n> *   Server-side session tracking supports only a subset of user dimensions. Google’s Measurement Protocol API does not support the reserved fields like location, demographics, [predefined user dimensions](https://support.google.com/analytics/answer/9268042?hl=en&ref_topic=11151952), and device-specific information.\n\n|     | Device mode | Cloud mode | Hybrid mode with [client ID override](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/#hybrid-mode) (RECOMMENDED) | Hybrid mode without client ID override (Requires SDK configuration) |\n| --- | --- | --- | --- | --- |\n| **Description** | RudderStack’s SDK loads the native client libraries. | Sends data server-side to [Google’s Measurement Protocol API](https://developers.google.com/analytics/devguides/collection/protocol/ga4). | Automatically configures a single connection that captures attribution data from `page` calls (sent via device mode) and all other calls via cloud mode. | Automatically configures a single connection that captures attribution data from `page` calls (sent via device mode) and all other calls via cloud mode. |\n| **Client ID** | Fetches the `client_id` automatically generated by `gtag`. | You can send a custom `client_id` via `externalID`. Otherwise, RudderStack sends an `anonymousId` or `rudderId`. See [Mapping `client_id`](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/cloud-mode/#mapping-client_id). | Overrides the `client_id` with RudderStack’s `anonymousID`. (RudderStack utilizes a cookie that adds an `rs_` prefix to the existing Measurement ID) | Fetches the `client_id` automatically generated by `gtag`. |\n| **Session ID** | Fetches the `session_id` automatically generated by `gtag`. | Passes `session_id` automatically but you can customize it using [these mappings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/cloud-mode/#tracking-active-users-and-sessions). | Overrides `session_id` with the RudderStack’s `session_id`. | Fetches the `session_id` automatically generated by `gtag`. |\n| **Considerations** | Offers full information capture but it’s worth noting potential impacts the performance, page speed, data resilience, and first-party data capture. | Google’s Measurement Protocol doesn’t support passing certain reserved fields, including attribution data. | Introducing a custom `client_id` may cause fragmentation in multi-domain implementations. You may observe a potential momentary spike in session count while switching from device mode initially. | Buffer the SDK with a slight delay to avoid a potential race condition whereby the SDK events reach GA4 prior to the events sent via server-side. |\n| **Required actions** | NA  | To capture full attribution data, you must pass it as custom dimensions or instrument a parallel client-side integration. | Ensure that the [override setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/#hybrid-mode) is enabled in the RudderStack dashboard. To ensure accurate cross-platform analytics, check that other cookies (such as Google Ads) also include the appropriate `rs_` prefix. | Instrument your SDK to buffer.<br><br>**For example:**  <br>`rudderanalytics.load(`  <br>`\"write_key\",`  <br>`\"dataplane_url\",`  <br>`{`  <br>`bufferDataPlaneEventsUntilReady: true`  <br>`}`  <br>`);` |\n\n## Configuration settings\n\nIn the **Configuration** tab of your destination, you can configure the below-mentioned cloud and device mode settings:\n\n### Cloud mode\n\n*   **Debug via Validation Server**: Enable this setting to check the validation responses in the [Live Events](https://www.rudderstack.com/docs/dashboard-guides/live-events/) tab. Debug mode is supported via GA4’s validation server endpoint.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> As per the [GA4 documentation](https://developers.google.com/analytics/devguides/collection/protocol/ga4/validating-events?client_type=gtag), any responses sent to the validation server will not show up in the reports.\n\n*   **Filter user traits**: Enter the list of user traits which you do not want RudderStack to send to GA4. You can use this field to filter sensitive PII fields like email, phone number, credit card number, etc. from your events and prevent them from being sent to GA4.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   This setting is applicable to all the [RudderStack connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/).\n> *   To specify multiple traits, press the enter key after each trait.\n\n### Device mode\n\n*   **Filter user traits**: Enter the list of user traits which you do not want RudderStack to send to GA4. You can use this field to filter sensitive PII fields like email, phone number, credit card number, etc. from your events and prevent them from being sent to GA4.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To specify multiple traits, press the enter key after each trait.\n\n*   **Choose how to capture pageviews**: Select **RudderStack JS SDK** or **gtag Automated Capture** from the dropdown depending on whether you want to send the page view events through the RudderStack JS SDK, or through automatic collection on each page load using GA4 Enhanced Measurement (gtag) respectively. See [GA4 documentation](https://developers.google.com/analytics/devguides/collection/ga4/views?client_type=gtag) for more information.\n*   **Debug via DebugView**: This setting lets you monitor the device mode events in [DebugView](https://support.google.com/analytics/answer/7201382). It displays the events and user properties that GA4 collects in realtime. With this feature, you can troubleshoot issues as you install your tags or go through a user’s live activity.\n*   **Include URL and Search as Page View properties**: Enable this setting to send the following properties along with any other custom property to the `page` call of the RudderStack SDK:\n    *   `url`\n    *   `search`\n\n### Hybrid mode\n\n*   **Debug via Validation Server**: If you enable this setting, then RudderStack sends the cloud mode events (`track` and `group` calls) to the GA4 validation server. These events will **not show up** in your reports.\n*   **Filter user traits**: Enter the list of user traits which you do not want RudderStack to send to GA4. You can use this field to filter sensitive PII fields like email, phone number, credit card number, etc. from your events and prevent them from being sent to GA4.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To specify multiple traits, press the enter key after each trait.\n\n*   **Choose how to capture pageviews**: Select **RudderStack JS SDK** or **gtag Automated Capture** from the dropdown depending on whether you want to send the page view events through the RudderStack JS SDK, or through automatic collection on each page load using GA4 Enhanced Measurement (gtag) respectively. See [GA4 documentation](https://developers.google.com/analytics/devguides/collection/ga4/views?client_type=gtag) for more information.\n*   **Debug via DebugView**: If this setting is enabled, then the device mode events (`page` calls) will be visible under the [GA4 DebugView](https://support.google.com/analytics/answer/7201382) section.\n*   **Include URL and Search as Page View properties**: Enable this setting to send the following properties along with any other custom property to the `page` call of the RudderStack SDK:\n    *   `url`\n    *   `search`\n*   **Override gtag client ID & session ID**: Enable this setting to override the gtag `client_id` and `session_id` with RudderStack’s `anonymousId` and `session_id` to ensure that the attribution is properly unified across the `page` and `track` events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are transitioning to the GA4 hybrid mode from device mode, enabling this setting could lead to a momentary spike in session counts. To avoid this scenario, disable this setting and [buffer the SDK](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/#connection-mode-comparison:~:text=device%20mode%20initially.-,Buffer%20the%20SDK,-with%20a%20slight) instead.\n> \n> For all other scenarios, you can enable this setting.\n\n### Other settings\n\n*   **Choose if you want to turn on events filtering**: This option is applicable only if you’re sending events to Google Analytics 4 via **web device mode**. See [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) for more information.\n*   **Cookie category name**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Google Analytics 4.\n\n## FAQ\n\n#### How do I obtain the Measurement Id?\n\n1.  Log in to the [Google Analytics](https://analytics.google.com/analytics/web/) dashboard.\n2.  Go to the **Admin** section in the left sidebar.\n3.  Select the relevant account and property.\n4.  Click **Data Streams** and select the stream to get the Measurement Id:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/measurement-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/measurement-id.webp)\n\n#### How do I obtain the API Secret?\n\n1.  Login to [Google Analytics](https://analytics.google.com/analytics/web/) dashboard.\n2.  Go to the **Admin** section in the left sidebar.\n3.  Select the relevant account and property.\n4.  Click **Data Streams** and select the stream.\n5.  Click **Measurement Protocol API secrets** to get the API Secret:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/api-secret.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/api-secret.webp)\n\n#### How do I obtain the Firebase App ID?\n\n1.  Login to [Google Analytics](https://analytics.google.com/analytics/web/) dashboard.\n2.  Go to the **Admin** section in the left sidebar.\n3.  Select the relevant account and property.\n4.  Click **Data Streams** and select the stream to get the **Firebase App Id**:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/firebase-app-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/firebase-app-id.webp)\n\n#### How can I prevent RudderStack from sending PII fields to Google Analytics 4?\n\nTo prevent RudderStack from sending sensitive PII data in your events to GA4, specify the user traits in **Filter user traits** while configuring your destination settings.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To specify multiple traits, press the enter key after each trait.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/ga4-pii.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ga4-pii.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Google Analytics 4 | RudderStack Docs",
  "description": "Set up Google Analytics 4 as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/device-mode/",
  "markdown": "# Google Analytics 4 Device Mode\n\nSend events to Google Analytics 4 using RudderStack web device mode.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack lets you send your event data to Google Analytics 4 destination via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK, using the `gtag` tagging method.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You need to select `gtag.js` as the **Client Type** and enable **Use device-mode to send events** in the RudderStack dashboard to send events via device mode. For more information on device mode settings in the RudderStack dashboard, see [Setting up Google Analytics 4](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/setup-guide/) guide.\n\nFind the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/GA4).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nUser-ID is an advanced feature that lets GA4 present a cross-device, cross-platform view of your customers’ behavior. Google Analytics 4 uses `userId` and `deviceId` (GA’s `cid` value from Universal Analytics terminology) to identify users.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\nIn the above snippet, the `userId` is set to `1hKOmRA4el9Zt1WSfVJIVo4GRlm` and the `name` and `email` is set as `user_properties`.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nGoogle Analytics 4 `gtag` sends a `page_view` event to Google Analytics by default every-time it is loaded. You can also send `page_view` event to Google Analytics whenever you make an explicit `page()` call to RudderStack SDK.\n\nRudderStack sends the following properties by default:\n\n*   `url` mapped to `page_location`\n*   `title` mapped to `page_title`\n*   `referrer` mapped to `page_referrer`\n\nYou can also make `page()` call with any custom and standard properties as shown below:\n\n```\nrudderanalytics.page({\n  path: \"/test_browser.html\",\n  url: \"http://example.com/test_browser.html?param1=true\",\n  title: \"Page Load\",\n  search: \"?param1=true\",\n  referrer: \"referrer\",\n})\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Track me\")\n```\n\nRudderStack SDK sends the track event name and any properties as custom properties to Google Analytics 4.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack SDK flattens the properties that are nested and not standard Google Analytics 4 properties before sending them to Google Analytics.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> There are limits on the number of custom properties per event that can be sent to Google Analytics 4. The RudderStack SDK **does not drop** the payload based on these limits. If the events are don’t show up in the debug view or in the Google Analytics dashboard reports, refer to the [Google support page](https://support.google.com/analytics/answer/9267744?hl=en) to learn more about the collection limits.\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group such as a company, organization, or an account, and record any traits associated with that group, for example, company name, number of employees, etc.\n\nRudderStack maps the `group` call to the `join_group` event by default.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"1hKOmRA4\", {\n    \"custom1\": 1234,\n    \"custom2\": \"custom2\"\n});\n```\n\n## Ecommerce events tracking\n\nRudderStack supports ecommerce tracking for Google Analytics 4. Use the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for sending events while instrumenting your site with the RudderStack SDK.\n\nBelow are some examples of the track event names that are passed to Google Analytics 4-specific ecommerce event name:\n\n| RudderStack event name | Google Analytics 4 event name |\n| --- | --- |\n| Products Searched | `search` |\n| Product List Viewed | `view_item_list` |\n| Promotion Viewed | `view_promotion` |\n| Product Clicked | `select_item` |\n| Product Added To Wishlist | `add_to_wishlist` |\n| Product Added | `add_to_cart` |\n| Cart Shared | `share` |\n| Checkout Started | `begin_checkout` |\n| Order Completed | `purchase` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For each product in the order, there must be an `id` and `name` associated with it. Refer to the [GA4 documentation](https://developers.google.com/gtagjs/reference/ga4-events#view_item_list) for more information on ecommerce events and corresponding properties.\n\n## Debug mode\n\nRudderStack sends all the device mode events with a `debug_mode` parameter so that you can view them in the [DebugView](https://support.google.com/analytics/answer/7201382).\n\n## FAQ\n\n#### How can I disable sending `userId` to GA4?\n\nYou can disable sending `userId` to GA4 by [passing an `integrations` object](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/filtering/) in your JavaScript SDK load options and setting `sendUserId` to `false`.\n\n```\nrudderanalytics.load(\n  \"WRITE_KEY\",\n  \"DATA_PLANE_URL\", {\n    integrations: {\n      All: true,\n      \"Google Analytics 4\": {\n        sendUserId: false\n      },\n    }\n  }\n)\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you set `sendUserId` to `false`, RudderStack will not send `userId` to GA4 in any of the events.\n\n#### How can I enable Google Signals in GA4?\n\n[Google Signals](https://support.google.com/analytics/answer/9445345?hl=en#zippy=%2Cin-this-article) helps you understand the interaction of users with your website across multiple devices and sessions. To enable Google Signals and capture user data, the following conditions must be met:\n\n*   A user must be signed in to their Google Account on the website or app.\n*   Ad Personalization must be enabled for their account.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The Google Signals feature is available in the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) only.\n\nTo enable Google Signals in GA4 and reflect the collected user data in your reports, follow the steps below:\n\n1.  Log into your [Google Analytics dashboard](https://analytics.google.com/).\n    \n2.  Open the Admin panel by clicking on the gear icon at the bottom left.\n    \n    [![Google Signals](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-1.webp)\n    \n3.  Select the property for which you want to enable Google Signals. Then, go to **Data Settings** > **Data Collection**.\n    \n4.  Click **Get Started** in the **Google signals data collection** section:\n    \n    [![Google Signals](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-2.webp)\n    \n5.  Click **Continue**.\n    \n    [![Google Signals](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-3.webp)\n    \n6.  Read the additional information and click **Activate**.\n    \n    [![Google Signals](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Google-signals-4.webp)\n    \n\nGoogle Signals is now enabled. You will be able to see the **Age**, **Gender**, and other relevant data in the GA4 Demographics reports after 24 hours.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Analytics 4 Device Mode | RudderStack Docs",
  "description": "Send events to Google Analytics 4 using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-pub-sub/",
  "markdown": "# Google Pub/Sub | RudderStack Docs\n\nSend your event data from RudderStack to Google Pub/Sub.\n\n* * *\n\n*     5 minute read  \n    \n\n[Google Pub/Sub](https://cloud.google.com/pubsub/docs/overview) is an asynchronous messaging service that allows you to decouple the services that produce events from the services that process events. With Pub/Sub, you get durable message storage as well as a real-time message delivery system. The Google Pub/Sub servers run reliably with a consistent performance in all Google Cloud regions over the world.\n\nRudderStack allows you to configure Google Pub/Sub as a destination and send your event data to it directly.\n\n## Getting started\n\nTo enable sending data to Google Pub/Sub, you will first need to add it as a destination to the source from which you are sending your event data. Once the destination is enabled, events from our SDK will start flowing to Google Pub/Sub.\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| Device mode | **\\-** | **\\-** | **\\-** |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Google Pub/Sub, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source. From the list of destinations, select **Google Pub/Sub.**\n*   Give a name to the destination and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2879%29%20%282%29%20%282%29%20%283%29%20%283%29%20%283%29%20%282%29%20%282%29.webp)](https://www.rudderstack.com/docs/images/image%20%2879%29%20%282%29%20%282%29%20%283%29%20%283%29%20%283%29%20%282%29%20%282%29.webp)\n\nGoogle Pub/Sub Connection Settings\n\n*   Enter the following details:\n    *   **Connection Settings**\n        *   **Project ID** and the **Credentials**: Follow these steps to obtain the project ID as well as the required credentials:\n            *   Create a service account from Google Cloud Console.\n            *   You can get the **Project ID** when you log in to your Google Cloud Console.\n            *   Use the **Select a role** dropdown to add the **Pub/Sub Publisher** role.\n            *   Create a key as JSON and download it.\n            *   Paste this downloaded JSON in the **Credentials** field\n        *   Enter the **Event Name** as well as the corresponding **Topic ID**. You can get the topic id from your topics page:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2848%29.webp)](https://www.rudderstack.com/docs/images/image%20%2848%29.webp)\n\nGoogle Pub/Sub Topic ID and Name\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can send an event `type` like `page,` `identify,` `track`. For the `track` events you can specify the event name based on the `event` name in the payload.\n> \n> For example:\n> \n> *   If the event name is `page` it will send all calls with the `type` page.\n> *   If the event name is `product added` , it will send all track events with the `event` as `product added`.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> If you want to send all events to a particular stream irrespective of the type or name, you can use `*` as the event name.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The **topic ID** is **case-sensitive** and has to be exactly as seen in Google Pub/Sub. On the other hand, the **event name** is **case insensitive**, and thus `Page` or `page` will both be considered as valid.\n\n*   Finally, click **Next** to complete the configuration. Pub/Sub should now be added and enabled as a destination in RudderStack.\n\n## Attributes\n\nYou can send attributes to Google Pub/Sub along with the message. In order to send the attributes, enter the required attribute mapping in the RudderStack dashboard as seen below:\n\n[![](https://www.rudderstack.com/docs/images/image%20%28113%29.webp)](https://www.rudderstack.com/docs/images/image%20%28113%29.webp)\n\nThe following are some examples:\n\n*   If the `event` is **`Product Viewed`** and the `key` is **`coupon`**, RudderStack will add the `coupon` key-value pair from the message to the attributes’ metadata object.\n*   If multiple mappings are provided for **`Product Viewed`**, all such key-value pairs from the message body will be added to attributes’ metadata object.\n*   If the event name is **`page`** it will send all calls with the `type` page.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> For the `key` fields provided in the attributes map, the `key` is searched in the message body in `root`, `properties`, `traits` and `context.traits` - in that specific order.\n\n**Note: You can also specify the key path in the payload using the dot notation.**\n\nFor example:\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\",\n  metadata: {\n    metadataId: \"sample-id\"\n  }\n});\n```\n\nFor the above `track` call, you can specify an attribute mapping for `metadataID` as shown below:\n\n| **Event** | **Field** |\n| --- | --- |\n| Track me | `metadata.metadataId` |\n\nThis will create the below attribute metadata object:\n\n```\n{\n   metadataId: \"sample-id\"\n}\n```\n\n## Page\n\nThe `page` call contains information related to the page, such as the URL of the web page visited by the user.\n\nA sample `page` payload is as shown in the snippet below:\n\n```\nrudderanalytics.page({\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n})\n```\n\n## Identify\n\nThe `identify` call captures the relevant details about the visiting user.\n\nA sample `identify` payload is as shown in the snippet below:\n\n```\nrudderanalytics.identify(\"abc123\", {\n  name: \"FirstName LastName\",\n  email: \"example@gmail.com\",\n})\n```\n\n## Track\n\nThe `track` call captures the information related to the actions performed by the user, along with their properties, or traits.\n\nA sample `track` payload is as shown in the snippet below:\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\",\n})\n```\n\n## FAQ\n\n#### How does event mapping work with the topic ID?\n\n*   If there is no topic ID set for an event, it will not be sent.\n*   If an event is set with a topic id, the payload will be sent to Pub/Sub to that particular topic id.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you have set all event type, event and `*` for mapping the priority will be given to `event` , then `type` , followed by `*`.\n\nFor example, let the type of event be `track`, the event name be `product added`. The mapping is done as:\n\n[![](https://www.rudderstack.com/docs/images/screenshot-2020-09-09-at-6.56.02-pm.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-09-09-at-6.56.02-pm.webp)\n\nNow all events should go to the topic mapped with **`product added`**.\n\n#### How do I provide multiple Attribute mapping for a particular event?\n\nIn order to send multiple attribute keys for a particular event, enter the required mappings in the RudderStack dashboard as seen below:\n\n[![](https://www.rudderstack.com/docs/images/image%20%28112%29.webp)](https://www.rudderstack.com/docs/images/image%20%28112%29.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Pub/Sub | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Pub/Sub.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-sheets/",
  "markdown": "# Google Sheets | RudderStack Docs\n\nSend your event data from RudderStack to Google Sheets.\n\n* * *\n\n*     4 minute read  \n    \n\n[Google Sheets](https://www.google.com/sheets/about/) is a popular spreadsheet program. You can seamlessly create spreadsheets that update and save automatically and are easy to access from your Google Drive.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/googlesheets).\n\n## Getting started\n\nRudderStack supports sending events to Google Sheets via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Google Sheets, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Google Sheets**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Service account permissions\n\nTo add Google Sheets as a destination in RudderStack, you must first obtain the Google Cloud service account credentials required for the configuration. Follow these steps:\n\n1.  Go to your [Google Cloud console](https://console.cloud.google.com/). Under **Quick access**, click **APIs & Services**.\n2.  In the left sidebar, click **Credentials**.\n3.  Click **\\+ CREATE CREDENTIALS** > **Service account**:\n\n[![Google Sheets create credentials option](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-create-credentials.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-create-credentials.webp)\n\n4.  Enter the service account details and click **CREATE AND CONTINUE**.\n5.  Under **Grant this service account access to project**, select the **Editor** role:\n\n[![Google Sheets editor role](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-editor-role.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-editor-role.webp)\n\n6.  Click **DONE** to finish the service account configuration. The service account is now created.\n7.  Under the **KEYS** tab, click **ADD KEY** > **Create new key**.\n\n[![Google Sheets add key option](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-add-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-add-key.webp)\n\n8.  Choose **JSON** as the key type and click **CREATE**.\n\nThe private key JSON will be downloaded and saved to your computer automatically. Use this JSON to set up your Google Sheets destination in RudderStack.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before setting up the destination in RudderStack, make sure you enable the [Google Sheets API](https://console.cloud.google.com/apis/library/sheets.googleapis.com?q=sheets&id=739c20c5-5641-41e8-a938-e55ddc082ad1&project=rudder-integration&supportedpurview=project) for your project.\n\n## Connection settings\n\nTo successfully configure Google Sheets as a destination, you will need to configure the following settings:\n\n*   **Credentials**: Enter the contents of the credentials JSON obtained in the [Service account permissions](#service-account-permissions) section above.\n*   **Sheet ID**: Enter your Google Sheet ID present in the spreadsheet’s URL. For example, if the URL is `https://docs.google.com/spreadsheets/d/aBC-123_xYz/edit#gid=920137070`, then the sheet ID is `920137070`.\n*   **Sheet Name**: Enter the name of the spreadsheet to which you want to send the data. You can find the sheet name in the bottom left corner of the spreadsheet.\n\n[![Google Sheets name](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-spreadsheet-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-sheets-spreadsheet-name.webp)\n\n*   **Map Event to Google Sheets**: Use this setting to send an event property to a specific sheet’s column.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> *   For mapping the traits or event properties, enter the trait/property name directly, for example, `firstName`, `email`, etc. However, it is highly recommended to provide the absolute path to avoid ambiguity when you have the same attribute name in your event’s `traits`, `context.traits`, or `properties` object.\n> *   For mapping contextual fields or nested attributes, you must enter the absolute path to the attribute using dot notation. For example, `context.app.build`, `address.zip`, etc.\n\n*   **OneTrust Cookie Categories**: Use this setting to associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Google Sheets.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call captures the relevant details about the visiting user.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n  age: 25\n})\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nA sample `track` event is shown below:\n\n```\nrudderanalytics.track(\"Product Purchased\", {\n  revenue: 4.99,\n  currency: \"USD\",\n  name: \"Shirt\",\n  voucherCode: \"FIRSTSALE\",\n  order_id: \"OR19\",\n});\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` event is shown below:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"test.com\",\n  search: \"term\",\n  title: \"test_item\",\n  url: \"http://test.in\",\n})\n```\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional relevant information about the screen. This call is similar to the `page` call but is exclusive to your mobile device.\n\nA sample `screen` event is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Sample Screen Name\" properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## FAQ\n\n#### Why aren’t the events sent to my Google Sheet?\n\nTo ensure that RudderStack sends your events to Google Sheets, verify if you have done the following:\n\n*   [Created a service account](#service-account-permissions) with **Editor** permissions for accessing and sending data to your Google Sheet.\n    \n*   Enabled the [Google Sheets API](https://console.cloud.google.com/apis/library/sheets.googleapis.com?q=sheets&id=739c20c5-5641-41e8-a938-e55ddc082ad1&project=rudder-integration&supportedpurview=project) for your project.\n    \n*   Set up the Google Sheets destination in RudderStack correctly:\n    \n    *   Entered the credentials JSON.\n    *   Added the correct sheet ID and name.\n    *   Added the required property-column mappings in the dashboard settings.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Sheets | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Sheets.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/",
  "markdown": "# Google Cloud Storage | RudderStack Docs\n\nSend your event data from RudderStack to Google Cloud Storage.\n\n* * *\n\n*     2 minute read  \n    \n\n[Google Cloud Storage](https://cloud.google.com/storage) is a popular web service for storing and accessing your data in the Google Cloud Platform infrastructure. It offers state-of-the-art performance and scalability, along with ensuring the security and privacy of your data.\n\nRudderStack allows you to add Google Cloud Storage as a destination to which you can send your event data from any source reliably.\n\n## Setting up Google Cloud Storage\n\nFollow these steps to set up Google Cloud Storage before adding it as a destination in RudderStack:\n\n*   Log in to the your Google Cloud platform [console](https://console.cloud.google.com/).\n*   Create a new bucket. You can also use an already existing bucket.\n*   Create a new service account under **IAM & Admin** - **Service Accounts**\n*   Give `Storage Object Admin` access to the newly created service account.\n*   Create a key for the service account. Choose key type as JSON. This will cause a JSON key file to be downloaded.\n\n## Configuring Google Cloud Storage in RudderStack\n\nIn order to enable sending data to Google Cloud Storage, you will first need to add it as a destination to the source from which you are sending event data. Once the destination is enabled, events from RudderStack will start to flow to Google Cloud Storage.\n\nTo do so, please follow these steps:\n\n*   Choose a source to which you would like to add Google Cloud Storage as a destination. You can also create the destination first, and connect it to a source later.\n*   Once you have set up the source, select **Google Cloud Storage** from the list of destinations. Give your destination a name, and then click **Next**. You will then see the following **Connection Settings** screen:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2814%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/image%20%2814%29%20%281%29.webp)\n\nConnection settings for Google Cloud Storage in RudderStack\n\n*   Enter your **Google Cloud Storage Bucket Name**, as well as the content of the JSON key file (refer to the [Setting up Google Cloud Storage](#setting-up-google-cloud-storage) section above) in the **Credentials** field.\n*   If you need any transformation choose one from the list. Else, click **Next**.\n\nThat’s it! You have successfully added Google Cloud Storage as a destination in RudderStack. Once you start sending events from your source, RudderStack dumps them into the Cloud Storage bucket automatically.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Cloud Storage | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Cloud Storage.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-optimize/",
  "markdown": "# Google Optimize | RudderStack Docs\n\nSend your event data from RudderStack to Google Optimize.\n\n* * *\n\n*     3 minute read  \n    \n\n[Google Optimize](https://marketingplatform.google.com/about/optimize/) is Google’s free website optimization tool that lets you run different website tests to tailor personalized user experiences and increase your conversion rate.\n\nRudderStack supports Google Optimize as a destination to which you can seamlessly send your website data for efficient A/B testing.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Once you add Google Optimize as a destination in RudderStack, RudderStack loads the [Optimize snippet](https://support.google.com/optimize/answer/7513085) on your website. Then, it loads the Google Analytics snippet(if not already present). This snippet natively measures all Optimize experiments and then sends the data to Optimize for creating the reports.\n\n## Getting started\n\nRudderStack supports sending event data to Google Optimize via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Google Optimize native SDK is loaded from `https://www.googleoptimize.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Optimize SDK successfully.\n\nOnce you have confirmed that your source platform supports sending events to Google Optimize, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **Google Optimize**.\n*   Assign a name to the destination and click **Next**. You should then see the following screen:\n\n[![Google Optimize connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-connection-settings-1.webp)\n\n### Connection settings\n\nThe connection settings required to configure Google Optimize as a destination in RudderStack are listed below:\n\n*   **Load Google Analytics**: Enable this setting **only if** Google Analytics is not installed on your website already.\n\n*   **Tracking ID**: If you have enabled the **Load Google Analytics** option, enter the corresponding tracking ID here.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on finding the Google Analytics tracking ID, refer to the [FAQs](#faqs) section below.\n\n*   **Container ID**: Enter your Google Optimize container ID here.\n\n[![Google Optimize container ID](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-container-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-container-id.webp)\n\n*   **Async mode**: Enable this setting to use the asynchronous version of Google Optimize.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> We recommend enabling this setting if you want your pages to load faster and if your target visitors are likely to be on slow connections (3G or slower). However, for experimentation purposes, this setting should be **disabled**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to this [Optimize support page](https://support.google.com/optimize/answer/7513085?hl=en&ref_topic=6197443) to learn more about the differences between the synchronous and asynchronous versions of Google Optimize.\n\n*   **Anti-flicker snippet**: Enable this setting to install the anti-flicker snippet.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Enabling this setting can impact page performance. Refer to this [support page](https://support.google.com/optimize/answer/7100284) for more information on the anti-flicker snippet.\n\n*   As this destination supports sending events only via web device mode, the **Use device mode to send events** option will be always enabled.\n\nFinally, click **Next** to complete the setup. Google Optimize will now be enabled as a destination in RudderStack.\n\n## FAQ\n\n#### Where do I get the Google Analytics tracking ID?\n\nTo get the Google Analytics tracking ID, follow these steps:\n\n1.  Go to the **Admin** section of your [Google Analytics account](https://analytics.google.com/analytics/web/#/) in the bottom left corner.\n2.  Then, select an account in the **Account** column, followed by a property in the **Property** column.\n3.  Under **Property**, click **Tracking Info** - **Tracking Code**. Your tracking ID will be displayed at the top of the resulting page.\n\n[![Google Analytics tracking ID](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-ga-tracking-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-optimize-ga-tracking-id.webp)\n\n#### How do I link Google Optimize with Google Analytics?\n\nTo link your Google Optimize container to a Google Analytics property or view, refer to this [support page](https://support.google.com/optimize/answer/7008374?hl=en&ref_topic=7310368).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Optimize | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Optimize.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-tag-manager/",
  "markdown": "# Google Tag Manager | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Google Tag Manager | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Tag Manager.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-tag-manager/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nSet up and configure Google Tag Manager as a destination in RudderStack.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide will help you set up Google Tag Manager as a destination in the RudderStack dashboard. It also lists the configuration settings required to correctly send data from the supported sources to Google Tag Manager.\n\n## Connection compatibility\n\n| Destination info |     |     |     |\n| --- |\n| *   **Status:** Generally Available<br>*   **Supported sources:** Web<br>*   Refer to it as **GTM** in the [Integrations object](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/filtering/#filtering-destinations). |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Google Tag Manager native SDK from the `https://www.googletagmanager.com/` domain.\n> \n> Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Google Tag Manager SDK successfully.\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Google Tag Manager**.\n\n### Connection settings\n\nThe connection settings required to configure Google Tag Manager as a destination in RudderStack are listed below:\n\n| Setting | Description |\n| --- | --- |\n| Container ID | Your Google Tag Manager [container ID](#faq). You can get it by going to the **Admin** section of your [Google Tag Manager dashboard](https://tagmanager.google.com/#/admin/). |\n| Server Container URL | Your Tag Manager [server container URL](#faq). Use this setting when you want RudderStack to load the Tag Manager scripts from your specified server container URL instead of Google’s domain (`https://www.googletagmanager.com/`).<br><br>See [Send data to server-side Tag Manager](https://developers.google.com/tag-platform/tag-manager/server-side/send-data#load_google_scripts) for more information. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can load Google Tag Manager on any page where you initialize the RudderStack snippet and call the [`page`](#page) event.\n\n## Load RudderStack as a custom HTML tag\n\nYou can also load RudderStack as a custom tag in Google Tag Manager. However, loading Google Tag Manager through RudderStack is recommended, by following the steps described in the above section.\n\nThe following image demonstrates how you can add RudderStack as a custom HTML tag which can then be called through Google Tag Manager:\n\n[![RudderStack as a custom tag](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-custom-html-gtm.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-custom-html-gtm.webp)\n\n## Next steps\n\n*   [Send events in device mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-tag-manager/device-mode/)\n\n## FAQ\n\n#### Where can I find the GTM Container ID?\n\nYou can find your Tag Manager container ID in the admin section of your [GTM dashboard](https://tagmanager.google.com/#/admin/). It is present in the format `GTM-XXXXXXX`.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-container-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-container-id.webp)\n\n#### Where can I find the server container URL?\n\n1.  Click your server container and go to the **Admin** tab.\n2.  Click **Container Settings**. You can find the container URL listed here.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-server-container-url.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-server-container-url.webp)\n\n#### I am getting a 404 error when using Google Tag Manager. What should I do?\n\nIf you are getting a 404 error on the JavaScript console of your web page related to the Google Tag Manager, verify if you have published your Google Tag Manager Container. Follow [this guide](https://support.google.com/tagmanager/answer/6107163?hl=en) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Google Tag Manager as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/google-tag-manager/device-mode/",
  "markdown": "# Google Tag Manager Device Mode Integration\n\nSend events to Google Tag Manager using RudderStack device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nAfter you have successfully instrumented Google Tag Manager as a destination in RudderStack, follow this guide to correctly send your events to Google Tag Manager in [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to identify a user, record their traits like name, email address, etc., and send this information to Google Tag Manager.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\",{\n\"name\":\"Alex Keener\",\n\"gender\":\"Male\",\n\"city\":\"New Orleans\"\n})\n```\n\nThe above call populates Google Tag Manager with the following user traits along with their values:\n\n*   `userId`\n*   `name`\n*   `gender`\n*   `city`\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call allows you to record whenever a user visits a page of your website, along with the properties associated with that page.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must call the `page` event to load Google Tag Manager .\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"home\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\"\n});\n```\n\nThe above call populates Google Tag Manager with the following properties along with their values:\n\n*   `userId`\n*   `anonymousId`\n*   `event` - the viewed `home` page\n*   `path`\n*   `url`\n*   `title`\n*   `search`\n*   `referrer`\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Making a `page` call sends out an object to the GTM data layer containing your page-related properties and an event name with its associated value.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record any user actions along with the properties associated with those actions.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can use the RudderStack `track` events to populate the Google Tag Manager data layer once you have set up and enabled Google Tag Manager in RudderStack.\n\nCalling the RudderStack SDK `track` method with the event and its properties similarly passes the data to GTM as seen in the [`page`](#page) section above.\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\",\n});\n```\n\nThe above call populates Google Tag Manager with the following properties along with their values:\n\n*   `userId`\n*   `anonymousId`\n*   `event`\n*   `category`\n*   `label`\n*   `value`\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Tag Manager Device Mode Integration | RudderStack Docs",
  "description": "Send events to Google Tag Manager using RudderStack device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/heap.io/",
  "markdown": "# Heap.io | RudderStack Docs\n\nSend your event data from RudderStack to Heap.io.\n\n* * *\n\n*     3 minute read  \n    \n\n[Heap.io](https://heap.io/) is a popular analytics platform built for marketers, product managers, and customer success teams. With Heap, you can track every clip, tap or screen swipe action of your customers. With this data, and combining Heap’s cutting-edge analytics capabilities, you can segment your users based on their behavior, and offer them unique digital experiences. If boosting your conversion rates and customer engagement is your goal, then Heap.io is a great tool to have in your marketing stack.\n\nRudderStack supports Heap.io as a destination to which you can send your event data in real-time.\n\n## Getting started\n\nRudderStack supports sending event data to Heap via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | **\\-** |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Heap native SDK is loaded from `https://cdn.heapanalytics.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Heap SDK successfully.\n\nOnce you have confirmed that the platform supports sending events to Heap.io, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/signup?type=freetrial), add the source. Then, from the list of destinations, select **Heap.io**.\n*   Give a name to the destination and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/screen-shot-2020-12-03-at-2.20.59-pm.webp)](https://www.rudderstack.com/docs/images/screen-shot-2020-12-03-at-2.20.59-pm.webp)\n\nHeap.io Connection Settings on RudderStack dashboard\n\nTo configure Heap.io as a destination, you need the Heap App ID. To get the App ID, login to your Heap account and navigate to [App\\*\\* - **Settings** - \\*\\*Projects](https://heapanalytics.com/app/settings/projects), and copy the development or production App ID.\n\n*   Once you’ve entered the Heap App ID, click **Next**. Heap.io should now be configured as a destination on your RudderStack dashboard.\n\n## Identify\n\nRudderStack’s [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method captures the relevant details about the visiting user.\n\nA sample `identify` payload is as shown:\n\n```\nrudderanalytics.identify(\"user123\", {\n  name: \"Name LastName\",\n  email: \"example@domain.com\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `userId` or `anonymousId` is a **required** field to send the `identify` call successfully.\n\n## Track\n\nWith the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) API, RudderStack makes a call to Heap.io to track your user actions as well as their associated properties.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  userId: \"user123\"\n  order_id: \"12345\",\n  category: \"clothing\",\n  revenue: 99.9,\n  shipping: 13.99,\n  tax: 10.99,\n  promotion_id: \"PROMO_NOW\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `userId` or `anonymousId` is a **required** field to send the `track` call successfully.\n\n## FAQ\n\n#### How do I get my Heap App ID?\n\nYou can procure your Heap ID by logging into your Heap account and navigate to App - Settings - Projects, and copying the required development or production App ID. Click [here](https://heapanalytics.com/app/settings/projects) to go to your Heap dashboard and get the App ID.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Heap.io | RudderStack Docs",
  "description": "Send your event data from RudderStack to Heap.io.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/",
  "markdown": "# HubSpot cloud mode | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "HubSpot cloud mode | RudderStack Docs",
  "description": "Send events to HubSpot using the RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/",
  "markdown": "# HubSpot destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "HubSpot destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to HubSpot.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hotjar/",
  "markdown": "# Hotjar | RudderStack Docs\n\nSend your event data from RudderStack to Hotjar.\n\n* * *\n\n*     2 minute read  \n    \n\n[Hotjar](https://www.hotjar.com/) is a popular [behavioral analytics](https://www.rudderstack.com/learn/data-analytics/what-is-behavioral-analytics/) platform, suitable for marketing teams and product managers to better understand and improve their product. It allows them to understand the behavior of their website’s visitors through heat maps, surveys, and conversion funnels.\n\nRudderStack helps you integrate your website with Hotjar to auto-track your user data.\n\n## Getting started\n\nRudderStack supports sending event data to Hotjar via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Hotjar native SDK is loaded from `https://static.hotjar.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Hotjar SDK successfully.\n\nOnce you have confirmed that Hotjar supports the source, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, select **Hotjar** from the list of destinations.\n*   Assign a name to your destination and click **Next**. You should see the following screen:\n\n[![Hotjar connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hotjar-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hotjar-connection-settings.webp)\n\n### Connection settings\n\nTo successfully configure Hotjar as a destination in RudderStack, enter the following connection settings:\n\n*   **Site ID**: Enter your Hotjar site ID. You can get your site ID by logging into your Hotjar account and navigating to **Settings** > **Sites & Organizations**.\n\nFinally, click **Next** to complete the configuration. Hotjar will now be added and enabled as a destination in RudderStack.\n\n## Track\n\nThe `track` call leverages Hotjar’s [Events API](https://help.hotjar.com/hc/en-us/articles/4405109971095) to track specific user actions.\n\nA sample `track` call is as shown below:\n\n```\nrudderanalytics.track(\"custom_event\");\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To use the Hotjar Events API, you must be on Hotjar’s Plus, Business, or Scale plans.\n\n## Identify\n\nThe `identify` call lets you pass your user data to Hotjar, sending them as [User Attributes](https://help.hotjar.com/hc/en-us/articles/4402892526487-What-are-User-Attributes-).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before you start making `identify` calls, make sure that [User Attributes](https://insights.hotjar.com/settings/user-attributes) are enabled in your Hotjar dashboard for each site. Refer to this [Hotjar support page](https://help.hotjar.com/hc/en-us/articles/360033640653-Identify-API-Reference#making_calls_to_identify) for more information on enabling and disabling User Attributes.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"userId\", {\n  total_spend: 500\n});\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Hotjar | RudderStack Docs",
  "description": "Send your event data from RudderStack to Hotjar.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/hubspot-new-api-cloud/",
  "markdown": "# HubSpot cloud mode (new API v3)\n\nSend events to HubSpot via cloud mode using the new API.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack supports the following API calls while sending data to Hubspot via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) using the [new API](https://developers.hubspot.com/docs/api/overview).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This documentation is written for HubSpot API v3.\n\n## Identify\n\nRudderStack sends the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to check if a contact exists, if it does, RudderStack updates the contact with new information. Otherwise, it creates a new contact.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify({\n  firstName: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"+1-202-555-0146\",\n  email: \"alex@example.com\",\n  custom_flavor: \"chocolate\",\n  custom_date: 1574769933368,\n  custom_date1: new Date(\"2019-10-14T11:15:53.296Z\"),\n})\n```\n\nThe lookup field passed in the **Hubspot property name to be used as lookup field** dashboard setting must also be passed in the `traits` object of the `identify` call containing the lookup value.\n\nA sample snippet is shown below:\n\n```\nrudderanalytics.identify({\n  name: \"Alex Keener\",\n  phone: \"+1-202-555-0146\",\n  traits: {\n    \"lookupField\": \"alex@example.com\",\n  },\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you pass a lookup field in the dashboard setting but not under the `identify` call’s `traits`, RudderStack will take `email` as the default lookup field.\n\n## Track\n\nA [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record various user actions and any properties associated with them.\n\nTo associate a `track` call with a user, you need to specify the user’s `email` under `context.traits`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack associates the `track` events with the same user only after you make a successful `identify` call. However, if you send a `track` call without making any `identify` call first and there is no contact present in HubSpot, RudderStack will not associate the events as there is no identifier.\n\nA sample `track` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Order Completed\", {\n    value: 30,\n  }, {\n    context: {\n      traits: {\n        firstname: \"Alex\",\n        city: \"New Orleans\",\n        country: \"USA\",\n        phone: \"+1-202-555-0146\",\n        email: \"alex@example.com\",\n      },\n    },\n  }\n)\n```\n\n### Property mappings\n\nThe following table lists the properties and their mappings between RudderStack and HubSpot for the `track` call:\n\n| RudderStack property | HubSpot property |\n| --- | --- |\n| `traits.utk`/`context.traits.utk`/`properties.utk` | `utk` |\n| `traits.email`/ `context.traits.email` | `email` |\n| `traits.objectId`/`context.traits.objectId`/`properties.objectId` | `objectId` |\n| `properties.occurred_at`/`timestamp`/`originalTimestamp` | `occurredAt` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must send either of the `utk`, `email`, or `objectId` (can be `contact_id` or `visitor_ id`) properties to make a `track` call successfully.\n\n### Custom behavioral events\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The custom behavorial events can be used for both the authentication types. However, they must have the `analytics.behavioral_events.send` permission to be used for private apps.\n\n[Custom behavioral events](https://developers.hubspot.com/docs/api/analytics/events) are account-defined events in HubSpot that store event details in the event properties. You can create custom behavioral events and their associated properties in the RudderStack dashboard as explained in the [New API](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/setting-up-hubspot-in-rudderstack/#new-api) section.\n\nThe following parameters are sent in the custom behavorial events:\n\n*   **Identifier**: Either the contact ID, email, or [utk](https://developers.hubspot.com/docs/api/events/tracking-code) (user token) of the contact associated with the event. The utk is the user token stored in the visitor’s `hubspotutk` browser cookie.\n*   **Event name:** The internal name of the event which can be found in HubSpot.\n*   **Properties object**: When you create a custom behavioral event in HubSpot, some default properties are provided with those events, explained in the below section.\n\n#### Property mappings\n\nThe following table lists the **optional** and default property mappings between RudderStack and HubSpot for custom behavioral events:\n\n| RudderStack property | HubSpot property |\n| --- | --- |\n| `properties.assetDescription`/`properties.hsAssetDescription` | `hs_asset_description` |\n| `properties.assetType`/`properties.hsAssetType` | `hs_asset_type` |\n| `properties.campaignId` | `hs_campaign_id` |\n| `traits.address.city`/`context.traits.address.city`/`properties.address.city` | `hs_city` |\n| `traits.address.country`/`context.traits.address.country`/`properties.address.country` | `hs_country` |\n| `context.device.name` | `hs_device_name` |\n| `properties.elementClass`/`properties.hsElementClass` | `hs_element_class` |\n| `properties.elementId`/`properties.hsElementId` | `hs_element_id` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "HubSpot cloud mode (new API v3) | RudderStack Docs",
  "description": "Send events to HubSpot via cloud mode using the new API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/setting-up-hubspot-in-rudderstack/",
  "markdown": "# Set up HubSpot | RudderStack Docs\n\nSet up HubSpot as a destination in RudderStack.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack supports sending event data to HubSpot via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the HubSpot native SDK is loaded from `https://js.hs-scripts.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the HubSpot SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to HubSpot, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **HubSpot**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nRudderStack supports sending data to HubSpot via the HubSpot’s [legacy](https://legacydocs.hubspot.com/docs/overview?_ga=2.34803302.670362313.1663315856-97001172.1658910392) and [new](https://developers.hubspot.com/docs/api/overview) API.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> As HubSpot’s legacy API will be deprecated soon, it is recommended to use the new API.\n\n### Legacy API\n\nTo successfully configure HubSpot as a destination using the [legacy API](https://legacydocs.hubspot.com/docs/overview?_ga=2.34803302.670362313.1663315856-97001172.1658910392):\n\n*   **Hub ID**: Enter your HubSpot Hub ID. Refer to the [HubSpot documentation](https://knowledge.hubspot.com/account/manage-multiple-hubspot-accounts#identify-the-current-account-s-hub-id) for more information on obtaining your Hub ID.\n    \n*   **Authorization Type**: Select the authorization type from **Private Apps** or **API Key**, as explained below:\n    \n    1.  **Private Apps** lets you use the HubSpot’s APIs to access specific data from your HubSpot account.\n    \n    [![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connection-settings-auth-type-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connection-settings-auth-type-1.webp)\n    \n    *   **Access Token**: Enter your HubSpot access token from the **Private Apps** section in the HubSpot dashboard. Refer to the [FAQ](#faq) section for more information on getting the HubSpot access token.\n    \n    2.  **API Key (deprecating soon)** lets you create custom applications using HubSpot’s APIs. **Note that this authorization type will be deprecated soon**. See the [HubSpot documentation](https://knowledge.hubspot.com/integrations/how-do-i-get-my-hubspot-api-key) for more information.\n    \n    [![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connection-settings-auth-type-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connection-settings-auth-type-2.webp)\n    \n    *   **API Key**: Enter your HubSpot API key. This is a required field to send data to HubSpot via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode). For more information on obtaining the API key, refer to the [HubSpot documentation](https://knowledge.hubspot.com/integrations/how-do-i-get-my-hubspot-api-key).\n*   **API Version**: Select **Legacy API (v1)** from the dropdown. To work with the new HubSpot API, refer to the [New API](#new-api) section.\n    \n\nThe below settings are applicable **only if** you want to send events to HubSpot via the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode):\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to HubSpot. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: Enable this setting to send events to HubSpot via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native JavaScript SDK.\n*   **OneTrust Cookie Categories**: If **Use device mode to send events** is enabled, this setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to HubSpot.\n\n### New API\n\nTo successfully configure HubSpot as a destination using the [new API](https://developers.hubspot.com/docs/api/overview), all above-mentioned settings (for the [legacy API](#legacy-api)) are applicable except you need to select the **New API (v3)** in **API Version** dropdown:\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspotv2-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspotv2-connection-settings-2.webp)\n\nAdditional settings to configure HubSpot using the **new API** are as follows:\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspotv2-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspotv2-connection-settings-3.webp)\n\n*   **HubSpot property name to be used as lookup field**: Enter a unique property to be used as a lookup field for the [HubSpot contacts](https://developers.hubspot.com/docs/api/crm/contacts). The lookup field entered here **must also** be passed in the `identify` call’s `traits` as its value will be used to look up the contact. Refer to the [`identify` call](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/hubspot-new-api-cloud/#identify) for more information.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are connecting the HubSpot destination to a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) source, you can skip setting this field and pass `N/A` as the value.\n\n*   **Create associations between object records**: Enable this setting to create associations between the object records while using a Reverse ETL source. Refer to the [Creating associations between object records](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/connect-reverse-etl-source/#creating-association-between-object-records) section for more information.\n\nThe below settings are only applicable for the **Private Apps** authorization type:\n\n*   **RudderStack Event Name**: Enter the RudderStack event name you want to map to the [custom behavioral event](https://developers.hubspot.com/docs/api/analytics/events#create-an-event) created in HubSpot.\n*   **HubSpot Event Name**: Enter the tracking ID of the HubSpot custom behavioral event you want to map to the above-mentioned RudderStack event.\n*   **Map your Event Property**: Although HubSpot provides some [default properties](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/hubspot-new-api-cloud/#property-mappings-1) with custom behavioral events, you can create additional custom properties and map them to the RudderStack properties using this field. You can also specify multiple properties for a single event. Refer to the [Custom behavioral events](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/hubspot-new-api-cloud/#custom-behavioral-events) section for more information.\n\n## FAQ\n\n#### Where do I get the Access Token for HubSpot?\n\nTo get the HubSpot access token, follow these steps:\n\n1.  Log into your [HubSpot account](https://app.hubspot.com/login/).\n2.  Go to **Integrations** > **Private Apps** from the left sidebar.\n3.  Click your app to get the access token:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/Hubspot-access-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Hubspot-access-token.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up HubSpot | RudderStack Docs",
  "description": "Set up HubSpot as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-cloud-mode/hubspot-legacy-api-cloud/",
  "markdown": "# HubSpot cloud mode (legacy API)\n\nSend events to HubSpot via cloud mode using the legacy API.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack supports the following API calls while sending data to Hubspot via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) using the [legacy API](https://legacydocs.hubspot.com/docs/overview?_ga=2.34803302.670362313.1663315856-97001172.1658910392).\n\n## Identify\n\nRudderStack sends the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a contact in HubSpot. The contact’s email ID must be present in the `traits` object of the `identify` call.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify({\n  firstName: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"+1-202-555-0146\",\n  email: \"alex@example.com\",\n  custom_flavor: \"chocolate\",\n  custom_date: 1574769933368,\n  custom_date1: new Date(\"2019-10-14T11:15:53.296Z\"),\n})\n```\n\n### Special fields\n\nHubSpot supports the following traits as special fields:\n\n*   `address`\n*   `city`\n*   `companyName`\n*   `email`\n*   `firstName`\n*   `lastName`\n*   `position`\n*   `phone`\n*   `zip`\n\n### Custom properties\n\nRudderStack supports sending custom properties to HubSpot via the `identify` call. These properties will update the `contact` property you have **already created** in HubSpot:\n\n[![HubSpot create property](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-create-property.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-create-property.webp)\n\nWhen you provide any custom property in the event, RudderStack automatically converts the field name into the lower case and replaces any space with an underscore. This is because HubSpot does not accept properties in the upper case and spaces.\n\nRudderStack then maps the field values present in the `traits` to the corresponding HubSpot custom property.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> HubSpot discards any property that does not exist and returns a **400 Bad Request** error.\n\n### Dates\n\nFor sending properties of `date` type, you can send them as the [epoch time](https://en.wikipedia.org/wiki/Unix_time) or as a `date` object. RudderStack converts them to the required HubSpot format (midnight UTC).\n\n## Track\n\nA [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record various user actions and any properties associated with them.\n\nTo associate a `track` call with a user, you need to specify the user’s `email` under `context.traits` . Additionally, RudderStack associates the `track` events with the same user after an `identify` request is successfully made.\n\nA sample `track` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Order Completed\", {\n    value: 30,\n  }, {\n    context: {\n      traits: {\n        firstname: \"Alex\",\n        city: \"New Orleans\",\n        country: \"USA\",\n        phone: \"+1-202-555-0146\",\n        email: \"alex@example.com\",\n      },\n    },\n  }\n)\n```\n\nThe `track` call also supports [`externalId`](https://legacydocs.hubspot.com/docs/methods/enterprise_events/http_api#:~:text=%26favorite_color%3Dorange-,External%20id,-%26id%3D%7Bvalue%7D) as a parameter which is mapped from `externalID` `hubspotId`. A sample `track` call containing the `externalId` is as shown:\n\n```\nrudderanalytics.track(\n  \"Order Completed\", {\n  value: 30,\n}, {\n  context: {\n    traits: {\n      firstname: \"Alex\",\n      city: \"New Orleans\",\n      country: \"USA\",\n      phone: \"+1-202-555-0146\",\n      email: \"alex@example.com\",\n    },\n  },\n  externalId: [{\n    type: \"hubspotId\",\n    id: \"6556\"\n  }]\n})\n```\n\n### Revenue events\n\nFor the revenue events, a `value` or `revenue` key should be included in the event properties to be recorded in HubSpot.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional information about the viewed screen.\n\nIf you have enabled screen views in your [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) or [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) app implementation, RudderStack will send this information to HubSpot. RudderStack also forwards the `properties` you’ve passed along with the `screen` call without any changes.\n\nA sample `screen` call sent via the iOS SDK is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Main\"\n            properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "HubSpot cloud mode (legacy API) | RudderStack Docs",
  "description": "Send events to HubSpot via cloud mode using the legacy API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/kochava/",
  "markdown": "# Kochava | RudderStack Docs\n\nSend your event data from RudderStack to Kochava.\n\n* * *\n\n*     6 minute read  \n    \n\n[Kochava](https://www.kochava.com/) is a leading mobile measurement and app analytics platform that offers unique dynamic deep linking, audience segmenting and data accessibility features for your business.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/kochava).\n\n## Getting started\n\nRudderStack supports sending event data to Kochava via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | **Supported** | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Kochava, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Kochava**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Kochava as a destination, you will need to configure the following settings:\n\n*   **App GUID**: Kochava generates a unique ID for your application called the **App GUID**. You can find this ID by going to your Kochava account and navigating to **Apps & Assets** > **All Apps**. You can then select your app to the view the App GUID.\n\nThe following two settings are applicable for iOS device mode only:\n\n*   **Enable AppTrackingTransparency (ATT)**: Enable this setting if you want to enable the `AppTrackingTransparency` feature provided by the Kochava iOS SDK.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure to include the key `NSUserTrackingUsageDescription` in your `info.plist` along with a string value explaining why you are requesting authorization to track.\n\n*   **Enable skAdNetwork**: Enable this setting if you want to enable the `skAdNetwork` feature provided by the Kochava iOS SDK.\n\n## Adding device mode integration\n\nTo add Kochava to your Android project and enable functionalities like push notifications, follow these steps :\n\n1.  Open your project level `build.gradle` file, and add the following:\n\n```\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n}\nallprojects {\n    repositories {\n        mavenCentral()\n    }\n}\n```\n\n2.  Also, add the following under the `dependencies` section:\n\n```\nimplementation 'com.rudderstack.android.integration:kochava:1.0.0'\nimplementation 'com.google.code.gson:gson:2.8.6'\n```\n\n3.  Initialize the RudderStack SDK in the `Application` class’ `onCreate()` method as shown:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(kochavaIntegration.FACTORY)\n            .build()\n    )\n```\n\nTo add Kochava to your iOS project:\n\n1.  Go your `Podfile` and add the `Rudder-Kochava` extension as shown below:\n\n2.  After adding the dependency followed by `pod install` , you can add the imports to your `AppDelegate.m` file as shown:\n\n```\n#import \"RudderKochavaFactory.h\"\n```\n\n3.  Finally, change the initialization of your `RudderClient` as shown:\n\n```\nRudderConfigBuilder *builder = [[RudderConfigBuilder alloc] init];\n[builder withDataPlaneUrl:DATA_PLANE_URL];\n[builder withFactory:[RudderKochavaFactory instance]];\n[RudderClient getInstance:WRITE_KEY config:[builder build]];\n```\n\nFollow the below steps to add Kochava to your Flutter Project:\n\n1.  Add the following dependency to the `dependencies` section of your `pubspec.yaml` file:\n\n```\nrudder_integration_kochava_flutter: ^1.0.1\n```\n\n2.  Run the below command to install the dependency added in the above step:\n\n3.  Import `RudderIntegrationKochavaFlutter` in your application where you are initializing the SDK:\n\n```\nimport 'package:rudder_integration_kochava_flutter/rudder_integration_kochava_flutter.dart';\n```\n\n4.  Finally, change the initialization of your `RudderClient` as shown:\n\n```\nfinal RudderController rudderClient = RudderController.instance;\nRudderConfigBuilder builder = RudderConfigBuilder();\nbuilder.withFactory(RudderIntegrationKochavaFlutter())\nrudderClient.initialize(<write_key>, config: builder.build(), options: null);\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nRudderStack transforms the following events to Kochava’s standard events:\n\n| RudderStack event | Kochava standard event |\n| --- | --- |\n| `Product Added` | `Add to Cart` |\n| `Product Added to Wishlist` | `Add to Wishlist` |\n| `Checkout Started` | `Checkout Start` |\n| `Order Completed` | `Purchase` |\n| `Product Reviewed` | `Rating` |\n| `Products Searched` | `Search` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack sends the rest of the events to Kochava as custom events.\n> *   You can send an event with the name same as that of a Kochava standard event. Kochava accepts it as a standard event.\n\nA sample `track` event sent to Kochava:\n\n```\n[[RudderClient sharedInstance] track:@\"Product Added\" properties:@{\n@\"price\": @2.0,\n@\"product_id\": @\"product_id_a\",\n@\"product_name\": @\"Product Name A\"\n}];\n```\n\nRudderStack changes the `Product Added` event to `Add to Cart` before passing it to Kochava along with the associated properties.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional relevant information about the screen.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the `screen` event to Kochava as a custom event.\n\nA sample `screen` call is shown below:\n\n```\nMainApplication.rudderClient.screen(\n    \"Sample Screen Name\",\n    RudderProperty().putValue(\"prop_key\", \"prop_value\")\n)\n```\n\nIn the above snippet, RudderStack captures all information related to the viewed screen, along with any additional info associated with that event. In Kochava, the above `screen` call is shown as **“screen view `Sample Screen Name` “** along with the properties.\n\n## Configuring push notifications\n\nFollow these steps to configure push notifications for Kochava for the platform of your choice:\n\n1.  Register push notifications for your Android device in the Kochava dashboard.\n2.  Add the following dependency in your project level `build.gradle` file inside the `buildscript`:\n\n```\ndependencies {\n        classpath 'com.google.gms:google-services:4.3.5'\n }\n```\n\n3.  Next, add the following dependencies and plugin to your app level `build.gradle` file:\n\n```\ndependencies {\n// for push notifications\n    implementation 'com.google.firebase:firebase-messaging:21.1.0'\n}\napply plugin: 'com.google.gms.google-services'\n```\n\n4.  Place the `google-services.json` downloaded from the `Firebase console` into the root folder of your `app`.\n5.  Passing the new Push Token received from FCM to the Kochava SDK. For more information, look into the **sample-kotlin** app.\n\n```\n// Extending FirebaseMessagingService class\nclass MyFirebaseMessagingService : FirebaseMessagingService() {\n    // The onNewToken callback fires whenever a new token is generated.\n    override fun onNewToken(token: String) {\n        super.onNewToken(token)\n        // Method to pass the push token to the Kochava native sdk\n        registeredForPushNotificationsWithFCMToken(token)\n    }\n}\n```\n\n1.  Add push notifications as a capability by navigating to **Target** > **Signing & Capabilities** of your app when opened in Xcode.\n2.  Enable **Background Modes/Remote notifications** by navigating to **Targets** > **Your App** > **Capabilities** > **Background Modes** and then check **Remote notifications**.\n3.  Register the push notifications for the iOS devices in your Kochava dashboard.\n4.  Add the following code in your app just after initializing RudderStack’s iOS SDK to register the push notifications.\n\n```\n#import <usernotifications>\n// register for push notifications\n    UNUserNotificationCenter* center = [UNUserNotificationCenter currentNotificationCenter];\n    center.delegate = self;\n    [center requestAuthorizationWithOptions:(UNAuthorizationOptionAlert | UNAuthorizationOptionSound | UNAuthorizationOptionBadge)\n                          completionHandler:^(BOOL granted, NSError * _Nullable error) {\n        if (granted) {\n            dispatch_async(dispatch_get_main_queue(), ^(void) {\n                [[UIApplication sharedApplication] registerForRemoteNotifications];\n            });\n        }\n    }];\n```\n\n5.  Add the below handlers to handle the tokens and push notifications accordingly:\n\n```\n#import <rudderkochavaintegration.h>\n\n- (void)application:(UIApplication *)application didRegisterForRemoteNotificationsWithDeviceToken:(NSData *)deviceToken\n{\n    [[RudderKochavaIntegration alloc] registeredForRemoteNotificationsWithDeviceToken:deviceToken];\n}\n\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center willPresentNotification:(UNNotification *)notification withCompletionHandler:(void (^)(UNNotificationPresentationOptions))completionHandler\n{\n    completionHandler(UNAuthorizationOptionSound | UNAuthorizationOptionAlert | UNAuthorizationOptionBadge);\n}\n\n- (void)userNotificationCenter:(UNUserNotificationCenter *)center didReceiveNotificationResponse:(UNNotificationResponse *)response withCompletionHandler:(void (^)(void))completionHandler\n{\n    [[RudderKochavaIntegration alloc] receivedRemoteNotification:response.notification.request.content.userInfo withActionString:response.actionIdentifier];\n}\n```\n\n## FAQ\n\n#### Where do I get the Kochava App GUID?\n\nTo get your Kochava app GUID, follow these steps:\n\n1.  [Log in to Kochava](https://go.kochava.com/session). Then, go to your account and select the application for the specific campaign.\n2.  Under **Apps & Assets**, select **All Apps**\n3.  Click the desired app for which you want the procure the App GUID.\n4.  You will be able to see the App GUID under the title of your application, within the details.\n\nFor more information, see the [Kochava support guide](https://support.kochava.com/reference-information/locating-an-app-guid/).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Kochava | RudderStack Docs",
  "description": "Send your event data from RudderStack to Kochava.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koddi/",
  "markdown": "# Koddi Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Koddi Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Koddi.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koddi/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Koddi as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koddi/cloud-mode/",
  "markdown": "# Koddi Cloud Mode Integration | RudderStack Docs\n\nSend events to Koddi using RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nAfter you have successfully instrumented Koddi as a destination in RudderStack, follow this guide to correctly send your events to Koddi in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/koddi).\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to track the impressions, clicks, and conversions on any ad by any user in Koddi.\n\n### Ad impressions\n\nYou can track the impression activity in Koddi using the [Impressions API](https://developers.koddi.com/reference/impressions-1).\n\nA sample track call for the `Impressions` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Impressions Event\", {\n    tracking_data: \"your-tracking-data\",\n    rank: 1,\n    beacon_issued: \"2024-03-04T15:32:56.409Z\"\n  }, {\n    integrations: {\n      All: true,\n      koddi: {\n        eventType: \"Impressions\" // case-insensitive\n      },\n    }\n  }\n);\n```\n\n#### Supported mappings\n\nRudderStack maps the following `track` fields to the corresponding Koddi properties for `Impressions` event type:\n\n| RudderStack event/property | Koddi property | Data type |\n| --- | --- | --- |\n| `properties.tracking_data`  <br>Required | `trackingData` | String |\n| `properties.rank`  <br>Required | `rank` | Integer |\n| `properties.beacon_issued`  <br>Required | `beaconIssued` | Date-Time |\n| `timestamp`  <br>`originalTimestamp` | `ts` | Date-Time |\n\n### Ad clicks\n\nYou can track the click activity in Koddi using the [Click API](https://developers.koddi.com/reference/clicks-1).\n\nA sample track call for the `Click` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Clicks Event\", {\n    tracking_data: \"your-tracking-data\",\n    rank: 1,\n    beacon_issued: \"2024-03-04T15:32:56.409Z\",\n    test_version_override: \"2\",\n    overrides: `{encrypted({\"cpc\": 1.5, \"rank\": 1})}`\n  }, {\n    \"integrations\": {\n      \"All\": true,\n      \"koddi\": {\n        \"eventType\": \"Clicks\" // case-insensitive\n      }\n    },\n  }\n);\n```\n\n#### Supported mappings\n\nRudderStack maps the following `track` fields to the corresponding Koddi properties for `Clicks` event type:\n\n| RudderStack event/property | Koddi property | Data type |\n| --- | --- | --- |\n| `properties.tracking_data`  <br>Required | `trackingData` | String |\n| `properties.rank`  <br>Required | `rank` | Integer |\n| `properties.beacon_issued`  <br>Required | `beaconIssued` | Date-Time |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId`  <br>Required | `userGuid` | String |\n| `properties.test_version_override` | `testVersionOverride` | String |\n| `properties.destination_url` | `destinationUrl` | String |\n| `properties.overrides` | `overrides` | String |\n\n### Ad conversions\n\nYou can track the conversions activity in Koddi using the [Conversions API](https://developers.koddi.com/reference/conversions-1).\n\nA sample track call for the `Conversions` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Conversions Event\", {\n    currency: \"USD\",\n    transaction_id: \"123\",\n    bidders: [{\n      \"bidder\": \"bidder1\", //required\n      \"alternate_bidder\": \"alternate1\", // required if bidder is not present\n      \"count\": 1, // required\n      \"base_price\": 100, // required\n      \"total_price\": 220\n    }]\n  }, {\n    \"integrations\": {\n      \"All\": true,\n      \"koddi\": {\n        \"eventType\": \"Conversions\" // case-insensitive\n      }\n    },\n  }\n);\n```\n\n#### Supported mappings\n\nRudderStack maps the following `track` fields to the corresponding Koddi properties for `Conversions` event type:\n\n| RudderStack event/property | Koddi property | Data type | Notes |\n| --- | --- | --- | --- |\n| `context.locale`  <br>Required | `culture` | String | \\-  |\n| `properties.currency`  <br>Required | `currency` | String | \\-  |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId`  <br>Required | `user_guid` | String | \\-  |\n| `properties.order_id`  <br>`properties.transaction_id`  <br>Required | `transaction_id` | String | \\-  |\n| `properties.bidders`  <br>Required | `bidders` | \\[\\]Object | See the below note for more information. |\n| `context.ip`  <br>`request_ip` | `user_ip` | String | \\-  |\n| `context.userAgent` | `user_agent` | String | \\-  |\n| `context.page.referring_domain` | `domain` | String | \\-  |\n| `context.device.type` | `device_type` | String | \\-  |\n| `properties.conversion_source` | `conversion_source` | String | \\-  |\n| `timestamp`  <br>`originalTimestamp` | `unixtime` | Double | Rudderstack’s timestamp is in ISO 8601 date format which gets converted to `unixtime` during transformation. |\n\nNote that the `properties.bidders` must contain an object’s array where all the objects must contain `bidder`/`alternate_bidder`, `count`, and `base_price` as the required fields. For example:\n\n```\n\"bidders\": [\n   {\n      \"bidder\": \"bidder1\",  //required\n      \"alternate_bidder\": \"alternate1\", // required if bidder is not present\n      \"count\": 1, // required\n      \"base_price\": 100, // required\n      \"total_price\": 227\n      \"check_in\": \"2024-03-04T15:32:56.409Z\"\n      \"check_out\": \"2024-03-04T15:32:56.409Z\"\n   }\n]\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Koddi Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Koddi using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/connect-reverse-etl-source/",
  "markdown": "# Connect a Reverse ETL source to HubSpot\n\nConfigure a Reverse ETL source with your HubSpot destination.\n\n* * *\n\n*     4 minute read  \n    \n\nThis guide takes you through the required scopes, predefined identifiers, and creating the association between the object records while connecting a Reverse ETL source to HubSpot destination.\n\n## Required scopes\n\nIf you’re connecting a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) source to HubSpot that uses a [private app access token](https://developers.hubspot.com/docs/api/intro-to-auth#private-app-access-tokens) for authentication, make sure your access token has the following scopes:\n\n```\ncrm.lists.read\ncrm.objects.contacts.read\ncrm.objects.contacts.write\ncrm.schemas.custom.read\ncrm.objects.custom.read\ncrm.objects.custom.write\ncrm.schemas.custom.write\ncrm.objects.companies.write\ncrm.schemas.contacts.read\ncrm.lists.write\ncrm.objects.companies.read\ncrm.objects.deals.read\ncrm.objects.deals.write\ncrm.schemas.companies.read\ncrm.schemas.companies.write\ncrm.schemas.contacts.write\ncrm.schemas.deals.read\ncrm.schemas.deals.write\ncrm.objects.owners.read\ncrm.objects.quotes.write\ncrm.objects.quotes.read\ncrm.schemas.quotes.read\ncrm.objects.line_items.read\ncrm.objects.line_items.write\ncrm.schemas.line_items.read\n```\n\n## Predefined identifiers\n\nWhile connecting a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) source with HubSpot using the [Visual Data Mapper](https://www.rudderstack.com/docs/sources/reverse-etl/visual-data-mapper/) feature, you need to select a HubSpot **Object** where you want to sync the data. Further, you can choose a warehouse column and HubSpot field to map your records in the [Choose identifier](https://www.rudderstack.com/docs/sources/reverse-etl/visual-data-mapper/#choosing-the-identifier) section:\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/predefined_object_hubspot.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/predefined_object_hubspot.webp)\n\nIf you select a standard HubSpot **Object**, the **Destination fields** dropdown displays the predefined unique identifiers along with any other unique field of the object. These predefined unique identifiers are mentioned in the below table corresponding to the standard HubSpot objects:\n\n| Standard HubSpot object | Predefined unique identifiers |\n| --- | --- |\n| Company | Company Domain Name |\n| Contact | Email |\n| Deal | Deal Name |\n| Line Item | Name |\n| Quote | Quote number |\n\nIf you select a custom HubSpot **Object**, only the unique fields of the object are displayed in the **Destination fields** dropdown.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The values of unique identifiers are case-sensitive and should be sent exactly as they are present in Hubspot.\n\n## Creating association between object records\n\nYou can create an association between the HubSpot object records while connecting your HubSpot destination to a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) source using the [Visual Data Mapper](https://www.rudderstack.com/docs/sources/reverse-etl/visual-data-mapper/) feature.\n\n### Prerequisites\n\nThe following pre-requisites must be met to create an association between the HubSpot object records:\n\n*   You must create two separate connections in the RudderStack dashboard using any Reverse ETL source and HubSpot destination as shown:\n    \n    [![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connections.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-connections.webp)\n    \n    *   The first connection will push data into the HubSpot object. For example, pushing data into a company object.\n    *   The second connection will create an association between the object records. For example, associating the company and contact objects. You must configure the HubSpot destination in the second connection using the [new API](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/setting-up-hubspot-in-rudderstack/#new-api) and enable the **Create associations between object record** setting in the RudderStack dashboard. The detailed steps to create this connection are explained in the below section.\n\n### Steps to create association\n\nFollow the below steps to create an association between the HubSpot object records:\n\n1.  Add a Reverse ETL source and add the HubSpot destination to it. For detailed steps on adding a source and destination, you can refer to the [Reverse ETL Quickstart](https://www.rudderstack.com/docs/data-pipelines/reverse-etl/quickstart/) guide.\n2.  While configuring the [HubSpot connection settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/setting-up-hubspot-in-rudderstack/#new-api) in the RudderStack dashboard, enable the **Create associations between object record** setting and click **Continue**.\n3.  Select the required **Schema** and **Table** whose data you want to sync to HubSpot.\n4.  Select the HubSpot **Object** for which you want to create the association.\n5.  In the next dropdown, select the HubSpot object with which you want to associate the above-mentioned object.\n6.  Based on the object selections, the relevant associations (from HubSpot account) are populated in the **Association** dropdown. You can select the required one:\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/sync-associations-hubspot.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sync-associations-hubspot.webp)\n\n7.  In the **Choose identifier** section, choose a warehouse column and destination field to map your records from the source to the destination. You can choose any destination field from the dropdown which will act as a unique identifier.\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/unique-identifier-hubspot-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/unique-identifier-hubspot-1.webp)\n\n8.  Choose a warehouse column each for **From Record ID** and **To Record ID** fields which will act as Hubspot’s unique ID to identify an object.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> **From Record ID** and **To Record ID** are the column names of the two objects you want to associate. For example, if you want to associate a company and a contact, the **From Record ID** should be a `Company Id` and **To Record ID** should be a `Contact Id`.\n\n[![HubSpot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/unique-identifier-hubspot.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/unique-identifier-hubspot.webp)\n\nSimilarly, you can create more of such associations between the object records.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Connect a Reverse ETL source to HubSpot | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your HubSpot destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/kubit/",
  "markdown": "# Kubit | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Kubit | RudderStack Docs",
  "description": "Send your event data from RudderStack to Kubit.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/hubspot-device-mode/",
  "markdown": "# HubSpot device mode (legacy API)\n\nSend events to HubSpot via device mode using the legacy API.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack supports the following API calls while sending data to Hubspot via web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the [legacy API](https://legacydocs.hubspot.com/docs/overview?_ga=2.34803302.670362313.1663315856-97001172.1658910392).\n\n## Identify\n\nRudderStack sends the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a contact in HubSpot. The contact’s email ID **must be present** in the `traits` object of the `identify` call.\n\nYou must call either `page` or `track` after the `identify` call to create a contact. RudderStack automatically associates the previously made `page` and `track` calls with that contact once they are identified.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify({\n  firstName: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"+1-202-555-0146\",\n  email: \"alex@example.com\",\n  custom_flavor: \"chocolate\",\n  custom_date: 1574769933368,\n  custom_date1: new Date(\"2019-10-14T11:15:53.296Z\"),\n})\n```\n\n### Special fields\n\nHubSpot supports the following traits as special fields:\n\n*   `address`\n*   `city`\n*   `companyName`\n*   `email`\n*   `firstName`\n*   `lastName`\n*   `position`\n*   `phone`\n*   `zip`\n\n### Custom properties\n\nRudderStack supports sending custom properties to HubSpot via the `identify` call. These properties will update the `contact` property you have **already created** in HubSpot:\n\n[![HubSpot create property](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-create-property.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/hubspot-create-property.webp)\n\nWhen you provide any custom property in the event, RudderStack automatically converts the field name into the lower case and replaces any space with an underscore. This is because HubSpot does not accept properties in the upper case and spaces.\n\nRudderStack then maps the field values present in the `traits` to the corresponding HubSpot custom property.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> HubSpot discards any property that does not exist and returns a **400 Bad Request** error.\n\n### Dates\n\nFor sending properties of `date` type, you can send them as the [epoch time](https://en.wikipedia.org/wiki/Unix_time) or as a `date` object. RudderStack converts them to the required HubSpot format (midnight UTC).\n\n## Track\n\nA [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record various user actions and any properties associated with them.\n\nTo associate a `track` call with a user, you need to specify the user’s `email` under `context.traits` . Additionally, RudderStack associates the `track` events with the same user after an `identify` request is successfully made.\n\nA sample `track` event is as shown:\n\n```\nrudderanalytics.track(\n  \"Order Completed\", {\n    value: 30,\n  }, {\n    context: {\n      traits: {\n        firstname: \"Alex\",\n        city: \"New Orleans\",\n        country: \"USA\",\n        phone: \"+1-202-555-0146\",\n        email: \"alex@example.com\",\n      },\n    },\n  }\n)\n```\n\n### Revenue events\n\nFor the revenue events, a `value` or `revenue` key should be included in the event properties to be recorded in HubSpot.\n\n## Page\n\nYou can make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to automatically record page views.\n\nA sample `page` event is as shown:\n\n```\nrudderanalytics.page({\n  path: \"path\",\n});\n```\n\n## FAQ\n\n#### Can I use HubSpot website analytics?\n\nYes, you can. RudderStack supports sending `page` calls in device mode which can be used for HubSpot website analytics.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "HubSpot device mode (legacy API) | RudderStack Docs",
  "description": "Send events to HubSpot via device mode using the legacy API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/inmoment/",
  "markdown": "# InMoment (formerly Wootric) | RudderStack Docs\n\nSend your event data from RudderStack to InMoment.\n\n* * *\n\n*     5 minute read  \n    \n\n[InMoment (formerly Wootric)](https://inmoment.com/wootric/) is a cloud-based customer feedback management platform that helps product, customer success, and marketing leaders to improve the customer experience.\n\nRudderStack supports InMoment as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring InMoment as a destination in RudderStack, verify if the source platform is supported by InMoment by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to InMoment, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Wootric**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure InMoment as a destination, you will need to configure the following settings:\n\n[![InMoment connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/inmoment-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/inmoment-connection-settings.webp)\n\n*   **Username**: Enter the email you use to log in to your [InMoment](https://app.wootric.com/) account.\n*   **Password**: Enter the password you use to log in to InMoment.\n*   **Account Token**: Enter the unique account token from the InMoment dashboard by navigating to **Settings** > **Your Account**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section below for more information on getting the InMoment account token.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in InMoment.\n\nRudderStack follows the below approach to look up a user and update their details:\n\n1.  If your event contains `context.externalId.0.id` (the Wootric user ID), RudderStack updates the user details against this ID. A sample snippet containing `context.externalId.0.id` is as shown:\n\n```\n{\n  \"context\": {\n    \"externalId\": [{\n      \"type\": \"wootricEndUserId\",\n      \"id\": \"12345\"\n    }]\n  }\n}\n```\n\n2.  If `context.externalId.0.id` is absent, RudderStack then looks for the `external_id` (RudderStack’s `userId`) field. If it exists, RudderStack updates the user against this ID.\n\n3.  If none of `context.externalId.0.id` or `external_id` are present, RudderStack creates a new user in Wootric.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\",\n    phone: \"+12025550146\",\n    name: \"Alex Keener\",\n    city: \"New Orleans\",\n    gender: \"male\",\n    createdAt: \"2021-01-20T13:39:21.032Z\",\n    timestamp: \"2021-01-20T13:39:21.032Z\"\n});\n```\n\n### Property mappings\n\nThe following tables list the mappings between RudderStack and InMoment events/properties based on the operation being performed:\n\n*   [Retrieve a user by external ID](https://docs.wootric.com/api/#get-a-specific-end-user-by-external-id)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | `userId`/`traits.userId`/`traits.id`/`context.traits.userId`/`context.traits.id` | `external_id` | Required | String |\n    \n*   [Retrieve a user by end user ID](https://docs.wootric.com/api/#get-a-specific-end-user-by-id)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | `context.externalId.0.id` | `id` | Required | String |\n    \n*   [Create a user](https://docs.wootric.com/api/#create-end-user)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | `userId`/`traits.userId`/`traits.id`/`context.traits.userId`/`context.traits.id` | `external_id` | Required | String |\n    | `context.traits.email`/`traits.email`/`properties.email` | `email` | Optional, if `phone` is present. | String |\n    | `context.traits.phone`/`traits.phone`/`properties.phone` | `phone_number` | Optional, if `email` is present. | String (Phone number with country code, for example, `+12025550146`) |\n    | `context.traits`/`traits` | `properties` | Optional | Hash (key-value pair) |\n    | `originalTimestamp`/`timestamp` | `last_surveyed` | Optional | String (UNIX timestamp) |\n    | `context.traits.createdAt`/`traits.createdAt` | `external_created_at` | Optional | String (UNIX timestamp) |\n    \n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> At least one parameter out of `email` and `phone` is required to create a user.\n\n*   [Update a user](https://docs.wootric.com/api/#update-end-user)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | Retrieved ID from `context.externalId.0.id` if present, else from `external_id` | `end_user_id` | Required | String |\n    | `context.traits.email`/`traits.email`/`properties.email` | `email` | Optional | String |\n    | `context.traits.phone`/`traits.phone`/`properties.phone` | `phone_number` | Optional | String (Phone number with country code, for example, `+12025550146`) |\n    | `context.traits`/`traits` | `properties` | Optional | Hash (key-value pair) |\n    | `originalTimestamp`/`timestamp` | `last_surveyed` | Optional | String (UNIX timestamp) |\n    | `context.traits.createdAt`/`traits.createdAt` | `external_created_at` | Optional | String (UNIX timestamp) |\n    \n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to:\n\n*   Create a survey response by the end user\n*   Create a survey decline by the end user\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack also updates the user properties if they are present in the event.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You can use the `track` events only for the existing Wootric users.\n\nRudderStack checks the `message.integrations.Wootric.eventType` field to determine whether to create a response or a decline.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\n    \"Submit\", {\n        feedbackScore: 9,\n        feedbackText: \"Great Product!\",\n        ip: \"127.0.0.0\",\n        url: \"https://www.google.com/\",\n        createdAt: \"2022-01-20T13:39:21.032Z\"\n    }, {\n        integrations: {\n            Wootric: {\n                eventType: \"create response\",\n            },\n        },\n    }\n);\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You will get an error if the `eventType` is set to any value other than `create response` or `create decline`.\n\n### Property mappings\n\nThe following tables list the mappings between RudderStack and InMoment properties based on the end user’s survey response/decline:\n\n*   [Create a survey response](https://docs.wootric.com/api/#create-response)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | Retrieved ID from `context.externalId.0.id` if present, else from `external_id` | `end_user_id` | Required | String |\n    | `properties.feedbackScore` | `score` | Required | Integer |\n    | `context.ip`/`request_ip` | `ip_address` | Required | Text |\n    | `context.page.url`/`properties.url` | `origin_url` | Required | Text |\n    | `properties.feedbackText` | `text` | Optional | Text |\n    | `context.traits.createdAt`/`traits.createdAt` | `created_at` | Optional | String (UNIX timestamp) |\n    | `context.traits`/`traits` | `end_user.properties` | Optional | Hash (key-value pair) |\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If Wootric receives a new survey response request for the same user within a 24-hour window, it updates the last response. Otherwise, it creates a new survey response for the user.\n\n*   [Create a survey decline](https://docs.wootric.com/api/#create-decline)\n    \n    | RudderStack property | InMoment property | Presence | Data type |\n    | --- | --- | --- | --- |\n    | Retrieved ID from `context.externalId.0.id` if present, else from `external_id` | `end_user_id` | Required | Integer |\n    | `context.page.url`/`properties.url` | `origin_url` | Optional | String |\n    | `context.traits.createdAt`/`traits.createdAt` | `created_at` | Optional | String (UNIX timestamp) |\n    | `context.traits`/`traits` | `end_user.properties` | Optional | Hash (key-value pair) |\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If Wootric receives a new survey decline request for the same user within a 24-hour window, it updates the last decline. Otherwise, it creates a new survey decline for the user.\n\n## FAQ\n\n#### Where can I find the InMoment account token?\n\nTo find the InMoment account token:\n\n1.  Log into your [InMoment account](https://app.wootric.com/).\n2.  Click the **Settings** icon in the top navigation bar:\n\n[![InMoment dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/inmoment-account-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/inmoment-account-token.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "InMoment (formerly Wootric) | RudderStack Docs",
  "description": "Send your event data from RudderStack to InMoment.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/indicative/",
  "markdown": "# Indicative | RudderStack Docs\n\nSend your event data from RudderStack to Indicative.\n\n* * *\n\n*     3 minute read  \n    \n\n[Indicative](https://indicative.com/) is a popular customer analytics platform designed especially for product managers, marketers, and data analysts. It connects directly to your data warehouse, allowing you to have an easy access to your data. As a result, you can also avoid any errors that arise due to data duplication during the collection stage or any form of data mismatch.\n\nRudderStack supports Indicative as a destination to which you can send your event data seamlessly.\n\n## Getting started\n\nBefore configuring Indicative as a destination in RudderStack, verify if the source platform is supported by Indicative by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Indicative, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **Indicative**.\n*   Assign a name to your destination and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/indicative.webp)](https://www.rudderstack.com/docs/images/indicative.webp)\n\nIndicative Connection Settings in RudderStack\n\n### Connection settings\n\nThis section lists the settings to be configured to set up Indicative as a destination in RudderStack.\n\n*   **Indicative API Key**: Enter the Indicative **API Key**. It can be found under **Project Settings** in your Indicative account.\n\n## Identify\n\nWhen an `identify` call is made, RudderStack leverages Indicative’s [Identify Users](https://support.indicative.com/hc/en-us/articles/360004147512-REST-API-Guide#IdentifyUsers1) API and sends the data accordingly.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> A user is identified by `userId`. If the field is not passed in the call, the event is not sent.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"hashed_user_id\", {\n  name: \"Name Surname\",\n  email: \"sample@example.com\",\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack passes the user traits passed along with the `identify` call to Indicative as `properties`.\n\n## Page\n\nWhen the `page` method is called, RudderStack sends a track event to Indicative with the `userId` and `eventName` parameters.\n\nA sample `page` call is as shown in the snippet below:\n\n```\nrudderanalytics.page({\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n});\n```\n\n## Screen\n\nThe `screen` call is the mobile equivalent of the `page`. When called, it sends a `track` event to Indicative with a `userId` and `eventName` .\n\nA sample `screen` call is as shown:\n\n```\n[[RSClient sharedInstance] screen:@\"Main\"];\n```\n\n## Track\n\nWhen the `track` call is made, RudderStack calls Indicative’s [Track Events](https://support.indicative.com/hc/en-us/articles/360004147512-REST-API-Guide#TrackEvents) API to send the events. The event properties are sent as data fields in the request, while the name of the event is sent as a custom event.\n\nA sample `track` call is as shown in the snippet below:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\",\n});\n```\n\n## Alias\n\nWhen the `alias` call is made, RudderStack calls Indicative’s [Alias Users](https://support.indicative.com/hc/en-us/articles/360004147512-REST-API-Guide#AliasUsers2) API and sends the data accordingly.\n\nA sample `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"12345\");\n```\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> The RudderStack SDK automatically passes the user’s `anonymousId` as `previousId` in the payload.\n\n## FAQ\n\n#### Where can I get the Indicative API key?\n\nYou can get the Indicative API key under the **Project Settings** section in your Indicative account.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Indicative | RudderStack Docs",
  "description": "Send your event data from RudderStack to Indicative.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/kustomer/",
  "markdown": "# Kustomer | RudderStack Docs\n\nSend your event data from RudderStack to Kustomer.\n\n* * *\n\n*     8 minute read  \n    \n\n[Kustomer](https://www.kustomer.com/) is a modern customer engagement platform designed for enterprises. It gives you a holistic view of your users and customer base, lets you provide best-in-class support, and engage with your customers through meaningful interactions.\n\nYou can now send your event data directly to Kustomer via RudderStack.\n\n## Getting started\n\nBefore configuring your source and destination in RudderStack, verify if the platform you are sending the events from is supported by Kustomer by referring to the following table:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Kustomer, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source and **Kustomer** as a destination.\n\n[![](https://www.rudderstack.com/docs/images/kustomer-v3-config.webp)](https://www.rudderstack.com/docs/images/kustomer-v3-config.webp)\n\nConfiguration Settings for Kustomer\n\n## Configuration Settings\n\nTo successfully configure Kustomer as a destination, you will need to configure the following settings:\n\n*   **API Key:** Your API Key is a unique key generated for your Kustomer account. You can find it under **Settings** by navigating to **Security** - **API Keys**.\n*   **Enable advanced Kustomer transformations:** RudderStack handles the payload nuances for Kustomer if this option is enabled. Check the **Advanced Kustomer Transformations** section below for more information on this setting.\n*   **Add email as Tracking identity:** If this setting is enabled, RudderStack adds the email as an identifier when making `track`/`page`/`screen` calls to Kustomer.\n*   **Disable email as a Tracking property:** If this option is enabled, RudderStack will not add the email as a tracking property for the `track`/`page`/`screen` calls made to Kustomer.\n*   **Enable generic title for Page events:** Enable this option to track all `page` events with a generic name `Web-Page-Viewed`.\n*   **Enable generic title for Screen events:** Enable this option to track all `screen` events with a generic name `Screen-Viewed`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The relevant `roles` (`org.permission.customer.create`, `org.permission.customer.read`, `org.permission.customer.update`, `org.tracking`) are required for an **API Key** to successfully access the Kustomer endpoints. Check the [Kustomer docs](https://support.kustomer.com/api-keys-SJs5YTIWX) for more information on how to do this.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All server-side destination requests require either a `anonymousId` or a `userId` in the payload.\n\n## Kustomer Payload Restrictions\n\nFor `page`, `screen`, and `track` events being sent to Kustomer, there are restrictions on some of the components of the event payload.\n\n### Event Name\n\nThe `event name` sent in the `page`, `screen`, and `track` events cannot include any spaces.\n\n| **Event Name Example** | **Result** |\n| --- | --- |\n| `Cart Viewed` | Error |\n| `Cart-Viewed` | Successful |\n| `Cart_Viewed` | Successful |\n\n### Meta Object\n\nFor `page`, `screen`, and `track` events, all of the data in the `properties` parameter will be sent to the Kustomer API through the `meta` object. However, there are certain restrictions in place on the key-value pairs within the `meta` object.\n\n#### String Values\n\nFor the key-value pairs where the value is of the `string` type, the key must not end with the characters `Num` or `At`.\n\n| String Key Name Example | Result |\n| --- | --- |\n| `{ product_nameNum: 'UNO' }` | Error |\n| `{ product_nameAt: 'UNO' }` | Not Semantically Correct |\n| `{ product_name: 'UNO' }` | Successful |\n\n#### Date-time String Values\n\nFor key-value pairs where the value has a type of `date-time string`, the key must end with the characters `At`.\n\n| Date-time String Key Name Example | Result |\n| --- | --- |\n| `{ purchased: '2020-02-02T00:23:09.544Z' }` | Not Semantically Correct |\n| `{ purchasedAt: '2020-02-02T00:23:09.544Z' }` | Successful |\n\n#### Number Values\n\nFor key-value pairs where the value has a type of `number`, the key must end with the characters `Num`.\n\n| Number Key Name Example | Result |\n| --- | --- |\n| `{ revenue: 300 }` | Error |\n| `{ revenueNum: 30 }` | Successful |\n\n#### Object or Array Values\n\nThe values for all keys in the `meta` object must be **flat**, meaning they cannot be nested objects or arrays.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you are using an advanced transformation, RudderStack will handle the nested objects, arrays, and Boolean and parse them to strings for compatibility with Kustomer.\n\n| Value Example | Result |\n| --- | --- |\n| `{ items: { price: 32, name: 'dinner plate' } }` | Error |\n| `{ items: [ 'dinner plate', 'fork', 'spoon' ] }` | Error |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For `track`, `page` and `screen` events, Kustomer supports only `number, string,`and `string` with `date-time (ISO)` format for custom event properties. Please refer to the [official Kustomer Documentation](https://apidocs.kustomer.com/#fe1b29a6-7f3c-40a7-8f54-973ecd0335e8) for more information on this.\n\n## Advanced Kustomer Transformations\n\nWhen the **Advanced Kustomer Transformation** option is enabled, RudderStack will update the payload as per Kustomer’s requirements.\n\nThe following behaviour is expected:\n\n| Event Name | With Advanced Transformation Enabled | Transformed? |\n| --- | --- | --- |\n| `Order Completed` | `Order-Completed` | Yes |\n| `OrderCompleted` | `OrderCompleted` | No  |\n| `Order-Completed` | `Order-Completed` | No  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The event names with whitespaces will be replaced with `-`.\n\n| Event Property | Value | With Advanced Transformation Enabled | Transformed? |\n| --- | --- | --- | --- |\n| `income` | `500` | `incomeNum` | Yes |\n| `income Num` | `500` | `income-Num` | Yes |\n| `income-Num` | `500` | `income-Num` | No  |\n| `income_Num` | `500` | `income_Num` | No  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The event properties with numeric values will be appended with `Num` if not already present, while the whitespaces will be replaced with `-`.\n\n| Event Property | Value | With Advanced Transformation Enabled | Transformed? |\n| --- | --- | --- | --- |\n| `created` | `'2020-02-02T00:23:09.544Z'` | `createdAt` | Yes |\n| `created At` | `'2020-02-02T00:23:09.544Z'` | `created-At` | Yes |\n| `created-At` | `'2020-02-02T00:23:09.544Z'` | `created-At` | No  |\n| `created_At` | `'2020-02-02T00:23:09.544Z'` | `created_At` | No  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The event properties with the date-time string values will be appended with `At` if not already present, while the whitespaces will be replaced with a `-`.\n\n| Event Name | Value | With Advanced Transformation Enabled | Transformed? |\n| --- | --- | --- | --- |\n| `Cart Name` | `Test Cart` | `Cart-Name` | Yes |\n| `CartName` | `Test Cart` | `CartName` | No  |\n| `Cart-Name` | `Test Cart` | `Cart-Name` | No  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For the event properties with `string` values, the whitespaces will be replaced with `-`.\n\n## Page\n\nThe `page` call allows you to record information whenever a user sees a web page, along with its associated properties.\n\nWhen you send a `page` event , RudderStack sends that event to Kustomer as a **“Web Page Viewed `Page Name`** event.\n\nAn example of a `page` call is shown below:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart-Viewed\", {\n  path: \"/cart\",\n  referrer: \"test.com\",\n  search: \"term\",\n  title: \"test_item\",\n  url: \"http://test.in\",\n  kustomerSessionId: \"kSession\",\n  kustomerTrackingId: \"ktracking\",\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `event name` must not include any spaces or the event will fail.\n\nIf the `kustomerSessionId` or `kustomerTrackingId` is included in `properties`, RudderStack will map it as `sessionId` and `trackingId` for that `page` event as per the [Kustomer Tracking Event Reference](https://apidocs.kustomer.com/#fe1b29a6-7f3c-40a7-8f54-973ecd0335e8).\n\n## Screen\n\nThe `screen` method allows you to record whenever a user sees the mobile screen, along with any associated optional properties. This call is similar to the `page` call, but is exclusive to your mobile device.\n\nWhen you send a `page` event , RudderStack sends that event to Kustomer as a **“Screen Viewed `Screen Name`** event.\n\nA sample `screen` call looks like the following code snippet:\n\n```\n[[RSClient sharedInstance] screen:@\"Sample-Screen-Name\" properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `event name` must not include any spaces or the event will fail.\n\nIf the `kustomerSessionId` or `kustomerTrackingId` is included in `properties`, RudderStack will map it as `sessionId` and `trackingId` for the `page` event as per the [Kustomer Tracking Event Reference](https://apidocs.kustomer.com/#fe1b29a6-7f3c-40a7-8f54-973ecd0335e8).\n\n## Track\n\nThe `track` call allows you to capture any action that the user might perform, along with the properties associated with that action. Each action is considered to be an event. It is similar to `screen` event, and the user is by default associated with `userId` or `anonymousId`.\n\nA sample `track` call looks like the following:\n\n```\nrudderanalytics.track(\"Checked-Out\", {\n  Clicked_Rush_delivery_Button: true,\n  total_value: 2000,\n  revenue: 2000,\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `event name` must not include any spaces or the event will fail.\n\nIn the above snippet, RudderStack captures the information related to the `Checked Out` event along with any additional information about that event; in this case, the details of the `Checked out` event.\n\nIf the `kustomerSessionId` or `kustomerTrackingId` is included in `properties`, RudderStack will map it as `sessionId` and `trackingId` for the `page` event as per the [Kustomer Tracking Event Reference](https://apidocs.kustomer.com/#fe1b29a6-7f3c-40a7-8f54-973ecd0335e8).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For `track`, `page` and `screen` events, Kustomer supports only `number, string,`and `string` with `date-time` format for custom event properties. Refer to the [official Kustomer Documentation](https://apidocs.kustomer.com/#fe1b29a6-7f3c-40a7-8f54-973ecd0335e8) for more information on this.\n\n## Identify\n\nThe `identify` call lets you associate a user with their actions and capture all relevant traits about them. This information includes unique `userid` as well as any optional information such as `name`, `email`, etc.\n\nA number of RudderStack’s special traits map to Kustomer’s standard user profile fields, as shown in the table below.\n\n| **Kustomer** | **RudderStack** | **Supported Type** |\n| --- | --- | --- |\n| `name` | `name` or `firstName` and `lastName` | `string` |\n| `externalId` | `userId` or `anonymousId` | `string` |\n| `username` | `userName` | `string` |\n| `company` | `company` | `string` |\n| `signedUpAt` | `createdAt` | `string date-time` |\n| `lastActivityAt` | `lastActivityAt` | `string date-time` |\n| `lastCustomerActivityAt` | `lastCustomerActivityAt` | `string date-time` |\n| `lastSeenAt` | `lastSeenAt` | `string date-time` |\n| `avatarUrl` | `avatar` | `string` |\n| `gender` | `gender` | `string` |\n| `tags` | `tags` | `array` |\n| `emails` | `emails` or `email` | `array` or `string` |\n| `phones` | `phones` or `phone` | `array` or `string` |\n| `socials` | `socials` | `array` |\n| `birthdayAt` | `birthday` or `dob` | `string date-time` |\n| `urls` | `website` | `string` |\n| `locations` | `address` | `string` or `object` |\n| `locale` | `context.locale` | `string` |\n| `importedAt` | `importedAt` | `string date-time` |\n| `custom` | `customObject` | `object` |\n| `sentiment` | `sentiment` | `object` |\n| `whatsapps` | `whatsapps` | array of `object` |\n| `facebookIds` | `facebookIds` | array of `object` |\n| `instagramIds` | `instagramIds` | array of `object` |\n| `timeZone` | `timeZone` | `string` |\n| `defaultLang` | `defaultLanguage` | `string` |\n| `rev` | `rev` | `number` |\n\nFor more information on the supported traits, check out the [official Kustomer Documentation](https://apidocs.kustomer.com/#07bd1072-4d4b-4875-b526-8369d711e811)\n\nA sample `identify` call looks like the following:\n\n```\nrudderanalytics.identify(\"userId\", {\n  email: \"user@website.com\",\n  phone: \"phone\",\n  birthday: \"birthday\",\n  name: \"full name\",\n  address: {\n    street: \"street\",\n    city: \"city\",\n    state: \"state\",\n    postalCode: \"zip\",\n  },\n  userName: \"userName\",\n  company: \"company\",\n  signedUpAt: \"date-time\",\n  lastActivityAt: \"date-time\",\n  lastCustomerActivityAt: \"date-time\",\n  lastSeenAt: \"date-time\",\n  avatar: \"avatar-url\",\n  gender: \"male\",\n  tags: [\"tag1\", \"tag2\"],\n  locale: \"en_US\",\n  website: \"www.website.com\",\n  socials: [\n    {\n      verified: true,\n      userid: \"100\",\n      type: \"twitter\",\n      username: \"@twiiterHandle\",\n      url: \"http://twitter.com/twitterhandle\",\n    },\n    {\n      verified: false,\n      userid: \"200\",\n      type: \"facebook\",\n      username: \"facebookhandle\",\n      url: \"http://facebook.com/facebookhandle\",\n    },\n  ],\n})\n```\n\nAn `identify` call with multiple `emails`, and `phones` along with an `address` with string `value` looks like the following:\n\n```\nrudderanalytics.identify(\"userId\", {\n  emails: [\n      {\n        \"type\": \"home\",\n        \"email\": \"home@email.com\"\n      },\n      {\n        \"type\": \"work\",\n        \"email\": \"work@email.com\"\n      }\n    ],\n  phones: [\n      {\n        \"type\": \"home\",\n        \"phone\": \"+188890987\"\n      },\n      {\n        \"type\": \"work\",\n        \"phone\": \"+1676330984\"\n      }\n    ],\n  birthday: \"21-02-1988\",\n  name: \"Name Surname\",\n  address: \"street city state zip\"\n  userName: \"userName\",\n  company: \"company\"\n  locale: \"en_US\",\n  website: \"www.website.com\"\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If a customer already exists, the new values will be updated for that user. RudderStack automatically maps the `userId` (or `anoymousId`) to the customer’s `externalId` in Kustomer.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you choose to send Customer’s `id` in `context.externalId` \\[{type:kustomerId, id:uniqueId}\\]) RudderStack will skip looking-up the customer using `email`/`userId`/`anonymousId`and directly update the user information for that`id` with the new attributes.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Kustomer | RudderStack Docs",
  "description": "Send your event data from RudderStack to Kustomer.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/leanplum/",
  "markdown": "# Leanplum | RudderStack Docs\n\nSend your event data from RudderStack to Leanplum.\n\n* * *\n\n*     5 minute read  \n    \n\n[Leanplum](https://www.leanplum.com/) is a popular marketing and customer engagement platform. It boosts customer engagement and retention, leading to better conversion and increased business revenue.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/leanplum).\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Leanplum**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Leanplum as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Application ID**: Enter your Leanplum application ID.\n*   **Client Key**: Enter the associated client key.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Leanplum.\n\nRudderStack supports sending events to Leanplum via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | **Supported** | \\-  |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n| Hybrid mode | \\-  | **Supported** | \\-  |\n\n### Send events in hybrid mode\n\nYou can use [hybrid mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#hybrid-mode) to send all events to Leanplum from your [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) and [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) sources.\n\nUse the hybrid mode option (highlighted below) while connecting your iOS/Android source to the Leanplum destination. Then, [add the Leanplum integration to your project](#add-leanplum-integration-to-your-project).\n\n[![Leanplum hybrid mode connection setting](https://www.rudderstack.com/docs/images/event-stream-destinations/braze-hybrid-mode.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/braze-hybrid-mode.webp)\n\n#### Why use hybrid mode\n\nCertain Leanplum functionalities like push notifications and A/B testing require you to load the Leanplum SDK.\n\nWhen you choose hybrid mode to send events to Leanplum, RudderStack:\n\n*   Initializes the Leanplum SDK.\n*   Sends all the user-generated events (`identify`, `track`, `page`, `screen`, and `group`) to Leanplum only through [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) and blocks them from being sent via device mode.\n*   Sends the auto-generated events (A/B testing, push notifications that require the Leanplum SDK) via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\nWith hybrid mode, you can send the auto-generated and user-generated events to Leanplum using a single connection.\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Leanplum:\n\n*   **Use in Development Environment**: If this setting is enabled, make sure to provide the **Client Key** corresponding to your development environment. Failure to do so will result in a faulty SDK initialization and your events will fail.\n*   **Client-side event filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Leanplum. For more information, see [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/).\n*   **OneTrust cookie consent settings**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Leanplum.\n\n## Add Leanplum integration to your project\n\nDepending on your platform of integration, follow these steps below to add Leanplum to your project:\n\n1.  Open your `app/build.gradle` (Module: app) file, and add the following.\n\n```\nrepositories {\n    mavenCentral()\n}\n```\n\n2.  Add the following under `dependencies` section:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.+'\nimplementation 'com.rudderstack.android.integration:leanplum:1.+'\nimplementation 'com.leanplum:leanplum-core:5+'\n```\n\n3.  Change the SDK initialization to the following:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(LeanPlumIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\n1.  Open the `Podfile` of your project and add the following:\n\n2.  Run the `pod install` command.\n3.  Add the imports to your `AppDelegate.m` file:\n\n```\n#import \"RudderLeanplumFactory.h\"\n```\n\n3.  Change the SDK initialization as shown:\n\n```\nRudderConfigBuilder *builder = [[RudderConfigBuilder alloc] init];\n[builder withEndPointUrl:DATA_PLANE_URL];\n[builder withFactory:[RudderLeanplumFactory instance]];\n[RudderClient getInstance:WRITE_KEY config:[builder build]];\n```\n\n1.  Add the following to the `dependencies` section of your `pubspec.yaml` file.\n\n```\nrudder_integration_leanplum_flutter: ^1.0.1\n```\n\n2.  Install the dependency added in the above step:\n\n3.  Import `RudderIntegrationLeanplumFlutter` in your application where you want to initialize the SDK.\n\n```\nimport 'package:rudder_integration_leanplum_flutter/rudder_integration_leanplum_flutter.dart';\n```\n\n4.  Finally, change the SDK initialization:\n\n```\nfinal RudderController rudderClient = RudderController.instance;\nRudderConfigBuilder builder = RudderConfigBuilder();\nbuilder.withFactory(RudderIntegrationLeanplumFlutter());\nrudderClient.initialize(<write_key>, config: builder.build(), options: null);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For iOS, Leanplum needs to be linked either as a dynamic or static framework with your application. You can do so by adding the following lines to your `Podfile`:\n> \n> ```\n> use_frameworks! :linkage=> :static // linking statically\n> \n> # OR\n> \n> use_frameworks! :linkage=> :dynamic // linking dynamically\n> ```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note the following:\n> \n> *   The RudderStack SDKs store the user traits from the `identify` call in `SharedPreference` and `NSUserDefaults` for Android and iOS respectively.\n> *   If RudderStack detects `userId` in the persisted traits information, it starts the native SDK along with it. If it is unable to find `userId`, RudderStack initializes the SDK without it. This is helpful in building a better session.\n> *   For a persisted `userId`, the code for Android is `Leanplum.start(applicationContext, userId)`. If `userId` is absent, it is `Leanplum.start(applicationContext)`. RudderStack follows a similar pattern for iOS as well.\n> *   While searching for the user identifier in the persisted traits, RudderStack looks for either `userId` or `id`.\n\n## Identify\n\nRudderStack uses the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to populate and send user information to Leanplum.\n\nNote that:\n\n*   RudderStack uses the `setUserId` method of the Leanplum SDK to set the user’s identifier (`userId`).\n*   It passes all the properties present in the event’s `context.traits` to the Leanplum SDK’s `setUserAttributes` method, which populates them in Leanplum.\n\nThe following snippet highlights a sample `identify` call:\n\n```\n[[RudderClient sharedInstance] identify:@\"developer_user_id\"\n                                 traits:@{@\"email\": @\"bar@foo.com\"}];\n```\n\n## Track\n\nRudderStack forwards the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events to Leanplum without any modification to the payload, as long as the event name is not `null`.\n\nThe following snippet highlights a sample `track`call:\n\n```\n[[RudderClient sharedInstance] track:@\"Accepted Terms of Service\"\n                          properties:@{\n                                  @\"foo\": @\"bar\",\n                              @\"foo_int\": @134\n}];\n```\n\n## Screen\n\nLeanplum supports tracking the user states. RudderStack uses the [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) calls to advance the user’s states to LeanPlum. For every `screen` event, RudderStack calls the `advanceTo` method of the Leanplum SDK along with the screen name and the associated event properties.\n\nRudderStack also sends the automatically tracked `screen` events to LeanPlum.\n\nThe following snippet highlights a sample `screen` call:\n\n```\n[[RudderClient sharedInstance] screen:@\"Main\"];\n```\n\n## Reset\n\nYou can use the `reset` method to clear the user identification in Leanplum. RudderStack calls `clearUserContent` method of the Leanplum SDK to clear the persisted user data.\n\nThe following snippet highlights a sample `reset` call:\n\n```\n[[RudderClient sharedInstance] reset];\n```\n\n## Debugging\n\nRudderStack sets the verbose logging for development mode for the Leanplum Native SDK, based on the `logLevel` set during the SDK initialization.\n\nIf the `logLevel` is set as `DEBUG` or more, RudderStack enables logging using the `enableVerboseLoggingInDevelopmentMode` method of the Leanplum SDK.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Leanplum | RudderStack Docs",
  "description": "Send your event data from RudderStack to Leanplum.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/impact-com/",
  "markdown": "# impact.com | RudderStack Docs\n\nSend your event data from RudderStack to impact.com.\n\n* * *\n\n*     5 minute read  \n    \n\n[impact.com](https://impact.com/) is a global partnership management platform that helps in managing and scaling different partnerships, such as affiliates, influencers, strategic business partners, mobile apps, commerce content publishers, B2B, and more.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/impact).\n\n## Getting started\n\nRudderStack supports sending events to impact.com via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to impact.com, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Impact Radius**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure impact.com as a destination, you will need to configure the following settings:\n\n*   **Account SID**: Enter the account SID present in the **Settings** > **API** option in the [impact.com dashboard](https://app.impact.com/login.user).\n*   **API Key**: Enter the auth token present in the **Settings** > **API** option in the impact.com dashboard.\n*   **Campaign Id**: Enter the campaign ID present in the **Account** > **Programs** option in your the impact.com dashboard:\n\n[![Campaign ID Impact](https://www.rudderstack.com/docs/images/event-stream-destinations/campaign-id-impact.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/campaign-id-impact.webp)\n\n*   **Impact App Id**: Enter the system app ID present in the **Settings** > **Mobile Apps** option in the impact.com dashboard.\n*   **Event Type Id**: Enter the ID present in the **Settings** > **Event Type** option in the impact.com dashboard.\n*   **Enable to hash email**: Enable this setting to hash the `email` field in SHA1 format. Keep it disabled in case it is already hashed.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> impact.com expects the `email` field in a hashed format. Otherwise, the events will fail. Hence, if you are sending the `email` in a plain text format, make sure to enable this setting.\n\n*   **Additional parameters mapping**: Enter the property mappings from RudderStack to impact.com for any additional parameters (other than the default ones mentioned in the sections below).\n*   **Custom mapping for Products**: Enter the custom property mappings for the `products` array.\n*   **Enable Identify Events**: Enable this setting to send the `identify` events.\n*   **Enable Page Events**: Enable this setting to send the `page` events.\n*   **Enable Screen Events**: Enable this setting to send the `screen` events.\n*   **Action Event Names**: Enter the list of event names you want to track as user actions.\n*   **Install Event Names**: Enter the list of event names corresponding to the app install events.\n\n## Identify\n\nYou can send an [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to impact.com via the [`PageLoad` endpoint](https://integrations.impact.com/impact-brand/reference/create-a-pageload). It allows impact.com to update the user identifiers for an accurate correlation.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n  email: \"alex@example.com\",\n});\n```\n\n### Property mappings\n\nThe following table lists the mappings between RudderStack and impact.com properties:\n\n| RudderStack property | impact.com property |\n| --- | --- |\n| `context.device.id` | `AppleIfv` |\n| `context.app.name` | `AppName` |\n| `context.app.build` | `AppPackage` |\n| `context.app.version` | `AppVer` |\n| `settings.campaignId` | `CampaignId` |\n| `context.traits.email`  <br>`properties.email` | `CustomerEmail` |\n| `userId` | `CustomerId` |\n| `anonymousId` | `CustomProfileId` |\n| `context.network.carrier` | `DeviceCarrier` |\n| `context.locale` | `DeviceLocale` |\n| `context.device.manufacturer` | `DeviceMfr` |\n| `context.device.model` | `DeviceModel` |\n| `context.device.type`  <br>`context.os.name` | `DeviceOs` |\n| `context.os.version` | `DeviceOsVer` |\n| `timestamp`  <br>`originalTimestamp` | `EventDate` |\n| `context.device.id` | `GoogAId` |\n| `context.ip` | `IpAddress` |\n| `context.page.url`  <br>`properties.url`  <br>`context.page.referrer`  <br>`context.referrer.url` | `PageUrl` |\n| `context.referrer.url`  <br>`context.page.referrer` | `ReferringUrl` |\n| `context.userAgent` | `UserAgent` |\n| `context.device.advertisingId` | `AppleIfa` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> At least one of the `userId`, `anonymousId`, `context.device.id`, or `context.device.advertisingId` parameters is required to make an `identify` call successfully.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nRudderStack sends the `track` events listed in the **Action Event Names** and **Install Event Names** dashboard settings to impact.com using the [`Conversions` endpoint](https://integrations.impact.com/impact-brand/reference/submit-a-conversion). All the other `track` events are sent using the [`PageLoad` endpoint](https://integrations.impact.com/impact-brand/reference/create-a-pageload).\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  order_id: \"1234\",\n  shipping: 22,\n  tax: 1,\n  discount: 1.5,\n  coupon: \"ImagePro\",\n  currency: \"USD\",\n  products: [{\n      sku: \"G-32\",\n      name: \"Monopoly\",\n      price: 14,\n      quantity: 1,\n      category: \"Games\",\n      brand: \"top\"\n    },\n    {\n      sku: \"G-34\",\n      name: \"Monopoly\",\n      price: 16,\n      quantity: 3,\n      category: \"Games\",\n      brand: \"top\"\n    },\n  ],\n})\n```\n\n### Property mappings\n\nThe following table lists the mappings between RudderStack and impact.com properties:\n\n| RudderStack property | impact.com property |\n| --- | --- |\n| `properties.orderId`  <br>`properties.order_id`  <br>`properties.transactionID`  <br>`properties.checkout_id`  <br>Required | `OrderId` |\n| `timestamp`  <br>`originalTimestamp`  <br>Required | `EventDate` |\n| `event`  <br>Required, if settings.eventTypeId is absent. | `EventTypeCode` |\n| `settings.eventTypeId`  <br>Required, if event is absent. | `EventTypeId` |\n| `context.device.adTrackingEnabled` | `TrackingConsent` |\n| `context.device.advertisingId` | `AppleIfa` |\n| `context.device.id` | `AppleIfv` |\n| `context.app.name` | `AppName` |\n| `context.app.build` | `AppPackage` |\n| `context.device.id` | `AndroidId` |\n| `context.app.version` | `AppVer` |\n| `settings.campaignId` | `CampaignId` |\n| `context.referrer.id`  <br>`properties.clickId` | `ClickId` |\n| `properties.currency` | `CurrencyCode` |\n| `context.traits.email`  <br>`properties.email` | `CustomerEmail` |\n| `userId` | `CustomerId` |\n| `context.traits.status` | `CustomerStatus` |\n| `anonymousId` | `CustomProfileId` |\n| `context.network.carrier` | `DeviceCarrier` |\n| `context.locale` | `DeviceLocale` |\n| `context.device.manufacturer` | `DeviceMfr` |\n| `context.device.model` | `DeviceModel` |\n| `context.device.type`  <br>`context.os.name` | `DeviceOs` |\n| `context.os.version` | `DeviceOsVer` |\n| `context.device.advertisingId` | `GoogAId` |\n| `context.ip`  <br>`request_ip` | `IpAddress` |\n| `properties.products[i].brand` | `ItemBrand{i}` |\n| `properties.products[i].category` | `ItemCategory{i}` |\n| `properties.products[i].name` | `ItemName{i}` |\n| `properties.products[i].price` | `ItemPrice{i}` |\n| `properties.products[i].coupon` | `ItemPromoCode{i}` |\n| `properties.products[i].quantity` | `ItemQuantity{i}` |\n| `properties.products[i].sku` | `ItemSku{i}` |\n| `context.location.latitude` | `Latitude` |\n| `context.location.longitude` | `Longitude` |\n| `properties.discount` | `OrderDiscount` |\n| `properties.coupon`  <br>`properties.coupon_id` | `OrderPromoCode` |\n| `properties.shipping` | `OrderShipping` |\n| `properties.tax` | `OrderTax` |\n| `context.referrer.url`  <br>`context.page.referrer` | `ReferringUrl` |\n| `context.page.url`  <br>`properties.url`  <br>`context.page.referrer`  <br>`context.referrer.url` | `PageUrl` |\n| `context.userAgent` | `UserAgent` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Apart from the required properties mentioned above, at least one of the `context.referrer.id`/`properties.clickId`, `userId`, `anonymousId`, `properties.coupon`/`properties.coupon_id`, `context.device.id`, `context.device.advertisingId`, or `context.device.id` is required to make a `track` call successfully.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) method lets you record your website’s page views with any additional relevant information about the viewed page. You can send a `page` call to impact.com via the [`PageLoad` endpoint](https://integrations.impact.com/impact-brand/reference/create-a-pageload).\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"category\", \"name\", {\n      path: \"path\",\n      url: \"url\",\n      title: \"title\"\n    }\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The property mappings for `page` call are exactly the same as `identify` call. Refer to the [property mappings](#property-mappings) section for more details.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional relevant information about the screen. You can send a `screen` call to impact.com via the [`PageLoad` endpoint](https://integrations.impact.com/impact-brand/reference/create-a-pageload).\n\nA sample `screen` call is as shown:\n\n```\n[\n  [RSClient sharedInstance] screen: @ \"Sample Screen Name\"\n  properties: @ {\n    @ \"prop_key\": @ \"prop_value\"\n  }\n];\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The property mappings for `screen` call are exactly the same as `identify` call. Refer to the [property mappings](#property-mappings) section for more details.\n\n## FAQ\n\n#### How can I debug the impact.com errors?\n\nAny errors may arise due to the failed pathing, invalid parameters, authentication errors, and network unavailability. Refer to the [impact.com Errors documentation](https://integrations.impact.com/impact-brand/reference/errors) for more information. Additionally, you can also refer to their [Rate Limits documentation](https://integrations.impact.com/impact-brand/reference/rate-limits) for more information on the API call limits.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "impact.com | RudderStack Docs",
  "description": "Send your event data from RudderStack to impact.com.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mautic/",
  "markdown": "# Mautic | RudderStack Docs\n\nSend your event data from RudderStack to Mautic.\n\n* * *\n\n*     5 minute read  \n    \n\n[Mautic](https://www.mautic.org/) is an open-source marketing automation platform. It enables you to segment your contacts based on business requirements, personalize your marketing strategy, and create personalized campaigns for better customer engagement.\n\nRudderStack supports Mautic as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to Mautic via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Mautic, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Mautic**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Mautic as a destination, you will need to configure the following settings:\n\n*   **Username**: Enter the username associated with your Mautic account.\n*   **Password**: Enter the password for the above username.\n*   **Domain Method**: Choose the preferred domain method from **Domain** or **Subdomain**. It is recommended to use **Domain** if you have a self-hosted Mautic instance.\n    *   **Domain Name**: Specify the domain name if you have chosen **Domain** above.  \n        OR\n    *   **Subdomain Name**: Specify the subdomain associated with your Mautic instance if you have chosen **SubDomain** above. For example, if the root URL of your Mautic instance is `customdomain.domain.com`, then your subdomain name will be `customdomain`.\n*   **Mautic property name to used as lookup field**: Enter a unique Mautic user property which RudderStack will use for contact lookup.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack will retrieve this property from the user traits in the event.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to [create](https://developer.mautic.org/?json#create-contact) or update a user in Mautic.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  state: \"Louisiana\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  title: \"Mr\",\n  zipcode: \"90009\",\n  prospectOrCustomer: \"Customer\",\n  country: \"USA\",\n  website: \"www.alex.com\",\n  subscriptionStatus: \"New\",\n  phone: \"12025550146\",\n});\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the **optional** RudderStack and Mautic properties:\n\n| RudderStack property | Mautic property | Data type |\n| --- | --- | --- |\n| `context.traits.email` / `traits.email` / `properties.email`/`context.externalId.id` | `email` | String |\n| `traits.title` / `context.traits.title` | `title` | String |\n| `traits.firstName` / `traits.firstname` / `traits.first_name` / `context.traits.firstName` / `context.traits.firstname` / `context.traits.first_name` | `firstname` | Any |\n| `traits.lastName` / `traits.lastname` / `traits.last_name` / `context.traits.lastName` / `context.traits.lastname` / `context.traits.last_name` | `lastname` | Any |\n| `timestamp` / `originalTimestamp` | `last_active` | Timestamp in ISO 8601 format |\n| `phone` | `phone` / `mobile` | Any |\n| `traits.address.city` | `city` | String |\n| `traits.address.addressLine1`/ `context.traits.address.addressLine1` | `address1` | String |\n| `traits.address.addressLine2`/ `context.traits.address.addressLine2` | `address2` | String |\n| `traits.address`/ `context.traits.address` | `address1` + `address2` | String |\n| `traits.company.employeeCount` | `company_size` | Integer |\n| `traits.role` / `context.traits.role` | `role` | String |\n| `traits.website` / `context.traits.website` / `properties.website` | `website` | String |\n| `context.ip` | `IP` | String |\n| `context.timezone` | `timezone` | String |\n| `traits.subscriptionStatus` / `context.traits.subscriptionStatus` | `subscription_status` | String |\n| `traits.prospectOrCustomer` / `context.traits.prospectOrCustomer` | `prospect_or_customer` | String |\n| `traits.hasPurchased` / `context.traits.hasPurchased` | `haspurchased` | String |\n| `traits.state`/ `context.traits.state` | `state` | String |\n| `traits.zipcode` / `context.traits.zipcode` / `traits.zip` / `context.traits.zip` | `zipcode` | String |\n| `traits.country` / `context.traits.country` | `country` | String (Starting with a capital letter) |\n\n### Getting contact details\n\nThe easiest way to retrieve contact details of an existing user in Mautic is by specifying the unique user trait in the **Mautic property name to used as lookup field** dashboard setting. RudderStack will look for this property in the event’s `traits` or `context.traits` and use the value for contact lookup.\n\nIf the events do not contain the property specified in the above setting, then:\n\n*   RudderStack uses the `email` property in the event.\n*   If `email` is not present, RudderStack then [creates a new contact](https://developer.mautic.org/?json#create-contact) in Mautic.\n\nOptionally, you can also pass the contact ID in your event’s `externalId`:\n\n```\n{\n  \"context\": {\n    \"externalId\": [{\n      \"type\": \"mauticContactId\",\n      \"id\": \"1hKOmRA4GRlm\"\n    }]\n  }\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack checks if `externalId.type` is set to `mauticContactId` before using the `id` field for contact lookup.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The contact ID passed in your event’s `externalId` takes precedence over the user property specified in the **Mautic property name to used as lookup field** dashboard setting.\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to link or delink a Mautic contact with a segment, campaign, or a company.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  \"name\": \"Alex Keener\",\n  \"type\": \"Segments\",\n  \"operation\": \"add\"\n});\n```\n\nRudderStack uses the `type` trait present in the `group` call to link or delink a Mautic user to a segment, campaign, or company. You can add or remove a user to a group using the `operation` trait. If this field is not explicitly set, RudderStack sets it to `add` by default.\n\nThe following table lists the supported `group` traits:\n\n| RudderStack property | Presence | Notes |\n| --- | --- | --- |\n| `traits.type` | Required | You can set it to `Segments`, `Campaigns`, or `Companies`. |\n| `traits.operation` | Optional | If not set, RudderStack sets it to `add` by default. |\n\nSimilar to the [`identify`](#getting-contact-details) call above, RudderStack retrieves the contact ID from the `group` call in the following order of precedence:\n\n1.  If `externalId` is present, RudderStack checks if the `type` is set to `mauticContactId`. If yes, it uses the `id` field for the contact lookup.\n2.  If you have specified a unique user property in the **Mautic property name to used as lookup field** dashboard setting, RudderStack will look for this property in the event’s `traits` or `context.traits` and use it for the contact lookup.\n3.  If the events do not contain the property specified in the above setting, then:\n    *   RudderStack uses the `email` property in the event.\n    *   If `email` is not present, RudderStack then gives an error.\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Mautic properties:\n\n*   [Assigning a single contact to a segment](https://developer.mautic.org/?json#add-contact-to-a-segment)\n\n| RudderStack property | Mautic property |\n| --- | --- |\n| `groupId`  <br>`traits.groupId`  <br>Required | `SegmentId` |\n| `traits.email`  <br>`context.traits.email`  <br>Required, if `externalId` and `lookupField` are absent. | `email` |\n| `message.context.externalId[x].id` for type `mauticContactId` | `CONTACT_ID` |\n\n*   [Assigning a contact to a campaign](https://developer.mautic.org/?json#add-contact-to-a-campaign)\n\n| RudderStack property | Mautic property |\n| --- | --- |\n| `groupId`  <br>`traits.groupId`  <br>Required | `CampaignId` |\n| `traits.email`  <br>`context.traits.email`  <br>Required, if `externalId` and `lookupField` are absent. | `email` |\n| `message.context.externalId[x].id` for type `mauticContactId` | `CONTACT_ID` |\n\n*   [Assigning a contact to a company](https://developer.mautic.org/?json#add-contact-to-a-company)\n\n| RudderStack property | Mautic property |\n| --- | --- |\n| `groupId`  <br>`traits.groupId`  <br>Required | `company_id` |\n| `traits.email`  <br>`context.traits.email`  <br>Required, if `externalId` and `lookupField` are absent. | `email` |\n| `message.context.externalId[x].id` for type `mauticContactId` | `CONTACT_ID` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mautic | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mautic.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/intercom/",
  "markdown": "# Intercom destination | RudderStack Docs\n\nSend your event data from RudderStack to Intercom.\n\n* * *\n\n*     9 minute read  \n    \n\n[Intercom](https://www.intercom.com/) is a real-time business messaging platform that lets you manage all your customer lifecycle activities in a single platform.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/intercom).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This destination supports Intercom API v2.1 for [cloud mode integration](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n> \n> For existing Intercom destination integrations that leverage API v1.4, the RudderStack team will handle the migration internally. See the [Changelog](https://www.rudderstack.com/docs/destinations/streaming-destinations/intercom/changelog/) for more information.\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Intercom**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Intercom as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Access Token**: Enter your Intercom API access token. You can obtain the token by going to your Intercom dashboard and navigating to **Settings** > **Apps & Integrations** > **Developer Hub**. Then, select your app and go to **Configure** > **Authentication**. For more information, see [Intercom documentation](https://developers.intercom.com/building-apps/docs/authentication-types#how-to-get-your-access-token).\n*   **Intercom REST API Version**: Select your Intercom REST API Version from the dropdown as **1.4** or **latest**.\n*   **API Server**: Select your Intercom workspace server. By default, RudderStack sets it to **Standard** (US) and provides two other options - **EU** (Europe) and **AU** (Australia).\n*   **Send AnonymousId as Secondary UserId**: Toggle on this setting to send anonymous ID as the secondary user ID.\n*   **OneTrust cookie consent settings**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Intercom.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Intercom.\n\nRudderStack supports sending events to Intercom via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | **Supported** | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Intercom native SDK from the `https://widget.intercom.io/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Intercom SDK successfully.\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Intercom:\n\n*   **Send AnonymousId as Secondary UserId**: Turn on this option to send `anonymousId` as the user ID to Intercom when the `userId` is absent from the event payload.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   This setting is applicable only when sending events in cloud mode.\n> *   It is helpful for tracking anonymous users on your site. For more information on the scenario where this setting is useful, see [FAQ](#faq) section below.\n\n*   **Android API Key** / **iOS API Key**: This is required for sending events from your mobile apps to Intercom. You can get it from your Intercom dashboard by going to **Settings** > **Installation** and selecting the relevant platform. Note that this setting is applicable only when sending events in device mode.\n\n#### **Other settings**\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Intercom. For more information on this setting, see [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/).\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Intercom.\n\n## Adding device mode integration\n\nDepending on your platform of integration, follow the steps below to add Intercom to your project:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Your Android app must be on **version 5.0 (API level 21) or higher** for RudderStack to be able to send events to Intercom.\n\nFollow these steps to add Intercom to your Android project:\n\n1.  In your app-level `build.gradle` file, add the following `repository`:\n\n```\nrepositories {\n    mavenCentral()\n}\n```\n\n2.  Add the following under `dependencies`:\n\n```\n// Rudder core sdk and intercom extension\nimplementation 'com.rudderstack.android.sdk:core:1.0.2'\nimplementation 'com.rudderstack.android.integration:intercom:0.1.1'\n\n// intercom core sdk\nimplementation 'io.intercom.android:intercom-sdk-base:6.+'\n\n// gson\nimplementation 'com.google.code.gson:gson:2.8.6'\n\n// FCM\nimplementation 'com.google.firebase:firebase-messaging:20.2.0'\n```\n\n3.  Change the SDK initialization as follows:\n\n```\n// initialize Rudder SDK\nval rudderClient: RudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(IntercomIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\nTo add the RudderStack iOS SDK to your project, follow these steps:\n\n1.  Add the required pod followed by `pod install`:\n\n2.  Initialize the SDK as follows:\n\n```\nRSConfigBuilder *builder = [[RSConfigBuilder alloc] init];\n[builder withDataPlaneUrl:DATA_PLANE_URL];\n[builder withFactory:[RudderIntercomFactory instance]];\n[builder withLoglevel:RSLogLevelDebug]; // optional\n[RSClient getInstance:WRITE_KEY config:[builder build]];\n```\n\n3.  Add a **Privacy - Photo Library Usage Description** entry to your `Info.plist`. This is [required by Apple](https://developer.apple.com/library/content/qa/qa1937/_index.html) for applications that can access the photo library.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Users will be prompted for the permission to access the photo library only when they tap the button to upload their images.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call captures the details about a visiting user.\n\nA sample`identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  company: {\n    id: \"group01\",\n    name: \"Tech Group\",\n  },\n  createdAt: \"Mon May 19 2019 18:34:24 GMT+0000 (UTC)\",\n})\n```\n\n### Using `identify` calls\n\nYou can use the `identify` call to create or update user information in Intercom, as explained below:\n\n*   **Create/update a user**: When you make an`identify` call, RudderStack creates or updates the user in Intercom.\n*   **Remove users from a company**: To remove users from a company, you can pass `remove: true` inside the `company` object:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  company: {\n    id: \"group01\",\n    name: \"Tech Group\",\n    remove: true\n  },\n  createdAt: \"Mon May 19 2019 18:34:24 GMT+0000 (UTC)\",\n})\n```\n\n*   **Unsubscribe users**: To unsubscribe users from emails, you can pass `unsubscribedFromEmails: true` inside the `context` object:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  company: {\n    id: \"group01\",\n    name: \"Tech Group\",\n  },\n  unsubscribedFromEmails: true,\n  createdAt: \"Mon May 19 2019 18:34:24 GMT+0000 (UTC)\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack does not support Intercom’s **Last Seen** feature currently.\n\n### Traits mapping\n\nThe following table lists the mapping of the RudderStack traits to the Intercom properties:\n\n| RudderStack trait | Intercom property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required, if `email` is absent. | `external_id` |\n| `traits.email`  <br>`context.traits.email`  <br>Required, if `userId` is absent. | `email` |\n| `traits.phone`  <br>`context.traits.phone` | `phone` |\n| `traits.avatar`  <br>`context.traits.avatar` | `avatar` |\n| `traits.name`  <br>`context.traits.name` | `name` |\n| `traits.role`  <br>`context.traits.role` | `role` |\n| `traits.ownerId`  <br>`context.traits.ownerId` | `owner_id` |\n| `traits.createdAt`  <br>`context.traits.createdAt` | `signed_up_at` |\n| `traits.unsubscribedFromEmails`  <br>`context.traits.unsubscribedFromEmails` | `unsubscribed_from_emails` |\n| `context.traits.lastSeenAt`  <br>`last_seen_at` | `last_seen_at` |\n\n### Identity verification\n\nIntercom’s [identity verification](https://www.intercom.com/help/en/articles/183-enable-identity-verification-for-web-and-mobile) feature ensures the privacy of the conversations between you and your users. It also makes sure that one user cannot impersonate another.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports the identity verification feature for the events sent through the **web device mode**.\n\nTo use the identity verification feature in web device mode, you can pass `user_hash` within the [integrations](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#integrationopts) object, as shown in the following snippet:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    name: \"Alex Keener\",\n    country: \"USA\"\n  }, {\n    Intercom: {\n      user_hash: \"9c56cc51b374c3ba189210d5b6d4bf57790d351c96c47c02190ecf1e430635ab\",\n    },\n  }\n);\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `user_hash` is a SHA256 hash of your Intercom API secret and the `userId`. Note that this hash is **not** based on the user’s email.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To obtain your Intercom API secret, go to your Intercom dashboard and navigate to **Settings** > **Apps & Integrations** > **Developer Hub**. Then select your app and go to **Configure** > **Basic information**. You will find the API secret listed here under **Client secret**.\n\n### Deleting a user\n\nYou can delete a user in Intercom using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#adding-a-suppression-with-delete-regulation) of the RudderStack [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To delete a user, you must specify their `userId` in the event. Additionally, you can specify a custom identifier (optional) in the event.\n\nA sample regulation request body for deleting a user in Intercom is shown below:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n    \"userId\": \"1hKOmRA4GRlm\",\n    \"<customKey>\": \"<customValue>\"\n  }]\n}\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you track user’s actions along with any properties associated with those actions.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must identify a user with a valid `userId` or `email` before making any `track` calls to Intercom.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  order_id: \"140021222\",\n  email: \"alex@example.com\",\n  checkout_id: \"EAP3211\",\n  products: \"Sports Shoes\",\n  total: 145.99,\n  currency: \"USD\"\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   To send a `track` call to Intercom successfully, you must include any one of the `userId` or `email` fields.\n> *   RudderStack converts and sends all `track` event properties as per the [Intercom API](https://developers.intercom.com/intercom-api-reference/reference#event-metadata-types).\n\n### Properties mapping\n\nThe following table lists the mapping of the RudderStack `track` properties to the Intercom properties:\n\n| RudderStack property | Intercom property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required, if `email` is absent. | `user_id` |\n| `traits.email`  <br>`context.traits.email`  <br>Required, if `userId` is absent. | `email` |\n| `event`  <br>Required | `event_name` |\n| `timestamp` | `created` |\n| `properties` | metadata |\n| `properties.id`  <br>`traits.id` | `id` |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `page` call is supported **only** for the [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) when sending events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode). It works by triggering Intercom’s `update` method, which looks for a list of new open conversations to be displayed to the current user.\n\nA sample `page` call looks like the following code snippet:\n\n```\nrudderanalytics.page(\"Best Seller\")\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user to a group like a company, organization, or an account. Along with that, you can [add tags to a company](https://developers.intercom.com/docs/references/rest-api/api.intercom.io/tags/createtag).\n\nRudderStack uses this information to [create or update a company](https://developers.intercom.com/intercom-api-reference/reference/createorupdatecompany) in Intercom using their `/companies` endpoint.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group123\", {\n  name: \"companyName\",\n  industry: \"IT\",\n  employees: 450\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack requires a `groupId` (`group123` in the above example) to send `group` events to Intercom. It maps this field to Intercom’s `company_id` field.\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack `group` traits to the Intercom properties:\n\n| RudderStack trait | Intercom property |\n| --- | --- |\n| `groupId`  <br>Required | `company_id` |\n| `name` | `name` |\n| `website` | `website` |\n| `traits.plan`  <br>`context.traits.plan` | `plan` |\n| `traits.size`  <br>`context.traits.size` | `size` |\n| `traits.industry`  <br>`context.traits.industry` | `industry` |\n| `traits.monthlySpend`  <br>`context.traits.monthlySpend` | `monthly_spend` |\n| `traits.remoteCreatedAt`  <br>`context.traits.remoteCreatedAt` | `monthly_spend` |\n| `traits` | `custom_attributes` |\n| `context.traits.tags` | Maps to tag names in Intercom |\n\n## Reset\n\nThe `reset` method resets the previously identified user and any related information.\n\nTo reset user identification in your Android app, run the following command:\n\nTo reset user identification in your iOS app, run the following command:\n\n```\n[[RSClient sharedInstance] reset];\n```\n\n## User lookup\n\nRudderStack supports user lookup in `identify` and `group` calls. By default, it performs the lookup using the `email` field. However, you can provide a custom field for the lookup using the event’s `integrations` object.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure the field you are passing for the lookup is present in the event.\n\nA sample `identify` event highlighting this feature:\n\n```\nrudderanalytics.identify('1hKOmRA4el9Z', {\n  email: 'alex@example.com',\n  phone: '+1-202-555-0146',\n}, {\n  integrations: {\n    INTERCOM: {\n      lookup: 'phone'\n    }\n  }\n});\n```\n\n## Troubleshooting\n\n| Error | Reason | Solution |\n| --- | --- | --- |\n| Cannot have more than 120 active event names | You have sent more than 120 event names in your `track` calls.<br><br>Once the event limit is reached, Intercom does not store any new events and returns this error. | Archive any unused events in your Intercom dashboard by going to **Settings** > **Intercom Data** > **Events**.<br><br>See [Intercom documentation](https://www.intercom.com/help/en/articles/5245634-event-limits-troubleshooting-and-f-a-q#h_9b866dcfb0) for more information. |\n\n## FAQ\n\n#### Does RudderStack support Intercom’s push notification and deep linking features?\n\nNone of the RudderStack SDKs support push notifications and deep linking features currently. See [Intercom documentation](https://developers.intercom.com/installing-intercom/docs) for more information on configuring these features for your project.\n\n#### What happens if both `userId` or `email` are missing in the `identify` / `track` calls sent to Intercom?\n\nFor both `identify` and `track` calls, either `userId` or `email` is a mandatory field. In case both these fields are missing, RudderStack will drop the event.\n\nIt is highly recommended to toggle on the [Send AnonymousId as Secondary UserId](#connection-settings) setting in your RudderStack dashboard to avoid any event loss in such a scenario.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Intercom destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Intercom.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/launchdarkly/",
  "markdown": "# LaunchDarkly | RudderStack Docs\n\nSend your event data from RudderStack to LaunchDarkly.\n\n* * *\n\n*     3 minute read  \n    \n\n[LaunchDarkly](https://launchdarkly.com/) is a popular feature management platform that offers cutting-edge A/B testing and experimentation functionalities. It lets you efficiently automate and manage feature flags and improve overall product workflow and software quality.\n\nRudderStack supports LaunchDarkly as a destination to which you can seamlessly send your data for flag management.\n\n## Getting started\n\nRudderStack supports sending event data to LaunchDarkly via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the LaunchDarkly native SDK is loaded from `https://unpkg.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the LaunchDarkly SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to LaunchDarkly, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **LaunchDarkly**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure LaunchDarkly as a destination, you will need to configure the following settings:\n\n[![LaunchDarkly connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-connection-settings.webp)\n\n*   **Client-side ID**: Enter the client-side ID of your LaunchDarkly project.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting the LaunchDarkly client-side ID, refer to the [FAQ](#faq) section below.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you create or update a user in LaunchDarkly.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must call `identify` before making any `track` or `alias` calls.\n\nA sample `identify` call is as shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    anonymous: false,\n    avatar: \"https://avatarfiles.alphacoders.com/837/83744.jpg\",\n    country: \"USA\",\n    custom: {\n      favourite_color: \"black\"\n    },\n    email: \"alex@example.com\",\n    firstName: \"Alex\",\n    ip: \"12.23.34.45\",\n    lastName: \"Keener\",\n    name: \"Alex Keener\",\n    privateAttributeNames: [\"avatar\", \"country\"],\n    secondary: \"abcd21234\"\n  }\n);\n```\n\n### LaunchDarkly key\n\nRudderStack assigns the `userId` to LaunchDarkly’s `key` field to uniquely identify a user.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `key` is the only required field in LaunchDarkly’s `identify` call. If no unique identifier is provided, RudderStack will automatically assign `anonymousId` as `key`.\n\n### Supported traits\n\nThe following table lists the supported fields for the `traits` object in the `identify` call:\n\n| Field | Type | Presence | Description |\n| --- | --- | --- | --- |\n| `anonymous` | Boolean | Optional | Must be set to `true`. |\n| `avatar` | String | Optional | User’s avatar image URL. |\n| `country` | String | Optional | Country associated with the user. |\n| `custom` | Object | Optional | Additional attributes associated with the user. |\n| `email` | String | Optional | User’s email address. |\n| `firstName` | String | Optional | User’s first name. |\n| `ip` | String | Optional | User’s IP address. |\n| `lastName` | String | Optional | User’s last name. |\n| `name` | String | Optional | User’s full name. |\n| `privateAttributeNames` | String Array | Optional | List of attribute names (built-in or custom) marked as private and not sent to LaunchDarkly as analytics events. |\n| `secondary` | String | Optional | User’s secondary identifier. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you have chosen to bucket the users by a specific attribute, the `secondary` field can be used to further distinguish the users who are otherwise identical as per that attribute.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record user events and send them to LaunchDarkly as custom conversion metrics for your experiments.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> As mentioned above, you must call `identify` before sending any `track` events to LaunchDarkly.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Test Event\", {\n  foo: \"bar\"\n});\n```\n\n## Alias\n\nThe [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call lets you merge different identities of a known user. You can explicitly change the identity of a user via this call.\n\nA sample `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"newUserId\",\"userId\");\n```\n\n## FAQ\n\n#### Where do I get the LaunchDarkly Client-side ID?\n\nTo get your LaunchDarkly client-side ID, follow these steps:\n\n1.  Log into your [LaunchDarkly dashboard](https://app.launchdarkly.com/).\n2.  Select your project:\n\n[![LaunchDarkly projects](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-projects.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-projects.webp)\n\n3.  Then, navigate to **Account settings** > **Projects**.\n4.  You will see the client-side ID for your project here.\n\n[![LaunchDarkly client-side ID](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-clientsideID.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/launchdarkly-clientsideID.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "LaunchDarkly | RudderStack Docs",
  "description": "Send your event data from RudderStack to LaunchDarkly.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lemnisk/",
  "markdown": "# Lemnisk | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Lemnisk | RudderStack Docs",
  "description": "Send your event data from RudderStack to Lemnisk.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lemnisk/setting-up-lemnisk/",
  "markdown": "# Set up Lemnisk | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Lemnisk | RudderStack Docs",
  "description": "Set up Lemnisk as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-clarity/",
  "markdown": "# Microsoft Clarity | RudderStack Docs\n\nStep-by-step guide on sending your event data from RudderStack to Microsoft Clarity.\n\n* * *\n\n*     3 minute read  \n    \n\n[Microsoft Clarity](https://clarity.microsoft.com/) is a heatmaps and session recording tool. It helps you better understand how users are interacting with your website through session replays and heatmaps.\n\n## Getting started\n\nRudderStack supports sending event data to Microsoft Clarity via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Microsoft Clarity, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Microsoft Clarity**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Microsoft Clarity as a destination, you will need to configure the following settings:\n\n*   **Project ID**: Enter your Microsoft Clarity project ID. For more information on obtaining your Clarity project ID, refer to the [FAQ](#faq) section below.\n*   **Microsoft Clarity Cookie Consent**: Enable this setting to allow RudderStack to call the Microsoft Clarity API to track the users using a cookie.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Microsoft Clarity. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Microsoft Clarity.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) events to create a new user in Microsoft Clarity.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n});\n```\n\nBy default, Clarity uses cookies to track your users and gather the session data. You can configure your Clarity project to require [cookie consent](https://learn.microsoft.com/en-us/clarity/cookie-consent), that is, Clarity **will not** place a cookie until a user provides consent.\n\n[![Microsoft Clarity cookie consent enabled](https://www.rudderstack.com/docs/images/event-stream-destinations/clarity-cookie-consent.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/clarity-cookie-consent.webp)\n\nIn this case, to track the user sessions via the cookie, make sure you enable the **Microsoft Clarity Cookie Consent** setting in the RudderStack dashboard. This setting indicates that RudderStack can call the Clarity API to track the users via a cookie once a user provides consent.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If the **Cookies** setting is enabled in the Clarity project settings, then you need not enable the **Microsoft Clarity Cookie Consent** dashboard setting.\n\n### Supported mappings\n\nRudderStack maps the following `identify` attributes to the corresponding Microsoft Clarity properties:\n\n| RudderStack property | Microsoft Clarity property |\n| --- | --- |\n| `userId`  <br>Required | `customuserid` |\n| `context.sessionId` | `customsessionid` |\n| `context.traits.customPageId` | `custompageid` |\n\n## FAQ\n\n#### Where can I find the Microsoft Clarity project ID?\n\nTo get your Microsoft Clarity project ID, follow these steps:\n\n1.  Log into your [Microsoft Clarity dashboard](https://clarity.microsoft.com/projects).\n2.  Select your Microsoft Clarity project and go to **Settings** > **Overview** to get your project ID:\n\n[![Microsoft Clarity project ID](https://www.rudderstack.com/docs/images/event-stream-destinations/clarity-project-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/clarity-project-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Microsoft Clarity | RudderStack Docs",
  "description": "Step-by-step guide on sending your event data from RudderStack to Microsoft Clarity.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/",
  "markdown": "# Iterable destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Iterable destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Iterable.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/setting-up-iterable/",
  "markdown": "# Set up Iterable | RudderStack Docs\n\nSet up Iterable as a destination in RudderStack.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack supports sending events to Iterable via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | Supported |     |     |\n| **Cloud mode** | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Iterable, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Iterable**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Iterable as a destination, you will need to configure the following settings:\n\n*   **Iterable API Key**: Enter your Iterable API key. You can obtain it by going to the **API Configuration Settings** section in your Iterable account.\n\n### Other settings\n\n*   **Map All Pages to Single Event Name**: If this setting is enabled, all pages will be tracked to Iterable with the same event name.\n    *   For `page` events, RudderStack will set the event name as `Loaded a Page`.\n    *   For `screen` events, RudderStack will set the event name as `Loaded a Screen`.\n*   **Track All Pages**: If this setting is enabled, all page events will be sent to Iterable.\n*   **Track Categorized Pages**: If this setting is enabled, only pages with a category present will be tracked.\n*   **Track Named Pages**: If this setting is enabled, RudderStack will track only the pages having a name.\n*   **Create new user if userID exists**: If enabled, RudderStack creates a new user in Iterable if `userId` is present in the event using the `preferUserId` parameter. For more information, see Iterable’s [Update user data API](https://api.iterable.com/api/docs#users_updateUser).\n*   **Merge top-level objects**: If enabled, Iterable merges the top-level objects instead of overwriting them using the `mergeNestedObjects` parameter. For more information, see Iterable’s [Update user data API](https://api.iterable.com/api/docs#users_updateUser).\n\n### Web SDK settings\n\nThe following settings are applicable if you’re sending the events to Iterable via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the [Iterable web SDK (Beta)](https://github.com/Iterable/iterable-web-sdk):\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> It is highly recommended to use this method if you want to leverage Iterable’s web push notifications feature for your website.\n\n*   **Use device mode to send events**: Enable this setting to send your events to Iterable via web device mode.\n*   **Mapping to trigger the getInApp messages**: Use this setting to specify the event names for which you want to trigger the website push notifications.\n*   **Mapping to trigger the purchase events**: Use this setting to specify the event names for which you want to trigger the Iterable purchase events.\n*   **Identifier to identify a user over a session**: Select the identifier from **Email** and **UserID**. RudderStack uses this identifier to uniquely identify a user during the session.\n*   **Trigger a track event for web in-app push**: Enable this setting to track your website in-app push notifications.\n*   **Package Name**: Enter the name of your website for which the in-app notifications are shown.\n\n### In-app message settings\n\nThe following settings let you customize the on-screen position, timing, content, and behavior of the in-app notifications:\n\n*   Time (in ms) for messages to animate in and out\n*   Space (px or %) between screen bottom & messages\n*   Space (px or %) between screen right & messages\n*   Space (px or %) between screen top & messages\n*   Wait time for next message\n*   Control how to open links\n*   Screen Reader Text\n*   Focus Element\n*   Color of Close button\n*   Size of Close button\n*   Position\n*   Space between button & container top\n*   Space between button & container side\n*   Custom pathname\n*   Prevent user dismissing in-app message by clicking outside message\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to the Iterable destination.\n\n## Send data to Iterable catalogs\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This feature requires access to the `catalog` API. Contact your Iterable customer success manager to add the catalog feature to your Iterable account.\n\nRudderStack supports sending data to your Iterable [catalog](https://support.iterable.com/hc/en-us/articles/360033215152-Using-Catalog-) when connected to a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) source.\n\nWhile connecting a Reverse ETL source to the Iterable destination using the [Visual Data Mapper](https://www.rudderstack.com/docs/sources/reverse-etl/visual-data-mapper/#use-visual-data-mapper), you can see the Iterable catalogs listed in the **Object** dropdown :\n\n[![Iterable catalog](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-catalog-object.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-catalog-object.webp)\n\nYou can then map the catalog fields with warehouse columns where `Item ID` is a **required** field:\n\n[![Iterable catalog](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-catalog.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-catalog.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Verify that your Iterable account has access to the `catalog` API if RudderStack returns only the **User** object in the dropdown and does not show any catalog objects.\n\n## FAQ\n\n#### Where can I find the Iterable API key?\n\nYou can get the Iterable API key by navigating to **Integrations** > **API Keys**. For more information, refer to this [Iterable documentation](https://support.iterable.com/hc/en-us/articles/360043464871-API-Keys).\n\n#### What does the **Track Named Pages** setting imply?\n\nIf the **Track Named Pages** setting is enabled in the RudderStack dashboard, RudderStack will only track the pages that have a name assigned to them.\n\n#### What does the **Track Categorized Pages** imply?\n\nIf the **Track Categorized Pages** setting is enabled in the RudderStack dashboard, RudderStack will only track the pages that have a category assigned to them.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Iterable | RudderStack Docs",
  "description": "Set up Iterable as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/intercom/changelog/",
  "markdown": "# Intercom API v2.10 Migration Details\n\nConfiguration changes and differences in sending events when migrating from Intercom API v1.4 to v2.10.\n\n* * *\n\n*     4 minute read  \n    \n\nThis changelog contains the implementation and configuration changes while migrating your Intercom [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) integration from Intercom API v1.4 to v2.10.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For the existing users of the Intercom destination integration (based on API v1.4), the RudderStack team will do all the necessary migrations internally.\n\n## Configuration changes\n\nThe following configuration settings are removed from the RudderStack dashboard as they are no longer supported in Intercom API v2.10:\n\n| Setting | Comments |\n| --- | --- |\n| **Include Context with Identify Calls** | \\-  |\n| **Enable this to update the last seen to the current time** | Used to enable the `update_last_request_at` parameter in Intercom. |\n\nThe following configuration setting is added:\n\n| Setting | Comments |\n| --- | --- |\n| **API Server** | Select your Intercom workspace server.<br><br>By default, RudderStack sets it to **Standard** (US) and provides two other options: **EU** (Europe) and **AU** (Australia). |\n\nMake sure to review the following sections to accurately send your events to Intercom.\n\n### Set the API server\n\nA new configuration setting **API Server** is introduced in the new Intercom implementation. For migrating all the existing destination integrations, RudderStack will set this field to **Standard** by default.\n\nIf you have an existing Intercom destination integration and your Intercom regional hosting is either **EU** or **AU**, make sure to update this setting in the dashboard.\n\n### Send custom attributes\n\n**You need to ensure that the custom attributes you are sending to Intercom in your `identify` and `group` events are defined in the Intercom dashboard already. Otherwise, your events might fail.**\n\nRudderStack supports sending custom attributes (`custom_attributes`) to Intercom at a user and company level (`identify` and `group` calls).\n\nIn the older implementation leveraging Intercom API v1.4, you could send a custom attribute that was not defined in the Intercom dashboard already. Intercom did not validate the attribute and created a new custom attribute instead. In the new implementation, Intercom validates the custom attribute first, meaning it throws an error if a custom attribute present in the event is not defined in the Intercom dashboard already.\n\nFor more information on creating and sending custom attributes to Intercom, see the [Intercom documentation](https://www.intercom.com/help/en/articles/179-send-custom-user-attributes-to-intercom).\n\n#### **Use case**\n\nThe following use case highlights how RudderStack considers and sends custom attributes to Intercom in the new API implementation.\n\nSuppose you send the following `identify` call to Intercom:\n\n```\nrudderanalytics.identify(\n  \"alex98\", {\n    name: \"Alex Keener\",\n    createdAt: \"2024-01-05T19:11:00.337Z\",\n    email: \"alex@example.com\",\n    phone: \"+800 555‑0100\",\n    address: {\n      city: \"New Orleans\",\n      state: \"Louisiana\",\n    },\n    plan: \"enterprise\",\n  }, {\n    integrations: {\n      INTERCOM: {\n        lookup: \"phone\",\n      },\n    },\n  });\n```\n\nFirst, RudderStack extracts the following standard Intercom attributes from the event payload:\n\n*   `userId`\n*   `email`\n*   `phone`\n*   `name`\n*   `createdAt`\n\n**Standard Intercom attributes for `identify` and `group` calls**\n\n**Identify**\n\n*   `userId`\n*   `role`\n*   `email`\n*   `phone`\n*   `name`\n*   `avatar`\n*   `company`\n*   `ownerId`\n*   `lastName`\n*   `lastname`\n*   `firstName`\n*   `firstname`\n*   `createdAt`\n*   `timestamp`\n*   `lastSeenAt`\n*   `originalTimestamp`\n*   `unsubscribedFromEmails`\n\n**Group**\n\n*   `tags`\n*   `size`\n*   `plan`\n*   `name`\n*   `email`\n*   `userId`\n*   `website`\n*   `industry`\n*   `segments`\n*   `userCount`\n*   `createdAt`\n*   `sessionCount`\n*   `monthlySpend`\n*   `remoteCreatedAt`\n\nRudderStack considers all the other attributes/properties as custom attributes.\n\nNote that if the custom attributes are a part of an object, then RudderStack flattens them, so the `custom_attribute` object in the final event payload sent to Intercom looks like the following:\n\n```\n\"custom_attributes\": {\n  \"address_city\": \"New Orleans\",\n  \"address_state\": \"Louisiana\",\n  \"plan\": \"enterprise\"\n}\n```\n\nMake sure to create the above custom attributes in the Intercom dashboard to successfully send the events.\n\n### Attribute lookup\n\nRudderStack supports user lookup in the `identify` and `group` calls. By default, it does a lookup based on the user’s `email`. However, you can change this behavior by passing the required field in the `integrations` object.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a successful lookup, make sure to pass a valid field with its value present in the event payload.\n\nA sample `identify` call highlighting the user lookup:\n\n```\nrudderanalytics.identify(\n  \"alex98\", {\n    name: \"Alex Keener\",\n    email: \"alex@example.com\",\n    phone: \"+800 555‑0100\"\n  }, {\n    integrations: {\n      INTERCOM: {\n        lookup: \"phone\",\n      },\n    },\n  });\n```\n\n### Send last seen timestamp\n\nIn the older Intercom version, RudderStack supported the **Enable this to update the last seen to the current time** dashboard setting that lets you enable the last seen timestamp (`update_last_request_at` parameter) for a contact in Intercom.\n\nThis feature is no longer supported in the new Intercom API v2.1. To update the last seen timestamp of a contact, you can send the `lastSeenAt` field in the event payload.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Intercom API v2.10 Migration Details | RudderStack Docs",
  "description": "Configuration changes and differences in sending events when migrating from Intercom API v1.4 to v2.10.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/",
  "markdown": "# MinIO | RudderStack Docs\n\nSend your event data from RudderStack to MinIO.\n\n* * *\n\n*     2 minute read  \n    \n\n[MinIO](https://min.io/) is a High Performance Object Storage released under GNU Affero General Public License v3.0. It is API compatible with Amazon S3 cloud storage service. Use MinIO to build high performance infrastructure for machine learning, analytics and application data workloads.\n\nRudderStack allows you to configure MinIO as a destination to which you can dump your event data seamlessly.\n\n## Setting up MinIO\n\nPlease follow these steps to set up MinIO before adding it as a destination in RudderStack:\n\n*   Login to your MinIO service\n*   Create a new bucket. Alternatively, you can also use an already existing bucket.\n*   You will need to provide `access key ID` and `secret access key` to authorize RudderStack to write to your bucket.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `access key ID` is the user ID that uniquely identifies your MinIO account, and `secret access key` is the password to your account.\n\n*   Make a note of both the `access key ID` and `secret access key` as these will be required while configuring MinIO as a destination.\n\n## Configuring MinIO in RudderStack\n\nIn order to enable dumping data to MinIO, you will first need to add it as a destination to the source from which you are sending event data. Once the destination is enabled, events from RudderStack will start to flow to MinIO. You will start seeing the files created in your MinIO bucket.\n\nTo do so, please follow these steps:\n\n*   Choose a source to which you would like to add MinIO as a destination. You can also simply create a destination and connect it to a source later.\n*   Select the destination as **MinIO** to your source. Give your destination a name and then click **Next**.\n*   Next, in the **Connection Settings**, fill all fields with the relevant information (please refer to the [Setting up MinIO](#setting-up-minio) section above) and click **Next**.\n\n[![](https://www.rudderstack.com/docs/images/screenshot-2020-02-26-at-7.22.29-pm.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-02-26-at-7.22.29-pm.webp)\n\nMinIO connection settings\n\n*   If you need any transformation, choose one from the list. Else, click **Next**.\n\nThat’s it! You have successfully added MinIO as a destination in RudderStack. Once you send an event from your source, you can find it dumped to your MinIO bucket.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "MinIO | RudderStack Docs",
  "description": "Send your event data from RudderStack to MinIO.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lemnisk/lemnisk-cloud-mode/",
  "markdown": "# Lemnisk cloud mode | RudderStack Docs\n\nSend events to Lemnisk using the RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Lemnisk via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/lemnisk).\n\nRudderStack supports sending data to the following Lemnisk platforms:\n\n*   [DIAPI](#diapi)\n*   [Pixel Listener](#pixel-listener)\n\n## DIAPI\n\nWhen you choose to send events to Lemnisk via the server-side cloud mode, RudderStack uses Lemnisk’s [HTTP API](https://lemnisk.gitbook.io/lemnisk-platform-documentation/sources/http-api) to send your website or app data.\n\n### Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user actions along with any properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\"\n})\n```\n\n#### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `userId` | String |\n| `properties` | `properties` | Object |\n| `event` | `eventname` | String |\n| `config.srcid` | `srcId` | String |\n| `config.diapiWriteKey` | `writekey` | String |\n\n## Pixel Listener\n\nWhen you choose to send events to Lemnisk via the web cloud mode, RudderStack uses Lemnisk’s [JavaScript SDK](https://lemnisk.gitbook.io/lemnisk-platform-documentation/sources/javascript-sdk) to send data from your website.\n\n### Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"hashed_user_id\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\n#### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `userId`  <br>`id` | String |\n| `context`  <br>Required | `context` | Object |\n| `traits`  <br>Required | `customerProperties` | Object |\n| `messageId`  <br>Required | `messageId` | String |\n\n### Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user actions along with any properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\"\n})\n```\n\n#### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `userId`  <br>`id` | String |\n| `event`  <br>Required | `event` | String |\n| `properties` | `properties` | Object |\n| `timestamp`  <br>Required | `originalTimestamp` | String |\n| `messageId`  <br>Required | `messageId` | String |\n| `context`  <br>Required | `context` | Object |\n| `properties` | `properties` | Object |\n\n### Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record when a user views a page of your website, along with any optional properties about the page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n#### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `userId`  <br>`id` | String |\n| `name`  <br>Required | `name` | String |\n| `timestamp`  <br>Required | `originalTimestamp` | String |\n| `messageId`  <br>Required | `messageId` | String |\n| `context`  <br>Required | `context` | Object |\n| `properties` | `properties` | Object |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Lemnisk cloud mode | RudderStack Docs",
  "description": "Send events to Lemnisk using the RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/iterable-cloud-mode/",
  "markdown": "# Iterable cloud mode | RudderStack Docs\n\nSend events to Iterable using RudderStack cloud mode.\n\n* * *\n\n*     5 minute read  \n    \n\nRudderStack lets you send your event data to Iterable via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack batches the events together before sending them to Iterable. This reduces the number of API calls and enables faster event delivery.\n\n## Identify\n\nWhen you make an `identify` call, RudderStack calls Iterable’s [Update User](https://api.iterable.com/api/docs#users_updateUser) API to send the data.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Iterable identifies a user by `email` or `userId`. If none of these traits is present in the call, RudderStack will not send the event to Iterable.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Iterable gives precedence to `email` over `userId` in case both the traits are present in the `identify` call.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\n  \"userId\",\n  {\n    city: \"New Orleans\",\n    name: \"Alex Keener\",\n    email: \"alex@example.com\",\n    country: \"USA\"\n  }\n);\n```\n\n### Deleting a user\n\nYou can delete a user in Iterable using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#adding-a-suppression-with-delete-regulation) of RudderStack’s [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\nFor more information on deleting users in Iterable, see [Iterable’s API documentation](https://api.iterable.com/api/docs#users_delete).\n\nTo delete a user, you must specify their `userId` in the event.\n\nA sample regulation request body for deleting a user in Iterable:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n      \"userId\": \"1hKOmRA4GRlm\",\n    }\n  ],\n}\n```\n\n### Push notification registration\n\nRudderStack uses Iterable’s [device registration API](https://api.iterable.com/api/docs#users_registerDeviceToken) to send the token information from a device. It also sets the `platform` parameter to `APNS` and `GCM` for iOS and Android devices respectively.\n\nSimilarly, RudderStack uses Iterable’s [browser token registration API](https://api.iterable.com/api/docs#users_registerBrowserToken) for the web platform.\n\nIf the `deviceToken` associated with the push notification is present in `context` of the event payload, then RudderStack will map the user with the device to register for push. This will add the data if it doesn’t exist yet. It will also update data fields on the device.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To learn more about Iterable’s push notification registration feature for mobile devices, refer to their [Android](https://support.iterable.com/hc/en-us/articles/115000331943#_2-create-a-mobile-app-in-iterable) and [iOS](https://support.iterable.com/hc/en-us/articles/115000315806#_4-create-a-mobile-app-in-iterable) documentation.\n\n## Page\n\nWhen you call the `page` method, the RudderStack sends a `track` event to Iterable with the `userId`, `email`, and `eventName` parameters. If the user does not already exist in Iterable, RudderStack will add them to the system as long as `email` is present in the event. If `email` is not present, Iterable will reject the event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Iterable requires `email` for the first time you call `page` for a given user. The subsequent events can contain `userId`.\n\nIf the name of your page is `Application Home`, then RudderStack sends the event to Iterable as `Application Home Page`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The event name will differ according to the settings you specify in the RudderStack dashboard. Refer to the [Connection settings](#connection-settings) section above for more information.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page({\n  path: \"home\",\n  url: \"https://www.example.com/home\",\n  title: \"Home Page\",\n  search: \"home\",\n  referrer: \"https://www.example.com/previous\",\n})\n```\n\n## Screen\n\nThe `screen` event is the mobile equivalent of the `page`. When you make a `screen` call, RudderStack sends a `track` event to Iterable with the `userId`,`email`, and `eventName` parameters . If a user corresponding to the email ID is absent, Iterable will create a new user.\n\nIf the name of your screen is `Main Activity`, RudderStack sends the event to Iterable as `Main Activity Screen`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The event name will differ according to the settings you specify in the RudderStack dashboard. Refer to the [Connection settings](#connection-settings) section above for more information.\n\nA sample `screen` call is as shown:\n\n```\n[[RSClient sharedInstance] screen:@\"Main\"];\n```\n\n## Alias\n\nThe `alias` call lets you merge different identities of a known user. The format of an `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"userId\",\"previousId\");\n```\n\nTo send an `alias` event to Iterable, you must set `previousId` to the current email and `userId` as new email:\n\n```\nrudderanalytics.alias(\"new@email.com\", \"current@email.com\");\n```\n\n## Track\n\nWhen you make a `track` call, RudderStack uses Iterable’s [Track API](https://api.iterable.com/api/docs#events_track) to send the events. The event properties are sent as data fields in the request, while the name of the event is sent as a custom event.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Iterable requires `email` for the first time you send a `track` event for a given user. If a user does not exist, Iterable creates new users for those `track` calls which have `email`.\n\nA sample`track` call is shown below:\n\n```\nrudderanalytics.track(\n  \"Email Opened\", {\n    \"subject\": \"Resume validation\",\n    \"sendtime\": \"2022-01-01\",\n    \"sendlocation\": \"alex@example.com\"\n  }, {\n    traits: {\n      email: \"alex@example.com\"\n    }\n  }\n);\n```\n\n## Ecommerce\n\nYou can find the relevant details of the ecommerce events in the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/).\n\n### Order Completed\n\nRudderStack supports the ecommerce event `Order Completed` and sends the other events as generic `track` events. Refer to the corresponding Iterable endpoint details in the [Track a purchase API](https://api.iterable.com/api/docs#commerce_trackPurchase).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack requires the user properties, item properties, and `total` to successfully send the **Order Completed** event.\n\nThe following snippet highlights a sample `Order Completed` event:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  total: 1000,\n  products: [\n    {\n      product_id: \"507f1f77bcf86cd799439011\",\n      sku: \"45790-32\",\n      name: \"Monopoly: 3rd Edition\",\n      price: \"19\",\n      position: \"1\",\n      category: \"Games,Gifts,Entertainment,Toys\",\n      url: \"https://www.example.com/product/path\",\n      image_url: \"https://www.example.com/product/path.jpg\",\n    },\n    {\n      product_id: \"507f1f77bcf86cd799439011\",\n      sku: \"45790-32\",\n      name: \"Monopoly: 3rd Edition\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"1\",\n      category: \"Games,Gifts,Entertainment,Toys\",\n      url: \"https://www.example.com/product/path\",\n      image_url: \"https://www.example.com/product/path.jpg\",\n    },\n  ],\n})\n```\n\n### Product Added / Product Removed\n\nRudderStack supports the ecommerce event `Product Added` or `Product Removed` and sends the information to Iterable via the [updateCart endpoint](https://api.iterable.com/api/docs#commerce_updateCart), corresponding to updating a user’s shopping cart items.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack requires the user and item properties to successfully send the **Order Completed** event to Iterable. Also, you must send the whole updated cart details and not just the updated individual items added/removed from the cart.\n\nA sample snippet highlighting the `Product Added` event is shown below:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  total: 1000,\n  products: [\n    {\n      product_id: \"507f1f77bcf86cd799439011\",\n      sku: \"45790-32\",\n      name: \"Monopoly: 3rd Edition\",\n      price: \"19\",\n      position: \"1\",\n      category: \"Games,Gifts,Entertainment,Toys\",\n      url: \"https://www.example.com/product/path\",\n      image_url: \"https://www.example.com/product/path.jpg\",\n    },\n    {\n      product_id: \"507f1f77bcf86cd799439011\",\n      sku: \"45790-32\",\n      name: \"Monopoly: 3rd Edition\",\n      price: \"19\",\n      quantity: \"2\",\n      position: \"1\",\n      category: \"Games,Gifts,Entertainment,Toys\",\n      url: \"https://www.example.com/product/path\",\n      image_url: \"https://www.example.com/product/path.jpg\",\n    },\n  ],\n})\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Iterable cloud mode | RudderStack Docs",
  "description": "Send events to Iterable using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mixpanel/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Mixpanel as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lemnisk/lemnisk-device-mode/",
  "markdown": "# Lemnisk device mode | RudderStack Docs\n\nSend events to Lemnisk using the RudderStack web device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Lemnisk via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to to identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nWhen you send an `identify` event via Rudderstack, Lemnisk’s [`identify`](https://lemnisk.gitbook.io/lemnisk-platform-documentation/events/identify) event is triggered. Lemnisk needs a unique user ID to associate an event with a user. By default, it uses a cookie to identify the user. Optionally, you can also pass a unique user ID in the first parameter of the `identify` call.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"hashed_user_id\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\n### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `userId` | String |\n| `traits` | `customerProperties` | Object |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user actions along with any properties associated with them. When you send a `track` call, RudderStack triggers Lemnisk’s [`track`](https://lemnisk.gitbook.io/lemnisk-platform-documentation/events/track) event.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\"\n})\n```\n\n### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `event`  <br>Required | `event` | String |\n| `properties` | `properties` | Object |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record when a user views a page of your website, along with any optional properties about the page. When you send a `page` call via Rudderstack, Lemnisk’s [`page`](https://lemnisk.gitbook.io/lemnisk-platform-documentation/events/page) event is triggered.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n### Property mappings\n\nThe following table lists the mappings between the RudderStack and Lemnisk properties:\n\n| RudderStack property | Lemnisk property | Data type |\n| --- | --- | --- |\n| `name` | `name` | String |\n| `context.page`  <br>`properties` | `properties` | Object |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Lemnisk device mode | RudderStack Docs",
  "description": "Send events to Lemnisk using the RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/linkedin-ads/",
  "markdown": "# LinkedIn Ads Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "LinkedIn Ads Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to LinkedIn Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/june/",
  "markdown": "# June | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "June | RudderStack Docs",
  "description": "Send your event data from RudderStack to June.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/iterable-device-mode/",
  "markdown": "# Iterable device mode | RudderStack Docs\n\nSend events to Iterable using RudderStack web device mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Iterable via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can use this connection mode to dynamically send web in-app messages to your customers along with customized push notifications.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Find the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/Iterable).\n\n## Identify\n\nFor the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call, RudderStack uses either [Iterable’s `setEmail` or `setUserId` method](https://github.com/Iterable/iterable-web-sdk#initialize) to identify a given user. You can configure this using the [Identifier to identify a user over a session](https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/setting-up-iterable/#web-sdk-settings) setting in the RudderStack dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Making an `identify` call is necessary to associate the `track` events and trigger the web push notifications for an identified user.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack prioritizes `email` over `userId`.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"\", {\n    \"email\": \"alex@example.com\"\n},{ \"integrations\": {\n    \"ITERABLE\": {\n        \"jwt_token\" : \"eyJhbGciOiJIUzXXXXXXXXX6IkpXVCJ9.eyJlbXXXXXXXXhc2hhc3ZpQHJ1ZGRlcnN0XXXXXXXXXXdCI6MTY2NTAzMTkzNCwiZXhwIjXXXXXXXXxNjY2MDMxOTM0fQ.u0wwq6YOB2GXXXXXXXXX2O9GUpW6BHRF5PCmk\"\n    }\n}})\n```\n\nWhen you call `identify`, RudderStack initializes the SDK using the `email`/`userId` and the JWT token from the `integrations` object.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack **does not** automatically generate JWT tokens on the users’ behalf to initialize the Iterable web SDK for security reasons. You need to set a specific authorization logic within your web app to generate a JWT before you can start making requests using the SDK.\n\n## Track\n\nRudderStack supports the following three types of [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events in web device mode:\n\n### Purchase events\n\nYou can map certain `track` events to Iterable’s purchase events ([API reference](https://api.iterable.com/api/docs#commerce_trackPurchase)) by specifying them in the [Mapping to trigger the purchase events](https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/setting-up-iterable/#web-sdk-settings) setting of the RudderStack dashboard:\n\n[![Iterable connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-purchaseevents.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/iterable-purchaseevents.webp)\n\nA sample `track` call for a purchase event is shown below:\n\n```\nrudderanalytics.track(\"purchase event\", {\n  checkout_id: \"12345\",\n  order_id: \"1234\",\n  affiliation: \"Apple Store\",\n  total: 20,\n  revenue: 15.0,\n  shipping: 22,\n  tax: 1,\n  discount: 1.5,\n  coupon: \"ImagePro\",\n  currency: \"USD\",\n  products: [{\n      product_id: \"123\",\n      sku: \"G-15\",\n      name: \"Chess\",\n      price: 14,\n      quantity: 1,\n      category: \"Games\",\n      url: \"https://www.mywebsite.com/product/path\",\n      image_url: \"https://www.mywebsite.com/product/path.jpg\",\n    }\n  ],\n})\n```\n\nThe following table lists the mappings between the RudderStack event properties and the Iterable properties in case of the purchase events:\n\n| RudderStack property | Iterable property |\n| --- | --- |\n| `properties.name`  <br>Required | `items[].name` |\n| `properties.order_id`  <br>`properties.checkout_id`  <br>Required | `id` |\n| `properties.total`  <br>Required | `total` |\n| `properties.product_id` | `items[].id` |\n| `properties.sku` | `items[].sku` |\n| `properties.price` | `items[].price` |\n| `properties.quantity` | `items[].quantity` |\n| `properties.image_url` | `items[].url` |\n\nThe above properties can be passed in any of the following ways:\n\n*   `properties` object (for a single product), as shown in the above table.\n*   `products` array as multiple objects (for multiple products), for example, `properties.products[0].name`. One example where you can have an array of products is the [Order Completed](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/ordering/#order-completed) event.\n\n### `getInAppMessages` events\n\nYou can send this type of `track` events to track the users in-app activities and accordingly display pop-up messages and push notifications for them. The below image shows an example of a web push notification:\n\n[![Iterable connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/web-push-notifications-iterable.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/web-push-notifications-iterable.webp)\n\nYou can also customize the display configuration for the push notifications using the [In-app message settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/iterable/setting-up-iterable/#in-app-message-settings) in the RudderStack dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In case multiple `getInAppMessages` events are triggered, the SDK delivers all queued in-app notifications.\n\nA sample `track` call mapped to Iterable’s `getInAppMessages` events is shown below:\n\n```\nrudderanalytics.track(\"trigger event\",{})\n```\n\n### Custom events\n\nRudderStack sends all `track` events that are not mapped to Iterable’s purchase events or `getInAppMessages` events as custom events.\n\nA sample custom `track` event is shown below:\n\n```\nrudderanalytics.track(\n  \"custom event\", {\n    custom_id: \"22222\",\n    name: \"Some item\",\n    website_url: \"http://www.exampledomain.com/products/some-item\",\n  })\n```\n\nThe following table lists the mappings between the RudderStack event properties and the Iterable properties in case of the custom events:\n\n| RudderStack property | Iterable property |\n| --- | --- |\n| `event`  <br>Required | `eventName` |\n| `userId`  <br>Required, if email is not present. | `userId` |\n| `context.traits.email`  <br>Required, if userId is not present. | `email` |\n| `properties` | `dataFields` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Iterable device mode | RudderStack Docs",
  "description": "Send events to Iterable using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mixpanel/",
  "markdown": "# Mixpanel Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Mixpanel Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mixpanel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/linkedin-ads/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nSet up and configure LinkedIn Ads as a destination in RudderStack.\n\n* * *\n\n*     3 minute read  \n    \n\nThis guide will help you set up LinkedIn Ads as a destination in the RudderStack dashboard. It also lists the configuration settings required to correctly send data from the supported sources to LinkedIn Ads.\n\n## Connection compatibility\n\n| Destination info |     |     |     |\n| --- |\n| *   **Status:** Beta<br>*   **Supported sources:** Android, iOS , Web, Unity, AMP , Cloud, Warehouse, React Native , Flutter, Cordova, Shopify<br>*   Refer to it as **LINKEDIN\\_ADS** in the [Integrations object](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/filtering/#filtering-destinations). |\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **LinkedIn Ads**.\n\n### Connection settings\n\n| Setting | Description |\n| --- | --- |\n| Destination name | Assign a name to uniquely identify the destination. |\n| OAuth settings | Click **Create Account** > **Connect with LinkedIn Ads** and give RudderStack the necessary permissions to upload and manage your conversion tracking data. |\n| Hash and encode data | Encrypts your user email before sending it to LinkedIn Ads. Turn off this setting if your event data already contains hashed user email. |\n\n### Advanced settings\n\nConfigure the below **optional** settings to receive your data correctly in LinkedIn Ads.\n\n| Setting | Description |\n| --- | --- |\n| LinkedIn Ad account ID | Choose your LinkedIn Ads account ID from the dropdown. |\n| Deduplication key | Specify the event property to be used for deduplicating your data in LinkedIn. By default, RudderStack maps `messageId` to LinkedIn’s `event_id` field for deduplication but you can specify any other field.<br><br>**Make sure to specify the full path of the property**. For example, if you specify `properties.eventId`, then RudderStack maps `message.properties.eventId` to `event_id`. |\n| OneTrust cookie consent settings | Lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to LinkedIn Ads. |\n\n### Events mapping\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must [create a conversion](#faq) in your LinkedIn Campaign Manager **before** setting up the mappings.\n\nTo map RudderStack events to specific LinkedIn Ads conversion rules:\n\n1.  Click **Set up mapping**.\n2.  Specify the RudderStack event name and choose the LinkedIn conversion from the dropdown.\n\n[![LinkedIn Ads event mappings](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-event-mappings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-event-mappings.webp)\n\n## Next steps\n\n*   [Send events in cloud mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/linkedin-ads/cloud-mode/)\n\n## FAQ\n\n#### **How do I create a conversion in LinkedIn Campaign Manager?**\n\n1.  Log in to [LinkedIn Campaign Manager](https://www.linkedin.com/campaignmanager/).\n2.  From the left sidebar, click **Analyze** > **Conversion tracking**.\n3.  Click **Create conversion** >**Conversions API or CSV conversion**.\n\n[![LinkedIn Ads create conversion](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-create-conversion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-create-conversion.webp)\n\n4.  Select **Direct API** and click **Next step**.\n\n[![LinkedIn Ads direct API option](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-direct-api.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-direct-api.webp)\n\n5.  Define the conversion rules. Then, click **Next step**.\n\n[![LinkedIn Ads conversion rules](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-conversion-rules.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-conversion-rules.webp)\n\n6.  Optionally, select the campaigns you want to track with the conversion. Then, click **Create**.\n\n[![LinkedIn Ads select campaign](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-campaign.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/linkedin-ads-campaign.webp)\n\nSee [Set up and create a conversion in Campaign Manager using Direct API](https://www.linkedin.com/help/lms/answer/a1711116) to fully complete the conversion setup.\n\n#### **What permissions do I need to authenticate RudderStack successfully?**\n\nYou need one of the following permissions to successfully authenticate RudderStack to access and manage your conversions data:\n\n*   `ACCOUNT_BILLING_ADMIN`\n*   `ACCOUNT_MANAGER`\n*   `CAMPAIGN_MANAGER`\n*   `CREATIVE_MANAGER`\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure LinkedIn Ads as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mixpanel/cloud-mode/",
  "markdown": "# Mixpanel Cloud Mode Integration | RudderStack Docs\n\nSend events to Mixpanel using RudderStack cloud mode.\n\n* * *\n\n*     8 minute read  \n    \n\nAfter you have successfully instrumented Mixpanel as a destination in RudderStack, follow this guide to correctly send your events to Mixpanel in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/mp).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in Mixpanel.\n\nMixpanel needs an identifier to uniquely identify a user. If you pass `userId` and `anonymousId` along with the Mixpanel API Secret (in the dashboard settings), then RudderStack first makes an `identify` call to Mixpanel using the `userId` and the `traits`. RudderStack then passes the `userId` and `anonymousId` via Mixpanel’s [Merge Identities](https://developer.mixpanel.com/reference/identity-merge) feature, so that the two identifiers are glued to a single user profile.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note the following when sending events to Mixpanel in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n> \n> *   You can only create a new user in Mixpanel using `identify` events if you have selected the **Simplified ID Merge** dashboard setting. To perform identity merging, you need to use the [`track`](#track) or [`page`/`screen`](#page) calls.\n> *   When sending events to Mixpanel with **Simplified ID Merge**, RudderStack recommends passing `deviceId` generated by the Mixpanel SDK as `anonymousId` in the RudderStack server-side calls to merge two profiles together successfully. For more information, see [Mixpanel User Profiles documentation](https://help.mixpanel.com/hc/en-us/articles/14377628688788#user-profiles).\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"12345\", {\n  firstname: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"8005550100\",\n  email: \"alex@example.com\"\n})\n```\n\nYou can prevent the `$last_seen` attribute getting updated with incorrect times by setting `active` to `false` in the `context` object, as shown in the following snippet:\n\n```\nrudderanalytics.identify(\"12345\", {\n  firstname: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\"\n}, {\n  context: {\n    active: false\n  }\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Setting `active` to `false` sets Mixpanel’s `$ignore_time` attribute to `true`. This way, you can bypass the “Last Seen” date property.\n\n### Property mappings\n\nWhen sending events in cloud mode, RudderStack maps the following properties to the Mixpanel properties before sending them over Mixpanel’s HTTP API.\n\n| RudderStack property | Mixpanel property |\n| --- | --- |\n| `traits.createdAt` | `$created` |\n| `traits.email` | `$email` |\n| `traits.firstName` | `$firstName` |\n| `traits.lastName` | `$lastName` |\n| `traits.name` | `$name` |\n| `traits.username` | `$username` |\n| `traits.phone` | `$phone` |\n| `traits.avatar` | `$avatar` |\n| `context.ip`  <br>`request_ip` | `ip` or `$ip` |\n| `context.campaign.name` | `campaign_id` |\n| `context.page.url` | `$current_url` |\n| `context.os.name` | `$os` |\n| `context.page.referrer` | `$referrer` |\n| `context.network.carrier` | `$carrier` |\n| `address.city` | `$city` |\n| `address.country` | `$country_code` |\n| `address.region` | `$region` |\n| `context.location.latitude` | `$latitude` |\n| `context.location.longitude` | `$longitude` |\n| `context.page.manufacturer` | `$manufacturer` |\n| `context.device.model` | `$model` |\n| `context.screen.width` | `$screen_width` |\n| `context.screen.height` | `$screen_height` |\n| `context.network.wifi` | `$wifi` |\n| `context.location.geoSource` | `$geoSource` |\n| `context.traits.unsubscribed` | `$unsubscribed` |\n| `traits.unsubscribed` | `$unsubscribed` |\n| `properties.unsubscribed` | `$unsubscribed` |\n| `context.location.timezone` | `$timezone` |\n\n### Properties to set only once\n\nRudderStack lets you set the `identify` traits as Mixpanel properties whose values you do not want to change at the user profile level, that is, Mixpanel will not overwrite the existing property values. See [Mixpanel documentation](https://developer.mixpanel.com/reference/profile-set-property-once/) for more information on this feature.\n\nTo use this feature, add the `identify` traits in the **Properties to set only once** setting.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-properties-set-once.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-properties-set-once.webp)\n\nRudderStack expects the traits specified in the above field to be present in the `message.traits` or `message.context.traits` (`message.traits` has higher precedence) object within the `identify` event.\n\nFor example, if your `identify` event contains the following and you specify `address.city` in the **Properties to set only once** field:\n\n```\n\"traits\": {\n  \"address\": {\n    \"city\": \"London\"\n  }\n}\n\n...\n\n\"context\": {\n  \"traits\": {\n    \"address\": {\n      \"city\": \"Berlin\"\n    }\n  }\n}\n```\n\nThen, RudderStack maps `city` as `London` as the `traits` object gets precedence over `context.traits`.\n\n### Reserved Mixpanel properties\n\nMixpanel has some reserved properties:\n\n*   `$first_name`\n*   `$last_name`\n*   `$name`\n*   `$username`\n*   `$created`\n*   `$email`\n*   `$phone`\n*   `$avatar`\n*   `$city`\n*   `$country_code`\n*   `$region`\n*   `$unsubscribed`\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You should not create custom properties that begin with a `$` sign.\n\n### Deleting a user\n\nYou can delete a user in Mixpanel using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#adding-a-suppression-with-delete-regulation) of RudderStack’s [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To delete a user, you must specify their `userId` in the event. Additionally, you can specify a custom identifier (optional) in the event.\n\nA sample regulation request body for deleting a user in Mixpanel is shown below:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n    \"userId\": \"1hKOmRA4GRlm\",\n    \"<customKey>\": \"<customValue>\"\n  }]\n}\n```\n\nRudderStack internally uses the deletion API specified in the **User Deletion** dashboard setting. For more information on these deletion APIs, see [Connection settings](#connection-settings).\n\n[![Mixpanel user deletion API](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-user-deletion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-user-deletion.webp)\n\nTo see the deletion requests created by RudderStack using the **Delete Profile and Associated Events** option, log in to your Mixpanel dashboard and navigate to **Organization Settings** > **Data & Privacy**.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Deletion requests created using the **Delete Profile** API are not shown in this dashboard.\n\n[![Mixpanel user deletion requests](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-deletion-requests.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-deletion-requests.webp)\n\n## Track\n\nTo track user events, use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method with the event name and the associated properties.\n\nWhen you select **Simplified ID Merge** in the **Identity Merge** dashboard setting, RudderStack sets the event’s `userId` and `anonymousId` using Mixpanel’s [Simplified ID Merge API](https://help.mixpanel.com/hc/en-us/articles/14377628688788) so that the two identifiers are glued to a single user profile.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"track event\", {\n    test_prop1: 50,\n    test_prop2: \"prop_value\"\n});\n```\n\n### Track revenue\n\nMixpanel lets you track revenue events. If you send `revenue` as a property in your `track` event, RudderStack tracks it as a revenue event.\n\nRevenue tracking is done with a `distinct_id` (`userId` that you provide in your `identify` call; if `userId` is not present then it will be associated with an `anonymousId`.)\n\nA sample revenue `track` call is as shown:\n\n```\nrudderanalytics.track(\"Purchase\", {\n  revenue: 100,\n  currency: \"USD\"\n});\n```\n\n### Track charge\n\nIf **Use Mixpanel People** setting is toggled on in your RudderStack dashboard and you include `revenue` as an event property, RudderStack will track a charge for the current user.\n\n## Page\n\nRudderStack passes all page properties that you provide via the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to Mixpanel, along with the other default properties. It sets the event name as **Page** for a `page` call and **Screen** for a [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call.\n\nWhen you select **Simplified ID Merge** in the **Identity Merge** dashboard setting, RudderStack sets the event’s `userId` and `anonymousId` using Mixpanel’s [Simplified ID Merge API](https://help.mixpanel.com/hc/en-us/articles/14377628688788) so that the two identifiers are glued to a single user profile.\n\nA sample `page` call is shown below:\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) method lets you record whenever a user sees their mobile screen along with any optional properties about the viewed screen.\n\nA sample `screen` call is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Sample Screen Name\" properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## Alias\n\nThe [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call lets you associate multiple identities of a known user.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `alias` call is deprecated with the **Simplified ID Merge** dashboard setting.\n\nA sample `alias` call is as shown:\n\n```\nanalytics.alias('userId', `previousId`);\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group such as a company, organization, or an account, and record any traits associated with that group, for example, company name, number of employees, etc. For more information on how the `group` call works in Mixpanel, see Mixpanel’s [Group Analytics](https://help.mixpanel.com/hc/en-us/articles/360025333632-Group-Analytics) documentation.\n\nRudderStack lets you record the custom traits associated with a user group and send this information to Mixpanel.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"sample_group_id\", {\n    name: \"Tech group\",\n    industry: \"Technology\",\n    employees: 100,\n  }\n);\n```\n\n### Group key\n\nYou can create group keys in the [Mixpanel project settings](https://help.mixpanel.com/hc/en-us/articles/360025333632-Group-Analytics#implementation), which act as the group identifiers in Mixpanel. To successfully send a `group` call to Mixpanel, you must specify **at least** one group key in the **Group Key** RudderStack dashboard setting:\n\n[![Mixpanel group key settings](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-group-key-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-group-key-settings.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note the following:\n> \n> *   If you map the `groupId` as a group key, RudderStack looks up its value in the following priority order:\n>     1.  In `message.groupId`\n>     2.  In `message.traits.groupId`\n> *   If you map any other field as a group key, RudderStack looks up its value in `message.traits.groupKey`.\n> *   You can specify multiple values for a group key and send them in an array in the `group` event payload.\n\n## Send historic events\n\nMixpanel supports importing historical event data. However, note that the event timestamp should be within the **last 5 years**. Mixpanel rejects any data older than this duration. To send historic events, provide the timestamp in the `timestamp` field of the message. RudderStack will then send the event with the same timestamp to Mixpanel.\n\n## Mixpanel special traits\n\nThe following table lists all properties that RudderStack sends to Mixpanel as special traits:\n\n| RudderStack Properties | Mixpanel Properties |\n| --- | --- |\n| `created` | `$created` |\n| `email` | `$email` |\n| `firstName` | `$first_name` |\n| `lastName` | `$last_name` |\n| `lastSeen` | `$last_seen` |\n| `name` | `$name` |\n| `username` | `$username` |\n| `phone` | `$phone` |\n| `city`/`address.city` | `$city` |\n| `region`/`address.state` | `$region` |\n| `country`/`address.country` | `$country_code` |\n\n## Send UTM parameters to Mixpanel\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This section is applicable for [`track`](#track), [`page`](#page), and [`screen`](#screen) events.\n\nRudderStack maps the following keys (derived from the event’s `context.campaign` object) to the Mixpanel standard UTM parameters:\n\n| RudderStack property | Mixpanel UTM parameter |\n| --- | --- |\n| `name` | `utm_campaign` |\n| `source` | `utm_source` |\n| `medium` | `utm_medium` |\n| `content` | `utm_content` |\n| `term` | `utm_term` |\n\nAny contextual fields apart from the ones mentioned above are sent as `utm_{key}` to Mixpanel. An example is shown below:\n\n```\n{\n  \"context\": {\n    \"campaign\": {\n      \"name\": \"test_name\",\n      \"source\": \"test_source\",\n      \"medium\": \"test_mediun\",\n      \"content\": \"test_content\",\n      \"term\": \"test_term\",\n      \"keyword\": \"test_keyword\"\n    }\n  }\n}\n```\n\n```\nutm_campaign\nutm_source\nutm_medium\nutm_content\nutm_term\nutm_keyword\n```\n\nIn the above example, RudderStack sends `utm_keyword` as a custom UTM parameter to Mixpanel.\n\n## FAQ\n\n#### Can I pass `null` and empty values for the properties?\n\nYes, RudderStack supports passing empty or `null` values for the properties sent to Mixpanel.\n\nMixpanel imposes certain limitations on its API requests such as:\n\n*   Any `GET` request URL above 19K characters (around 19 KB+) is blocked.\n*   The header size more than 15KB is not allowed.\n*   The body of the request more than 20MB is not allowed.\n*   Each event can have up to 255 event properties.\n\nIf your requests are larger than the above-mentioned limits, you will get a ‘Request Header Fields Too Large’ error.\n\nSee [Mixpanel’s Community FAQ](https://community.mixpanel.com/sending-data-to-mixpanel-11/why-am-i-getting-413-errors-when-using-the-http-api-4659) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mixpanel Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Mixpanel using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mixpanel/device-mode/",
  "markdown": "# Mixpanel Device Mode Integration | RudderStack Docs\n\nSend events to Mixpanel using RudderStack device mode.\n\n* * *\n\n*     7 minute read  \n    \n\nAfter you have successfully instrumented Mixpanel as a destination in RudderStack, follow this guide to correctly send your events to Mixpanel in [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/Mixpanel).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in Mixpanel.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> When sending events to Mixpanel with **Simplified ID Merge**, you need to pass `deviceId` generated by the Mixpanel SDK as `anonymousId` in the RudderStack calls to merge two profiles together successfully. For more information, see [Mixpanel User Profiles documentation](https://help.mixpanel.com/hc/en-us/articles/14377628688788#user-profiles).\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"12345\", {\n  firstname: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"8005550100\",\n  email: \"alex@example.com\"\n})\n```\n\n### Setting traits as People Properties and Super Properties\n\nIf **Use Mixpanel People** option is toggled on in the dashboard, you can set the `identify` traits as both **Super Properties** and **People Properties**. To do so, turn on the **Automatically set all Traits as Super Properties and People Properties** option in the dashboard settings.\n\nYou can also choose to filter your reports by both People Properties and Super Properties. This gives you better control over what traits you can set as a Super Property or People Property. To do this:\n\n1.  Disable the **Automatically set all Traits as Super Properties and People Properties** option in the dashboard.\n2.  Add the traits that you want to send to Mixpanel as Super Properties or People Properties in the **Properties to send as Super Properties** and **Traits to set as People Properties** fields respectively:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-super-people.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-super-people.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends all Mixpanel [special traits](#mixpanel-special-traits) as People Properties. Hence, you can only add the properties that are not in this list.\n\n### Properties to set only once\n\nRudderStack lets you set the `identify` traits as Mixpanel properties whose values you do not want to change at the user profile level, that is, Mixpanel will not overwrite the existing property values. See [Mixpanel documentation](https://developer.mixpanel.com/reference/profile-set-property-once/) for more information on this feature.\n\nTo use this feature:\n\n1.  Enable the **Use Mixpanel People** option in the dashboard.\n2.  Add the traits in the **Properties to set only once** setting.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-properties-set-once.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-properties-set-once.webp)\n\nRudderStack expects the traits specified in the above field to be present in the `context.traits` object within the `identify` event.\n\nFor example, if your `identify` event contains the following and you specify `address.city` in the **Properties to set only once** field:\n\n```\n\"traits\": {\n  \"address\": {\n    \"city\": \"London\"\n  }\n}\n\n...\n\n\"context\": {\n  \"traits\": {\n    \"address\": {\n      \"city\": \"Berlin\"\n    }\n  }\n}\n```\n\nThen, RudderStack maps `city` as `Berlin`.\n\n### Reserved Mixpanel properties\n\nMixpanel has some reserved properties:\n\n*   `$first_name`\n*   `$last_name`\n*   `$name`\n*   `$username`\n*   `$created`\n*   `$email`\n*   `$phone`\n*   `$avatar`\n*   `$city`\n*   `$country_code`\n*   `$region`\n*   `$unsubscribed`\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You should not create custom properties that begin with a `$` sign.\n\n### Mixpanel People\n\nRudderStack does not send data to Mixpanel People by default, as it usually requires you to upgrade your Mixpanel account. If you want to use this feature, you can turn on the **Use Mixpanel People** option in the RudderStack dashboard.\n\nYou can identify the user traits without the `userId` if you wish to add the people properties in Mixpanel before knowing the `userId`. To do so, see the following snippet:\n\n```\nrudderanalytics.identify({\n  email: 'alex@example.com',\n  name: 'Alex Keener'\n})\n```\n\n## Track\n\nTo track user events, use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method with the event name and the associated properties.\n\nWhen you select **Simplified ID Merge** in the **Identity Merge** dashboard setting, RudderStack sets the event’s `userId` and `anonymousId` using Mixpanel’s [Simplified ID Merge API](https://help.mixpanel.com/hc/en-us/articles/14377628688788) so that the two identifiers are glued to a single user profile.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"track event\", {\n    test_prop1: 50,\n    test_prop2: \"prop_value\"\n});\n```\n\n### Track revenue\n\nMixpanel lets you track revenue events. If you send `revenue` as a property in your `track` event, RudderStack tracks it as a revenue event.\n\nRevenue tracking is done with a `distinct_id` (`userId` that you provide in your `identify` call; if `userId` is not present then it will be associated with an `anonymousId`.)\n\nA sample revenue `track` call is as shown:\n\n```\nrudderanalytics.track(\"Purchase\", {\n  revenue: 100,\n  currency: \"USD\"\n});\n```\n\n### Track charge\n\nIf **Use Mixpanel People** setting is toggled on in your RudderStack dashboard and you include `revenue` as an event property, RudderStack will track a charge for the current user.\n\n## Page\n\nRudderStack passes all page properties that you provide via the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to Mixpanel, along with the other default properties. It sets the event name as **Page** for a `page` call and **Screen** for a [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call.\n\nWhen you select **Simplified ID Merge** in the **Identity Merge** dashboard setting, RudderStack sets the event’s `userId` and `anonymousId` using Mixpanel’s [Simplified ID Merge API](https://help.mixpanel.com/hc/en-us/articles/14377628688788) so that the two identifiers are glued to a single user profile.\n\nA sample `page` call is shown below:\n\n### Page web device mode settings\n\nRudderStack will send 1 event to Mixpanel per `page` call.\n\nFor device mode, RudderStack offers the following three options for `page` calls:\n\n*   **Track All Pages with a Consolidated Event Name**: This setting is on by default. RudderStack sends all `page` and `screen` calls with the name `Loaded a Page` with the corresponding properties of the call. This lets you leverage Mixpanel’s reporting capabilities for page/screen analytics in the best possible way.\n*   **Track Categorized Pages to Mixpanel**: RudderStack tracks the categorized pages to Mixpanel. If you turn on this setting in the dashboard, RudderStack sends a `Viewed [<category>] Page` event to Mixpanel. If the page name is also present in the event, then RudderStack sends a `Viewed [<category> <page_name>] Page` event.\n*   **Track Named Pages to Mixpanel**: RudderStack also tracks the named pages to Mixpanel. If you turn on this setting in the dashboard, RudderStack will send a `Viewed [page_name] Page` event. Note that this option has the least precedence and comes to effect only if the above two options are disabled in the RudderStack dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack gives the highest precedence to the **Track All Pages with a Consolidated Event Name** option even if **Track Categorized Pages to Mixpanel** and **Track Named Pages to Mixpanel** are turned on in the dashboard.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack expects atleast one of the three options listed above to be toggled on for sending the `page` events to Mixpanel using device mode.\n\n## Alias\n\nThe [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call lets you associate multiple identities of a known user.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `alias` call is deprecated with the **Simplified ID Merge** dashboard setting.\n\nA sample `alias` call is as shown:\n\n```\nanalytics.alias('userId', `previousId`);\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group such as a company, organization, or an account, and record any traits associated with that group, for example, company name, number of employees, etc. For more information on how the `group` call works in Mixpanel, see Mixpanel’s [Group Analytics](https://help.mixpanel.com/hc/en-us/articles/360025333632-Group-Analytics) documentation.\n\nRudderStack lets you record the custom traits associated with a user group and send this information to Mixpanel.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"sample_group_id\", {\n    name: \"Tech group\",\n    industry: \"Technology\",\n    employees: 100,\n  }\n);\n```\n\n### Group key\n\nYou can create group keys in the [Mixpanel project settings](https://help.mixpanel.com/hc/en-us/articles/360025333632-Group-Analytics#implementation), which act as the group identifiers in Mixpanel. To successfully send a `group` call to Mixpanel, you must specify **at least** one group key in the **Group Key** RudderStack dashboard setting:\n\n[![Mixpanel group key settings](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-group-key-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mixpanel-group-key-settings.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note the following points:\n> \n> *   If you map the `groupId` as a group key, RudderStack looks up its value in the following priority order:\n>     1.  In `message.groupId`\n>     2.  In `message.traits.groupId`\n> *   If you map any other field as a group key, RudderStack looks up its value in `message.traits.groupKey`.\n> *   You can specify multiple values for a group key and send them in an array in the `group` event payload.\n\n## Send historic events\n\nMixpanel supports importing historical event data. However, note that the event timestamp should be within the **last 5 years**. Mixpanel rejects any data older than this duration. To send historic events, provide the timestamp in the `timestamp` field of the message. RudderStack will then send the event with the same timestamp to Mixpanel.\n\n## Mixpanel special traits\n\nThe following table lists all properties that RudderStack sends to Mixpanel as special traits:\n\n| RudderStack Properties | Mixpanel Properties |\n| --- | --- |\n| `created` | `$created` |\n| `email` | `$email` |\n| `firstName` | `$first_name` |\n| `lastName` | `$last_name` |\n| `lastSeen` | `$last_seen` |\n| `name` | `$name` |\n| `username` | `$username` |\n| `phone` | `$phone` |\n| `city`/`address.city` | `$city` |\n| `region`/`address.state` | `$region` |\n| `country`/`address.country` | `$country_code` |\n\n## Increment events in Mixpanel People\n\nTo increment event counts in Mixpanel People, you can add the events in the **Events to increment in People** field.\n\nFor each event name added, RudderStack automatically calls Mixpanel and sets a user trait as `Last + <event_name>`. For example, if you add `Logged In` to the list of increment events, RudderStack will increment a user trait called `Logged In` and set a trait called `Last Logged In` with the current date and time.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Increment works for known users only. If you make a `track` call, you must identify your user first.\n\n## Increment properties in Mixpanel People\n\nTo increment properties in Mixpanel People, you can add them in the **Properties to Increment in People** field. RudderStack will call Mixpanel’s increment when you attach a number to the specified property. For example, `'items purchased': 5`.\n\n## FAQ\n\n#### Can I pass `null` and empty values for the properties?\n\nYes, RudderStack supports passing empty or `null` values for the properties sent to Mixpanel.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mixpanel Device Mode Integration | RudderStack Docs",
  "description": "Send events to Mixpanel using RudderStack device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/june/june-cloud-mode/",
  "markdown": "# June Cloud Mode | RudderStack Docs\n\nSend events to June using RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to June via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open-source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/june).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a new user or update an existing user’s details in June. RudderStack sends the `identify` call to June using their [`identify`](https://www.june.so/docs/tracking/http-api/identify) API.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure that you make an `identify` call before making a `track` or `group` call.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Z\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n})\n```\n\n#### **Property mapping**\n\nThe following table lists the property mappings between RudderStack and June for the `identify` call:\n\n| RudderStack property | Data type | June property |\n| --- | --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required | String | `userId` |\n| `originalTimestamp`  <br>`timestamp`  <br>Required | Timestamp in ISO 8601 format  <br>(`yyyy-MM-ddTHH:mm:ss.SSSZ`) | `timestamp` |\n| `anonymousId` | String | `anonymousId` |\n| `traits`  <br>`context.traits` | Object | `traits` |\n| `context` | Object | `context` |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them. RudderStack sends the `track` call to June using their [`track`](https://www.june.so/docs/tracking/http-api/track) API.\n\nA sample `track` call is shown below:\n\n```\n// groupId using properties object\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\",\n  groupId: \"5H7ASAIEQO\",\n});\n\n// groupId using context.externalId array\nrudderanalytics.track(\n  \"Product Reviewed\", {\n    review_id: \"12345\",\n    product_id: \"123\",\n    rating: 3.0,\n    review_body: \"Average product, expected much more.\",\n  }, {\n    externalId: [{\n      type: \"juneGroupId\",\n      id: \"5H7ASAIEQO\",\n    }, ],\n  }\n);\n```\n\n#### **Property mapping**\n\nThe following table lists the property mappings between RudderStack and June for the `track` call:\n\n| RudderStack property | Data type | June property |\n| --- | --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required | String | `userId` |\n| `event`  <br>Required | String | `event` |\n| `originalTimestamp`  <br>`timestamp`  <br>Required | Timestamp in ISO 8601 format  <br>(`yyyy-MM-ddTHH:mm:ss.SSSZ`) | `timestamp` |\n| `anonymousId` | String | `anonymousId` |\n| `properties` | Object | `properties` |\n| *   `context.externalId.id` (when `context.externalId.type` = `juneGroupId`)<br>*   `properties.groupId` | String | `context.groupId` |\n| `context` | Object | `context` |\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to create a new company or update an existing company’s details in June. Refer to the [June documentation](https://www.june.so/docs/tracking/http-api/group) for more information.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are using a `group` call to identify a company, it is recommended to pass the `groupId` in the `track` call. It allows you to specify which company performed that specific event.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"23Np893Z6\", {\n  name: \"ABC company\",\n  employees: 100,\n  Industry: \"Video game publisher\",\n  Founded: 1979\n});\n```\n\n#### **Property mapping**\n\nThe following table lists the property mappings between RudderStack and June for the `group` call:\n\n| RudderStack property | Data type | June property |\n| --- | --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br><br>*   Required for creating a company.<br>*   Optional for updating the company details. | String | `userId` |\n| `originalTimestamp`  <br>`timestamp`  <br>Required | Timestamp in ISO 8601 format  <br>(`yyyy-MM-ddTHH:mm:ss.SSSZ`) | `timestamp` |\n| `groupId`  <br>`traits.groupId`  <br>Required | String | `groupId` |\n| `anonymousId` | String | `anonymousId` |\n| `traits`  <br>`context.traits` | Object | `traits` |\n| `context` | Object | `context` |\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to record and send page views to June.\n\nA sample `page` event:\n\n```\nrudderanalytics.page(\"Home\");\n```\n\n#### **Property mapping**\n\n| RudderStack property | Data type | June property |\n| --- | --- | --- |\n| `properties`  <br>Required | Object | `properties` |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id` | String | `userId` |\n| `timestamp`  <br>`originalTimestamp` | Timestamp in ISO 8601 format  <br>(`yyyy-MM-ddTHH:mm:ss.SSSZ`) | `timestamp` |\n| `anonymousId` | String | `anonymousId` |\n| `groupId` | String | `context.groupId` |\n| `context` | Object | `context` |\n\n## FAQ\n\n#### Can I make an `identify` or `track` call using `anonymousId`?\n\nNo, you cannot. June does not stitch identities together or support merging anonymous users. It is best used to measure user activation and retention when the user is logged in.\n\n#### My user is created as `Unknown` in June dashboard. What might be the reason?\n\nJune categorizes a user as `Unknown` if the `firstName`, `lastName`, `name`, `username`, or `email` is not present in the `traits` object of the `identify` call.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "June Cloud Mode | RudderStack Docs",
  "description": "Send events to June using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/june/setting-up-june-in-rudderstack/",
  "markdown": "# Set up June | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up June | RudderStack Docs",
  "description": "Set up June as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/livechat/",
  "markdown": "# LiveChat | RudderStack Docs\n\nSend your event data from RudderStack to LiveChat.\n\n* * *\n\n*     4 minute read  \n    \n\n[LiveChat](https://www.livechat.com/) is a live chat software and customer service platform. It lets you manage user interactions across multiple channels and deliver more effective customer service.\n\nRudderStack supports LiveChat as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to LiveChat via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the LiveChat native SDK is loaded from `https://cdn.livechatinc.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the LiveChat SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to LiveChat, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **LiveChat**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure LiveChat as a destination, you will need to configure the following settings:\n\n[![LiveChat connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-1.webp)\n\n*   **License ID**: Enter your LiveChat license ID.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your LiveChat license ID, refer to the [FAQ](#faq) section below.\n\n*   **Record Live Chat Events**: Enable this setting to allow RudderStack to automatically record your LiveChat interactions as `track` events.\n    \n    [![LiveChat connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-2.webp)\n    \n    *   **List of Events**: If **Record Live Chat Events** setting is enabled, enter the list of LiveChat interactions for RudderStack to track.\n    *   **Update Event Name in track call**: Use this setting to map the standard LiveChat callback events with custom event names.\n    \n    [![LiveChat connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-3.webp)\n    \n    > ![info](https://www.rudderstack.com/docs/images/info.svg)\n    > \n    > For more information on this setting, refer to the [Mapping events](#mapping-events) section below.\n    \n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to LiveChat.\n    \n\n[![LiveChat connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-connection-settings-4.webp)\n\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) events to send all user-related information to LiveChat.\n\nRudderStack sends various **optional** `identify` properties by calling the following LiveChat functions:\n\n| RudderStack property | LiveChat function |\n| --- | --- |\n| `context.traits.email` | [`set_customer_email`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#set-customer-email) |\n| `message.traits` | [`set_custom_variables`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#set-session-variables) |\n| `context.traits.name` | [`set_customer_name`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#set-customer-name) |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack also leverages the `userId` present in the event to set a custom variable called `User ID`.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  cart_value: \"cart\",\n  \"order date\": \"05/21/2019\"\n});\n```\n\n## Track\n\nIf you enable the **Record Live Chat Events** dashboard setting, RudderStack records the LiveChat interactions and sends them as [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events. You can then view and analyze these events in the other tools (connected to the same source in RudderStack).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack only tracks the CTA interactions specified in the **List of Events** field in the dashboard settings. If this setting is not specified, RudderStack tracks all interactions specified in the [Supported events](#supported-events) section below.\n\n### Supported events\n\nRudderStack automatically records and sends the following [LiveChat callbacks](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#callbacks):\n\n| LiveChat event | `track` event name | Description |\n| --- | --- | --- |\n| [`onReady`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-ready) | `Ready` | When the chat widget has finished loading. |\n| [`onAvailabilityChanged`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-availability-changed) | `Availability Changed` | When the availability has changed for the current group. |\n| [`onVisibilityChanged`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-visibility-changed) | `Visibility Changed` | When the visibility of the chat widget has changed. |\n| [`onCustomerStatusChanged`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-customer-status-changed) | `Customer Status Changed` | When the customer’s status has changed. |\n| [`onNewEvent`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-new-event) | `New Event` | Called in case of both the incoming and outgoing events. |\n| [`onFormSubmitted`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-form-submitted) | `Form Submitted` | Called after a form is submitted in the chat. |\n| [`onRatingSubmitted`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-rating-submitted) | `Rating Submitted` | When the customer has rated a chat or cancelled the previous rating. |\n| [`onGreetingDisplayed`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-greeting-displayed) | `Greeting Displayed` | When the greeting is displayed to a customer. |\n| [`onGreetingHidden`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-greeting-hidden) | `Greeting Hidden` | When the customer cancels the greeting. |\n| [`onRichMessageButtonClicked`](https://developers.livechat.com/docs/extending-chat-widget/javascript-api#on-rich-message-button-clicked) | `Rich Message Button Clicked` | When the customer clicks the rich message button. |\n\n### Mapping events\n\nYou can also update the standard LiveChat callback events with custom event names by enabling the **Update Event Name in track call** setting in the RudderStack dashboard and specifying the required mapping:\n\n[![LiveChat event mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-event-mapping.webp)\n\nBased on the mappings set in the above image, RudderStack replaces the standard event names `Ready` and `Availability Changed` with `new ready` and `new availability changed` respectively.\n\n## FAQ\n\n#### Where can I find the LiveChat license ID?\n\nTo get your LiveChat license ID, follow these steps:\n\n1.  Log into your [LiveChat dashboard](https://my.livechatinc.com/).\n2.  In the bottom left corner, click the **Settings** icon and go to **Website**.\n3.  You can find the license ID included in the installation snippet:\n\n[![LiveChat license ID](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-license-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/livechat-license-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "LiveChat | RudderStack Docs",
  "description": "Send your event data from RudderStack to LiveChat.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/monday/",
  "markdown": "# Monday destination | RudderStack Docs\n\nSend your event data from RudderStack to Monday.\n\n* * *\n\n*     5 minute read  \n    \n\n[monday.com](https://monday.com/) is a popular workflow management tool. It lets you create efficient cross-team workflows and automations for better collaboration and maximum productivity.\n\nRudderStack supports monday.com as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring monday.com as a destination in RudderStack, verify if the source platform is supported by Monday by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to monday.com, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Monday**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure monday.com as a destination, you will need to configure the following settings:\n\n[![Monday connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-connection-settings.webp)\n\n*   **API Token**: Enter the API token from your [monday.com](https://auth.monday.com/auth/login_monday) dashboard.\n*   **Board ID**: Enter your monday.com board ID.\n*   **Group Title**: Enter the group title of your board if you want to add an item to a specific group.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting these details, refer to the [FAQ](#faq) section below.\n\n*   **Columns to property mapping**: Enter the column names from your monday.com board and the corresponding RudderStack event properties to be mapped.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> *   The column names provided in the mapping should be existing in your monday.com board.\n> *   RudderStack will only update the column names provided in this mapping.\n\n### Client-side events filtering\n\nThis setting lets you specify the event names which should be allowed to flow through to monday.com.\n\n[![Monday connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-connection-settings-2.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack will discard the events **not included** in the allowlist.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to create an item in your board. To do so, you need to specify the **Board ID** and **Columns to property mapping** in the dashboard settings.\n\nYou can also override the board ID mentioned in the RudderStack dashboard by passing it in the `externalId` in the track call. A sample `track` call for the same is shown below:\n\n```\nrudderanalytics.track(\"create an item\", {\n  \"status\": \"Done\",\n  \"latitude\": \"50.32\",\n  \"longitude\": \"46.32\",\n  \"address\": \"New York, USA\",\n  \"mobile_number\": \"+1-202-555-0146\",\n  \"countryShortName\": \"US\"\n}, {\n  \"externalId\": [{\n    \"type\": \"boardId\",\n    \"id\": \"3536273222\"\n  }],\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The event passed in the `track` call should be added in the **Allowlist** connection setting, otherwise it will be discarded.\n\n### Supported column types\n\nThe following column types can be updated while creating a new item on the board. You can map the properties for these columns in the RudderStack dashboard:\n\n| Column types | Notes |\n| --- | --- |\n| Status | Pass the exact (existing) value. |\n| Numbers | Float or integer format. |\n| Text | \\-  |\n| Checkbox | If you map a checkbox column, the checkbox value will be set to true by default. [Reference](https://developer.monday.com/api-reference/docs/checkbox#updating-the-checkbox-column). |\n| Country | Requires both the country name and code. |\n| Email | Pass the email address and optional text to link the email address. |\n| Item name | \\-  |\n| Link | Pass the URL along with the text for the link. |\n| Location | Pass the address along with latitude and longitude details. |\n| Long Text | String can be up to 2000 characters. |\n| Phone | Pass the phone number along with country short name (a two-letter code, for example, `US`). |\n| Rating | Should be an existing (≤ maximum) rating value. |\n| World Clock | The timezone should be passed in the `continent/city` format, for example, `Europe/London`. |\n\n### Property mapping\n\nRudderStack maps the following event properties to the corresponding monday.com properties:\n\n| RudderStack property | Monday property | Presence | Notes |\n| --- | --- | --- | --- |\n| `properties.name` | `item_name` | Required | By default, RudderStack maps the attributes passed here to the first column value. |\n| `properties.countryCode` | `countryCode` | Required, if `country` column needs to be updated. | Must be passed in the ISO-2 country code format (a two-letter code), for example, `US`. [Reference](https://developer.monday.com/api-reference/docs/country#updating-the-country-column). |\n| `properties.countryShortName` | `countryShortName` | Required, if `phone` column needs to be updated. | Must be passed in the ISO-2 country code format (a two-letter code), for example, `US`. [Reference](https://developer.monday.com/api-reference/docs/country#updating-the-country-column). |\n| `properties.latitude` | `lat` | Required, if `location` column needs to be updated. | \\-  |\n| `properties.longitude` | `lng` | Required, if `location` column needs to be updated. | \\-  |\n| `properties.emailText` | `text` | Optional | Can be used to add a hyperlink to the email address text on the board. |\n| `properties.linkText` | `text` | Optional | Can be used to add a hyperlink to the text on the board. |\n\n## FAQ\n\n#### Where can I find the monday.com API token?\n\nTo get the monday.com API token, follow these steps:\n\n1.  Log into the [monday.com dashboard](https://auth.monday.com/auth/login_monday).\n2.  Click your profile in the left navigation bar.\n3.  Select **Developer** > **My Access Tokens**:\n\n[![Monday API token in the dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-api-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-api-token.webp)\n\n#### Where can I find the Board ID, Group Title and column names in monday.com dashboard?\n\nTo get your monday.com Board ID, Group Title, and column names, follow these steps:\n\n**Board ID**\n\n1.  Log into the [monday.com dashboard](https://auth.monday.com/auth/login_monday).\n2.  Go to **Work management** in the left navigation bar and select your board. The board ID is displayed in the address bar, as seen in the below image.\n\n**Group title**\n\nGroup title is the name of your the groups in the board. In the below image, **Active deals** and **Closed Won** are the group titles .\n\n**Column names**\n\nThe column titles in your board are the column names. In the below image, **Stage**, **Owner**, **Contacts**, and **Accounts** are the column names.\n\n[![Monday dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-dashboard.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/monday-dashboard.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Monday destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Monday.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/linkedin-ads/cloud-mode/",
  "markdown": "# LinkedIn Ads Cloud Mode Integration\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "LinkedIn Ads Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to LinkedIn Ads using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/linkedin-insight-tag/",
  "markdown": "# LinkedIn Insight Tag | RudderStack Docs\n\nSend your event data from RudderStack to LinkedIn Insight Tag.\n\n* * *\n\n*     5 minute read  \n    \n\nThe [LinkedIn Insight Tag](https://business.linkedin.com/marketing-solutions/insight-tag) is a JavaScript code for your website that lets you track your conversions and retarget your website visitors and customers who interact with your ads. You can use the resulting insights to learn more about your customers and optimize your marketing campaigns.\n\nRudderStack supports integration with the LinkedIn Insight Tag where you can seamlessly send your event data to LinkedIn.\n\n## Getting started\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are already using LinkedIn Insight Tag on your website, removing it is highly recommended. This is because the RudderStack SDK automatically loads the Insight Tag tracking code and it may cause a conflict with the existing installation. For more information on the integration’s workflow, refer to the [FAQ](#faq) section below.\n\nRudderStack supports sending event data to LinkedIn Insight Tag via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the LinkedIn Insight Tag native SDK is loaded from `https://snap.licdn.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the LinkedIn Insight Tag SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to LinkedIn Insight Tag, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **LinkedIn Insight Tag**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure LinkedIn Insight Tag as a destination, you will need to configure the following settings:\n\n[![LinkedIn Insight Tag connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-connection-settings.webp)\n\n*   **Partner ID**: Enter your LinkedIn partner ID.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your LinkedIn partner ID, refer to the [FAQ](#where-can-i-find-my-linkedin-partner-id) section below.\n\n*   **Event Conversion IDs**: Enter the event name you want the Insight Tag to track and the corresponding conversion ID.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The event names are case-sensitive. For example, RudderStack accepts `Order Completed`, `Order completed`, and `order completed` as three different events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting the conversion ID, refer to the [Tracking event-specific conversions](#tracking-event-specific-conversions) section below.\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to the LinkedIn Insight Tag.\n\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to the LinkedIn Insight Tag destination.\n\n## Tracking page loads\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on the tracking methods supported by the Insight Tag, refer to the [LinkedIn support page](https://www.linkedin.com/help/lms/answer/a425606?trk=hc-articlePage-peopleAlsoViewed).\n\nIn this method, the Insight Tag automatically loads and tracks the conversions when users visit any pages on your website. Upon loading successfully, you can view the conversion status in your [Campaign Manager](https://www.linkedin.com/campaignmanager/accounts) dashboard:\n\n[![LinkedIn Insight campaign manager dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-campaign-manager.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-campaign-manager.webp)\n\n## Tracking event-specific conversions\n\nTo track event-specific conversions, you need to first set up an Online Tracking conversion and define an event-specific conversion tracking. To do so, follow these steps:\n\n1.  Sign into your [LinkedIn Campaign Manager](https://www.linkedin.com/campaignmanager/accounts).\n2.  Click your account name and go to **Analyze** > **Conversion Tracking**.\n3.  Click the **Create Conversion** button and select **Online Conversion**.\n\n[![LinkedIn Insight online conversion option](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-online-conversion.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-online-conversion.webp)\n\n4.  Name your conversion and enter the relevant settings. For more information, refer to this [LinkedIn support page](https://www.linkedin.com/help/lms/answer/a425606/set-up-linkedin-conversion-tracking?lang=en).\n5.  Click **Next step** and select the campaign to track your conversion.\n6.  Under **Manually set up conversions**, go to **Define your conversion tracking method** and select **Event-specific**.\n7.  Click **Copy code**. You will find the conversion ID listed here:\n\n[![LinkedIn Insight online conversion ID](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-conversion-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-conversion-id.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You will need to install this generated code in your website that automatically loads and tracks conversions for the specified event.\n\n8.  Finally, specify the **Event Name** for which the Insight Tag automatically loads this snippet and the corresponding conversion ID in the **Event Conversion IDs** dashboard setting.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The event names are case-sensitive.\n\n#### Use-case\n\nSuppose you add the following event name-conversion ID mapping in the RudderStack dashboard:\n\n[![LinkedIn Insight event tracking use-case](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-usecase.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-usecase.webp)\n\nWhen you call the `Product Added` event, the LinkedIn Insight Tag automatically loads the snippet with the mapped conversion ID and tracks the conversion event.\n\nA sample `Product Added` event is shown below:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  numberOfRatings: \"12\",\n  name: \"item 1\",\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack discards any `track` event that is not specified in the **Event Conversion IDs** dashboard setting.\n\n## FAQ\n\n#### How does this integration work?\n\nThe RudderStack-LinkedIn Insight Tag integration workflow is explained below:\n\n1.  Configure **LinkedIn Insight Tag** as a destination in the [RudderStack dashboard](https://app.rudderstack.com/).\n2.  Install the [RudderStack JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/quickstart/#step-1-install-javascript-sdk) on your website.\n3.  The JavaScript SDK automatically loads the Insight Tag tracking code.\n4.  The Insight Tag starts tracking the user activities on your website.\n\n#### What information can I track using the LinkedIn Insight Tag?\n\nThe LinkedIn Insight Tag lets you collect the data related to your users’ website visits, including the URL, IP address, referrer, device and browser characteristics, and timestamp.\n\n#### Where can I find my LinkedIn partner ID?\n\nTo get the Partner ID, open the Insight Tag and get the value corresponding to the `_linkedin_partner_id` parameter:\n\n[![LinkedIn Insight Tag partner ID](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-partner-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-partner-id.webp)\n\nAlternatively, you can follow the steps in this [LinkedIn support page](https://www.linkedin.com/help/lms/answer/a417869/access-your-linkedin-partner-id?lang=en) to access your LinkedIn partner ID.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Each LinkedIn Insight Tag has a unique Partner ID. If the Partner ID of the tag on your website does not match the Partner ID in your account, the Insight Tag will be unable to collect the page loads and event-specific conversions.\n\n### How can I verify if the event-specific conversions are tracked successfully?\n\nOnce you configure the **Event Conversion IDs** setting in the RudderStack dashboard, the LinkedIn Insight Tag automatically loads the code snippet and tracks the conversions for the specified events.\n\nIf the script has loaded correctly, it shows the label **Conversion status: Active** against the events in your dashboard:\n\n[![LinkedIn Insight conversion status](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-conversion-status.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/insight-tag-conversion-status.webp)\n\nIn case the script has not loaded correctly, you will see the **Conversion Status** as **Unverified**, **No recent activity**, or **Inactive**.\n\n#### Will this integration slow my website down?\n\nThe RudderStack SDK loads asynchronously with your website. When loading the LinkedIn Insight Tag tracking snippet, it will not slow down your website’s performance at all.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "LinkedIn Insight Tag | RudderStack Docs",
  "description": "Send your event data from RudderStack to LinkedIn Insight Tag.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/june/june-device-mode/",
  "markdown": "# June device mode | RudderStack Docs\n\nSend events to June using RudderStack web device mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to June destination via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create new users or update existing users’ details in June. RudderStack sends the `identify` call to June as an [`identify`](https://www.june.so/docs/tracking/web/browser) event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure that you make an `identify` call before making a `track`, `group`, or `page` call.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Z\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n})\n```\n\n### Property mappings\n\nThe following table lists the property mappings between RudderStack and June for the `identify` call:\n\n| RudderStack property | June property | Data type | Presence |\n| --- | --- | --- | --- |\n| `userId`/`context.traits.userId`/`context.traits.id` | `userId` | String | Required |\n| `context.traits` | `traits` | Object | Optional |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them. RudderStack sends the `track` call to June as a [`track`](https://www.june.so/docs/tracking/web/browser) event.\n\nA sample `track` call is shown below:\n\n```\n// groupId using properties object\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 3.0,\n  review_body: \"Average product, expected much more.\",\n  groupId: \"5H7ASAIEQO\",\n});\n\n// groupId using context.externalId array\nrudderanalytics.track(\n  \"Product Reviewed\", {\n    review_id: \"12345\",\n    product_id: \"123\",\n    rating: 3.0,\n    review_body: \"Average product, expected much more.\",\n  }, {\n    externalId: [{\n      type: \"juneGroupId\",\n      id: \"5H7ASAIEQO\",\n    }, ],\n  }\n);\n```\n\n### Property mappings\n\nThe following table lists the property mappings between RudderStack and June for the `track` call:\n\n| RudderStack property | June property | Data type | Presence |\n| --- | --- | --- | --- |\n| `event` | `event` | String | Required |\n| `properties` | `properties` | Object | Optional |\n| *   If `context.externalId.id` (when `context.externalId.type` = `juneGroupId`) is present.<br>*   Otherwise, `properties.groupId`. | `context.groupId` | String | Optional |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page. RudderStack sends the `page` call to June as a `PageView` event.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n### Property mappings\n\nThe following table lists the property mappings between RudderStack and June for the `page` call:\n\n| RudderStack property | June property | Data type | Presence |\n| --- | --- | --- | --- |\n| `name` | `name` | String | Optional |\n| `properties` | `properties` | Object | Optional |\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to create a new company or update an existing company’s details in June.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are using a `group` call to identify a company, it is recommended to pass the `groupId` in the `track` call. It allows you to specify which company performed that specific event. For more information, refer to the [June documentation](https://www.june.so/docs/tracking/web/browser).\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"23Np893Z6\", {\n  name: \"ABC company\",\n  employees: 100,\n  Industry: \"Video game publisher\",\n  Founded: 1979\n});\n```\n\n### Property mappings\n\nThe following table lists the property mappings between RudderStack and June for the `group` call:\n\n| RudderStack property | June property | Data type | Presence |\n| --- | --- | --- | --- |\n| `groupId`/`traits.groupId` | `groupId` | String | Required |\n| `traits` | `traits` | Object | Optional |\n\n## FAQ\n\n#### Can I make an `identify` or `track` call using `anonymousId`?\n\nNo, you can’t. June does not stitch identities together or support merging anonymous users. Rather, it is best used to measure user activation and retention when the user is logged in.\n\n#### My user is created as `Unknown` in June dashboard. What might be the reason?\n\nJune categorizes a user as `Unknown` if the `firstName`, `lastName`, `name`, `username`, or `email` is not present in the `traits` object of the `identify` call.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "June device mode | RudderStack Docs",
  "description": "Send events to June using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/moengage/",
  "markdown": "# MoEngage destination | RudderStack Docs\n\nSend your events from RudderStack to MoEngage.\n\n* * *\n\n*     13 minute read  \n    \n\n[MoEngage](https://moengage.com/) is an intelligent customer engagement platform. It lets you personalize every customer interaction and drive better engagement, retention, loyalty, and lifetime value.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/moengage).\n\n## Getting started\n\nRudderStack supports sending event data to MoEngage via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device Mode | Supported | Supported | \\-  |\n| Cloud Mode | Supported | Supported | Supported |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In the web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the MoEngage native SDK from the `hhttp(s)://cdn.moengage.com/webpush/moe_webSdk.min.latest.js` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the MoEngage SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to MoEngage, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **MoEngage**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure MoEngage as a destination, you will need to configure the following settings:\n\n*   **API ID**: Enter your MoEngage API ID.\n*   **API Key**: Enter your MoEngage API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your MoEngage API ID and API key, refer to the [FAQ](#faq) section below.\n\n*   **Region**: Choose the MoEngage server region (**EU**, **US**, or **IND** ) to send your event data.\n*   **Client-side Events Filtering**: This setting is applicable only for the [device mode integrations](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode). It lets you specify which events should be blocked or allowed to flow through to MoEngage. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n\nThe following settings are applicable for the [RudderStack JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/):\n\n*   **Use device mode to send events**: Enable this setting to send events to MoEngage via the [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n*   **Debug mode**: Enable this setting to get the debug logs for the events sent using the web SDK. You can then see the events under the **Test** section of your MoEngage app.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to MoEngage.\n\n## Adding device mode integration\n\nOnce you add MoEngage as a destination in the [RudderStack dashboard](https://app.rudderstack.com/), follow these steps to add it to your project depending on your integration platform:\n\n1.  Go to your `Podfile` and add the `Rudder-Moengage` extension.\n\n2.  After adding the dependency followed by `pod install`, add the imports to your `AppDelegate.m` file:\n\n```\n#import \"RudderMoengageFactory.h\"\n```\n\n3.  Finally, change the initialization of your `RudderClient`:\n\n```\nRudderConfigBuilder *builder = [[RudderConfigBuilder alloc] init];\n[builder withDataPlaneUrl:DATA_PLANE_URL];\n[builder withFactory:[RudderMoengageFactory instance]];\n[RudderClient getInstance:WRITE_KEY config:[builder build]];\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This device mode integration is supported for MoEngage v6.1.0 and above.\n\n1.  Install `RudderMoEngage` (available through [CocoaPods](https://cocoapods.org/)) by adding the following line to your `Podfile`:\n\n```\npod 'RudderMoEngage', '~> 1.0.0'\n```\n\n2.  Run the `pod install` command.\n3.  Import the SDK depending on your preferred platform:\n\n4.  Add the imports to your `AppDelegate` file under the `didFinishLaunchingWithOptions` method:\n\n```\nlet config: RSConfig = RSConfig(writeKey: WRITE_KEY)\n            .dataPlaneURL(DATA_PLANE_URL)\n\nRSClient.sharedInstance().configure(with: config)\nRSClient.sharedInstance().addDestination(RudderMoEngageDestination())\n```\n\n```\nRSConfig *config = [[RSConfig alloc] initWithWriteKey:WRITE_KEY];\n[config dataPlaneURL:DATA_PLANE_URL];\n\n[[RSClient sharedInstance] configureWith:config];\n[[RSClient sharedInstance] addDestination:[[RudderMoEngageDestination alloc] init]];\n```\n\n1.  Open your `app/build.gradle` (Module: app) file and add the following lines:\n\n```\nrepositories {\n    mavenCentral()\n}\n```\n\n2.  Add the following dependencies:\n\n```\n// RudderStack Android and MoEngage SDKs\nimplementation 'com.rudderstack.android.sdk:core:[1.0,2.0)'\nimplementation 'com.rudderstack.android.integration:moengage:2.0.0'\n\n// For MoEngage core SDK initialisation\nimplementation(\"com.moengage:moe-android-sdk:12.5.04\")\n\n// Firebase messaging dependency\nimplementation 'com.google.firebase:firebase-messaging:23.1.1'\n\n// If you don't have Gson included already\nimplementation 'com.google.code.gson:gson:2.8.9'\n```\n\n3.  After `buildscript`, add the below plugin:\n\n```\n// For Push Notification\napply plugin: 'com.google.gms.google-services'\n```\n\n4.  Open your `build.gradle` (Module: Project) file and add the following in the `buildscript` dependencies:\n\n```\n// For Push Notification\nbuildscript {\n    dependencies {\n        classpath 'com.google.gms:google-services:4.3.14'\n    }\n}\n```\n\n5.  Initialize the RudderStack SDK in the `Application` class’ `onCreate()` method:\n\n```\n// initializing Rudder SDK\nval rudderClient = RudderClient.getInstance(\n    this,\n    WRITE_KEY,\n    RudderConfig.Builder()\n        .withDataPlaneUrl(DATA_PLANE_URL)\n        .withFactory(MoengageIntegrationFactory.FACTORY)\n        .build()\n)\n```\n\n6.  Initialize the MoEngage SDK in the `Application` class’ `onCreate()` method:\n\n```\n// initializing MoEngage SDK and \"XXXXXXXXXXX\" is the APP ID from the dashboard.\nval moEngage =\n    MoEngage.Builder(this, \"XXXXXXXXXXX\")\n        .configureLogs(LogConfig(LogLevel.VERBOSE, false))\n        .build()\n\nMoEngage.initialiseDefaultInstance(moEngage)\n```\n\n1.  Add the RudderStack-MoEngage module to your app by running the following command:\n\n```\nnpm install @rudderstack/rudder-integration-moengage-react-native\n// OR //\nyarn add @rudderstack/rudder-integration-moengage-react-native\n```\n\n2.  Import the above module and add it to your SDK initialization:\n\n```\nimport rudderClient from \"@rudderstack/rudder-sdk-react-native\"\nimport moengage from \"@rudderstack/rudder-integration-moengage-react-native\"\nconst config = {\n  dataPlaneUrl: <data_plane_url>,\n  trackAppLifecycleEvents: true,\n  withFactories: [moengage],\n}\nrudderClient.setup( <write_key> , config)\n```\n\n3.  Add the following dependencies in the `android/app/build.gradle` (Module: app) file in the Android folder of your React Native project:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.+'\nimplementation 'com.rudderstack.android.integration:moengage:1.0.0'\nimplementation 'com.moengage:moe-android-sdk:10.5.00'\n\n//jet pack library required by moengage\nimplementation 'androidx.core:core-ktx:1.3.2'\nimplementation 'androidx.appcompat:appcompat:1.2.0'\nimplementation 'androidx.lifecycle:lifecycle-process:2.2.0'\n\n//firebase messaging dependency\nimplementation 'com.google.firebase:firebase-messaging:21.0.0'\n\n// if you don't have Gson included already\nimplementation 'com.google.code.gson:gson:2.8.6'\n```\n\n4.  In the `android/build.gradle` (Module: Project) file, add the following lines:\n\n```\nrepositories {\n  mavenCentral()\n}\n```\n\n5.  Add the following in the `buildscript` dependencies in `android/build.gradle` (Module: Project) file:\n\n```\n// For Push Notification\nbuildscript {\n  dependencies {\n    classpath 'com.google.gms:google-services:4.3.4'\n  }\n}\n```\n\n5.  Add the following plugin at the top of `android/app/build.gradle` (Module: app):\n\n```\n// For Push Notification\napply plugin: 'com.google.gms.google-services'\n```\n\n6.  Initialize the MoEngage SDK in the `Application` class’ `onCreate()` method:\n\n```\n// MoEngage SDK initialisation: Replace \"xxxxxxx\" with your APP ID.\nMoEngage moEngage = new MoEngage\n  .Builder(MainActivity.this.getApplication(), \"xxxxxxx\")\n  .enableLogs(LogLevel.VERBOSE)\n  .build();\nMoEngage.initialise(moEngage);\n```\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) API to identify a user in MoEngage. You can also create a new user property or update existing user properties using the `identify` call.\n\nMoEngage needs a unique identifier to identify a user. So, you must provide a `userId` in your `identify` call that RudderStack passes as the MoEngage `customer_id` . If `userId` is absent, RudderStack sends the `anonymousId` field instead.\n\nA sample identify call is as shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  first_name: \"Alex\",\n  last_name: \"Keener\",\n  email: \"alex@example.com\",\n  createdAt: \"Thu Mar 24 2020 17:46:45 GMT+0000 (UTC)\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack uses the `identify` call to log the user into MoEngage in the device mode.\n\n### Identifying a device in MoEngage\n\nYou can identify a device in MoEngage using the `identify` call to create or update your device properties.\n\nA sample call for identifying device is shown below:\n\n```\nrudderanalytics.identify(\"name123\", {\n  context: {\n    device: {\n      id: \"7ase32188a4dab669f\",\n      manufacturer: \"Apple\",\n      model: \"IOS SDK built for x86\",\n      name: \"generic_x86\",\n      token: \"devtoken\",\n      type: \"ios\",\n    },\n  },\n})\n```\n\n### MoEngage reserved properties\n\nMoEngage has reserved the following property names:\n\n*   `name`\n*   `first_name`\n*   `last_name`\n*   `email`\n*   `age`\n*   `gender`\n*   `mobile`\n*   `transactions`\n*   `revenue`\n*   `moe_unsubscribe`\n\nAlso, MoEngage lets you create custom properties but you must not create properties with the names `id`, `_id`, or `\"\"` .\n\n## Track\n\nRudderStack’s [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) API lets you track user events and their associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"C324532\",\n  order_id: \"T1230\",\n  value: 15.98,\n  revenue: 16.98,\n  shipping: 3.0,\n  coupon: \"FY21\",\n  currency: \"INR\",\n  products: [\n    {\n      product_id: \"product-mixedfruit-jam\",\n      sku: \"sku-1\",\n      category: \"Food\",\n      name: \"Food/Drink\",\n      brand: \"Sample\",\n      variant: \"None\",\n      price: 10.0,\n      quantity: 2,\n      currency: \"INR\",\n      position: 1,\n      value: 6.0,\n      typeOfProduct: \"Food\",\n      url: \"https://www.example.com/product/bacon-jam\",\n      image_url: \"https://www.example.com/product/bacon-jam.jpg\",\n    },\n  ],\n})\n```\n\n## Alias\n\nYou can use the [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) API to [merge](https://developers.moengage.com/hc/en-us/articles/10990676421908-User-Merge) two different user profiles in MoEngage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> MoEngage’s user merging functionality is a closed feature and is not available by default. To enable it for your account, contact your Customer Success Manager or drop a mail to their [support team](mailto:support@moengage.com).\n\nA sample `alias` call made using the different RudderStack SDKs is shown below:\n\n```\nrudderanalytics.alias(\"12345\", \"1hKOmRA4GRlm\")\n```\n\n```\n[[RSClient sharedInstance]  alias:@\"newId\"];\n```\n\n```\nrudderClient.alias(\"newId\")\n```\n\n### Supported mappings\n\nRudderStack maps the following `alias` properties to the corresponding MoEngage properties:\n\n| RudderStack property | MoEngage property | Data type |\n| --- | --- | --- |\n| `message.userId`  <br>Required | `merged_user` | String |\n| `message.previousId`  <br>Required | `retained_user` | String |\n\n## Reset\n\nRudderStack’s `reset` API resets the previously identified user and the related information.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The `reset` API is applicable only for device mode connections.\n\nRefer to the following snippets to implement the `reset` method in your mobile project:\n\n```\n[[RSClient sharedInstance] reset];\n```\n\n## Supported mappings\n\nRudderStack maps the following properties to the MoEngage properties before sending them using MoEngage’s HTTP API.\n\n| RudderStack property | MoEngage property |\n| --- | --- |\n| `pushPreference` | `push_preference` |\n| `active` | `active` |\n| `userId` | `customer_id` |\n| `name` | `name` |\n| `firstname`  <br>`first_name`  <br>`firstName` | `first_name` |\n| `lastname`  <br>`last_name`  <br>`lastName` | `last_name` |\n| `email` | `email` |\n| `age` | `age` |\n| `gender` | `gender` |\n| `mobile` | `mobile` |\n| `source` | `source` |\n| `createdAt` | `created_time` |\n| `last_seen`  <br>`lastSeen` | `last_seen` |\n| `transactions` | `transactions` |\n| `revenue` | `revenue` |\n| `moe_unsubscribe`  <br>`moeUnsubscribe` | `moe_unsubscribe` |\n| `event` | `action` |\n| `properties` | `attributes` |\n\n## Configuring push notifications\n\nDepending on your platform, follow these steps to configure MoEngage push notifications in your project:\n\n1.  Create an APNS certificate and convert it to a `.pem` file.\n2.  Upload this `.pem` file in your MoEngage dashboard.\n3.  In the target app, turn on **App Groups** and enable one of the app group IDs. In case if you don’t have an app group ID, then create one. The name of your app group should be `group.{bundle id}.MoEngage`.\n4.  Enable **Background mode** by navigating to **Targets** > **Your App** > **Signing & Capabilities** > **Select Background Modes**. Then, check **Remote notifications**.\n5.  Enable push notification capabilities in your app.\n6.  Before initializing, add `[MoEngage setAppGroupID:<your app group id>];`\n7.  To keep the notifications even after the app launch, add the line `[MoEngage sharedInstance].disableBadgeReset = true;`\n\nFor more information on implementing push notifications in MoEngage, see the [MoEngage documentation](https://developers.moengage.com/hc/en-us/articles/4403943988756-Push-Notifications).\n\n**In-App messaging**\n\nIn-app messaging is a type of mobile messaging where the notification is displayed within the app. Some examples include popups, yes/no prompts, and more. To implement this feature, follow MoEngage’s [InApp NATIV guide](https://developers.moengage.com/hc/en-us/articles/4404155127828-In-App-Nativ).\n\n1.  Create an APNS certificate and convert it to a `.pem` file.\n2.  Upload this `.pem` file in your MoEngage dashboard.\n3.  Enable **Background mode** by navigating to **Targets** > **Your App** > **Signing & Capabilities** > **Select Background Modes**. Then, check **Remote notifications**.\n4.  Then, in your `plist` file, add the `MoEngageAppDelegateProxyEnabled` key and set it to `false` to disable swizzling.\n5.  Finally, implement the relevant methods in your `AppDelegate` file by referring to [Supporting push notifications for device mode destinations](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/ios-v2/#supporting-push-notifications-for-device-mode-destinations).\n6.  To keep the push notifications even after app launch, call the below method:\n\n```\nMoEngage.sharedInstance().setDisableBadgeReset(true)\n```\n\n```\n[[MoEngage sharedInstance] setDisableBadgeReset:true];\n```\n\nFor more information on implementing push notifications in MoEngage, see the [MoEngage documentation](https://developers.moengage.com/hc/en-us/articles/4403943988756-Push-Notifications).\n\n1.  Copy the Server Key from the FCM console and add it to the MoEngage dashboard. If you’re not sure where to find the server key, refer to this [MoEngage guide](https://developers.moengage.com/hc/en-us/articles/360061216011-Push-Configuration).\n2.  Navigate to the [Settings page](https://app.moengage.com/v3/#/settings/push/mobile) of your MoEngage dashboard and add the server key and package name. **Make sure you add the keys both in the Test and Live environment.**\n3.  Before configuring the MoEngage SDK for receiving push notifications, make you have [configured Firebase](https://firebase.google.com/docs/android/setup) in your application.\n4.  Add the Firebase messaging dependency in your application’s `build.gradle` file.\n5.  Add the meta tags to manifest. To show the push notifications, you need to add the notification icons (small and large) along with the app ID to the `MoEngage.Builder`, as shown:\n\n```\nval moEngage =\n    MoEngage.Builder(this, \"XXXXXXXX\")\n        .setNotificationSmallIcon(R.drawable.icon)\n        .setNotificationLargeIcon(R.drawable.ic_launcher)\n        .build()\n\nMoEngage.initialise(moEngage)\n```\n\n**Display notifications**\n\nTo display the notifications, you must ensure the following:\n\n*   Registration for Push, that is, generating a push token.\n*   Receiving the push payload from Firebase Cloud Messaging (FCM) and displaying the alert on the device.\n\nThese actions are handled by the application or the MoEngage SDK, depending on your preference. Refer to the following sections to configure them.\n\n**Push Registration and Receiving handled by the app**\n\nBy default, the MoEngage SDK attempts to register a push token. If your application is handling the push notifications, you need to opt-out of the SDK’s token registration.\n\n**Opt out of MoEngage Registration**\n\nTo opt-out of MoEngage’s token registration mechanism call the `optOutTokenRegistration()` method in `MoEngage.Builder`, as shown:\n\n```\nval moEngage =\n    MoEngage.Builder(this, \"XXXXXXXX\")\n        .setNotificationSmallIcon(R.drawable.icon)\n        .setNotificationLargeIcon(R.drawable.ic_launcher)\n        .configureFcm(FcmConfig(false))\n        .build()\n\nMoEngage.initialise(moEngage)\n```\n\n**Pass the push token to MoEngage SDK**\n\nThe application would need to pass the push token received from FCM to the MoEngage SDK for MoEngage to send push notifications to the device. Use the following API to pass the push token to the MoEngage SDK:\n\n```\nMoEFireBaseHelper.getInstance().passPushToken(applicationContext, token)\n```\n\nMake sure the token is passed to the MoEngage SDK whenever the push token is refreshed or your app is updated. Passing the token on application update is required to migrate to MoEngage.\n\n**Passing the push payload to the MoEngage SDK**\n\nTo pass the push payload to the MoEngage SDK, call the MoEngage API from `onMessageReceived()` from the Firebase receiver. Before passing the payload to the MoEngage SDK, you should check if the payload is from MoEngage using the helper API provided by the SDK.\n\n```\nif (MoEPushHelper.getInstance().isFromMoEngagePlatform(remoteMessage.data)) {\n  MoEFireBaseHelper.getInstance().passPushPayload(\n    applicationContext,\n    remoteMessage.data\n  )\n} else {\n  // your app's business logic to show notification\n}\n```\n\n**Push registration and receiving handled by SDK**\n\nAdd the following code in your manifest file within the application tag:\n\n```\n<service android:name=\"com.moengage.firebase.MoEFireBaseMessagingService\">\n<intent-filter>\n<action android:name=\"com.google.firebase.MESSAGING_EVENT\"></action>\n</intent-filter>\n</service>\n```\n\nWhen the MoEngage SDK handles push registration it optionally provides a callback to the application whenever a new token is registered or token is refreshed.\n\nAn application can get this callback by implementing `FirebaseEventListener` and registering for a callback in the application class’ `onCreate()` using `MoEFireBaseHelper.getInstance().setEventListener()`.\n\n**In-App messaging**\n\nIn-app messaging is a type of mobile messaging where the notification is displayed within the app. Some examples include popups, yes/no prompts, and more. To implement this follow the MoEngage [InApp NATIV guide](https://developers.moengage.com/hc/en-us/articles/4403652537492-In-App-NATIV).\n\n1.  In your [MoEngage dashboard](http://app.moengage.com/), go to the **Web Push Settings**.\n2.  Under **Web**, fill in the required details.\n3.  For HTTPS Web Push to work, you need to host two files in the root directory of your web server.\n4.  After clicking **SAVE**, download the `serviceworker.js` file under the **Web Push Settings**.\n5.  If you already have your own `serviceworker.js`, add it as shown:\n\n```\nimportScripts(\n  \"https://cdn.moengage.com/webpush/releases/serviceworker_cdn.min.latest.js\"\n)\n```\n\n6.  Select a sub-domain. For more details, follow the [MoEngage guidelines](https://developers.moengage.com/hc/en-us/articles/360062005132-Web-Push-Overview).\n\n1.  Open the `android` folder of your React Native app and follow all steps listed in the `Android` tab in this section.\n2.  Open the `ios` folder of your React Native app and follow all steps listed in the `iOS` tab in this section.\n\n## Timezone offset for cloud mode\n\n### Track\n\nMoEngage allows sending the [time at which the event occurred](https://developers.moengage.com/hc/en-us/articles/4413174104852-Event-#request-body-fields-0-2) and calculates the user local time by taking two parameters - `current_time` and `user_timezone_offset`. `current_time` is the UTC time at which the event occurred and `user_timezone_offset` is the time difference (in seconds) between the **user local time and UTC**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note the following:\n> \n> *   RudderStack maps the `current_time` to `timestamp` or `originalTimestamp` from the event payload. Hence, you must pass these values in UTC.\n> *   RudderStack maps `user_timezone_offset` to `timezone` present in the `context` object of the event’s payload. You must pass this value as a string `tz`.\n> *   The RudderStack mobile SDKs automatically populate the `timezone` field. However, for the other sources like server-side SDKs or HTTP API, you must explicitly set the `timezone` field in every request.\n\nA sample `track` payload is shown below:\n\n```\n{\n  \"type\": \"track\",\n  \"event\": \"Email Replied\",\n  \"sentAt\": \"2020-12-02T11:30:33.262Z\",\n  \"context\": {\n    \"library\": {\n      \"name\": \"analytics-node\",\n      \"version\": \"0.0.3\"\n    },\n    \"timezone\": \"Asia/Kolkata\"\n  },\n  \"rudderId\": \"87a40cf3-f6d8-4675-bc01-7854ab4486ec\",\n  \"_metadata\": {\n    \"nodeVersion\": \"10.22.0\"\n  },\n  \"messageId\": \"node-7519b5f2fcacca521c7a9e8ddb9fc09c-c273004b-6968-422d-a511-440b6db24403\",\n  \"properties\": {\n    \"details\": \"list of details\"\n  },\n  \"anonymousId\": \"anony11111111111\",\n  \"originalTimestamp\": \"2020-12-02T11:30:33.259Z\"\n}\n```\n\n### Identify\n\nMoEngage accepts the user creation time for its [User](https://developers.moengage.com/hc/en-us/articles/4413167462804) endpoint. This is reflected as `first_seen` in the MoEngage dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sets the `created_time` field in MoEngage from the `createdAt` field present in the event payload. This value should be in the **ISO 8601** format. If the value is absent or present in an improper format, MoEngage assigns the value automatically.\n\nA sample `identify` payload is shown below:\n\n```\n{\n  \"type\": \"identify\",\n  \"sentAt\": \"2020-12-02T13:04:05.953Z\",\n  \"traits\": {\n    \"city\": \"Bangalore\",\n    \"name\": \"lolo\",\n    \"email\": \"lolo@website.com\",\n    \"country\": \"India\",\n    \"createdAt\": \"2020-12-02T12:29:53.872Z\"\n  },\n  \"userId\": \"111its111\",\n  \"context\": {\n    \"traits\": {\n      \"city\": \"Bangalore\",\n      \"name\": \"lolo\",\n      \"email\": \"lolo@website.com\",\n      \"country\": \"India\",\n      \"createdAt\": \"2020-12-02T12:29:53.872Z\"\n    },\n    \"library\": {\n      \"name\": \"analytics-node\",\n      \"version\": \"0.0.3\"\n    }\n  },\n  \"rudderId\": \"754fe90e-89fb-4d71-9d11-3ec2b91b5777\",\n  \"_metadata\": {\n    \"nodeVersion\": \"10.22.0\"\n  },\n  \"messageId\": \"node-1a585828272cf1116407aaf6be3921f2-65c1670e-f4e1-4283-a7a5-0a60825c4f83\",\n  \"originalTimestamp\": \"2020-12-02T13:04:05.951Z\"\n}\n```\n\n## FAQ\n\n#### Where can I find my MoEngage API ID and API key?\n\nYou can find your MoEngage API ID and API key in your [MoEngage dashboard](https://app.moengage.com/) under **Settings** > **APIs** > **DATA API Settings**.\n\nFor more information, refer to the [MoEngage documentation](https://developers.moengage.com/hc/en-us/articles/4404674776724-Overview#:~:text=Navigate%20to%20Settings%20%3E%20APIs%20%3E%20DATA,ID%20Password%20%2D%20DATA%20API%20KEY).\n\n#### Where can I see the events that are sent to MoEngage?\n\nTo view the events sent to MoEngage, go to **For developers** > **Recent Events** in your MoEngage dashboard. If your app is in debug mode, then you can view the events under the **Test** tab, otherwise you can view them under the **Live** tab.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "MoEngage destination | RudderStack Docs",
  "description": "Send your events from RudderStack to MoEngage.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/keen/",
  "markdown": "# Keen | RudderStack Docs\n\nSend your event data from RudderStack to Keen.\n\n* * *\n\n*     4 minute read  \n    \n\n[Keen](https://keen.io/) is a customer analytics platform that allows you to collect, analyze and get invaluable marketing insights from your customer event data.\n\nRudderStack supports S2S (Server to Server) cloud mode and Web Native SDK for integration with Keen. You can thus send event data attached to Keen collections using RudderStack APIs.\n\n## Getting started\n\nRudderStack supports sending event data to Keen via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Keen native SDK is loaded from `https://cdn.jsdelivr.net/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Keen SDK successfully.\n\nOnce you have confirmed that the platform supports sending events to Keen, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source. From the list of destinations, select **Keen**.\n*   Give a name to the destination and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2824%29.webp)](https://www.rudderstack.com/docs/images/image%20%2824%29.webp)\n\nConnection Settings for Keen in RudderStack\n\n*   Please enter the **Project ID** and **Write Key**.\n*   You can enable the **Use native SDK to send events** setting to send events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) through Keen’s native JavaScript SDK.\n\n### Configuring Add-ons\n\nIf enabled, RudderStack attaches the following Keen add-ons to the events, which helps in their data enrichment before routing them to Keen:\n\n| Add-on | Description |\n| --- | --- |\n| **Geo IP Add On** | The enriched output will be available under the `ip_geo_info` key. |\n| **User Agent Add On** | The enriched output will be available under the `parsed_user_agent` key. |\n| **URL Parsing Add On** | The enriched output will be available under the `parsed_page_url` key. |\n| **Referrer Parsing Add On** | The enriched output will be available under the `referrer_info` key. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note: We only pass the IP, page and referrer add-ons to Keen if the event contains a valid `ip`, `page`, `URL` and `referrer` property.\n\n[![](https://www.rudderstack.com/docs/images/image%20%2838%29.webp)](https://www.rudderstack.com/docs/images/image%20%2838%29.webp)\n\nKeen add-ons settings in RudderStack\n\n*   Once you have finalized all settings, click **Next** to complete the configuration. Keen will now be added as a destination in RudderStack.\n\n## Identify\n\nCalling `rudderanalytics.identify()` has no effect on Keen whatsoever, when called from the server-side SDKs. However, when called from client-side SDKs, RudderStack calls the Keen `extendEvents`with a user object `userId`and traits passed in from the `identify` call.\n\nCalling `extendEvents` adds the user object to all subsequent`recordEvent` calls to Keen. Hence, to view the `identify` data , you will have to make a subsequent `page` and `track` call from RudderStack.\n\nA sample `identify` call is as shown in the following code snippet:\n\n```\nrudderanalytics.identify(\"my-userID\", {\n  name: \"Tintin\",\n  city: \"Brussels\",\n  country: \"Belgium\",\n  email: \"tintin@herge.com\",\n});\n```\n\nThis will pass the below user to every subsequent event data:\n\n```\nuser: {\n  userId: \"my-userID\",\n  traits: {\n    name: \"Tintin\",\n    city: \"Brussels\",\n    country: \"Belgium\",\n    email: \"tintin@herge.com\"\n  }\n}\n```\n\n## Page\n\nCalling `rudderanalytics.page()` will pass the `page` properties to the Keen collection `Viewed <category> <name> page`. To learn more about the `page`call, please refer to our [RudderStack Events Specification](https://www.rudderstack.com/docs/event-spec/standard-events/) documentation.\n\nA sample `page` call is as shown in the snippet below:\n\n```\n// \"home\" is the name of the page.\nrudderanalytics.page(\"home\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\"\n});\n```\n\nThis will send the following properties to the Keen `Viewed Home Page` collection:\n\n*   `path`\n*   `url`\n*   `title`\n*   `search`\n*   `referrer`\n*   `userId`\n*   `user traits` (If coming from the client SDKs)\n\n## Track\n\nCalling `rudderanalytics.track()` will pass the event properties to Keen on the collection `event-name`. To learn more about the `track`call, please refer to our [RudderStack Events Specification](https://www.rudderstack.com/docs/event-spec/standard-events/) documentation.\n\nAn example `track` call is as shown:\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\",\n});\n```\n\nThe above call will send the following properties to Keen’s `Track me` collection:\n\n*   `category`\n*   `label`\n*   `value`\n*   `userId`\n*   `user traits` (If coming from the client SDKs)\n\n## Screen\n\nThe `screen` call records the screen views of the user in your App. If you have turned on the screen views in your App implementation from the \\[[iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) or [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) SDK it will be registered in your dashboard. We’ll forward the `properties` you’ve passed along with the `screen` call as it is.\n\nHere is a sample `screen` call in using RudderStack iOS SDK.\n\n```\n[[RudderClient sharedInstance] screen:@\"Main\"\n            properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## FAQ\n\n#### Where do I get the Project ID and Write Key for configuring Keen on RudderStack?\n\nYou will find the **Project ID** and **Write Key** by navigating to **Projects** - (select your project) - **Access** - **Project Details**.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Keen | RudderStack Docs",
  "description": "Send your event data from RudderStack to Keen.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lytics/",
  "markdown": "# Lytics | RudderStack Docs\n\nSend your event data from RudderStack to Lytics.\n\n* * *\n\n*     3 minute read  \n    \n\n[Lytics](https://www.lytics.com/) is a popular customer data platform built for marketers. It allows you to efficiently leverage your first-party customer data to deliver tailored customer journeys.\n\nRudderStack supports Lytics as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to Lytics via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | **\\-** |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Lytics native SDK is loaded from `http(s)://c.lytics.io/api/tag/$${this.accountId}/latest.min.js` domain. The value for `accountId` is taken from the **Account ID** RudderStack dashboard setting. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Lytics SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Lytics, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Lytics**.\n2.  Assign a name to your destination and click **Next**.\n\n### Connection settings\n\nTo successfully configure Lytics as a destination, you need to configure the following settings:\n\n[![Lytics connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/lytics-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/lytics-connection-settings-1.webp)\n\n*   **API Token**: Create an API token in your Lytics dashboard and enter the details here.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To get the API token, go to your Lytics dashboard and navigate to **Account** > **Account Settings** > **API Token**. You can create an API token here and use this information to configure Lytics as a destination.\n\n*   **Stream Name**: Enter the name of the Lytics stream where you want to send the events.\n*   **Client-side Event Filtering**: This setting is applicable **only if** you are sending events to Lytics via device mode.\n\nIf you are using the JavaScript SDK to send the events to Lytics, enter the following settings:\n\n[![Lytics connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/lytics-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/lytics-connection-settings-2.webp)\n\n*   **Account ID**: Enter the the Lytics account ID obtained from your Lytics dashboard. For more information on obtaining the account ID, refer to the [Lytics support page](https://support.lytics.com/hc/en-us/articles/115001231351-How-do-I-find-my-Lytics-account-ID-). **This is a mandatory field**.\n*   **Allow UID Sharing Across Multiple Domains**: When enabled, this option lets you identify users across domains.\n*   **Ensure Entity**: When this option is enabled, RudderStack gets your most updated audience membership and profile data, before sending it to Lytics.\n*   **Use native SDK to send events**: Enable this setting if you are sending events via the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call captures the relevant details about the visiting user.\n\nA sample `identify` payload is as shown in the snippet below:\n\n```\nrudderanalytics.identify(\"1hKOm4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\n## Page\n\nWith the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) method, RudderStack makes a call to Lytics to record a page view.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"Popular\", \"Bestseller\", {\n  url: \"https://www.estore.com/search/best-seller/1\",\n  path: \"/best-seller/1\",\n})\n```\n\nSimilarly, you can also make [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) calls. However, this is supported only in the [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nA sample screen call is as shown:\n\n```\n[[RSClient sharedInstance] screen:@\"Home\"];\n```\n\n## Track\n\nWith the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) API, RudderStack makes a call to Lytics to track user actions and their associated properties.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  order_id: \"1a2b3c4d\",\n  category: \"category\",\n  revenue: 99.9,\n  shipping: 13.99,\n  tax: 20.99,\n  promotion_id: \"PROMO_1234\",\n})\n```\n\n## FAQ\n\n#### How do I obtain the Lytics API token?\n\nGo to your Lytics dashboard, and navigate to **Account** > **Account Settings** > **API Token**. You can create an API token here, which can be used to configure the destination on the RudderStack dashboard.\n\nFor more information, refer to the [Lytics documentation](https://learn.lytics.com/documentation/product/features/account-management/managing-api-tokens#managing-api-tokens).\n\n#### How do I obtain the Lytics account ID?\n\nTo obtain your Lytics account ID, follow these steps:\n\n1.  Log into your Lytics dashboard.\n2.  Click the account name on the top right and go to **Manage Accounts**.\n\nHere, you will see the account ID associated with your Lytics account.\n\nFor more information, refer to this [Lytics support page](https://support.lytics.com/hc/en-us/articles/115001231351-How-do-I-find-my-Lytics-account-ID-).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Lytics | RudderStack Docs",
  "description": "Send your event data from RudderStack to Lytics.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/kissmetrics/",
  "markdown": "# Kissmetrics | RudderStack Docs\n\nSend your event data from RudderStack to Kissmetrics.\n\n* * *\n\n*     4 minute read  \n    \n\n[Kissmetrics](https://www.kissmetrics.io/) is a product analytics platform to help you increase conversion, as well as drive customer engagement and retention.\n\nRudderStack supports sending your events from cloud mode S2S (Server to Server) and Web Native SDKs by calling our APIs.\n\n## Getting started\n\nRudderStack supports sending event data to Kissmetrics via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Kissmetrics native SDK is loaded from `https://kissmetrics.com` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Kissmetrics SDK successfully.\n\nOnce you have confirmed that Kissmetrics supports the source type, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source and select **Kissmetrics** as a destination.\n*   Give a name to your destination, and then click **Next**. You should see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2824%29%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/image%20%2824%29%20%281%29%20%281%29.webp)\n\n*   Please enter the **API Key** in the **Connection Settings**. You may also enable the **Use native SDK to send events** setting to send events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), through Kissmetrics’ native JavaScript SDK.\n\n### Prefix Properties\n\nEnabling this setting will add the event name to all properties of the event. This works for `page` **and** `track` properties.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You will need to enable this setting while building reports in Kissmetrics.\n\n*   Once you have finalized the settings, click **Next** to complete the configuration and add Kissmetrics as a destination in RudderStack.\n\n## Identify\n\nCalling `rudderanalytics.identify()` pushes an `identify` call with the `userId` and `set` with the `user-traits` to the Kissmetrics queue object while using the the Native SDK. For more information on the `identify` call, please refer to our [RudderStack Events Specification](https://www.rudderstack.com/docs/event-spec/standard-events/) documentation.\n\nFor sending data through the API’s cloud mode, we call the `http://trk.kissmetrics.com/s` end-point for registering users and their traits.\n\nA sample `identify` call is as shown:\n\n```\n// a sample identify\nrudderanalytics.identify(\"my-userID\", {\n  name: \"Tintin\",\n  city: \"Brussels\",\n  country: \"Belgium\",\n  email: \"tintin@herge.com\"\n});\n```\n\nwill pass the following to the `_kmq kissmetrics` object.\n\n```\n['identify', 'my-userID']\n['set',\n  {\n    name: \"Tintin\",\n    city: \"Brussels\",\n    country: \"Belgium\",\n    email: \"tintin@herge.com\"\n  }\n]\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Nested objects are flattened as `a.b.c` for input data `{a:{b:c}}` before sending the data to Kissmetrics, as it is unable to parse nested objects.\n\n## Page\n\nCalling `rudderanalytics.page()` will record the page properties for event `Viewed <category> <name> page`. For more information on the `page` call, please refer to our [RudderStack Events Specification](https://www.rudderstack.com/docs/event-spec/standard-events/) documentation.\n\nA sample page event is as shown:\n\n```\n// \"home\" is the name of the page.\nrudderanalytics.page(\"home\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\"\n});\n```\n\nThe above snippet will pass the following to the `_kmq kissmetrics` object:\n\n```\n['record', 'Viewed home page',  {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\"\n}]\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Automatically-tracked Kissmetrics events such as **Visited a site**, etc. will function as and when integrated with RudderStack. Stay tuned!\n\n## Track\n\nCalling `rudderanalytics.track()` pushes a record with the event name and the associated properties \\_\\_when using the native SDK integration. For more information on the `track` call, please refer to our [RudderStack Events Specification](https://www.rudderstack.com/docs/event-spec/standard-events/) documentation.\n\nFor sending data through the API’s cloud mode, we call the [http://trk.kissmetrics.com/e](http://trk.kissmetrics.com/e) end-point for registering the event and its associated properties.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\",\n});\n```\n\nwill pass the following to the `_kmq kissmetrics` object.\n\n```\n['record', \"Track me\", {\n  category: \"category\",\n  label: \"label\",\n  value: \"value\"\n}]\n```\n\nAn event sent to RudderStack with a property called `revenue` , is passed on to Kissmetrics as `Billing amount` as well as `revenue`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In order to send ecommerce events that have a product array as one of their `track` properties, RudderStack sends each product property to the `/s` endpoint from cloud mode, or pushes it as `['set', {id:, sku: ...}]` from the native SDK.\n\n## Alias\n\nCalling `rudderanalytics.alias()` passes an `alias`call with `userId` and `previousId` to the Kissmetrics queue, when used as a Native SDK integration.\n\nWhile passing data using cloud mode, we call the [http://trk.kissmetrics.com/a](http://trk.kissmetrics.com/a) endpoint to alias user identities.\n\nThe following code snippet shows a sample `alias` call in RudderStack:\n\n```\n// assuming the previous set userId was \"my-userID\"\nrudderanalytics.alias(\"my-new-userID\");\n```\n\nwill pass the following to the `_kmq kissmetrics` object.\n\n```\n['alias', \"my-new-userID\", \"userId\"]\n```\n\n## Screen\n\nThe `screen` call records the screen views of the user in your App. If you have turned on the screen views in your App implementation from the [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) or [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) SDK it will register in your dashboard. We’ll forward the `properties` you’ve passed along with the `screen` call as it is.\n\nHere is a sample `screen` call in using RudderStack iOS SDK:\n\n```\n[[RudderClient sharedInstance] screen:@\"Main\"\n            properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## FAQ\n\n#### Where do I get the API Key for Kissmetrics?\n\nYou can obtain the Kissmetrics API Key by logging into your Kissmetrics account, and navigating to the **Product Settings**. Please refer to the following screenshot for more details:\n\n[![](https://www.rudderstack.com/docs/images/image%20%2813%29%20%282%29.webp)](https://www.rudderstack.com/docs/images/image%20%2813%29%20%282%29.webp)\n\nKissmetrics API Key\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Kissmetrics | RudderStack Docs",
  "description": "Send your event data from RudderStack to Kissmetrics.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mouseflow/",
  "markdown": "# Mouseflow | RudderStack Docs\n\nSend your event data from RudderStack to Mouseflow.\n\n* * *\n\n*     5 minute read  \n    \n\n[Mouseflow](https://mouseflow.com/) is a [behavioral analytics](https://www.rudderstack.com/learn/data-analytics/what-is-behavioral-analytics/) platform that gives you deeper insights into your users’ product journey.\n\nRudderStack supports Mouseflow as a destination where you can send your event data seamlessly.\n\n## Getting started\n\nRudderStack supports sending event data to Mouseflow via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Mouseflow native SDK is loaded from `https://cdn.mouseflow.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Mouseflow SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Mouseflow, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Mouseflow**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Mouseflow as a destination, you need to configure the following settings:\n\n[![Mouseflow connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-connection-settings.webp)\n\n*   **Website ID**: Enter your Mouseflow website ID.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Mouseflow website ID, refer to the FAQ section below.\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Mouseflow.\n\n*   **Use device mode to send events**: As this is a [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you map [OneTrust cookie](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/)/consent groups to RudderStack’s consent purposes.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record their traits like name, email address, etc. and send this information to Mouseflow.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"email\": \"alex@example.com\",\n  \"city\": \"New Orleans\",\n  \"favouriteColor\": \"Red\"\n})\n```\n\n### Supported mappings\n\nRudderStack maps the following user traits to the corresponding Mouseflow properties:\n\n| RudderStack property | Mouseflow property | Presence |\n| --- | --- | --- |\n| `userId` / `traits.email` / `anonymousId` | `_userName` | Required |\n| `traits` | `setVariable` | Optional |\n\n### Identifying a user\n\nRudderStack sends the `userId` / `email` / `anonymousId` to Mouseflow as `_userName` via the [`identifying a user`](https://js-api-docs.mouseflow.com/#identifying-a-user) method:\n\n```\nmouseflow.identify(_userName)\n```\n\n### Setting custom variables\n\nYou can also send the user details present in the `traits` as key-value pair to Mouseflow. RudderStack passes them as [custom variables](https://js-api-docs.mouseflow.com/#identifying-a-user:~:text=include%20%22product%2Dadded%22%2C%20...-,Setting%20a%20custom%20variable,-_mfq.push) to Mouseflow:\n\n```\n_mfq.push([\"setVariable\", _key, _value])\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The values in the key-value pairs passed as custom variables should be either strings or numbers. RudderStack will not pass the values with any other data type, for example, Boolean.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also set custom variables by passing them via the event’s `integrations` object. Refer to the [Setting custom variables via the](#setting-custom-variables-via-the-integrations-object) section below for more information.\n\nThe following snippets highlight how the data in the sample `identify` call above is sent to Mouseflow:\n\n```\n// Sending userId\nmouseflow.identify(\"1hKOmRA4GRlm\");\n\n// Sending user traits as custom variables\n_mfq.push([\"setVariable\", \"city\", \"New Orleans\"]);\n_mfq.push([\"setVariable\", \"email\", \"alex@example.com\"]);\n_mfq.push([\"setVariable\", \"favouriteColor\", \"Red\"]);\n```\n\n## Track\n\nYou can use the RudderStack [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to [set tags or custom variables](https://js-api-docs.mouseflow.com/#adding-custom-data) in Mouseflow.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Product Clicked\",{\n\t\"price\": 100,\n\t\"quantity\": 10,\n})\n```\n\n### Setting custom tags\n\nRudderStack lets you set a custom tag to a user recording by using Mouseflow’s [Tagging a recording](https://js-api-docs.mouseflow.com/#tagging-a-recording) method.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack automatically sets the `track` event name as the custom tag.\n\nThe below table highlights the property mapping:\n\n| RudderStack property | Mouseflow property | Presence |\n| --- | --- | --- |\n| `event` | `_tag` | Required |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> A Mouseflow tag must always be of the String data type.\n\nIn the sample `track` call above, RudderStack sets `Product Clicked` as the custom tag by passing it to Mouseflow in the following way:\n\n```\n_mfq.push([\"tag\", \"Product Clicked\"]);\n```\n\n### Setting custom variables\n\nRudderStack also lets you pass the `track` event properties as custom variables to Mouseflow in the form of key-value pairs.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The values in the key-value pairs should be either strings or numbers. RudderStack will not pass the values with any other data type, for example, Boolean.\n\nIn the sample `track` call above, RudderStack sets `price` and `quantity` as the custom variables:\n\n```\n_mfq.push([\"setVariable\", \"price\", \"100\"]);\n_mfq.push([\"setVariable\", \"quantity\", \"10\"]);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also set custom variables by passing them via the event’s `integrations` object. Refer to the [Setting custom variables via the](#setting-custom-variables-via-the-integrations-object) section below for more information.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you send the path of the web page viewed by the user to Mouseflow.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page({\n  path: \"/test_browser.html\",\n});\n```\n\nRudderStack sends the page-related information like the path or the page URL to Mouseflow using the [Adding a virtual pageview](https://js-api-docs.mouseflow.com/#virtual-paths-and-pageviews:~:text=%2C%20_virtualPath%5D)%3B-,Adding%20a%20virtual%20pageview,-\\_mfq.push) method:\n\n```\n_mfq.push([\"newPageView\", _virtualPath]);\n```\n\n### Supported mappings\n\nYou can customize the page-related details sent to Mouseflow by passing the values in the `properties.path` field. RudderStack then maps these details to the `_virtualPath` parameter before sending them to Mouseflow, as highlighted in the below table:\n\n| RudderStack property | Mouseflow property | Presence |\n| --- | --- | --- |\n| `properties.path` / `context.path` | `_virtualPath` | Required |\n\nThe following snippet highlights how RudderStack sends the data in the sample `page` call above to Mouseflow:\n\n```\n_mfq.push([\"newPageView\", \"/test_browser.html\"]);\n```\n\n## Setting custom variables via the `integrations` object\n\nRudderStack enables you to send custom variables to Mouseflow via the `identify` and `track` calls by passing them via the [`integrations`](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#loading-options) object.\n\nA sample `identify` call highlighting this feature is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    name: \"Test User\",\n    gender: \"Male\",\n  }, {\n    integrations: {\n      All: true,\n      Mouseflow: {\n        customVariables: {\n          conversionRate: \"100\",\n          total: 4,\n        },\n      },\n    },\n  }\n);\n```\n\nThe corresponding Mouseflow dashboard view containing these custom variables is shown below:\n\n[![Mouseflow custom variables in dashboard view](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-dashboard-variables.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-dashboard-variables.webp)\n\n## FAQ\n\n#### Where can I find the website ID in Mouseflow?\n\nTo get the website ID in Mouseflow, follow these steps:\n\n1.  Log into your [Mouseflow dashboard](https://app.mouseflow.com/sign-in).\n2.  Click the **Website Settings** icon:\n\n[![Mouseflow website ID](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-5.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-5.webp)\n\n3.  You will find your website ID listed here.\n\n[![Mouseflow website ID](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-6.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-6.webp)\n\n**Alternate method**\n\nYou can also fetch the website ID by clicking on the **Installation** icon present in your website’s card:\n\n[![Mouseflow website ID](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-1.webp)\n\nThen, choose your installation method from **Google Tag Manager**, **Wordpress**, and **HTML**.\n\n*   If you choose **Google Tag Manager** as your installation method, you can find the website ID as seen below:\n\n[![Mouseflow website ID GTM](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-2.webp)\n\n*   If you choose **Wordpress**, you can find the website ID in the following line of the code snippet:\n\n```\nmf.src = \"//cdn.mouseflow.com/projects/<website_id>.js\"\n```\n\n[![Mouseflow website ID Wordpress](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-3.webp)\n\n*   If you choose **HTML**, you can find the website ID in the in the following line of the tracking code:\n\n```\nmf.src = \"//cdn.mouseflow.com/projects/<website_id>.js\"\n```\n\n[![Mouseflow website ID HTML](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mouseflow-website-id-4.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mouseflow | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mouseflow.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/movable-ink/",
  "markdown": "# Movable Ink Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Movable Ink Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Movable Ink.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/lotame/",
  "markdown": "# Lotame | RudderStack Docs\n\nSend your event data from RudderStack to Lotame.\n\n* * *\n\n*     6 minute read  \n    \n\n[Lotame](https://www.lotame.com/) is a popular data management and enrichment platform, used mainly for digital advertising. Its unique data solutions allow you to find new customers, improve engagement with them, and grow your revenue.\n\nRudderStack supports syncing Lotame’s **BCP Pixel** and **DSP Pixel** through our `page` and `identify` call.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> *   **BCP**:The BCP, or **Behavior Collection Point**, is a JavaScript snippet that is placed on a web page. It is responsible for capturing the relevant user activity.\n> *   **DSP:** The DSP, or **Demand-Side Platform**, allows digital advertising inventory buyers to manage their ad exchange as well as data exchange accounts through a single interface.\n\n## Getting started\n\nRudderStack supports sending event data to Lotame via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | **Supported** | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Lotame native SDK is loaded from the URL you provide in the **DSP URL Settings (Pixel)** section in the RudderStack dashboard. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Lotame SDK successfully.\n\nOnce you have confirmed that the platform supports sending events to Lotame, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), select Lotame as a destination.\n*   Give a name to the destination and select the source to connect to this destination. Then, click **Next**. You should see the following screen:\n\n[![Lotame Destination Settings on the RudderStack dashboard](https://www.rudderstack.com/docs/images/image%20%2825%29.webp)](https://www.rudderstack.com/docs/images/image%20%2825%29.webp)\n\nYou can provide multiple BCP and DSP URL templates in the settings dashboard by clicking on the **ADD MORE** option as seen above. Once specified, RudderStack includes these sources of image pixels in the web app. To provide the URLs, please use the below template:\n\n```\nhttps://bcp.crwdcntrl.net/1/c={{clientId}}/b={{behavioralId}}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports simple Handlebar expressions for the URLs. It uses the values provided by you in the **Map all fields** section to replace the expressions, and the final URL as `src`.\n\n## Adding Lotame to your mobile project\n\nPlease follow the steps below to add Lotame to your Android Project:\n\n1.  Add the following `repository` to your `app/build.gradle` file.\n\n```\nrepositories {\n    mavenCentral()\n}\n```\n\n2.  Then, add the following `dependencies` in the same file:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.+'\nimplementation 'com.rudderstack.android.integration:lotame:1.+'\n```\n\n3.  Finally, change the initialization of your `RudderClient` in your `Application` class, as shown in the snippet below:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(LotameIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If your Lotame URLs follow the HTTP protocol, you need to allow **`ClearTextTraffic`** for your app. To do so, add **`android:usesCleartextTraffic=\"true\"`** in the **`<application>`** tag of your app’s `Android Manifest` file. After adding this, the file should look like the following:\n> \n> ```\n> <application ...=\"\" android:usescleartexttraffic=\"true\">\n> <activity>\n>       ...\n>     </activity>\n> </application>\n> ```\n\n1.  Open the `Podfile` of your project and add the following line\n\nfollowed by\n\n2.  Finally change the SDK initialization with the following\n\n```\nRSConfigBuilder *builder = [[RSConfigBuilder alloc] init];\n[builder withDataPlaneUrl:DATA_PLANE_URL];\n[builder withFactory:[RudderLotameFactory instance]];\n[builder withLoglevel:RSLogLevelDebug];\n[RSClient getInstance:WRITE_KEY config:[builder build]];\n```\n\n## Identify\n\nFor each `identify` call, RudderStack will sync the DSP Pixels provided by you in the **DSP URL Settings**, in the destination configuration settings. As DSP Pixels need to be synced for every user only once in 7 days, RudderStack will sync the DSP Pixels in every `identify` call and if the same user remains active after 7 days, it syncs the same DSP Pixels in subsequent `page` calls once in every 7 days.\n\nA sample `identify` call is as shown in the code snippet below:\n\n```\nrudderanalytics.identify(\"12345\", {\n  name: \"my-name\",\n  email: \"name@domain.com\",\n  country: \"India\",\n})\n```\n\nThe above identify call will sync the DSP Pixel, modify the template to place the `userId` in the source URL where required, and use it as `{{userId}}` in the template:\n\n```\nhttp://ab.cdef.com/getapi?http://sync.crwdcntrl.net/map/c={{clientId}}/rand={{random}}/tpid={{userId}}/tp={{clientIdSpace}}\n```\n\nRudderStack will replace the `{{userId}}` expression with the `userId` provided in the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/#sample-payload) call. We will also replace `{{random}}` with a random value. The rest of the expression’s values (`{{clientId}}` , `{{clientIdSpace}}` ) are to be provided in the mapping fields section, i.e. **Map all fields** section in the Destination Settings, as covered in the Getting Started section.\n\n#### Important Notes\n\n*   If you mention `userId` in the URL template in the Destination Settings, RudderStack replaces it the with the ID from the `identify` call.\n*   RudderStack also replaces the value of the `{{random}}` expression with a random integer.\n\n## Page\n\nFor each `page` call, RudderStack will load the BCP **Pixels**. A `page` call with a payload having `userId` triggers the syncing of DSP Pixels once in every **7 days** too. So, a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call serves the purpose of loading BCP Pixels and syncing DSP Pixels.\n\nA sample `page` call is as shown:\n\n## Screen\n\nFor each `screen` call, RudderStack will send `GET` requests for BCP Pixels. A `screen` call with a payload having `userId` triggers the syncing of DSP Pixels once in every **7 days** too. So, a[`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call serves the purpose of sending requests for BCP Pixels and syncing DSP Pixels.\n\nA sample `screen` call is as shown:\n\n```\n[[RSClient sharedInstance] screen];\n```\n\n## Sync Pixel Callback\n\nTo get a track of every sync Pixel call (once in every 7 days), you may register a function that will be executed when the syncing of DSP Pixels takes place from the SDK.\n\nUse the web SDK [`ready` API](https://github.com/rudderlabs/rudder-sdk-js#step-4-check-ready-state) to register the callback. We execute the function provided in `LOTAME_SYNCH_CALLBACK` window object after calling the sync pixels.\n\n1.  An example of the above is as shown:\n\n```\nrudderanalytics.ready(() => {\n  window.LOTAME_SYNCH_CALLBACK = () => {\n    rudderanalytics.track(\n      \"synch lotame\",\n      {},\n      {\n        integrations: { All: false, S3: true },\n      }\n    )\n  }\n})\n```\n\n2.  The above callback triggers a call to RudderStack SDK’s `track` API which dumps the `track` call payload to a configured S3 destination in your RudderStack dashboard, each time the syncing of the DSP Pixels happens.\n\nUse the `onIntegrationReady` method to register the `onSync` callback (which will be called every time the DSP URLs are synced). You’ll get notified for all sync pixels through this callback. You’ll receive the type of the pixel and the final compiled URL through the callback.\n\n```\nrudderClient!!.onIntegrationReady(\"Lotame Mobile\") {\n    (it as LotameIntegration).registerCallback { urlType, url ->\n        // urlType => \"bcp\", \"dsp\"\n        // url => complete url with all values replaced\n        println(\"LotameSync: $urlType : $url\")\n    }\n}\n```\n\nRegister your callback to get notified when the pixel has been synced\n\n```\n[LotameIntegration registerCallback:^{\n    // your custom code\n}];\n```\n\n## FAQ\n\n#### How and when does the syncing of DSP Pixels take place?\n\nSyncing of DSP Pixels happens in each `identify` call, and once in 7 days for `page` calls having `userId` in payload. RudderStack stores the sync timestamp in storage. So, in every `page` call for web and in every `screen` call for mobile platform, RudderStack checks for the identified user (i.e. payload having `userId`) and the last syncing timestamp. If it is before 7 days or more, RudderStack automatically triggers the syncing.\n\n#### How do we validate the Pixels on Mobile devices?\n\nYou can validate the Pixels in two ways on Mobile devices.\n\n1.  You can register a [Sync Callback](#sync-pixel-callback) with `rudderClient` and you’ll get the type of the pixel which is getting fired along with the compiled URL with values replaced. We replace the `userId` and `advertisingId` automatically. For other values, you can use the settings on the [dashboard](https://app.rudderstack.com/).\n2.  You can turn on `DEBUG` log in your `rudderClient` initialization. It’ll also set the `DEBUG` logging in Lotame implementation. And you can check logs generated by the SDK. It’ll help you to understand the steps taken by the SDK.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Lotame | RudderStack Docs",
  "description": "Send your event data from RudderStack to Lotame.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/monetate/",
  "markdown": "# Monetate | RudderStack Docs\n\nSend your event data from RudderStack to Monetate.\n\n* * *\n\n*     3 minute read  \n    \n\n[Monetate](https://monetate.com/) is a personalization platform that allows you to create unique customer experiences. Its state-of-the-art features allow you to increase customer engagement, boost conversion rates, and improve overall sales.\n\nMonetate is a unique, all-in-one personalization solution aimed especially at marketers. Its intelligent personalization engine makes it very easy for you to test, optimize, segment, and create 1-to-1 customer experiences. The engine also gives you the ability to personalize content, product recommendations, offers, and a lot more.\n\nRudderStack allows you to send your event data from your client-side or server-side components to Monetate. This guide will help you set up, configure, and use Monetate for your project.\n\n## Getting started\n\nTo get started, check whether the platform you are working with is supported by RudderStack for Monetate. The following table lists the supported connection modes across various platforms:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| Device mode | **\\-** | **\\-** | **\\-** |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Monetate, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source and select **Monetate** from the list of destinations.\n*   Name your destination, and click **Next**. You should be able to see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/image%20%286%29.webp)](https://www.rudderstack.com/docs/images/image%20%286%29.webp)\n\nConnection Settings for Monetate\n\n*   The connection settings are described in more details below:\n    *   **Monetate Channel** - Enter the name of the Monetate channel you would like to send your events to.\n    *   **Retailer Short Name** - Your Monetate account’s retailer short name goes here.\n*   After filling in these values, click **Next** to complete the setup. Monetate should now be added and enabled as a destination in RudderStack.\n\n## Track\n\nFor each `track` call you make, we send the data to Monetate using Monetate’s Engine API.\n\nThe table below summarizes the various Monetate events and properties sent by RudderStack:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The Monetate event is sent only if the corresponding RudderStack key is present.\n\n| RudderStack Key | Monetate Event | Monetate Event Properties |\n| --- | --- | --- |\n| `context.ip` | `monetate:context:IpAddress` | `ipAddress` : `context.ip` |\n| `\"properties.page\"` OR `\"context.page\"` | `monetate:context:PageView` | `url`: `page.url`, `path`: `page.path`, `categories`: \\[`page.category`\\], `breadcrumbs`: \\[`page.breadcrumbs`\\] |\n| `context.referrer.url` | `monetate:context:Referrer` | `referrer`: `context.referrer.url` |\n| `context.screen` | `monetate:context:ScreenSize` | `height`: `context.screen.height`, `width`: `context.screen.width` |\n| `context.userAgent` | `monetate:context:UserAgent` | `userAgent` : `context.userAgent` |\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> RudderStack also sends `monetateId` along with the events if you send `monetateId` in the event’s properties.\n\nRudderStack sends an additional event to Monetate for the following ecommerce events :\n\n| RudderStack Event | Monetate Event |\n| --- | --- |\n| `Product Viewed` | `monetate:context:ProductDetailView` |\n| `Product List Viewed` | `monetate:context:ProductThumbnailView` |\n| `Product Added` | `monetate:context:Cart` |\n| `Cart Viewed` | `monetate:context:Cart` |\n| `Order Completed` | `monetate:context:Purchase` |\n\nThe code snippet below shows a sample `track` call :\n\n```\nrudderanalytics.track(\"Form Submitted\", {\n  plan: \"trial\",\n  country: \"UK\",\n})\n```\n\n## Screen\n\nFor each `screen` call, RudderStack sends the following events to Monetate:\n\n| RudderStack Key | Monetate Event | Monetate Event Properties |\n| --- | --- | --- |\n| `context.screen` | `monetate:context:ScreenSize` | `height`: `context.screen.height`, `width`: `context.screen.width` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that RudderStack sends the Monetate event only if the corresponding RudderStack key is present.\n\nThe code snippet below shows a sample `screen` call :\n\n```\n[[RudderClient sharedInstance] screen:@\"Main\"\n            properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## Page\n\nFor each `page` call, RudderStack sends the following events to Monetate:\n\n| RudderStack Key | Monetate Event | Monetate Event Properties |\n| --- | --- | --- |\n| `\"properties.page\"` OR `\"context.page\"` | `monetate:context:PageView` | `url`: `page.url`, `path`: `page.path`, `categories`: \\[`page.category`\\], `breadcrumbs`: \\[`page.breadcrumbs`\\] |\n| `context.referrer.url` | `monetate:context:Referrer` | `referrer`: `context.referrer.url` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that RudderStack sends the Monetate event only if the corresponding RudderStack key is present.\n\nThe code snippet below shows a sample `page` call :\n\n```\nrudderanalytics.page(\"HomePage\", {\n  path: \"/homepage\",\n  url: \"https://example.com/homepage\",\n})\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Monetate | RudderStack Docs",
  "description": "Send your event data from RudderStack to Monetate.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mailchimp/",
  "markdown": "# Mailchimp destination | RudderStack Docs\n\nSend your event data from RudderStack to Mailchimp.\n\n* * *\n\n*     5 minute read  \n    \n\n[Mailchimp](https://mailchimp.com/) is a popular email marketing automation platform used worldwide by thousands of businesses. Built specially for eCommerce and retail, Mailchimp allows you to build your audience and send them personalized campaign and marketing messages through web or mobile.\n\nRudderStack supports Mailchimp as a destination to which you can seamlessly send your event data. Also, you can add people to your Mailchimp list via a simple `identify` call.\n\n## Getting started\n\nBefore configuring Mailchimp as a destination in RudderStack, verify if the source platform is supported by Mailchimp by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To learn more about the difference between Cloud mode and Device mode in RudderStack, see [Connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/).\n\nOnce you have confirmed that the source platform supports sending events to Mailchimp, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Mailchimp**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Mailchimp as a destination, you will need to configure the following settings:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/mailchimp-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mailchimp-connection-settings.webp)\n\n*   **Mailchimp API Key**: Enter your Mailchimp API Key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> It is recommended to create a new API key for the RudderStack destination. Mailchimp restricts each API key to a maximum of 10 concurrent requests. Hence, creating a dedicated key for RudderStack ensures maximum throughput for the outgoing calls. Refer to the [Mailchimp documentation](https://mailchimp.com/help/about-api-keys/) for more detaails.\n\n*   **Mailchimp Audience ID**: Enter your Mailchimp Audience ID.\n*   **Mailchimp DataCenter ID**: Enter your Mailchimp DataCenter ID.\n*   **Enable Merge fields**: Enable this setting if you want to add merge fields while updating a subscriber.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section for more information on how to get the above details.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call captures the details about the visiting user along with the properties associated with that user.\n\n### Adding or updating a user\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n    firstName: \"Alex\",\n    lastName: \"Keener\",\n    email: \"alex@example.com\"\n});\n```\n\nEvery time an `identify` call is made including an email address, RudderStack performs the following steps:\n\n*   RudderStack first checks with Mailchimp whether that specific email address exists for the `listId` provided in the destination settings.\n*   If the email address does not exist in the list, RudderStack subscribes the associated user to the list immediately. If the `doubleOptIn` setting is enabled, Mailchimp sends a confirmation email to that user, and that email is tagged with a `pending` subscriber status. The subscriber status automatically changes to `subscribed` once the user confirms the email.\n*   If the user already has a subscriber status such as `pending`, `subscribed`, `unsubscribed` or `cleaned`, RudderStack will **not** resubscribe them, but only update their associated user traits.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `email` is a required field for the `identify` call. The rest of the fields must match the **Merge Field** tag in Mailchimp.\n\n### Capture custom user traits\n\nYou can capture the custom user traits in the Mailchimp list dashboard by [creating a custom merge field](#creating-custom-merge-fields) in Mailchimp.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Mailchimp supports merge tags only up to 10 characters. Hence, every user trait sent inside the `identify` call is trimmed to the first 10 characters and converted to uppercase before being sent to Mailchimp. Also, the `Merge Tags` is created by taking the 10 characters (excluding whitespace/special characters) of its `Field Label`.\n> \n> For example, if you set the `Field Label` as `Upto 10-Char`, the `Merge Tag` will be `UPTO10CHAR`. The `user.trait` inside your `identify` call, which is, `Upto 10-Char`, will be converted to `UPTO10CHAR` before being sent to Mailchimp.\n\n### Creating custom merge fields\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Create custom merge fields only for the traits you want to see in your list view and not for all `user.traits`.\n\nTo create and send custom merge fields or user traits to Mailchimp, please follow these steps:\n\n*   Create the merge field in Mailchimp for every trait you want sent to it.\n*   When you make the `identify` call, the keys that match the traits above will automatically appear in your Mailchimp list.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `identify` call will **not change** in this case.\n\n### Overriding `listId`\n\nIf you have multiple lists that your users can subscribe to, you can override the default `listId` as a parameter to Mailchimp.\n\nThe following sample snippet overrides the default `listId` with `esf1rd234a` as `listId`:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4el9Zt1WSfVJIVo4GRlm\",\n  {\n    email: \"alex@example.com\"\n  },\n  {\n    integrations: {\n      MailChimp: {\n        listId: \"esf1rd234a\"\n      }\n    }\n  }\n);\n```\n\n### Updating the subscription status\n\nRudderStack provides you with the option to manually update the subscription status of a user by passing the `subscriptionStatus` parameter to Mailchimp.\n\nAn example is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4el9Zt1WSfVJIVo4GRlm\",\n  {\n    email: \"alex@example.com\"\n  },\n  {\n    integrations: {\n      MailChimp: {\n        subscriptionStatus: \"unsubscribed\"\n      }\n    }\n  }\n);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This setting will **NOT** work for new users. For new users, the subscription status will always be set as `pending` or `subscribed`, depending on the set `doubleOptIn` setting.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to track user actions or [trigger targeted automations](https://mailchimp.com/developer/marketing/guides/track-outside-activity-events/#trigger-automations-with-events) in Mailchimp using their [Events](https://mailchimp.com/developer/marketing/api/list-member-events/) API.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"registered_referral\", {\n  \"referee_id\": \"1233\",\n  \"referral_acceptance\": \"accepted\",\n  \"email\": \"alex@example.com\"\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `email` is a required field for making a `track` call successfully. You can pass it in either `traits.email`, `ucontext.traits.email`, or `properties.email`. RudderStack hashes the `email` field and replaces `subscriber_hash` in the [Mailchimp Events API endpoint](https://mailchimp.com/developer/marketing/api/list-member-events/).\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Mailchimp properties:\n\n| RudderStack property | Mailchimp property | Notes |\n| --- | --- | --- |\n| `event`  <br>Required | `name` | Event name must contain 2-30 characters. |\n| `properties` | `properties` | \\-  |\n| `properties.isSyncing` | `is_syncing` | RudderStack triggers the [targeted automations](https://mailchimp.com/developer/marketing/guides/track-outside-activity-events/#trigger-automations-with-events) by default. However, you can set `isSyncing` to `true` if you don’t want to trigger them. |\n| `originalTimestamp` | `occurred_at` | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack stringifies all values received in `properties[key]` as Mailchimp only accepts the string values in `properties[key]`.\n\n## FAQ\n\n#### Where do I get the Mailchimp API Key?\n\nTo get the Mailchimp API Key, log in to Mailchimp, and go to **Account** > **Extras** > **API Keys**.\n\n#### Where do I get the Mailchimp Audience ID?\n\nYou can find the Mailchimp Audience ID by logging in to Mailchimp and navigating to **Audience** > **Manage Audience** > **Settings** > **Audience name and defaults**.\n\n#### Where do I get the Mailchimp DataCenter ID?\n\nTo get the DataCenter ID, please refer to your Mailchimp URL in the browser. For example, if the URL is `https://us20.admin.mailchimp.com/lists`, the DataCenter ID is `us20` in this case.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mailchimp destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mailchimp.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/klaviyo/",
  "markdown": "# Klaviyo destination | RudderStack Docs\n\nSend your event data from RudderStack to Klaviyo.\n\n* * *\n\n*     9 minute read  \n    \n\n[Klaviyo](https://www.klaviyo.com/) is a powerful ecommerce platform that lets you boost your business revenue. It offers unique features like category-based segmentation and various event triggers based on page views, purchases, email engagement, etc.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/klaviyo).\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Klaviyo**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Klaviyo as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Public API Key**: Enter the unique public API key from your [Klaviyo dashboard](https://www.klaviyo.com/login) (present under **Settings** > **Account**).\n*   **Private API Key**: Enter the private API key from your [Klaviyo dashboard](https://www.klaviyo.com/login) (present under **Settings** > **Account**). This key lets you add users to a list or subscribe them using personalised emails/SMS.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Klaviyo.\n\nRudderStack supports sending events to Klaviyo via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | **Supported** | \\-  | \\-  |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the Klaviyo native SDK from `https://static.klaviyo.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Klaviyo SDK successfully.\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Klaviyo:\n\n#### **List and subscription settings**\n\n*   **List Id**: Enter the default list ID to which you want to add or subscribe the identified users.\n*   **Consent**: Select the consent type from **E-mail**, **SMS**, or both. `consent` is a Klaviyo-specific property that you need to include in your events if you run a GDPR-compliant business.\n\n#### **Event-specific settings**\n\n*   **Enable this option to make email as primary identifier**: Turn on this setting to set a custom attribute `_id` and `$email` as the primary identifier when passed in `traits.email`/`properties.email`. RudderStack **does not** set `$id` field to the `userId` while sending the events.\n    \n    When disabled, RudderStack uses `userId` (`anonymousId`, if `userId` is absent) for mapping the user with a unique identifier. In case `userId` and `anonymousId` are absent, RudderStack sends `email` or `phone` as the user’s primary identifier.\n    \n    > ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n    > \n    > Note that:\n    > \n    > *   This setting is applicable for [`identify`](#identify) and [`track`](#track) calls.\n    > *   Use this setting only if you are experiencing issues with duplicate profiles created in your Klaviyo account.\n    \n*   **Enable to flatten user/event properties**: Turn on this setting to flatten the user properties in [`identify`](#identify) and event properties in [`track`](#track) calls before sending them to Klaviyo.\n    \n\n#### **Web SDK settings**\n\nUse the following settings to configure Klaviyo’s native web SDK:\n\n*   **Send Page As Track**: Turn on this setting to send `page` events as `track` events along with the event `name` and `category`.\n*   **Additional Page info**: Turn on this setting to send `page` events as `track` events and send additional properties for the event.\n\n#### **Other settings**\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Klaviyo. See [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Klaviyo.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can send any number of key-value pairs as user traits and RudderStack updates them as [custom profile properties](https://help.klaviyo.com/hc/en-us/articles/115005074627) in Klaviyo.\n\nTo create a new user in Klaviyo, you must pass either the `userId`, `email`, or `phone` properties in the `identify` call. If a user already exists, RudderStack updates the user profile with the latest values.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"userid\", {\n  firstName: \"Name\",\n  lastName: \"Surname\",\n  email: \"name@website.com\",\n  phone: \"+12 345 678 900\",\n  userId: \"userId\",\n  title: \"Owner\",\n  organization: \"Company\",\n  city: \"Tokyo\",\n  region: \"ABC\",\n  country: \"JP\",\n  zip: \"100-0001\",\n  Flagged: false,\n  Residence: \"Shibuya\",\n  properties: {\n    listId: \"XUepkK\",\n    subscribe: true,\n    consent: \"email\",\n    smsConsent: true,\n  },\n})\n```\n\nNote that specifying `consent` and `smsConsent` in the event properties overrides the respective settings in the RudderStack dashboard.\n\n### Add and subscribe user to list\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This feature is available only in the [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) integration.\n\nYou can add and subscribe a user to a Klaviyo list by specifying the **List ID** in the RudderStack dashboard and setting the `subscribe` option to `true`. Alternatively, you can add `listId` within the event properties - this will override the **List ID** specified in the dashboard for that particular event.\n\nIf you have enabled the **Double opt-in** setting for a list in Klaviyo, users will not be added to the list automatically without their consent. To add users to a list automatically without waiting for their consent, select the **Single opt-in** option in that list’s settings:\n\n[![Destination Settings for Klaviyo](https://www.rudderstack.com/docs/images/event-stream-destinations/Klaviyo-setting.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Klaviyo-setting.webp)\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user actions along with any properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Checked Out\", {\n  Clicked_Rush_delivery_Button: true,\n  total_value: 2000,\n  Ordered: [\"T-Shirt\", \"jacket\"],\n  revenue: 2000,\n})\n```\n\nIn the above snippet, RudderStack captures the information related to the `Checked Out` event, along with the details of the event.\n\nTo associate a user with an event, you need to pass either their `userId`, `email`, or `phone` in the `track` call. A sample server-side `track` call along with the user information is as shown:\n\n```\nclient.track({\n  userId: \"user2\",\n  event: \"Item Purchased\",\n  properties: {\n    revenue: 97.5,\n    products: [\n      {\n        productId: \"pro1\",\n        price: 32.5,\n        quantity: 3,\n      },\n    ],\n  },\n  context: {\n    traits: {\n      email: \"user2@gmail.com\",\n    },\n  },\n})\n```\n\nIn the above snippet, RudderStack captures the information related to the `Item Purchased` event, along with its additional information in `properties`. Moreover, since this event is captured using a server-side SDK, RudderStack passes the user information in `context` along with a unique `userId`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> *   To send `track` or `screen` type event using an SDK that does not persist user context information after `identify`, you need to pass the information in `context.traits`.\n> *   To set a specific value to the `screen` or `track` type event, you need to pass the event-related property in the `properties` field. Also, you can send `revenue` property in the `track` event and RudderStack will automatically map it to Klaviyo’s special property `$value`.\n\n### Ecommerce event mapping\n\nRudderStack converts the following ecommerce events to the corresponding Klaviyo events:\n\n| **RudderStack event** | **Klaviyo event** |\n| --- | --- |\n| `Product Viewed`  <br>`Product Clicked` | `Viewed Product` |\n| `Product Added` | `Added to Cart` |\n| `Checkout Started` | `Started Checkout` |\n\nIn addition to the above, RudderStack sends the following:\n\n*   **Customer properties**: Must contain either the `email` or `phone_number`. RudderStack extracts these customer properties from `traits`/`context.traits` in the `track` call.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> As mentioned above, you can send any number of key-value pairs as user traits and RudderStack updates them as [custom profile properties](https://help.klaviyo.com/hc/en-us/articles/115005074627) in Klaviyo.\n\n*   **Token**: Public API key from the RudderStack dashboard.\n\nAdditionally, you can choose to send specific fields for each of the events covered in the following sections:\n\n#### Product Viewed\n\nRudderStack maps the `Product Viewed` event to `Viewed Product` and maps the following event properties:\n\n| **RudderStack property** | **Klaviyo property** |\n| --- | --- |\n| `name` | `ProductName` |\n| `product_id` | `ProductID` |\n| `sku` | `SKU` |\n| `image_url` | `ImageURL` |\n| `url` | `URL` |\n| `brand` | `Brand` |\n| `price` | `Price` |\n| `compare_at_price` | `CompareAtPrice` |\n| `categories` | `Categories` |\n\n#### Product Added\n\nRudderStack maps the `Product Added` event to `Added to Cart` and maps the following event properties:\n\n| **RudderStack property** | **Klaviyo property** |\n| --- | --- |\n| `value` | `$value` |\n| `name` | `AddedItemProductName` |\n| `product_id` | `AddedItemProductID` |\n| `sku` | `AddedItemSKU` |\n| `image_url` | `AddedItemImageURL` |\n| `url` | `AddedItemURL` |\n| `price` | `AddedItemPrice` |\n| `quantity` | `AddedItemQuantity` |\n| `categories` | `AddedItemCategories` |\n| `item_names` | `ItemNames` |\n| `checkout_url` | `CheckoutURL` |\n| `items` (deprecating soon)  <br>`products` | `Items` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `properties.items` will be deprecated soon.\n\nFurthermore, `products`/`items` can contain the following parameters:\n\n| **RudderStack parameters** | **Klaviyo parameters** |\n| --- | --- |\n| `product_id` | `ProductID` |\n| `sku` | `SKU` |\n| `name` | `ProductName` |\n| `quantity` | `Quantity` |\n| `price` | `Price` |\n| `total` | `RowTotal` |\n| `url` | `URL` |\n| `image_url` | `ImageURL` |\n| `categories` | `ProductCategories` |\n\n#### Checkout Started\n\nRudderStack maps the `Checkout Started` event name to `Started Checkout` and maps the following event properties:\n\n| **RudderStack Parameters** | **Klaviyo Parameters** |\n| --- | --- |\n| `order_id` | `$event_id` |\n| `value` | `$value` |\n| `categories` | `Categories` |\n| `item_names` | `ItemNames` |\n| `items` (deprecating soon)  <br>`products` | `Items` |\n| `checkout_url` | `CheckoutURL` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `properties.items` will be deprecated soon.\n\nFurthermore, `products` / `items` can contain the following parameters:\n\n| **RudderStack parameters** | **Klaviyo parameters** |\n| --- | --- |\n| `product_id` | `ProductID` |\n| `sku` | `SKU` |\n| `name` | `ProductName` |\n| `quantity` | `Quantity` |\n| `price` | `Price` |\n| `total` | `RowTotal` |\n| `url` | `URL` |\n| `image_url` | `ImageURL` |\n| `categories` | `ProductCategories` |\n\nA sample `track` call containing the above ecommerce event parameters is shown below:\n\n```\nrudderanalytics.track(\"checkout started \", {\n  order_id: \"1234\",\n  value: 12.34,\n  categories: [\"category1\", \"category2\"],\n  checkout_url: \"http://www.testcall.com\",\n  item_names: [\"item1\", \"item2\"],\n  products: [{\n      product_id: \"pId1\",\n      sku: \"sku1\",\n      name: \"item1\",\n      url: \"https://www.item1URL.com\",\n      price: 1.0,\n      quantity: 1,\n      image_url: \"https://www.item1Image.com,\n      categories: [\"category1\", \"category2\"],\n      row_total: 1.0\n    },\n    {\n      product_id: \"pId2\",\n      sku: \"sku2\",\n      name: \"item2\",\n      url: \"https://www.item2URL.com\",\n      price: 2.0,\n      quantity: 1,\n      image_url: \"https://www.item2Image.com,\n      categories: [\"category1\", \"category2\"],\n      row_total: 2.0\n    },\n  ],\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> When sending events via web device mode, specifying `order_id` is not mandatory, as Klaviyo automatically assigns the timestamp to the event. However, if explicitly specified, it **must be unique**. Klaviyo automatically discards the events containing a duplicate `order_id`.\n\n## Page\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports sending `page` events to Klaviyo only via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nYou can send the `name` and `category` information in the `page` event by enabling the **Send Page As Track** setting in the RudderStack dashboard. To associate the properties with the page view event, enable the **Additional Page info** setting as well.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"test.com\",\n  search: \"term\",\n  title: \"test_item\",\n  url: \"http://test.in\",\n})\n```\n\n## Screen\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports sending `screen` events to Klaviyo only via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) method lets you record whenever a user sees their mobile screen along with any optional properties about the viewed screen.\n\nA sample `screen` call is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Sample Screen Name\" properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\nIn Klaviyo, the above `screen` call is shown as `Sample Screen Name` along with the associated properties.\n\n## Group\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports adding and subscribing users to a specific list via the `group` call only in the [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) integration.\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you associate a particular identified user with a group, such as a company, organization, or an account.\n\nTo make a `group` call successfully, you must include either `email` or `phone` in it. A sample server-side `group` call is shown:\n\n```\nclient.group({\n  userId: \"userId\",\n  groupId: \"listId\",\n  traits: {\n    subscribe: true,\n  },\n  context: {\n    traits: {\n      email: \"user.test@gmail.com\",\n      city: \"city\",\n      country: \"country\",\n      zip: \"213456\",\n      age: 23,\n      plan: \"free\",\n      consent: \"email\",\n      phone: \"1-617-555-1333\"\n    },\n  },\n})\n```\n\nNote that specifying `consent` in the event properties overrides the respective settings in the RudderStack dashboard.\n\nIn the above snippet, the user with the associated traits is added and subscribed to the list as it is set to `true`.\n\n## Troubleshooting\n\n|     |     |     |\n| --- | --- | --- |\n| **Error** | **Reason** | **Solution** |\n| \"detail\": \"Duplicate email found: alex@example.com.\" | The identifiers in the event are possibly from different user profiles in Klaviyo. | Make sure that all the identifiers in the event payload belong to the same user profile.<br><br>To update a profile, you can provide the user's email, phone, or user ID. |\n| \"detail\": \"A profile already exists with one of these identifiers.\" |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Klaviyo destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Klaviyo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koala/",
  "markdown": "# Koala Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Koala Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Koala.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/movable-ink/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Movable Ink as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/movable-ink/cloud-mode/",
  "markdown": "# Movable Ink Cloud Mode Integration\n\nSend events to Movable Ink using RudderStack cloud mode.\n\n* * *\n\n*     6 minute read  \n    \n\nAfter you have successfully instrumented Movable Ink as a destination in RudderStack, follow this guide to correctly send your events to Movable Ink in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/cdk/v2/destinations/movable_ink).\n\n## Create event mapping in Movable Ink\n\nTo send an event successfully to Movable Ink via RudderStack, you must set up its mapping in Movable Ink:\n\n1.  Go to [Customer Data Endpoints](https://app.movableink.com/behavioral/endpoints) in the Movable Ink dashboard.\n2.  Select the preferred endpoint and scroll to the **Event Mappings** section.\n3.  Click **New event mapping** and fill the details:\n\n[![Movable Ink public key](https://www.rudderstack.com/docs/images/event-stream-destinations/identify-create.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/identify-create.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [`identify`](#identify) and [`track`](#track) sections to know about the **Match criteria** value.\n\n4.  Click **Create** to create the event successfully.\n5.  Click the created event, enter the JSON paths for the event properties (refer to the **RudderStack JSON Path** in the corresponding event’s mapping table in below sections) and click **Save Fields**:\n\n[![Movable Ink public key](https://www.rudderstack.com/docs/images/event-stream-destinations/identify-paths.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/identify-paths.webp)\n\n6.  Turn the event status as **Activate**.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in Movable Ink.\n\nRudderStack maps the `identify` call to Movable Ink’s `Identify` event. You must set up the `identify` event mapping in Movable Ink with the match criteria as `.type == \"identify\"`. See [Create event mapping in Movable Ink](#create-event-mapping-in-movable-ink) for more information.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  logins: 2\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can send up to 1000 events in a batch with the batch request size not exceeding 1 MB.\n\n### Supported mappings\n\nRudderStack maps the following `identify` event fields to the corresponding Movable Ink schema fields:\n\n| RudderStack property path | Movable Ink schema field | Data type |\n| --- | --- | --- |\n| `.userId`  <br>Required | `UserID` | String |\n| `.anonymousId`  <br>Required | `AnonymousId` | String |\n| `.timestamp`  <br>Required | `Timestamp` | Number |\n| `.context.timezone` | `Timezone` | String |\n\n## Track\n\nYou can use a [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to send the [ecommerce](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) and custom events to Movable Ink. The match criteria for any `track` event in the Movable Ink dashboard is `.event == \"Event Name\"`. See [Create event mapping in Movable Ink](#create-event-mapping-in-movable-ink) for more information.\n\nMovable Ink supports the following predefined [event schemas](https://app.movableink.com/behavioral/schemas) (mentioned with their corresponding match criterias):\n\n*   Product (Product Viewed)\n*   Category (Category Viewed)\n*   CartAdd (Product Added)\n*   Search (Products Searched)\n*   Conversion (Order Completed)\n*   CartRemove (Product Removed)\n\nYou can also create custom event schemas by clicking **New Schema** in the Movable Ink dashboard.\n\nMovable Ink supports upto 20 custom properties for the **Product**, **CartAdd**, and **CartRemove** events. You must provide the custom property’s `name` and `JSON path` by clicking the event and adding the values in the schema fields.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can send up to 1000 events in a batch with the batch request size not exceeding 1MB.\n\n### Product\n\nThe match criteria for **Product** event in Movable Ink is `.event == \"Product Viewed\"`.\n\nA sample code is shown:\n\n```\nrudderanalytics.track(\"Product Viewed\", {\n  product_id: \"622c6f5d5cf86a4c77358033\",\n  sku: \"8472-998-0112\",\n  category: \"Games\",\n  name: \"Cones of Dunshire\",\n  brand: \"Wyatt Games\",\n  variant: \"expansion pack\",\n  price: 49.99,\n  quantity: 5,\n  coupon: \"PREORDER15\",\n  currency: \"USD\",\n  position: 1,\n  url: \"https://www.website.com/product/path\",\n  image_url: \"https://www.website.com/product/path.webp\",\n})\n```\n\nRudderStack maps the following properties to Movable Ink schema fields for **Product** event:\n\n| RudderStack property path | Movable Ink schema field | Data type | Note |\n| --- | --- | --- | --- |\n| `.properties.product_id`  <br>Required | `ID` | String | \\-  |\n| `.timestamp`  <br>Required | `Timestamp` | String | \\-  |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String | \\-  |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String | \\-  |\n| `.properties.categories[]` | `Categories` | Array | You can pass the category URL and ID under categories. For example, `.url`, `.id`. |\n| `.channel` | `Channel` | String | \\-  |\n| `.properties.price` | `Price` | Number | \\-  |\n| `.context.timezone` | `Timezone` | Number | \\-  |\n| `.properties.name` | `Title` | String | \\-  |\n| `.properties.url` | `URL` | String | \\-  |\n\n### Category\n\nRudderStack does not support any standard ecommerce event corresponding to the **Category** event but recommends to set the match criteria in Movable Ink as **Category Viewed**. However, you can configure any other event name and JSON path in the Movable Ink schema field and pass the same to RudderStack.\n\nRudderStack maps the following properties to Movable Ink schema fields for **Category** event:\n\n| RudderStack property path | Movable Ink schema field | Data type |\n| --- | --- | --- |\n| `.properties.category_id`  <br>Required | `CategoryID` | String |\n| `.timestamp`  <br>Required | `Timestamp` | String |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String |\n| `.channel` | `Channel` | String |\n| `.context.timezone` | `Timezone` | Number |\n| `.properties.name` | `Title` | String |\n| `.properties.url` | `CategoryURL` | String |\n\n### CartAdd\n\nThe match criteria for **CartAdd** event in Movable Ink is `.event == \"Product Added\"`.\n\nA sample code is shown:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  product_id: \"622c6f5d5cf86a4c77358033\",\n  sku: \"8472-998-0112\",\n  category: \"Games\",\n  name: \"Cones of Dunshire\",\n  brand: \"Wyatt Games\",\n  variant: \"expansion pack\",\n  price: 49.99,\n  quantity: 5,\n  coupon: \"PREORDER15\",\n  position: 1,\n  url: \"https://www.website.com/product/path\",\n  image_url: \"https://www.website.com/product/path.webp\",\n})\n```\n\nRudderStack maps the following properties to Movable Ink schema fields for **CartAdd** event:\n\n| RudderStack property path | Movable Ink schema field | Data type | Note |\n| --- | --- | --- | --- |\n| `.properties.product_id`  <br>Required | `ID` | String | \\-  |\n| `.timestamp`  <br>Required | `Timestamp` | String | \\-  |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String | \\-  |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String | \\-  |\n| `.properties.categories[]` | `Categories` | Array | You can pass the category URL and ID under categories. For example, `.url`, `.id`. |\n| `.channel` | `Channel` | String | \\-  |\n| `.properties.price` | `Price` | Number | \\-  |\n| `.context.timezone` | `Timezone` | Number | \\-  |\n| `.properties.name` | `Title` | String | \\-  |\n| `.properties.url` | `URL` | String | \\-  |\n\n### Search\n\nThe match criteria for **Search** event in Movable Ink is `.event == \"Products Searched\"`.\n\nA sample code is shown:\n\n```\nrudderanalytics.track(\"Products Searched\", {\n  query: \"HDMI cable\",\n})\n```\n\nRudderStack maps the following properties to Movable Ink schema fields for **Search** event:\n\n| RudderStack property path | Movable Ink schema field | Data type |\n| --- | --- | --- |\n| `.properties.query`  <br>Required | `Query` | String |\n| `.timestamp`  <br>Required | `Timestamp` | String |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String |\n| `.channel` | `Channel` | String |\n| `.context.timezone` | `Timezone` | Number |\n| `.properties.url` | `URL` | String |\n\n### Conversion\n\nThe match criteria for **Conversion** event in Movable Ink is `.event == \"Order Completed\"`.\n\nA sample code is shown:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"70324a1f0eaf000000000000\",\n  order_id: \"40684e8f0eaf000000000000\",\n  affiliation: \"Vandelay Games\",\n  total: 52.0,\n  subtotal: 45.0,\n  revenue: 50.0,\n  shipping: 4.0,\n  tax: 3.0,\n  discount: 5.0,\n  coupon: \"NEWCUST5\",\n  currency: \"USD\",\n  products: [\n    {\n      product_id: \"622c6f5d5cf86a4c77358033\",\n      sku: \"8472-998-0112\",\n      name: \"Cones of Dunshire\",\n      price: 40,\n      position: 1,\n      category: \"Games\",\n      url: \"https://www.website.com/product/path\",\n      image_url: \"https://www.website.com/product/path.jpg\",\n    },\n    {\n      product_id: \"577c6f5d5cf86a4c7735ba03\",\n      sku: \"3309-483-2201\",\n      name: \"Five Crowns\",\n      price: 5,\n      position: 2,\n      category: \"Games\",\n    },\n  ],\n})\n```\n\nRudderStack maps the following properties to Movable Ink schema fields for **Conversion** event:\n\n| RudderStack property path | Movable Ink schema field | Data type | Note |\n| --- | --- | --- | --- |\n| `.properties.products[]`  <br>Required | `Products` | Array | \\-  |\n| `.product_id`  <br>Required | `Products.ID` | String | Path inside the `products` array. |\n| `.timestamp`  <br>Required | `Timestamp` | String | \\-  |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String | \\-  |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String | \\-  |\n| `.url` | `Products.URL` | String | Path inside the `products` array. |\n| `.quantity` | `Products.Quantity` | Number | Path inside the `products` array. |\n| `.price` | `Products.Price` | Number | Path inside the `products` array. |\n| `.name` | `Products.Title` | String | Path inside the `products` array. |\n| `.channel` | `Channel` | String | \\-  |\n| `.context.timezone` | `Timezone` | Number | \\-  |\n| `.properties.order_id` | `ID` | String | \\-  |\n| `.properties.revenue` | `Revenue` | Number | \\-  |\n\n### CartRemove\n\nThe match criteria for **CartRemove** event in Movable Ink is `.event == \"Product Removed\"`.\n\nA sample code is shown:\n\n```\nrudderanalytics.track(\"Product Removed\", {\n  product_id: \"622c6f5d5cf86a4c77358033\",\n  sku: \"8472-998-0112\",\n  category: \"Games\",\n  name: \"Cones of Dunshire\",\n  brand: \"Wyatt Games\",\n  variant: \"expansion pack\",\n  price: 49.99,\n  quantity: 5,\n  coupon: \"PREORDER15\",\n  position: 1,\n  url: \"https://www.website.com/product/path\",\n  image_url: \"https://www.website.com/product/path.webp\",\n})\n```\n\nRudderStack maps the following properties to Movable Ink schema fields for **CartRemove** event:\n\n| RudderStack property path | Movable Ink schema field | Data type | Note |\n| --- | --- | --- | --- |\n| `.properties.product_id`  <br>Required | `ID` | String | \\-  |\n| `.timestamp`  <br>Required | `Timestamp` | String | \\-  |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String | \\-  |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousID` | String | \\-  |\n| `.properties.categories[]` | `Categories` | Array | You can pass category URL and ID under categories. For example, `.url`, `.id`. |\n| `.channel` | `Channel` | String | \\-  |\n| `.properties.price` | `Price` | Number | \\-  |\n| `.context.timezone` | `Timezone` | Number | \\-  |\n| `.properties.name` | `Title` | String | \\-  |\n| `.properties.url` | `URL` | String | \\-  |\n\n### Custom Events\n\nFor any custom event, you must configure the following bare minimum schema fields:\n\n| RudderStack property path | Movable Ink schema field | Data type |\n| --- | --- | --- |\n| `.userId`  <br>Required, if anonymousId is absent. | `UserID` | String |\n| `.anonymousId`  <br>Required, if userId is absent. | `AnonymousId` | String |\n| `.timestamp`  <br>Required | `Timestamp` | Number |\n| `.context.timezone` | `Timezone` | String |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Movable Ink Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Movable Ink using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mailjet/",
  "markdown": "# Mailjet destination | RudderStack Docs\n\nSend your event data from RudderStack to Mailjet.\n\n* * *\n\n*     3 minute read  \n    \n\n[Mailjet](https://www.mailjet.com/) is a popular email marketing and delivery platform. It lets you create and send impactful email marketing campaigns, newsletters, and automated emails to grow your business.\n\n## Getting started\n\nRudderStack supports sending events to Mailjet via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Mailjet, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Mailjet**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully set up Mailjet as a destination, you need to configure the following settings:\n\n*   **Mailjet API Key**: Enter your Mailjet API key.\n*   **Mailjet API Secret**: Enter your Mailjet secret key.\n*   **Mailjet Contact List ID**: Enter your Mailjet contact list ID. RudderStack will use this ID if the list ID is not provided via the `externalId` field in the event’s payload.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section for more information on obtaining the Mailjet API Key, secret key, and contact list ID.\n\n*   **Map RudderStack user attributes to Mailjet contact properties**: Use this setting to map your RudderStack event properties to specific custom properties created in the Mailjet dashboard. For more information on creating and managing contact properties, refer to the [Mailjet documentation](https://documentation.mailjet.com/hc/en-us/articles/360043176353-How-to-create-manage-contact-properties-).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Mailjet will not create a contact for the event properties configured in the RudderStack dashboard but not created in Mailjet.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to add or remove a contact in Mailjet. If a contact already exists, RudderStack updates the contact details.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4el9Z', {\n      firstName: 'Alex',\n      lastName: 'Keener',\n      email: \"alex@example.com\"\n    }, {\n      externalId: [{\n        type: \"listId\",\n        id: \"13314el9Z\"\n      }],\n      integrations: {\n        mailjet: {\n          Action: \"remove\"\n        }\n      }\n    );\n```\n\nWhen sending events to Mailjet, note the following:\n\n*   The `email` field is mandatory. Otherwise, Mailjet rejects the events.\n*   You can specify the Mailjet list ID either in the **Mailjet Contact List ID** setting of the RudderStack dashboard or in the `externalId` field.\n*   You can specify the Mailjet action (adding/removing user) in the `Action` field of the `integrations` object. If no action is specified, RudderStack sets this field to `addnoforce`, by default.\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack attributes and the Mailjet properties:\n\n| RudderStack property | Mailjet property |\n| --- | --- |\n| `traits.email`  <br>Required | `Email` |\n| `traits.name` | `Name` |\n| `context.traits.IsExcludedFromCampaigns`  <br>`traits.IsExcludedFromCampaigns` | `IsExcludedFromCampaigns` |\n\n## FAQ\n\n#### Where can I find the Mailjet API key and secret key?\n\nTo obtain your Mailjet API key and secret, follow these steps:\n\n1.  Log into your [Mailjet dashboard](https://app.mailjet.com/account).\n2.  From the top right section of the dashboard, click your name and go to **Account settings** > **REST API** > **API Key Management (Primary and Sub-account)**. Your primary API key and secret will listed here:\n\n[![Mailjet API key and secret key](https://www.rudderstack.com/docs/images/event-stream-destinations/mailjet-apikey-secret.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mailjet-apikey-secret.webp)\n\n#### Where can I find contact list ID in Mailjet?\n\nTo get your Mailjet contact list ID, log into your [Mailjet dashboard](https://app.mailjet.com/account) and go to **Contacts** > **Contact Lists**. You can find your contact lists and the associated IDs listed here:\n\n[![Mailjet contact list ID](https://www.rudderstack.com/docs/images/event-stream-destinations/mailjet-contactlistid.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mailjet-contactlistid.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mailjet destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mailjet.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/mailmodo/",
  "markdown": "# Mailmodo destination | RudderStack Docs\n\nSend your event data from RudderStack to Mailmodo.\n\n* * *\n\n*     3 minute read  \n    \n\n[Mailmodo](https://www.mailmodo.com/) is an interactive email marketing tool. It provides several useful features like sending transactional campaigns, email automation, and drip emails with customer journeys, WYSIWYG email editor, and many other tool integrations.\n\n## Getting started\n\nBefore configuring Mailmodo as a destination in RudderStack, verify if the source platform is supported by Mailmodo by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Mailmodo, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Mailmodo**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Mailmodo as a destination, you will need to configure the following settings:\n\n[![Mailmodo connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/mailmodo-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mailmodo-connection-settings.webp)\n\n*   **API Key**: Enter your Mailmodo API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Mailmodo API key, refer to the [FAQ](#FAQ) section below.\n\n*   **List Name**: This field is **only applicable** for the `identify` call. Enter the name of the Mailmodo list where the contacts should be added. If not provided, `RudderStack` is taken as the default list name.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to [add contacts to your Mailmodo list](https://www.mailmodo.com/developers/6661e4fb7833e-bulk-add-contact-to-a-list/). If a contact already exists, RudderStack updates the contact details.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You cannot add more than 100 contacts in a single `identify` call.\n\nA sample `identify` call is shown below:\n\n```\n{\n  \"userId\": \"1hKOmRA4el9Z\",\n  \"anonymousId\": \"78c53c15-32a1-4b65-adac-bec2d7bb8\",\n  \"context\": {\n    \"traits\": {\n      \"trait1\": \"new-val\"\n    },\n    \"ip\": \"14.5.67.21\",\n    \"library\": {\n      \"name\": \"http\"\n    }\n  },\n  \"traits\": {\n    \"email\": \"alex@example.com\",\n    \"name\": \"Alex Keener\",\n    \"firstName\": \"Alex\",\n    \"lastName\": \"Keener\",\n    \"age\": 40,\n    \"phone\": \"+1-202-555-0146\",\n    \"lastClick\": \"2020-02-02T00:23:09.544Z\",\n    \"lastOpen\": \"2020-02-02T00:23:09.544Z\"\n  },\n  \"timestamp\": \"2020-02-02T00:23:09.544Z\"\n}\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Mailmodo properties:\n\n| RudderStack property | Mailmodo property | Presence |\n| --- | --- | --- |\n| `traits.email`/`context.traits.email`/`properties.email` | `values.email` | Required |\n| `traits.firstName`/`context.traits.firstName` | `values.data.first_name` | Optional |\n| `traits.lastName`/`context.traits.lastName` | `values.data.last_name` | Optional |\n| `traits.name`/`context.traits.name` | `values.data.name` | Optional |\n| `traits.gender`/`context.traits.gender` | `values.data.gender` | Optional |\n| `traits.age`/`context.traits.age` | `values.data.age` | Optional (Integer format) |\n| `traits.birthday`/`context.traits.birthday` | `values.data.birthday` | Optional (ISO format/UNIX timestamp) |\n| `traits.phone`/`context.traits.phone` | `values.data.phone` | Optional |\n| `traits.city`/`context.traits.city`/`traits.address.city`/`context.traits.address.city` | `values.data.city` | Optional |\n| `traits.address`/`context.traits.address` | `address1` + `address2` | Optional |\n| `traits.state`/`context.traits.state`/`traits.address.state`/`context.traits.address.state` | `values.data.state` | Optional |\n| `traits.country`/`context.traits.country`/`traits.address.country`/`context.traits.address.country` | `values.data.country` | Optional |\n| `traits.zipcode`/`context.traits.zipcode`/`traits.postalcode`/`context.traits.postalcode`/`traits.postal_code`/`context.traits.postal_code` | `values.data.postal_code` | Optional |\n| `traits.designation`/`context.traits.designation` | `values.data.designation` | Optional |\n| `traits.company`/`context.traits.company` | `values.data.company` | Optional |\n| `traits.industry`/`context.traits.industry` | `values.data.industry` | Optional |\n| `traits.description`/`context.traits.description` | `values.data.description` | Optional |\n| `traits.anniversaryDate`/`context.traits.anniversaryDate`/`traits.anniversary_date`/`context.traits.anniversary_date` | `values.data.anniversary_date` | Optional (ISO format/UNIX timestamp) |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends any property apart from the ones mentioned above as a custom property inside `traits/context.traits` and maps it to `values.data` before sending it to Mailmodo.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to [add custom events for a contact](https://www.mailmodo.com/developers/93cba3fa7f1ea-add-event/).\n\nA sample `track` call is shown below:\n\n```\n{\n  \"userId\": \"1hKOmRA4el9Z\",\n  \"anonymousId\": \"78c53c15-32a1-4b65-adac-bec2d7bb8\",\n  \"event\": \"Product Purchased\",\n  \"properties\": {\n    \"name\": \"Shirt\",\n    \"email\": \"alex@example.com\",\n    \"revenue\": 4.99\n  },\n  \"context\": {\n    \"ip\": \"14.5.67.21\",\n    \"library\": {\n      \"name\": \"http\"\n    }\n  },\n  \"timestamp\": \"2020-02-02T00:23:09.544Z\"\n}\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and Mailmodo properties:\n\n| RudderStack property | Mailmodo property | Presence |\n| --- | --- | --- |\n| `event` | `event_name` | Required |\n| `traits.email`/`context.traits.email`/`properties.email` | `email` | Required |\n| `timestamp` | `ts` | Optional (UNIX epoch in seconds) |\n| `properties` | `event_properties` | Optional |\n\n## FAQ\n\n#### Where can I find the Mailmodo API key?\n\nTo obtain your Mailmodo API key, follow these steps:\n\n1.  Log into your [Mailmodo dashboard](https://manage.mailmodo.com/auth/login).\n2.  Go to **Settings** > **API Keys** as shown:\n\n[![Mailmodo API key](https://www.rudderstack.com/docs/images/event-stream-destinations/mailmodo-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/mailmodo-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Mailmodo destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Mailmodo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koala/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Koala as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/new-relic/",
  "markdown": "# New Relic | RudderStack Docs\n\nSend your event data from RudderStack to New Relic.\n\n* * *\n\n*     3 minute read  \n    \n\n[New Relic](https://newrelic.com/) is a leading observability platform that lets you monitor, debug, and enhance your tech stack.\n\nRudderStack supports New Relic as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring New Relic as a destination in RudderStack, verify if the source platform is supported by New Relic by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to New Relic, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **New Relic**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure New Relic as a destination, you will need to configure the following settings:\n\n[![New Relic connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/new-relic-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/new-relic-connection-settings.webp)\n\n*   **Account ID**: Enter your [New Relic account ID](https://docs.newrelic.com/docs/accounts/accounts-billing/account-structure/account-id/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on finding the account ID based on your New Relic user model, refer to the [FAQ](#faq) section below.\n\n*   **Insert Key**: Enter your New Relic insert key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your New Relic insert key, refer to the [FAQ](#faq) section below.\n\n*   **Data Center**: Choose the data center associated with your New Relic account. By default, it is set to **US**.\n*   **Custom Default Event Type**: Use this field to define any custom `eventType` for any unmapped `track` calls. By default, RudderStack sets the `eventType` as `rudderstack`.\n*   **Send Device Context**: If this setting is enabled, RudderStack flattens all contextual fields delimited by a period (`.`) before sending them to New Relic.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Enabling this setting is recommended as getting rich device context is very useful in New Relic.\n\n*   **Send User ID and Anonymous ID**: Enable this option to send `userId` and `anonymousId` in your events to New Relic.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nRudderStack uses the `track` calls to send custom events to New Relic via the [Event API](https://docs.newrelic.com/docs/data-apis/ingest-apis/event-api/introduction-event-api/).\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\n  \"Email Opened\", {\n    subject: \"Resume validation\",\n    sendtime: \"2022-01-01\",\n    sendlocation: \"alex@example.com\"\n  }, {\n    context: {\n      traits: {\n        email: \"alex@example.com\"\n      }\n    }\n  }\n);\n```\n\nRudderStack applies the following rules to the event properties before sending them to New Relic:\n\n*   Booleans are transformed into strings.\n*   [NRQL words](https://docs.newrelic.com/docs/data-apis/custom-data/custom-events/data-requirements-limits-custom-event-data/#:~:text=to%20the%20logs.-,NRQL%20syntax%20terms,-If%20you%20need) are wrapped with backticks.\n*   [Reserved words](https://docs.newrelic.com/docs/data-apis/custom-data/custom-events/data-requirements-limits-custom-event-data/#reserved-words) are removed.\n\n## FAQ\n\n#### Where can I find the New Relic account ID?\n\nTo find the New Relic account ID, log into your [New Relic dashboard](https://one.newrelic.com/).\n\nDepending on your [user model](https://docs.newrelic.com/docs/accounts/original-accounts-billing/original-users-roles/overview-user-models/), the steps are listed below:\n\n*   **New Relic One user model**: In the top right section of the dashboard, go to your account settings and navigate to **Administration** > **Organization and access** > **Accounts**. You can find your account ID here.\n*   **Original user model**: In the top right section of your New Relic dashboard, go to your account settings and click **API keys**. Your account ID will be displayed here.\n\n#### Where can I find the New Relic insert key?\n\nTo find your New Relic insert key, follow these steps:\n\n1.  Log into your [New Relic dashboard](https://one.newrelic.com/).\n2.  Go to **API Keys**.\n3.  Find the key of type **INGEST-LICENSE** (used as insert key):\n\n[![New Relic insert key](https://www.rudderstack.com/docs/images/event-stream-destinations/new-relic-insert-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/new-relic-insert-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "New Relic | RudderStack Docs",
  "description": "Send your event data from RudderStack to New Relic.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ninetailed/",
  "markdown": "# Ninetailed Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Ninetailed Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Ninetailed.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ninetailed/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Ninetailed as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/marketo-lead-import/",
  "markdown": "# Marketo Lead Import | RudderStack Docs\n\nSend your leads data from RudderStack to Marketo.\n\n* * *\n\n*     3 minute read  \n    \n\n[Marketo](https://marketo.com/) is a leading marketing automation platform. It lets you identify the right audiences and deliver enhanced user experiences through effective marketing campaigns and behavioral tracking.\n\nRudderStack supports Marketo Lead Import as a destination to which you can send large amounts of lead records asynchronously via Marketo’s [bulk API](https://developers.marketo.com/rest-api/bulk-import/bulk-lead-import/).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/marketo_bulk_upload).\n\n## Getting started\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> This destination is ideal for your [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) sources, as it only accepts `identify` events.\n\nBefore configuring Marketo Lead Import as a destination in RudderStack, verify if the source platform is supported by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **\\-** | **\\-** | **\\-** |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Marketo Lead Import, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Marketo Lead Import**.\n*   Assign a name to your destination and then click **Next**.\n\n## Connection settings\n\nTo successfully configure Marketo Lead Import as a destination, you will need to configure the following settings:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-lead-import-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-lead-import-connection-settings.webp)\n\n*   **Munchkin Account ID**: Enter your Munchkin ID, which is a unique identifier for your Marketo instance. To obtain this ID, log into your Marketo instance and navigate to the **Admin** section. In the left menu, go to **Integration** > **Munchkin**. Your Munchkin Account ID will be listed in the **Tracking Code** section on the main screen.\n\n*   **Client ID**: To get your **Client ID**, go to the the **Admin** section of your Marketo instance. In the left menu, go to **Integration** > **LaunchPoint**. Finally, select the API service and click **View Details** to get your client ID.\n\n*   **Client Secret**: You can find your Marketo client secret next to the **Client ID** obtained in the previous step.\n*   **De-duplication Field**: Marketo uses this field to de-duplicate user information. Make sure it is also present in the **Column Fields Mapping** setting below.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This field should be present in all events sent to Marketo Lead Import for proper de-duplication.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> While calling the [Bulk Lead Import API](https://developers.marketo.com/rest-api/bulk-import/bulk-lead-import/), RudderStack uses this field for lookup. Marketo then uses it to de-duplicate user information. Generally, `email` should be preferred for de-duplication.\n\n*   **Column Fields Mapping**: This option lets you map your incoming events’ traits to the **Leads** table columns’ API names.\n\nFor example, to send the data from the event traits `firstName` and `email` to the Marketo columns with the API names `name` and `Email`, set the mapping as shown:\n\n| **RudderStack traits** | **Marketo API name** |\n| --- | --- |\n| `firstName` | `name` |\n| `email` | `Email` |\n\nYou can find your columns’ API names by following the [Marketo documentation](https://developers.marketo.com/rest-api/bulk-import/bulk-custom-object-import/).\n\n## Identify\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports only `identify` event type for this destination.\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"name123\", {\n  name: \"Name Surname\",\n  firstName: \"Name\",\n  lastName: \"Surname\",\n  email: \"name@surname.com\",\n  createdAt: \"Thu Mar 24 2020 17:46:45 GMT+0000 (UTC)\",\n});\n```\n\nThe corresponding mapping to the Marketo traits for the above event is as shown:\n\n| **Marketo field name** | **Traits** |\n| --- | --- |\n| `name` | `firstName` |\n| `Email` | `email` |\n| `birthday` | `birthday` |\n| `phone` | `phone_number` |\n| `timestamp` | `createdAt` |\n\nRudderStack then sends the following values to Marketo:\n\n```\nName, name@surname.com, , , Thu Mar 24 2020 17:46:45 GMT+0000 (UTC)\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Marketo Lead Import | RudderStack Docs",
  "description": "Send your leads data from RudderStack to Marketo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/koala/cloud-mode/",
  "markdown": "# Koala Cloud Mode Integration | RudderStack Docs\n\nSend events to Koala using RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nAfter you have successfully instrumented Koala as a destination in RudderStack, follow this guide to correctly send your events to Koala in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/koala).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note the following when sending [`identify`](#identify) and [`track`](#track) events to Koala:\n> \n> *   You must include either `email` or the user’s Koala profile id (`ko_profile_id`) as Koala uses one of these fields to associate the user with their profile.\n> *   Send the `ko_profile_id` in the UUID v4 format.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a Lead object in Koala.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  ko_profile_id: \"12345\"\n})\n```\n\n### Supported mappings\n\nRudderStack maps the following `identify` fields to the corresponding Koala properties:\n\n| RudderStack property | Koala property |\n| --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>Required, if `ko_profile_id` is absent. | `email` |\n| `traits.ko_profile_id`  <br>`context.traits.ko_profile_id`  <br>`properties.ko_profile_id`  <br>Required, if `email` is absent. | `profile_id` |\n| `type` | `identifies.$.type` |\n| `traits`  <br>`context.traits` | `events.$.traits` |\n| `timestamp`  <br>`originalTimeStamp` | `events.$.sent_at` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture events like `Account Created`, `Account Deleted`, and their related properties.\n\n```\nrudderanalytics.track(\"User Signed Up\", {\n  plan: \"Pro Annual\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  ko_profile_id: \"12345\"\n  email: \"alex@example.com\"\n})\n```\n\n### Supported mappings\n\nRudderStack maps the following `track` fields to the corresponding Koala properties:\n\n| RudderStack property | Koala property |\n| --- | --- |\n| `event`  <br>Required | `events.$.event` |\n| `traits.email`  <br>`context.traits_email`  <br>`properties.email`  <br>Required, if `ko_profile_id` is absent. | `email` |\n| `traits.ko_profile_id`  <br>`context.traits.ko_profile_id`  <br>`properties.ko_profile_id`  <br>Required, if `email` is absent. | `profile_id` |\n| `context.ip`  <br>`request_ip` | `ip` |\n| `context` | `event.$.context` |\n| `properties` | `events.$.properties` |\n| `type` | `events.$.type` |\n| `messageId` | `events.$.message_id` |\n| `timestamp`  <br>`originalTimeStamp` | `events.$.sent_at` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Koala Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Koala using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/matomo/",
  "markdown": "# Matomo | RudderStack Docs\n\nSend your event data from RudderStack to Matomo.\n\n* * *\n\n*     10 minute read  \n    \n\n[Matomo](https://matomo.org/), formerly Piwik, is an open source web analytics platform. It can be used to derive valuable insights into your website’s visitors and marketing campaigns so as to optimize your strategy and online experience for your visitors.\n\nRudderStack supports Matomo as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to Matomo via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Matomo native SDK is loaded from `https://cdn.matomo.cloud/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Matomo SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Matomo, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Matomo**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully setup Matomo as a destination, you will need to configure the following settings:\n\n*   **Matomo Version**: Choose the Matomo version from the dropdown:\n    \n    *   **Premise Version**: Choose this option if you have an on-premise Matomo setup.\n        *   **Premise URL**: Enter the SDK’s CDN URL in this field.\n    *   **Cloud Version**: Choose this option if you are using Matomo Cloud.\n        *   **Server URL**: Enter your server URL mentioned under the **JavaScript Tracking Code** section in Matomo dashboard.\n*   **Site Id**: Enter your site Id mentioned under the **JavaScript Tracking Code** section in Matomo dashboard.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section below for more information on finding the Server URL and Site Id.\n\n### Event settings\n\n[![Matomo connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-1.webp)\n\n[![Matomo connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-2.webp)\n\n[![Matomo connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-3.webp)\n\n*   **Mapping to trigger the Matomo Goal ID for the respective Events**: Enter the **Event Name** and the [Goal Id](https://developer.matomo.org/guides/tracking-javascript-guide#manually-trigger-goal-conversions) to be triggered when that event is called.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can specify multiple **Goal Id’s** for one **Event Name** and vice versa.\n\n*   **Mapping to trigger the Matomo standard events for the respective Events**: Enter the event name and pick the standard event from the dropdown to be triggered when that event is called.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can specify multiple **Standard Events** for one **Event Name** and vice versa.\n\n*   **Track All Content Impressions**: Enable this setting to scan the entire DOM for all content blocks and track all impressions, once the DOM ready event has been triggered.\n*   **Track Visible Content Impressions**: Enable this setting to scan the entire DOM for all content blocks as soon as the page is loaded. It tracks an impression only if a content block is actually visible. If enabled, also enter the following:\n    *   **Check on Scroll**: Checks whether the previously hidden content blocks became visible meanwhile after a scroll and if yes, then tracks the impression. It is enabled by default.\n    *   **Time interval in ms**: Enter the time to rescan the entire DOM for new content impressions. By default, the rescan is done every 750ms. To disable it, pass the value as 0.\n*   **Log All Content Blocks On Page**: Enable this setting to log all content blocks found within a page to the console. This is useful while debugging/testing the content tracking.\n*   **Enable Heart Beat Timer**: Enable this setting to install a heart beat timer to send additional requests to Matomo to measure the time spent in the visit. These requests will be sent only when the user’s tab is active and in focus and will not track additional actions or pageviews. If enabled, also enter the following:\n    *   **Active Time in seconds**: Enter the time interval after which a ping request should be sent. The default value is 15 seconds, meaning that if a page is viewed for at least 15 seconds, only then a ping request will be sent.\n*   **Enable Link Tracking**: Enable this setting to install link tracking on all applicable link elements.\n*   **Disable Performance Tracking**: Enable this setting to disable the page performance tracking.\n*   **Enable Cross Domain Linking**: Enable this setting to enable cross domain linking. Refer to the [Matomo document](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=enableCrossDomainLinking) for more information.\n*   **Set Cross Domain Linking Timeout**: Enable this setting to set the cross domain linking timeout (in seconds). If enabled, also enter the following:\n    *   **Timeout**: Enter the timeout interval. By default, the two visits across domains are linked together when the link is clicked and the page is loaded within a 180 seconds timeout window.\n*   **Get Cross Domain Linking Url Parameter**: Enable this setting to get the query parameter to append to links to handle cross domain linking. Refer to the [Matomo document](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=getCrossDomainLinkingUrlParameter) for more information.\n*   **Disable Browser Feature Detection**: Enable this setting to disable the browser feature detection. Refer to the [Matomo document](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=disableBrowserFeatureDetection) for more information.\n\n### Web device mode settings\n\n[![Matomo connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-connection-settings-4.webp)\n\n*   **Use device mode to send events**: As this is a device mode-only destination, this setting is enabled by default and cannot be disabled.\n\n## Identify\n\nRudderStack sets the ID value in the cache to the `userId` or `anonymousId` present in the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\");\n```\n\nThe following table lists the RudderStack and Matomo property to set the `userId` in the `identify` call:\n\n| RudderStack property | Matomo property | Presence | Matomo Method |\n| --- | --- | --- | --- |\n| `userId`/`anonymousId` | `userId` | Required | `_paq.push([\"setUserId\",\"user_id\"])` |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\",{\n\"category\": \"Orders\",\n\"action\": \"Pass\",\n\"value\": 15\n});\n```\n\n### Generic events\n\nRudderStack sends a generic `track` call which is a not a [standard event](#standard-event) or an [ecommerce event](#ecommerce-events) as a Matomo [`trackEvent`](https://developer.matomo.org/guides/tracking-javascript-guide#manually-trigger-events) event.\n\nThe following table lists the property mappings between RudderStack and Matomo for `trackEvent`:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.category` | `category` | Required |\n| `properties.action` | `action` | Required |\n| `event` | `name` | Optional |\n| `properties.value` | `value` | Optional |\n\n### Standard events\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> For RudderStack to send an event as a standard Matomo event, you need to specify the event mapping under the **Mapping to trigger the Matomo standard events for the respective Events** setting in the RudderStack dashboard. For more information, refer to the [Event settings](#event-settings) section above.\n\nRudderStack supports the following Matomo standard events:\n\n*   [Ping](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=test%20content%20tracking.-,ping,-%28%29%20%2D%20Send%20a)\n*   [Track Content Impressions](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=trackContentImpression)\n*   [Track Content Impressions Within Node](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=trackContentImpressionsWithinNode)\n*   [Track Content Interaction](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=trackContentInteraction)\n*   [Track Content Interaction Node](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=trackContentInteractionNode)\n*   [Track Link](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=custom%20revenue%20customRevenue.-,trackLink,-%28%20url%2C%20linkType%20%29)\n*   [Track Site Search](https://developer.matomo.org/api-reference/tracking-javascript#:~:text=optional%20numeric%20value.-,trackSiteSearch,-%28keyword%2C%20%5Bcategory%5D%2C%20%5BresultsCount%29)\n\nRudderStack first verifies if an event is mapped to a standard Matomo event. If so, it sends the event to Matomo with some specific properties, as listed in the following sections.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> These properties should be present in the events for RudderStack to successfully send them to Matomo.\n\n#### Ping\n\nUse this event to send a ping request.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The ping requests do not track new actions. Matomo ignores these requests if they’re sent after a standard visit length.\n\n#### Track Content Impressions\n\nUse this event to track a content impression using the specified values.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property | Description |\n| --- | --- | --- |\n| `properties.contentName` | `contentName` | Represents a content block visible in the reports. One name can represent different content pieces. |\n| `properties.contentPiece` | `contentPiece` | Actual displayed content, for example, path to a video, image, etc. |\n| `properties.contentTarget` | `contentTarget` | URL of the landing page where the user was directed to after interacting with the block. |\n\n#### Track Content Impressions Within Node\n\nUse this event to scan a given DOM node and its associated children for content blocks and track impressions for them, if not done already.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property |\n| --- | --- |\n| `properties.domId`/ `properties.dom_id` | `domId` |\n\n#### Track Content Interaction\n\nUse this event to track a content interaction with the specified values.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property |\n| --- | --- |\n| `properties.contentInteraction` | `contentInteraction` |\n| `properties.contentName` | `contentName` |\n| `properties.contentPiece` | `contentPiece` |\n| `properties.contentTarget` | `contentTarget` |\n\n#### Track Content Interaction Node\n\nUse this event to track the interaction with a given DOM node or a content block.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property |\n| --- | --- |\n| `properties.domId`/ `properties.dom_id` | `domId` |\n| `properties.contentInteraction` | `contentInteraction` |\n\n#### Track Link\n\nUse this event to log a click from your code.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property | Description |\n| --- | --- | --- |\n| `properties.url`/ `message.context.page.url` | `url` | The full URL to be tracked as a click. |\n| `properties.linkType` | `linkType` | Defines the link type. Can either be `link` for an outlink or `download` for the download link type. |\n\n#### Track Site Search\n\nUse this event to track an internal site search for a given keyword with an optional category and specifying the optional search results count in the page.\n\nRudderStack maps the following event properties to the Matomo standard event properties:\n\n| RudderStack property | Matomo property |\n| --- | --- |\n| `properties.keyword`/`properties.search`/`message.context.page.search` | `keyword` |\n| `properties.category` | `category` |\n| `properties.resultsCount` | `resultsCount` |\n\n### Ecommerce events\n\nRudderStack supports and maps the following [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) to the corresponding Matomo [ecommerce events](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=most%20recent%20referrer.-,Ecommerce,-Matomo%20provides%20ecommerce):\n\n| RudderStack Event | Matomo Event |\n| --- | --- |\n| `Product Viewed` | `setEcommerceView` |\n| `Product Added` | `addEcommerceItem` |\n| `Product Removed` | `removeEcommerceItem` |\n| `Order Completed` | `trackEcommerceOrder` |\n| `Cart Cleared` | `clearEcommerceCart` |\n| `Update Cart` | `trackEcommerceCartUpdate` |\n\nFor the above-mentioned events, you can also send specific properties as mentioned in the following sections.\n\n#### Product Viewed\n\nRudderStack maps the `Product Viewed` event to \\[`setEcommerceView`\\]([https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=click%20here.-,setEcommerceView,-(%20productSKU%2C%20productName%2C%20categoryName)](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=click%20here.-,setEcommerceView,-%28%20productSKU%2C%20productName%2C%20categoryName%29). The following event properties are mapped to the Matomo properties:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.sku`/`properties.product_id` | `productSKU` | Required |\n| `properties.name` | `productName` | Required |\n| `properties.category` | `categoryName` | Required |\n| `properties.price` (Multiplied by quantity) | `price` | Required |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can view the `Product Viewed` event in the Matomo dashboard only when it is followed by a `page` call.\n\n#### Product Added\n\nRudderStack maps the `Product Added` event name to \\[`addEcommerceItem`\\]([https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=category%20page%20view.-,addEcommerceItem,-(%20productSKU%2C%20%5BproductName%5D%2C%20%5BproductCategory)](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=category%20page%20view.-,addEcommerceItem,-%28%20productSKU%2C%20%5BproductName%5D%2C%20%5BproductCategory%29). The following event properties are mapped to the Matomo properties:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.sku`/`properties.product_id` | `productSKU` | Required |\n| `properties.name` | `productName` | Optional |\n| `properties.category` | `categoryName` | Optional |\n| `properties.price` (Multiplied by quantity) | `price` | Optional |\n| `properties.quantity` | `quantity` | Optional |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can view the `Product Added` event in the Matomo dashboard only when it is followed by an `Update Cart` or `Order Completed` event.\n\n#### Product Removed\n\nRudderStack maps the `Product Removed` event name to [`removeEcommerceItem`](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=in%20the%20order.-,removeEcommerceItem,-%28%20productSKU%20%29%20%2D%20Remove). The following event properties are mapped to the Matomo properties:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.sku`/`properties.product_id` | `productSKU` | Required |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can view the `Product Removed` event in the Matomo dashboard only when it is followed by an `Update Cart` or `Order Completed` event.\n\n#### Order Completed\n\nRudderStack maps the `Order Completed` event name to \\[`trackEcommerceOrder`\\]([https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=from%20the%20cart.-,trackEcommerceOrder,-(%20orderId%2C%20grandTotal%2C%20%5BsubTotal)](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=from%20the%20cart.-,trackEcommerceOrder,-%28%20orderId%2C%20grandTotal%2C%20%5BsubTotal%29). The following event properties are mapped to the Matomo properties:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.order_id`/`properties.orderId` | `orderId` | Required |\n| `properties.total`/`properties.revenue` | `grandTotal` | Required |\n| `properties.subtotal` | `subtotal` | Optional |\n| `properties.tax` | `tax` | Optional |\n| `properties.shipping` | `shipping` | Optional |\n| `properties.discount` | `discount` | Optional |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `grandTotal` is not a default property in the `Order Completed` event and needs to be provided by the user. If not provided, RudderStack calculates it manually by iterating through the products array, as shown below:\n> \n> ```\n> grandTotal = products[0].price * products[0].quantity + …\n> grandTotal += tax + shipping;\n> ```\n> \n> Similarly, `subtotal` is calculated as the total value of all sales, excluding shipping and tax.\n\n#### Update Cart\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Although `Update Cart` is not a standard [RudderStack Ecommerce Event](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/), you can still send this event to update your cart and view the items that are currently present in it.\n\nRudderStack also maps the `Update Cart` event name to [`trackEcommerceCartUpdate`](https://developer.matomo.org/api-reference/tracking-javascript#ecommerce:~:text=trackEcommerceCartUpdate). The following event properties are mapped to the Matomo properties:\n\n| RudderStack property | Matomo property | Presence |\n| --- | --- | --- |\n| `properties.total/properties.revenue` | `grandTotal` | Required |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"home\",\"games\");\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack does not consider any parameters inside the `page` call and simply calls the `trackPageView` event for each `page` call.\n\n## Custom dimensions\n\nCustom dimensions can be used to track any information related to any action or visitors.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You can send the custom dimensions to Matomo only through the `track` calls.\n\nRudderStack provides `customDimension` field which can be used inside the `integrations` object, as shown below:\n\n```\n{\n  integrations: {\n    Matomo: {\n      customDimension: [{\n          dimensionId: <dimension_ID>,\n          dimensionValue: <dimension_value>\n        },\n        {\n          dimensionId: 1,\n          dimensionValue: ENTERPRISE\n        }\n      ]\n    }\n  }\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Matomo help guide](https://matomo.org/faq/reporting-tools/data-limits-for-custom-dimensions/) to know about the data limitations for custom dimensions in Matomo.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack does not support sending custom variables to Matomo. Matomo recommends using custom dimensions instead. For more information, refer to this [Matomo page](https://plugins.matomo.org/CustomVariables#description:~:text=This%20feature%20used%20to%20be%20part%20of%20Matomo.%20However%2C%20we%20no%20longer%20plan%20to%20further%20develop%20custom%20variables%20and%20only%20fix%20important%20bugs%20or%20security%20issues%20and%20we%20might%20stop%20supporting%20Custom%20Variables%20in%20the%20future).\n\n## FAQ\n\n#### Where can I find the Server URL and Site Id?\n\nTo find the Matomo Server URL and Site Id:\n\n1.  Log into your [Matomo dashboard](https://matomo.org/login).\n2.  Go to **Settings** > **Website** > **Tracking Code**.\n3.  Under **JavaScript Tracking Code** section, you will find the below:\n\n[![Matomo dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-dashboard.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/matomo-dashboard.webp)\n\nHere, the server URL: `https://rudderstacktest.matomo.cloud/` and site Id: `1`\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Matomo | RudderStack Docs",
  "description": "Send your event data from RudderStack to Matomo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/marketo/",
  "markdown": "# Marketo destination | RudderStack Docs\n\nSend your event data from RudderStack to Marketo.\n\n* * *\n\n*     6 minute read  \n    \n\n[Marketo](https://marketo.com/) is a leading marketing automation platform that lets you identify the right audiences through effective behavioral tracking and deliver automated, personalized marketing campaigns.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/marketo).\n\n## Setup\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before setting up the Marketo destination in RudderStack, you must create two fields in Marketo with the API names exactly as `userId` and `anonymousId`. RudderStack looks up the Marketo Lead objects using these properties.\n> \n> **Without these two fields, all events will fail**.\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Marketo**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Marketo as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Munchkin Account ID**: Enter your Munchkin account ID. You can find the Munchkin Account ID by logging into your Marketo instance and going to **Admin** > **Integration** > **Munchkin**. Your Munchkin ID is listed on the main screen in the **Tracking Code** section. For more information, see the [Marketo documentation](https://nation.marketo.com/t5/knowledgebase/how-to-find-your-munchkin-id-for-a-marketo-instance/ta-p/248432).\n*   **Client ID**: Enter your Marketo client ID.\n*   **Client Secret**: Enter your Marketo client secret.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can find the client ID and client secret by logging into your Marketo instance and going to **Admin** > **Integration** > **LaunchPoint**. Select the API service and click **View Details** to get the credentials. For more information, see the [FAQ](#how-do-i-obtain-the-marketo-client-id-and-secret) section below.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Marketo.\n\nRudderStack supports sending events to Marketo via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **\\-** | **\\-** | **\\-** |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Marketo:\n\n#### Custom Activity Settings\n\n*   **Track anonymous events**: Turn on this setting to track events that don’t contain a `userId`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you disable this setting, events that don’t contain the `userId` field will automatically fail.\n\n*   **Create lead if it does not exist**: RudderStack creates a new Marketo lead if the user is not present. This setting is turned on by default.\n\n#### OneTrust cookie consent settings\n\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Marketo.\n\n### Mappings\n\nThe following settings are associated with the [`track`](#track) events and require you to first [create a Custom Activity in Marketo](https://experienceleague.adobe.com/docs/marketo/using/product-docs/administration/marketo-custom-activities/create-a-custom-activity.html) before sending an event. You also need to approve the activity in order to get the **Custom Activity ID**.\n\n#### **Custom events**\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can also use the JSON mapper to set up these mappings.\n\n*   **Map events to Marketo Activity ID and Primary Key**: Use this setting to map the event name in `track` call to Marketo’s custom activity ID and the primary key associated with the custom activity. For example, you can map a **Product Clicked** event to a custom activity with primary field `product_id` and activity ID **100001**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The primary field for Marketo’s custom activity is marked with an asterisk (`*`).\n\n#### **Lead trait mapping**\n\n*   **Map your traits to Marketo custom fields**: RudderStack maps some of the user traits to the custom Marketo fields by default (listed in the [Supported mappings](#supported-mappings) section). You can use this setting to override the default mappings or map any other traits to the custom Marketo fields.\n\nFor custom Marketo fields, you can use the [list of standard Marketo fields](https://developers.marketo.com/rest-api/lead-database/fields/list-of-standard-fields/) (REST API Name column) or any other custom field names existing in your lead records.\n\n#### **Custom activity property map**\n\n*   **Map your event properties to Marketo custom activity’s field**: Use this setting to map your `track` event properties to the Marketo fields listed in your custom activity.\n\nFor example, you can map **Product Clicked** event’s `product_name` property to the Marketo’s `productName` field for the custom activity **Product Wishlisted**.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a Lead object in Marketo.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  first_name: \"Alex\",\n  last_name: \"Keener\",\n  email: \"alex@example.com\",\n})\n```\n\n### Supported mappings\n\nBy default, RudderStack maps the following `traits` to the Marketo fields:\n\n| RudderStack trait | Marketo field |\n| --- | --- |\n| `address.city` | `city` |\n| `company.name` | `company` |\n| `address.country` | `country` |\n| `email` | `email` |\n| `firstName` | `firstName` |\n| `company.industry` | `industry` |\n| `lastName` | `lastName` |\n| `leadSource` | `leadSource` |\n| `company.employee_count` | `numberOfEmployees` |\n| `phone` | `phone` |\n| `address.zip` | `postalCode` |\n| `rating` | `rating` |\n| `address.state` | `state` |\n| `address.street` | `address` |\n| `title` | `title` |\n| `birthday` | `dateOfBirth` |\n| `website` | `website` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For the rest of the fields that you want to sync with Marketo, you can create a mapping of your traits and custom Marketo fields in the RudderStack dashboard, as specified in the [Lead Mapping settings](#lead-mapping-settings) section.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events to register custom activities in Marketo.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   Make sure to first [create the custom activities in Marketo](https://experienceleague.adobe.com/docs/marketo/using/product-docs/administration/marketo-custom-activities/create-a-custom-activity.html) before sending the events. Also, approve the activity in Marketo to get the **Custom Activity ID**.\n> *   If you are using [RudderStack Open Source](https://app.rudderstack.com/signup?type=opensource), make sure to update your [transformer](https://github.com/rudderlabs/rudder-transformer) version to v1.51.1 or later to send your `track` events to Marketo correctly.\n\nA sample `track` call is as shown in the snippet below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"C324532\",\n  order_id: \"T1230\",\n  value: 15.98,\n  revenue: 16.98,\n  shipping: 3.0,\n  coupon: \"FY21\",\n  currency: \"INR\",\n})\n```\n\n## FAQ\n\n#### Why are my requests failing with the message “Lookup failed”?\n\nMake sure you have created two fields in Marketo with the names `userId` and `anonymousId`, so that RudderStack can look up the Marketo lead database for `leadId` with the `userId` that are passed along with the event.\n\n#### Why are my `track` events failing?\n\n*   Make sure you have created two fields in Marketo with the API names exactly as `userId` and `anonymousId`. RudderStack looks up the Marketo lead objects using these properties. Without these two fields, all events will fail.\n*   If you’re sending `track` events without `userId`, make sure you have turned on the `Track Anonymous events` setting in the RudderStack dashboard. If this setting is disabled, events that don’t contain the `userId` field will fail.\n\n#### How do I obtain the Marketo client ID and secret?\n\nTo set up the Marketo API service and obtain the client ID and secret associated with it, follow these steps:\n\n1.  Log into your Marketo instance and click the **Admin** tab.\n2.  Select **LaunchPoint**.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-launchpoint.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-launchpoint.webp)\n\n3.  Here, you will able to see all installed services used for connecting to Marketo.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)\n\n4.  To create a new service, click **New** > **New Service**.\n5.  Enter the **Display Name**. From the **Service** dropdown, select **Custom**.\n6.  Under **Settings**, enter the **Description** and select the **API Only User**, as shown. Finally, click **CREATE**.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure the **API Only User** associated with the API service has the necessary permissions to create or update contacts as wellas the custom activities.\n\nOnce the setup is complete, you should have the client ID and client secret for the API service. Use this to configure the Marketo destination in RudderStack.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-service-details.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-service-details.webp)\n\n  \n\n#### How do I create a custom activity in Marketo?\n\nFor a step-by-step guide on creating a custom activity in Marketo, refer to this [Marketo documentation](https://experienceleague.adobe.com/docs/marketo/using/product-docs/administration/marketo-custom-activities/create-a-custom-activity.html).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Marketo destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Marketo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ninetailed/device-mode/",
  "markdown": "# Ninetailed Device Mode Integration | RudderStack Docs\n\nSend events to Ninetailed using RudderStack device mode.\n\n* * *\n\n*     2 minute read  \n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack recommends sending events to Ninetailed in device mode over the cloud mode.\n\nAfter you have successfully instrumented Ninetailed as a destination in RudderStack, follow this guide to correctly send your events to Ninetailed in [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/main/packages/analytics-js-integrations/src/integrations/Ninetailed).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to send a [`identify`](https://docs.ninetailed.io/for-developers/experience-sdk/sending-events#identify) event to Ninetailed.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"12345\", {\n  firstname: \"Alex\",\n  city: \"New Orleans\",\n  country: \"USA\",\n  phone: \"8005550100\",\n  email: \"alex@example.com\"\n})\n```\n\n### Supported mappings\n\nRudderStack maps the following properties to the corresponding Ninetailed fields:\n\n| RudderStack property | Ninetailed property | Data type |\n| --- | --- | --- |\n| `userId` | `userId` | String |\n| `traits` | `traits` | Object |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) API to send a [`track`](https://docs.ninetailed.io/for-developers/experience-sdk/sending-events#track) event to Ninetailed.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"86ac1cd43\",\n  product_id: \"9578257311\",\n  rating: 3.0,\n  review_body: \"Good product.\"\n});\n```\n\n### Supported mappings\n\nRudderStack maps the following properties to the corresponding Ninetailed fields:\n\n| RudderStack property | Ninetailed property | Data type |\n| --- | --- | --- |\n| `event`  <br>Required | `event` | String |\n| `properties` | `properties` | Object |\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to send a [`page`](https://docs.ninetailed.io/for-developers/experience-sdk/sending-events#page) event to Ninetailed.\n\nA sample `page` call is shown below:\n\n### Supported mappings\n\nRudderStack maps the following properties to the corresponding Ninetailed fields:\n\n| RudderStack property | Ninetailed property | Data type |\n| --- | --- | --- |\n| `properties` | `properties` | Object |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Ninetailed Device Mode Integration | RudderStack Docs",
  "description": "Send events to Ninetailed using RudderStack device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ninetailed/cloud-mode/",
  "markdown": "# Ninetailed Cloud Mode Integration | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Ninetailed Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Ninetailed using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure OneSignal as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/olark/",
  "markdown": "# Olark destination | RudderStack Docs\n\nSend your event data from RudderStack to Olark.\n\n* * *\n\n*     3 minute read  \n    \n\n[Olark](https://www.olark.com/) is a cloud-based live chat platform to connect with your customers in an effective and timely manner. It provides various features like automated messages, team management, real-time reporting, searchable transcripts, and more.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production-staging/src/integrations/Olark).\n\n## Getting started\n\nRudderStack supports sending events to Olark via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Olark, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Olark**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Olark as a destination, you will need to configure the following settings:\n\n*   **Site ID**: Enter your Olark site ID. This is a required field - RudderStack uses it to initialize the Olark native web SDK.\n*   **Group ID**: Enter your Olark group ID. For more information on getting this ID, refer to the [FAQ](#faq) section below.\n*   **Record Live Chat Events**: Enable this setting to allow RudderStack to automatically record your Olark Live Chat events as `track` events.\n    *   **Update Event Name in track call**: Use this setting to update your `track` event name.\n        *   **Mapping to update the event name in track call**: Use this setting to map the standard Olark Live Chat events with your custom `track` event names.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Olark. For more information, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Olark.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to update the user information in Olark, like name, email address, phone number, and custom fields like customer ID.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n  age: 25\n})\n```\n\n### Supported mappings\n\nRudderStack maps the following **optional** user traits to the corresponding Olark properties:\n\n| RudderStack property | Mouseflow property | Data type |\n| --- | --- | --- |\n| `email` | `emailAddress` | String |\n| `traits` | custom fields | Object |\n| `name`  <br>`firstName` + `lastName` | `fullName` | String |\n| `phone` | `phoneNumber` | String |\n\n## Track\n\nIf you enable the **Record Live Chat Events** dashboard setting, RudderStack records the Olark Live Chat events based on the user’s interactions and sends them as [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events. You can then view and analyze these events using other tools (connected to the same source in RudderStack).\n\nYou can also set custom names for your `track` events and map them to the Olark standard events by enabling the **Update event name in track call** setting.\n\n[![Mapping track events to Olark standard Live Chat events](https://www.rudderstack.com/docs/images/event-stream-destinations/olark-track-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/olark-track-event-mapping.webp)\n\nRudderStack supports the following standard Live Chat events:\n\n*   Start Chat\n*   Chat Message Sent\n*   Chat Message Received\n\n## FAQ\n\n#### Where can I find the Olark group ID?\n\n1.  Log in to your Olark dashboard.\n2.  From the left sidebar, go to **Team** > **Groups** and click the relevant group for which you want the ID.\n3.  Click **Show embed code**. Your group ID will be listed here:\n\n[![Olark group ID](https://www.rudderstack.com/docs/images/event-stream-destinations/olark-group-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/olark-group-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Olark destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Olark.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ometria/",
  "markdown": "# Ometria | RudderStack Docs\n\nSend your event data from RudderStack to Ometria.\n\n* * *\n\n*     7 minute read  \n    \n\n[Ometria](https://ometria.com/) is a customer data and marketing platform. It leverages AI-powered insights and cross-channel marketing to help you create personalized experiences for your customers throughout their product journey.\n\nRudderStack supports Ometria as a destination to which you can seamlessly send your customer data.\n\n## Getting started\n\nBefore configuring Ometria as a destination in RudderStack, verify if the source platform is supported by Ometria by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud** **mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that your source platform supports sending events to Ometria, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **Ometria**.\n*   Assign a name to the destination and click **Next**. You should then see the following screen:\n\n[![Ometria](https://www.rudderstack.com/docs/images/Ometria.webp)](https://www.rudderstack.com/docs/images/Ometria.webp)\n\nOmetria\n\n### Connection Settings\n\nThis section details the connection settings required to configure Ometria as a destination in RudderStack.\n\n*   Enter your Ometria **API Token**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To get the Ometria API token, go to your your Ometria dashboard and navigate to **Settings** - **API Keys**. Then, click **New API Key**.\n\n*   Under **Contact Settings**, you can choose the **Marketing Optin** status from the dropdown list. By default, it is set to **Explicitly Opted Out**. The different options are:\n    *   **Explicitly Opted In**: The customer is eligible for marketing\n    *   **Explicitly Opted Out**: The customer is not eligible for marketing\n    *   **Not Specified**: No option is specified\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also pass this value in the `identify` call - refer to the **Identify** section below for more details. Note that the value set via the `identify` call will have a higher precedence.\n\n*   Under **SMS Channel Settings**, you can enable **Allow Marketing**. This setting determines whether the contact is opted in or out for SMS marketing. By default, it is **disabled**.\n*   **Allow Transactional**: Enabling or disabling this setting determines if the contact is opted in or out for transactional SMSes. By default, it is **disabled**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can additionally set the values for **Allow Marketing** and **Allow Transactional** via the `identify` call - refer to the **Identify** section below for more details. Note that the value set via the `identify` call will have a higher precedence.\n\n*   Finally, click **Next**. Ometria will now be enabled as a destination in RudderStack.\n\n## Identify\n\nThe `identify` call lets you add a new contact or update an already existing contact in Ometria.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that `listingId` and `email` fields are the mandatory fields for the `identify` call.\n\nYou can set the values for the **Marketing Optin**, **Allow Marketing**, and **Allow Transactional** fields from RudderStack dashboard. You can also send these values using an `integrations` object in the `identify` event payload, **which will have higher precedence**. The SMS channel fields `dt_updated_marketing` and `dt_updated_transactional` can also be passed using this object.\n\nThe `listingId` is the ID specific to a contact in a particular Ometria collection. Note that the `listingId` specified in the `integrations` object will have a higher precedence than the one present in the traits.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\n  \"userId\",\n  {\n    listingId: \"listingId123\",\n    email: \"sampleuser@testmail.com\",\n    firstName: \"Demo\",\n    lastName: \"Example\",\n    phoneNumber: \"+123451212260\",\n    custom_fields: {\n      field1: \"val1\",\n    }\n  },\n  {\n    integrations: {\n      Ometria: {\n        marketingOptin: \"EXPLICITLY_OPTEDIN\",\n        allow_marketing: true,\n        allow_transactional: true,\n      }\n    }\n  }\n);\n```\n\nA few things to keep in mind while making the `identify` call:\n\n*   The `phoneNumber` field must follow the [E.164](https://en.wikipedia.org/wiki/E.164) format. Otherwise, it will be set to `null`.\n*   The `custom_fields` are mapped to the `properties` and will be the used in the `track` call too.\n*   If `custom_fields` is not provided, then RudderStack will create that object with extra fields. Note that these fields must be different from the ones mentioned in the mapping list mentioned in the **Identify Mapping** section below, i.e, the non-default fields.\n*   Inside the `integrations` object, you can additionally send two timestamps - `dt_updated_marketing` and `dt_updated_transactional`. These timestamps must follow the [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format.\n\n### Identify Mapping\n\nThe following table includes all `identify` fields with their relative mapping to the Ometria fields:\n\n| **RudderStack Field** | **Ometria Field** |\n| --- | --- |\n| `userId` / `anonymousId` | `customer_id` |\n| `email` | `email` |\n| `listingId` | `id` |\n| `firstName`/`first_name`/`firstname` | `firstname` |\n| `middleName`/ `middle_name` / `middlename` | `middlename` |\n| `lastName`/`last_name`/`lastname` | `lastname` |\n| `phoneNumber` | `phone_number` |\n| `collection` | `@collection` |\n| `prefix` | `prefix` |\n| `dateOfBirth` | `date_of_birth` |\n| `countryId` | `country_id` |\n| `timezone` | `timezone` |\n| `timestampAcquired` | `timestamp_acquired` |\n| `timestampSubscribed` | `timestamp_subscribed` |\n| `timestampUnsubscribed` | `timestamp_unsubscribed` |\n| `storeIds` | `store_ids` |\n| `gender` | `gender` |\n| `removeFromLists` | `@remove_from_lists` |\n| `addToLists` | `@add_to_lists` |\n| `custom_fields` | `properties` |\n| `forceOptin` | `@force_optin` |\n| `merge` | `@merge` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In addition to the above fields, the customer name can also be sent using the `name` field. If the name consists of two words, then `firstname` and `lastname` will be automatically set.\n\n## Track\n\nThe `track` call lets you send custom events to Ometria. Note that `track` also supports ecommerce events and sends them using the **Ometria Order Object**.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that `userId` and `email` are the mandatory fields for the `track` call. `event_id` is required for custom events. If not provided, RudderStack will populate the field with `messageId`.\n\nA sample `track` call for a custom event is as shown:\n\n```\nrudderanalytics.track(\"Sample Event\", {\n  event_id: \"sample123\",\n  timestamp: \"2017-05-01T14:00:00Z\",\n  profile_id: \"sample\",\n  custom_fields: {\n    field1: \"val1\",\n  },\n});\n```\n\nA few things to note:\n\n*   The event name must be provided in the `track` call.\n*   The `custom_fields` property is mapped to the `properties` object in Ometria. If it is not provided, the non-default Ometria fields will be taken as custom fields.\n*   The `timestamp` field follows the [ISO-8601](https://en.wikipedia.org/wiki/ISO_8601) format. If it is not specified in the correct format, the call will be dropped - i.e., not be sent to Ometria.\n\n### Ometria Custom Event\n\nThe following table includes all RudderStack fields set as custom events in the `track` call, with their relative mapping to the Ometria fields:\n\n| **RudderStack Field** | **Ometria Field** |\n| --- | --- |\n| `event_id` | `id` |\n| `timestamp` | `timestamp` |\n| `custom_fields` | `properties` |\n| `profile_id` | `profile_id` |\n| `email` | `identity_email` |\n| `userId / anonymousId` | `identity_account_id` |\n\n### Ecommerce Events\n\nThe `track` call also lets you record order-related information like `order_id`, `grandtotal`, `timestamp`, `currency`, etc.\n\nRudderStack will create a `customer` object with `userId`, `email`, `firstname` and `lastname` from `context.traits`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that `order_id`, `timestamp`, `grand_total` and `currency` are the mandatory fields for the `orders` event, while `userId` and `email` are required for `customer` object. You can pass `email` either via the `identify` call or the `track` call’s properties.\n\nThe supported `order` ecommerce events are as listed below:\n\n*   `order completed` / `complete`/ `order complete`\n*   `order shipped` / `shipped`\n*   `order pending` / `pending`\n\nA sample `track` call for an ecommerce order event is as shown:\n\n```\nrudderanalytics.track(\"order completed\", {\n  order_id: \"order1\",\n  timestamp: \"2017-05-01T14:00:00Z\",\n  currency: \"usd\",\n  grand_total: 1,\n  field1: \"val1\",\n  products: [\n    {\n      product_id: \"prod123\",\n      quantity: 4,\n      subtotal: 10,\n      variant_options:[\n        {\n          type: \"size\",\n          id: \"newid\",\n          label: \"5\"\n        }\n      ]\n    }\n  ]\n});\n```\n\nA few things to note:\n\n*   Ometria requires the `currency` field to follow the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) format. If it is invalid, the event will be **dropped**.\n*   If `custom_fields` is not provided, the non-default fields are taken as custom fields. In the above example, `field1` will be mapped as a `custom_fields`.\n*   The `products` field is **not mandatory**. However, if provided, each object should contain `product_id`, `quantity`, and either `subtotal` or `unit_price`. If either of these fields are absent, then that object will be dropped and the `track` call will be made.\n*   RudderStack will set the `status` field according to the event name. For instance, if event name is `order pending` status will be set to `pending`.\n*   The field `is_valid` is always set to `true`. For more information on how to use this field, refer to this [example](https://docs.ometria.com/recipes/how-to-process-a-full-refund).\n\n### Track Orders Mapping\n\nThe following table includes all fields in `track` call for ecommerce orders, with their relative mapping to the Ometria fields:\n\n| **RudderStack Field** | **Ometria Field** |\n| --- | --- |\n| `order_id` | `id` |\n| `timestamp` | `timestamp` |\n| `grand_total` | `grand_total` |\n| `subtotal` | `subtotal` |\n| `discount` | `discount` |\n| `shipping` | `shipping` |\n| `tax` | `tax` |\n| `currency` | `currency` |\n| `web_id` | `web_id` |\n| `ip_address` | `ip_address` |\n| `channel` | `channel` |\n| `store` | `store` |\n| `payment_method` | `payment_method` |\n| `shipping_method` | `shipping_method` |\n| `shipping_address` | `shipping_address` |\n| `billing_address` | `billing_address` |\n| `coupon_code` | `coupon_code` |\n| `custom_fields` | `properties` |\n| **`products`** | `lineitems` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `shipping_address` and `billing_address` should be an object.\n\nNote that **`products`** is an array of objects. Every object in this array can contain the following fields:\n\n| **RudderStack Field** | **Ometria Field** |\n| --- | --- |\n| `product_id` | `product_id` |\n| `variant_id` | `variant_id` |\n| `quantity` | `quantity` |\n| `sku` | `sku` |\n| `unit_price` | `unit_price` |\n| `quantity_refunded` | `quantity_refunded` |\n| `refunded` | `refunded` |\n| `subtotal` | `subtotal` |\n| `tax` | `tax` |\n| `total` | `total` |\n| `discount` | `discount` |\n| `is_on_sale` | `is_on_sale` |\n| `totals` | `totals` |\n| `properties` | `properties` |\n| **`variant_options`** | **`variant_options`** |\n\nNote that **`variant_options`** listed above is an array of objects. It is not a mandatory field. However, if provided, each object in this array **must** contain the following fields:\n\n| **RudderStack Field** | **Ometria Field** |\n| --- | --- |\n| `id` | `id` |\n| `type` | `type` |\n| `label` | `label` |\n\n## FAQ\n\n#### How do I get the Ometria API Key?\n\nTo get the Ometria API token, go to your your Ometria dashboard and navigate to **Settings** - **API Keys**. Then, click **New API Key**.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Ometria | RudderStack Docs",
  "description": "Send your event data from RudderStack to Ometria.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/",
  "markdown": "# OneSignal Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "OneSignal Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to OneSignal.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/",
  "markdown": "# Optimizely Feature Experimentation | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Optimizely Feature Experimentation | RudderStack Docs",
  "description": "Send your event data from RudderStack to Optimizely Feature Experimentation.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/user-model/",
  "markdown": "# Send Events to OneSignal (User Model)\n\nSend events to OneSignal via the User Model API.\n\n* * *\n\n*     3 minute read  \n    \n\nAfter you have successfully instrumented OneSignal as a destination in RudderStack, follow this guide to correctly send your events to OneSignal via their [User Model REST API](https://documentation.onesignal.com/reference/rest-api-overview).\n\nFind the open source transformer code for this integration in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/blob/develop/src/v0/destinations/one_signal/transformV2.js).\n\n## Identify\n\nYou can make an [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to [add a new user](https://documentation.onesignal.com/docs/users) to your OneSignal App. If a user is already present with the specified identifier, then RudderStack updates the user properties instead.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n      firstName: 'Alex',\n      lastName: 'Keener',\n      email: \"alex@example.com\"\n    }, {\n      integrations: {\n        one_signal: {\n          aliases: {\n            custom_alias: 'custom_identifier'\n          },\n\n        }\n      }\n    });\n```\n\nYou can send subscription-level details to OneSignal by passing them in the `properties.subscriptions` object, as shown:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n  firstName: 'Alex',\n  lastName: 'Keener',\n  email: \"alex@example.com\"\n  subscriptions: {\n    email: { // for email as device_type\n      \"enabled\": true,\n      \"notification_types\": 23,\n      \"session_time\": 20,\n      \"session_count\": 2,\n      \"app_version\": \"1.6.7\",\n      \"test_type\": 1\n    },\n    phone: { // for phone as device_type\n      \"enabled\": true,\n      \"notification_types\": 23,\n      \"session_time\": 20,\n      \"session_count\": 2,\n      \"app_version\": \"1.6.7\",\n      \"test_type\": 1\n    },\n    iOSPush: { // for device_type fetched from integrations object\n      \"enabled\": true,\n      \"notification_types\": 23,\n      \"session_time\": 20,\n      \"session_count\": 2,\n      \"app_version\": \"1.6.7\",\n      \"test_type\": 1\n    }\n  }\n});\n```\n\nFor email and SMS, enable the **Toggle on to add a device using email** and **Toggle on to add a device using phone number** settings in the RudderStack dashboard and send the relevant data (`email` or `phone`) in the event payload.\n\n### Property mapping\n\nRudderStack maps the following **optional** properties to the corresponding OneSignal fields:\n\n| RudderStack property | OneSignal property |\n| --- | --- |\n| `context.os.version` | `subscriptions.$.device_os` |\n| `context. timezone` | `properties.timezone_id` |\n| `context.locale` | `properties.language` |\n| `traits.address.country` | `properties.country` |\n| `traits.createdAt`  <br>`context.traits.createdAt`  <br>`timestamp`  <br>`originalTimestamp` | `created_at` |\n| `traits.createdAt`  <br>`context.traits.createdAt`  <br>`timestamp`  <br>`originalTimestamp` | `properties.last_active` |\n| `traits.first_active`  <br>`context.traits.first_active` | `properties.first_active` |\n| `userId` | `identity.external_id` |\n\nNote the following:\n\n*   RudderStack maps all the `string` key-value pairs from `traits` inside the `tags` object as it is.\n    \n*   For mobile channels:\n    \n    *   RudderStack maps `context.device.type` to `subscription.$.type`.\n    *   It also maps `context.device.token` or `context.device.id` to OneSignal’s `subscriptions.$.token` field.\n*   For web channels:\n    \n    *   RudderStack maps `<browser_name>_Push` (depending on the browser) to `subscription.$.type`.\n    *   Also, it maps the event’s `anonymousId` to OneSignal’s `subscription.$.token`. However, you can override this mapping by passing the `deviceType` field or in the `integrations` object. See the [OneSignal documentation](https://documentation.onesignal.com/reference/create-subscription#:~:text=Application%20ID%20%28UUID%29-,type,-string) for more information on the supported device types.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to [update an existing user’s tags](https://documentation.onesignal.com/reference/update-user) in your OneSignal app using the external user ID.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must associate the external user ID with a single user only.\n\nWhile updating a tag, you can delete any key inside a tag by providing the key value as an empty string.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track('Add to cart', {\n  purchased_item: \"Shirt\",\n  brand: \"Zara\"\n}, {\n  integrations: {\n    one_signal: {\n      aliases: {\n        custom_alias: 'custom_alias_identifier'\n      },\n    }\n  }\n});\n```\n\n### Property mapping\n\nRudderStack maps the following properties to the corresponding OneSignal properties:\n\n| RudderStack property | OneSignal property |\n| --- | --- |\n| `userId`  <br>`one_signal.aliases`  <br>Any one of the above is required | `external_id` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack maps all properties added in the **Allowed Property List** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/setup-guide/#connection-settings) to the `tags` object if they are present in the payload. However, note that the key-value pair should be of the String data type only.\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to group the devices with the device tags having the same `groupId`.\n\nA sample `group` call is as shown:\n\n```\nrudderanalytics.group('1hKOmRA4GRlm', {\n  name: \"Apple Inc.\",\n  location: \"USA\",\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   `groupId` is a required field to send `group` events to OneSignal.\n> *   RudderStack maps all properties added in the **Allowed Property List** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/setup-guide/#connection-settings) to the `tags` object if they are present in the payload. However, note that the key-value pair should be of the String data type only.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Send Events to OneSignal (User Model) | RudderStack Docs",
  "description": "Send events to OneSignal via the User Model API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/device-model/",
  "markdown": "# Send Events to OneSignal (Device Model)\n\nSend events to OneSignal via the Device Model API.\n\n* * *\n\n*     3 minute read  \n    \n\nAfter you have successfully instrumented OneSignal as a destination in RudderStack, follow this guide to correctly send your events to OneSignal via their Device Model.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/one_signal).\n\n## Identify\n\nYou can make an [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to [add a new device](https://documentation.onesignal.com/reference/add-a-device) to your OneSignal App. If a device is already registered with the specified identifier, then RudderStack updates the device records.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify('1hKOmRA4eGRlm', {\n  firstName: 'Alex',\n  lastName: 'Keener',\n  email: \"alex@example.com\"\n}, {\n  externalId: [{\n    type: \"playerId\",\n    id: \"Df344sdFgdDsS4\"\n  }],\n  integrations: {\n    oneSignal: {\n      deviceType: \"6\",\n      identifier: \"9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d\"\n    }\n  }\n});\n```\n\nIn the above snippet, the `playerId` is the unique ID for a device. If `playerId` is provided in `externalId`, RudderStack updates the device having `playerId`. Note that for correct mapping, you must include `externalId` in your event in the exact format as shown above.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack adds the `anonymousId` as a tag with the key as `anonymousId` along with the corresponding value.\n\nRudderStack maps the following browser and mobile device types by default:\n\n```\ndeviceTypeMapping = {\n    android: 1,\n    ios: 0,\n    chrome: 5,\n    safari: 7,\n    firefox: 8\n}\n```\n\nYou can override the above device type mappings or set any other device type by providing the `deviceType` and `identifier` in the `integrations` object:\n\n```\n\"integrations\": {\n  \"one_signal\": {\n    \"deviceType\": \"Sample device\",\n    \"identifier\": \"9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d\"\n  }\n}\n```\n\nFor email and SMS, you can enable the **Toggle on to add a device using email** and **Toggle on to add a device using phone number** dashboard settings and send the relevant data (`email` or `phone`) in your events.\n\n### Property mapping\n\nRudderStack maps the following **optional** properties to the corresponding OneSignal fields:\n\n| RudderStack property | OneSignal property |\n| --- | --- |\n| `context.device.model` | `device_model` |\n| `context.os.version` | `device_os` |\n| `context.timezone` | `timezone` |\n| `userId` | `external_user_id` |\n| `context.locale` | `language` |\n| `traits.createdAt`  <br>`context.traits.createdAt`  <br>`timestamp`  <br>`originalTimestamp` | `created_at`  <br>`last_active` |\n| `traits.country`  <br>`context.traits.country`  <br>`traits.address.country`  <br>`context.traits.address.country` | `country` |\n| `integrations.one_signal.deviceType` | `device_type` |\n| `integrations.one_signal.identifier` | `identifier` |\n\nNote the following:\n\n*   RudderStack maps all the `string` key-value pairs from `traits` in the `tags` object as is.\n    \n*   For browsers:\n    \n    *   RudderStack checks the browser name in `deviceTypeMapping` and maps it to OneSignal’s `device_type` property.\n    *   It also sets the `anonymousId` as the `identifier` depending on the browser name.\n*   For iOS and Android:\n    \n    *   RudderStack collects the `context.device.type` field and maps it to OneSignal’s `device_type` property.\n    *   It also sets the `context.device.token`/`context.device.id` as the `identifier`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack recommends sending the `device.token` property for push notifications.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to update an existing device’s tags in your OneSignal apps using the `external_user_id` parameter. All devices containing the particular `external_user_id` are updated simultaneously.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To update the device tags using `external_user_id`, you must first identify the device using the [`identify`](#identify) call.\n\nWhile updating a device tag, you can delete any key inside a tag by providing the key value as an empty string.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track('Add to cart', {\n    purchased_item: \"Shirt\",\n    brand: \"Adidas\"\n});\n```\n\n### Property mapping\n\nRudderStack maps the following properties to the corresponding OneSignal properties:\n\n| RudderStack property | OneSignal property |\n| --- | --- |\n| `userId`  <br>Required | `external_user_id` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack maps all properties added in the **Allowed Property List** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/setup-guide/#connection-settings) to the `tags` object if they are present in the payload. However, note that the key-value pair should be of the String data type only.\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to group the devices with the device tags having the same `groupId`.\n\nA sample `group` call is as shown:\n\n```\nrudderanalytics.group('1hKOmRA4GRlm', {\n  name: \"Apple Inc.\",\n  location: \"USA\",\n});\n```\n\n### Property mapping\n\nThe following table details the mappings between RudderStack and OneSignal properties:\n\n| RudderStack property | OneSignal property | Presence |\n| --- | --- | --- |\n| `groupId` | `groupId` | Required |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack maps all properties added in the **Allowed Property List** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/onesignal/setup-guide/#connection-settings) to the `tags` object if they are present in the payload. However, note that the key-value pair should be of the String data type only.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Send Events to OneSignal (Device Model) | RudderStack Docs",
  "description": "Send events to OneSignal via the Device Model API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/cloud-mode/",
  "markdown": "# Optimizely Feature Experimentation Cloud Mode\n\nSend events to Optimizely Feature Experimentation using RudderStack’s cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your web experimentation data to Optimizely Feature Experimentation via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to send decision events to Optimizely using their [Event API](https://docs.developers.optimizely.com/experimentation-data/reference/post_events) and activating the user for an experiment variation.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   You must call `identify` before the `track`/`page`/`screen` calls.\n> *   Make sure to pass the same `userId` that you are passing in the `identify` call to all other calls (`track`/ `page`/`screen`).\n\nA sample `identify` call sent to Optimizely:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n});\n```\n\nTo send `campaignId`, `experimentId`, and `variationId` in your `identify` events, use the `integrations` object in your calls:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  integrations: {\n    optimizely_fullstack: {\n      campaignId: \"<campaign_id>\";\n      experimentId: \"<experiment_id>\";\n      variationId: \"<variation_id>\";\n    }\n  }\n});\n```\n\n#### Supported mappings\n\nRudderStack maps the following event properties to the corresponding Optimizely properties:\n\n| RudderStack property | Optimizely property | Note |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `visitor_id` | Determined based on the **Track known users** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#destination-settings). |\n| `session_id`  <br>`context.sessionId` | `session_id` | \\-  |\n\nYou can also map the RudderStack user traits to specific Optimizely attributes. See [Attribute mappings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#attribute-mappings) for more information.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to send the experiment-related information to Optimizely. RudderStack then sends the event name associated with an active experiment to Optimizely using their [Event API](https://docs.developers.optimizely.com/experimentation-data/reference/post_events).\n\nTo map your `track` event to specific Optimizely events, use the **RudderStack to Optimizely event mappings** dashboard setting. See [Track settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#track-settings) for more information.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\n  \"Product Added\", {\n    item: \"Tshirt\",\n    currency: \"USD\"\n  })\n```\n\n### Supported mappings\n\nRudderStack maps the following event properties to the corresponding Optimizely properties:\n\n| RudderStack property | Optimizely property | Note |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `visitor_id` | Determined based on the **Track known users** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#destination-settings). |\n| `session_id`  <br>`context.sessionId` | `session_id` | \\-  |\n| `properties.quantity` | `quantity` | \\-  |\n| `properties.revenue` | `revenue` | RudderStack converts the value of `revenue` to cents before passing it to Optimizely. For example, $5 will be converted to 500 cents. |\n| `properties` | `tags` | Other properties except `quantity` and `revenue`. |\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to record your website’s page views with any additional relevant information about the viewed page.\n\nRudderStack sends a `page` call to Optimizely using their [Event API](https://docs.developers.optimizely.com/experimentation-data/reference/post_events) with a valid event name associated with an active experiment.\n\nA sample `page` call is shown:\n\n```\nrudderanalytics.page(\"Home\");\n```\n\n#### Send page name and category\n\nTo send the page category/name details to Optimizely:\n\n1.  Enable **Track Categorized Pages**, **Track Named Pages**, or both, in your [dashboard settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#page-settings).\n2.  Map your `page` event to a specific Optimizely event using the **RudderStack Page Name/Category to Optimizely event mappings** setting.\n\nSee [Page settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#page-settings) for more information.\n\n#### Supported mappings\n\n| RudderStack property | Optimizely property | Note |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `visitor_id` | Determined based on the **Track known users** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#destination-settings). |\n| `session_id`  <br>`context.sessionId` | `session_id` | \\-  |\n| `properties` | `tags` | \\-  |\n\n## Screen\n\nYou can use the [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call to record your users’ mobile screen views with any additional relevant information about the screen.\n\nRudderStack sends a `screen` call to Optimizely using their [Event API](https://docs.developers.optimizely.com/experimentation-data/reference/post_events) with a valid event name associated with an active experiment.\n\nA sample `screen` call is shown:\n\n```\nrudderanalytics.screen(\"Main\");\n```\n\n#### Send screen name and category\n\nTo send the screen category/name details to Optimizely:\n\n1.  Enable **Track Categorized Pages**, **Track Named Pages**, or both, in your [dashboard settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#page-settings).\n2.  Map your `screen` event to a specific Optimizely event using the **RudderStack Page Name/Category to Optimizely event mappings** setting.\n\nSee [Page settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#page-settings) for more information.\n\n#### Supported mappings\n\n| RudderStack property | Optimizely property | Note |\n| --- | --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `visitor_id` | Determined based on the **Track known users** [dashboard setting](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/#destination-settings). |\n| `session_id`  <br>`context.sessionId` | `session_id` | \\-  |\n| `properties` | `tags` | \\-  |\n\n## View experimentation results\n\nTo view the experimentation-related metrics, go to the [Results page](https://support.optimizely.com/hc/en-us/articles/4410284017421-The-Experiment-Results-page) page of your Optimizely dashboard. You can also view the results as a [data export](https://docs.developers.optimizely.com/web-experimentation/docs/data-export).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Optimizely Feature Experimentation Cloud Mode | RudderStack Docs",
  "description": "Send events to Optimizely Feature Experimentation using RudderStack's cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-web-experimentation/",
  "markdown": "# Optimizely Web Experimentation | RudderStack Docs\n\nSend your event data from RudderStack to Optimizely Web.\n\n* * *\n\n*     5 minute read  \n    \n\n[Optimizely Web Experimentation](https://www.optimizely.com/platform/experimentation/) (formerly Optimizely Web) lets you you test and experiment new features on your website. It is typically used by marketing teams and product managers to learn more about the customers’ product journey, and test new features to boost conversion rates and overall customer engagement.\n\n## Getting started\n\nRudderStack supports sending event data to Optimizely Web via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | **\\-** | **\\-** |\n| **Cloud mode** | **\\-** | **\\-** | **\\-** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Based on your website’s content security policy, you might need to [allowlist the domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) from where you are loading the Optimizely Web SDK.\n\nOnce you have confirmed that the source platform supports sending events to Optimizely Web Experimentation, follow these steps:\n\n1.  Define [custom events in the Optimizely Dashboard](https://help.optimizely.com/Build_Campaigns_and_Experiments/Custom_events_in_Optimizely_X) and add those events as metrics in the corresponding experiments.\n2.  Add the Optimizely Web Experimentation snippet to your web page immediately after the opening `<head>` tag. Then, include the RudderStack JavaScript snippet.\n3.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Optimizely Web**.\n4.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Optimizely Web Experimentation as a destination, you will need to configure the following settings:\n\n*   **Send experiment data to other tools:** By enabling this setting, you can send your experiment or campaign data to other destinations connected to the same source.\n    *   **As a track call**: When this setting is enabled, an `Experiment Viewed` `track` event will be sent to RudderStack along with other configured destinations for each active experiments per page load. The `properties` of this event will be Optimizely’s experiment metadata.\n    *   **As identify call:** When this setting is enabled, an `identify` call will be sent to RudderStack and other configured destinations, with the traits as `experiment name` and `variation name` .\n*   **Send experiment viewed event as non-interaction event**: In case you want to send the `Experiment Viewed` track event to Google Analytics, enable this setting. The `track`event will then be sent to Google Analytics as a non-interaction event, i.e. an additional property `nonInteraction` with value `1` will be appended to the properties of that event.\n*   **Revenue on Order Completed event:** Enabling this setting will send `revenue` as a property of the `track`only for the events with event name `Order Completed`.\n*   **Track categorized pages:** Enabling this setting will send `page` calls to Optimizely Web having `category` as `track` events.\n*   **Track named pages:** Enabling this will send `page` calls having `name` as `track` events to Optimizely Web.\n*   **Custom campaign properties:** In this section, provide the mapping of the campaign metadata to the RudderStack `track` event properties for the `Experiment Viewed` event. Please note that the `event property` should be the `track` event property and the `campaign property` should be the corresponding metadata of the campaign.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Optimizely Web Experimentation. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Optimizely.\n\n## Page\n\nIf you have enabled the **Track Categorized Pages** or **Track Named Pages** dashboarding setting, then RudderStack sends a `page` call having a name or category as a `track` event with the event name as `Viewed ${category} page` or `Viewed ${name} page` to Optimizely.\n\nA sample `page` call is shown below:\n\n```\n// \"home\" is the name of the page.\nrudderanalytics.page(\"home\");\n```\n\n## Track\n\nRudderStack sends a `track` call to Optimizely with a valid event name associated with an active experiment.\n\nIf you have enabled the **Revenue on Order Completed event** dashboard setting, then RudderStack sends the `revenue` property only for the `Order Completed` event and not for any other event.\n\nRudderStack converts the value of `revenue` to cents before passing it to Optimizely. Thus, $5 will be converted to 500 cents.\n\nIf **Revenue on Order Completed event** is disabled in the dashboard, then the property is passed as is, without any conversion.\n\nA sample `track` call is as shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  revenue: 30,\n  value: 30.0,\n})\n```\n\n## Sending experiment data\n\nIf the **Send experiment data as track call** dashboard setting is enabled while configuring the destination, RudderStack automatically records and sends a web experiment as a `track` event with `Experiment Viewed` as the event name and the experiment metadata as the event properties.\n\nYou can then send this `track` event to the other destinations (connected to the same source in RudderStack) to analyze the experimentation results.\n\nThis `track` event call consists of the following properties:\n\n*   `campaignName`\n*   `campaignId`\n*   `experimentId`\n*   `experimentName`\n*   `variationName`\n*   `variationId`\n*   `audienceId`\n*   `audienceName`\n*   `nonInteraction`\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you provide the **custom campaign properties** in the destination settings, then the campaign metadata key will be overridden by the corresponding event properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Experiment Viewed\", {\n  campaignName: \"test campaign\",\n  campaignId: \"1234567890\",\n  experimentId: \"0123456789\",\n  experimentName: \"test experiment\",\n  variationId: \"1122334455\",\n  variationName: \"test variation\",\n  audienceId: \"1212121212\",\n  audienceName: \"sample audience\",\n  nonInteraction: 1,\n})\n```\n\nIf the **Send experiment data as identify call** dashboard setting is enabled, RudderStack sends an `identify` event with the following traits for each active experiment:\n\n*   `experimentName`\n*   `variationName`\n\nYou can then send this `identify` event to the other destinations (connected to the same source in RudderStack) to analyze the experimentation results.\n\nNote that:\n\n*   In case multiple experiments are active, then multiple `identify` events are triggered.\n*   RudderStack persists the `identify` traits for the subsequent `identify` calls, that is, the `identify` calls contain the previous `identify` traits as well.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify({\n    `Experiment: ${experimentName}` : variationName\n});\n```\n\n## FAQ\n\n#### Do I need to add Optimizely Web’s JavaScript snippet to my website?\n\nYes. You need to add the Optimizely Web snippet immediately after the opening `<head>` tag of your web page. Then, include the JavaScript snippet of RudderStack.\n\n#### Why I am not able to see the events in my experiments?\n\nDefine the `custom events` in Optimizely Web’s dashboard and add those events as `metrics` in corresponding Optimizely ’s `experiment`.\n\nWhile defining the custom event, you need to provide an `API Name` and while using RudderStack’s `track` API, use this `API name` as the `event name`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Optimizely Web Experimentation | RudderStack Docs",
  "description": "Send your event data from RudderStack to Optimizely Web.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/setup-guide/",
  "markdown": "# Set up Optimizely Feature Experimentation\n\nSet up Optimizely Feature Experimentation as a destination in RudderStack.\n\n* * *\n\n*     4 minute read  \n    \n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Optimizely Fullstack**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Optimizely Feature Experimentation as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Datafile URL**: Enter the datafile URL of your environment by going to **Settings** > **Environments** in your [Optimizely dashboard](https://app.optimizely.com/signin).\n*   **Account ID**: Enter your Optimizely account ID by going to **Account Settings** > **Plan**.\n*   **Campaign ID**: Enter your Optimizely campaign ID by going to **Experiments** > **API Names** > **Experiment Details**.\n*   **Experiment ID**: Enter the Optimizely experiment ID by going to **Experiments** > **API Names** > **Experiment Details**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining the Optimizely Account ID, Campaign ID, and Experiment ID, see [Optimizely documentation](https://docs.developers.optimizely.com/web-experimentation/docs/locate-ids-used-for-apis#account-id).\n\n### Connection mode\n\nSpecify how you want to route events from your source to Optimizely.\n\nRudderStack supports sending event data to Optimizely Feature Experimentation via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device Mode** | \\-  | **Supported** | \\-  |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Optimizely:\n\n#### **Page settings**\n\nThe following settings are applicable **only** for [cloud mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/cloud-mode/). They let you specify how you want to send your `page` calls to Optimizely:\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> These settings are also applicable for the `screen` events.\n\n*   **Track Categorized Pages**: To track categorized pages, turn on this setting and use the [RudderStack Page Name/Category to Optimizely event mappings](#event-mapping) setting to map your `page`/`screen` `category` to the specific Optimizely event name.\n*   **Track Named Pages**: To track named pages, turn on this setting and use the [RudderStack Page Name/Category to Optimizely event mappings](#event-mapping) setting to map your `page`/`screen` `name` to the specific Optimizely event name.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure to create the events first in your Optimizely dashboard. For more information on creating events, see [Optimizely documentation](https://docs.developers.optimizely.com/feature-experimentation/docs/create-events).\n\n#### **Destination settings**\n\n*   **Track Known Users**: By default, this setting is enabled. RudderStack tracks only the known users and maps `userId` to Optimizely’s visitor ID. When disabled, RudderStack maps `anonymousId` to the Optimizely visitor ID.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Optimizely does not alias known and unknown users.\n\n*   **Anonymize IP**: If enabled, Optimizely stores the user’s truncated IP.\n*   **Enrich Decisions**: Enable this setting to allow Optimizely to perform enhanced data collection and analysis using their **Enriched Events Export** functionality. For more information on this feature, see [Optimizely documentation](https://docs.developers.optimizely.com/experimentation-data/docs/enriched-events-export).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The Enrich Events Export feature is available only in the paid Optimizely plan.\n\n*   **Project ID**: Enter your Optimizely project ID. You can find this ID by going to **Experiments** > **API Names** > **Experiment Details**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Sending your Project ID to Optimizely is highly recommended.\n\nThe following settings are applicable only if you’re sending events via [device mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/device-mode/):\n\n*   **Send the experiment and variation information**: RudderStack sends the experiment-related data to the other destinations as `track` calls by triggering the `Experiment Viewed` event every time an Optimizely live variable is accessed. This setting is enabled by default.\n*   **Non-Interaction Event**: RudderStack sends an `Experiment Viewed` event as a non-interaction event to Google Analytics. This setting is enabled by default.\n\n#### **Other settings**\n\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups with Optimizely.\n*   **Client-side Events Filtering**: This setting is applicable only if you’re sending events via [device mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/device-mode/). It lets you specify which events should be blocked or allowed to flow through to Optimizely. See [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) for more information on this feature.\n\n#### **Event mapping**\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack sends the event name to Optimizely if you do not configure the event mapping in the dashboard settings.\n\n*   **RudderStack to Optimizely event and attribute mappings**: Click **Set up mapping** to map your RudderStack events to specific Optimizely events. RudderStack also provides the JSON mapper to set these mappings.\n\n[![Optimizely Feature Experimentation event mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-event-mapping.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure to create the events in Optimizely first before setting the mappings.\n\nTo map your RudderStack user traits to specific Optimizely attributes, go to the **Custom attributes** tab. You can also use the JSON mapper to set these mappings.\n\n[![Optimizely Feature Experimentation attribute mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-attribute-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-attribute-mapping.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure to create the attributes in Optimizely first by going to **Audiences** > **Attributes** section.\n> \n> For more information on defining attributes in Optimizely, see [Optimizely documentation](https://docs.developers.optimizely.com/full-stack-experimentation/docs/define-attributes).\n\n*   **RudderStack Page Name/Category to Optimizely event mappings**: This setting is visible only if you turn on any of the following [Page settings](#page-settings):\n    \n    *   **Track Categorized Pages**\n    *   **Track Named Pages**\n\nClick **Set up mapping** to map your RudderStack page name or category to specific Optimizely events.\n\n[![Optimizely Feature Experimentation page name and category mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-page-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/optimizely-fullstack-page-mapping.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Optimizely Feature Experimentation | RudderStack Docs",
  "description": "Set up Optimizely Feature Experimentation as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pagerduty/",
  "markdown": "# PagerDuty destination | RudderStack Docs\n\nSend your event data from RudderStack to PagerDuty.\n\n* * *\n\n*     3 minute read  \n    \n\n[PagerDuty](https://www.pagerduty.com/) is a SaaS platform that helps you prevent and resolve business-impacting incidents, thereby improving the customer experience.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/pagerduty).\n\n## Getting started\n\nRudderStack supports sending events to PagerDuty via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to PagerDuty, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **PagerDuty**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure PagerDuty as a destination, you will need to configure the following settings:\n\n*   **PagerDuty Routing Key**: Enter the integration key associated with your PagerDuty service. Refer to the [FAQ](#faq) section for more information on how to obtain it.\n*   **dedup\\_key Field Identifier**: Enter a `dedup_key` which acts as the event identifier and is used while updating, resolving, or acknowledging an event. You can provide any value in this field. If not provided, PagerDuty automatically generates and assigns a `dedup_key` to the event.\n\n## Track\n\nYou can send a [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to PagerDuty to ingest the [Alert events](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgx-send-an-alert-event) or [Change events](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgy-send-a-change-event).\n\nBy default, the `track` call sends an alert event. However, you can specify the event type in the `integrations` object:\n\n```\nintegrations: {\n  pagerduty: {\n    type: changeEvent / alertEvent\n  }\n}\n```\n\n### Alert events\n\nYou can [send an alert event](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgx-send-an-alert-event) to report a new problem, or update an ongoing problem, depending on the event type.\n\nA sample `track` call for sending an alert event is shown below:\n\n```\nrudderanalytics.track(\"apiSecret is not present\", {\n  action: \"trigger\",\n  dedupKey: \"9116b734-7e6b-4497-ab51-c16744d4487e\",\n  severity: \"critical\",\n  component: \"ui\",\n  source: \"rudder-webapp\",\n  group: \"destination\",\n  class: \"connection settings\",\n  customDetails: {\n    \"ping time\": \"1500ms\",\n    \"load avg\": 0.75,\n  },\n  imageURLs: [{\n      src: \"https://static.s4be.cochrane.org/app/uploads/2017/04/shutterstock_531145954.jpg\",\n      alt: \"first image\",\n    },\n    {\n      src: \"https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1\",\n      alt: \"second image\",\n    },\n  ],\n  linkURLs: [{\n      href: \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\",\n      text: \"Js Object Error\",\n    },\n    {\n      href: \"https://www.techtarget.com/whatis/definition/stack-overflow#:~:text=A%20stack%20overflow%20is%20a,been%20allocated%20to%20that%20stack\",\n      text: \"Stack Overflow Error\",\n    },\n  ],\n});\n```\n\n#### Property mappings\n\nThe following table lists the mappings between RudderStack and PagerDuty properties for alert events:\n\n| RudderStack property | PagerDuty property |\n| --- | --- |\n| `event`  <br>Required | `payload.summary` |\n| `properties.severity`  <br>Required | `payload.severity` |\n| `properties.source`  <br>Required | `payload.source` |\n| `properties.action`  <br>Required | `event_action` |\n| `properties.linkURLs` | `links` |\n| `properties.imageURLs` | `images` |\n| `originalTimeStamp` | `payload.timestamp` |\n| `properties.group` | `payload.group` |\n| `properties.class` | `payload.class` |\n| `properties.component` | `payload.component` |\n| `properties.client` | `client` |\n| `properties.clientUrl` | `client_url` |\n| `properties.customDetails` | `payload.custom_details` |\n\n### Change events\n\nYou can [send a change event](https://developer.pagerduty.com/docs/ZG9jOjExMDI5NTgy-send-a-change-event) to send information about the recent changes, such as code deployment, and system configuration changes from any system that can make an outbound HTTP connection.\n\nA sample `track` call for sending a change event is shown below:\n\n```\nrudderanalytics.track(\n  \"Github CI/CD Triggered\", {\n    source: \"rudder-webapp\",\n    customDetails: {\n      \"ping time\": \"1500ms\",\n      \"load avg\": 0.75,\n    },\n    imageURLs: [{\n        src: \"https://static.s4be.cochrane.org/app/uploads/2017/04/shutterstock_531145954.jpg\",\n        alt: \"first image\",\n      },\n      {\n        src: \"https://chart.googleapis.com/chart?chs=600x400&chd=t:6,2,9,5,2,5,7,4,8,2,1&cht=lc&chds=a&chxt=y&chm=D,0033FF,0,0,5,1\",\n        alt: \"second image\",\n      },\n    ],\n    linkURLs: [{\n        href: \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\",\n        text: \"Js Object Error\",\n      },\n      {\n        href: \"https://www.techtarget.com/whatis/definition/stack-overflow#:~:text=A%20stack%20overflow%20is%20a,been%20allocated%20to%20that%20stack\",\n        text: \"Stack Overflow Error\",\n      },\n    ],\n  }, {\n    integrations: {\n      pagerduty: {\n        type: \"changeEvent\",\n      },\n    },\n  }\n);\n```\n\n#### Property mappings\n\nThe following table lists the mappings between RudderStack and PagerDuty properties for change events:\n\n| RudderStack property | PagerDuty property |\n| --- | --- |\n| `event`  <br>Required | `payload.summary` |\n| `properties.severity` | `payload.severity` |\n| `properties.linkURLs` | `links` |\n| `properties.imageURLs` | `images` |\n| `originalTimeStamp` | `payload.timestamp` |\n| `properties.customDetails` | `payload.custom_details` |\n\n## FAQ\n\n1.  Log in to the [PagerDuty dashboard](https://app.pagerduty.com/).\n2.  Go to **Services** > **Service Directory**.\n3.  Select your desired service and click the **Integrations** tab.\n4.  Click **Add integration** and select the integration platform. Here, you can find the integration/routing key as shown:\n\n[![PagerDuty integration key](https://www.rudderstack.com/docs/images/event-stream-destinations/integration-key-pagerduty.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/integration-key-pagerduty.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "PagerDuty destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to PagerDuty.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/ortto/",
  "markdown": "# Ortto (formerly Autopilot) | RudderStack Docs\n\nSend your event data from RudderStack to Ortto.\n\n* * *\n\n*     3 minute read  \n    \n\n[Ortto](https://www.autopilothq.com/) (formerly Autopilot) is a popular marketing automation platform that allows you to track and capture new leads, create detailed customer journeys, and boost customer retention.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/develop/src/cdk/v2/destinations/ortto).\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Ortto**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Ortto as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Private API Key**: Enter your private API key from the Ortto data source. For more information on generating this key, see [Ortto’s documentation](https://help.ortto.com/user/latest/data-sources/configuring-a-new-data-source/other-integrations/custom-api.html#create-your-custom-api-key).\n*   **Instance Region**: Specify your Ortto account’s instance region from **Australia**, **Europe**, or **Other**.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Ortto.\n\nRudderStack supports sending events to Ortto via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Ortto:\n\n*   **OneTrust cookie consent settings**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Ortto.\n\n### Event and property mapping\n\nClick the **Set up mapping** button to map your RudderStack events and properties to specific Ortto custom events/properties. You can also use the JSON mapper to set these mappings.\n\nRudderStack provides the following options:\n\n*   **Event and property mappings**: Map a RudderStack event or property to an Ortto event/property. In the property mappings, you can also specify the **Ortto Property Type**.\n\n[![Ortto event mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/ortto-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ortto-event-mapping.webp)\n\n*   **Custom user traits mappings**: Use this setting to map the user traits in your `identify` events to your [Ortto Person](https://help.ortto.com/developer/latest/api-reference/person/index.html) attributes.\n\n[![Ortto traits mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/ortto-trait-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/ortto-trait-mapping.webp)\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update an user in Ortto. RudderStack sends this data to Ortto by leveraging their [`merge`](https://help.ortto.com/developer/latest/api-reference/person/merge.html) endpoint.\n\nA sample `identify` event is shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"firstName\": \"Alex\",\n  \"lastName\": \"Keener\",\n  \"email\": \"alex@example.com\",\n  \"phone\": \"+1-202-555-0146\",\n  \"emailConsent\": true,\n  \"smsConsent\": false,\n  \"gdpr\": false,\n  \"address\": {\n    \"city\": \"New Orleans\",\n    \"country\": \"USA\",\n    \"zipcode\": 900001\n  }\n});\n```\n\nNote that:\n\n*   `userId` or `anonymousId` are required fields in your `identify` calls for RudderStack to send data to Ortto successfully.\n*   RudderStack uses `userId`/`anonymousId` to look up the user and update their profile in Ortto. If these fields are absent, it uses `email` instead.\n*   Use the `emailConsent`, `smsConsent`, and `gdpr` fields to set consent for email subscription, SMS subscription, and GDPR, respectively.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) to record user activities in Ortto. RudderStack sends this data to Ortto by leveraging their [`activities`](https://help.ortto.com/a-270-activities) API. The event mapping is shown below:\n\n| RudderStack event | Ortto event |\n| --- | --- |\n| `event`  <br>Required | `activities[i].activity_id` |\n\nA sample `track` payload is as shown in the snippet below:\n\n```\nrudderanalytics.track(\"Product Clicked\", {\n  description: \"Adidas Sneakers\",\n  brand: \"Adidas\",\n  colors: \"red\",\n  productName: \"Shoes\"\n}, {\n  context: {\n    traits: {\n      emailConsent: false,\n      smsConsent: true,\n      gdpr: true\n    }\n  }\n});\n```\n\nAs seen in the above snippet, you can use the `emailConsent`, `smsConsent`, and `gdpr` fields within the `context.traits` object to set consent for email subscription, SMS subscription, and GDPR, respectively.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure the events you want to send to Ortto are specified and mapped to the Ortto events in the [Event and property mappings](#event-and-property-mapping) dashboard setting. Otherwise, RudderStack will drop them.\n\n## Supported mappings\n\nRudderStack maps the following `identify`/`track` event properties to the corresponding Ortto properties:\n\n| RudderStack property | Ortto property |\n| --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `str::ei` |\n| `context.traits.firstName` | `people[i].fields.str::first` |\n| `context.traits.lastName` | `people[i].fields.str::last` |\n| `context.traits.email` | `people[i].fields.str::email` |\n| `context.traits.address.city` | `people[i].fields.geo::city.name` |\n| `context.traits.address.country` | `people[i].fields.geo::country.name` |\n| `context.traits.address.region` | `people[i].fields.geo::region.name` |\n| `context.traits.address.zipcode` | `people[i].fields.str::postal` |\n| `context.traits.birthday` | `people[i].fields.dtz::b` |\n| `context.traits.language`  <br>`context.locale` | `str::language` |\n| `context.traits.phone` | `phn::phone.n` |\n| `userId`  <br>`anonymousId` | `str::ei` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports sending up to 100 fields in a single request.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Ortto (formerly Autopilot) | RudderStack Docs",
  "description": "Send your event data from RudderStack to Ortto.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/optimizely-feature-experimentation/device-mode/",
  "markdown": "# Optimizely Feature Experimentation Device Mode\n\nSend events to Optimizely Feature Experimentation using RudderStack’s device mode.\n\nRudderStack lets you send the experimentation data from your mobile apps to Optimizely Feature Experimentation via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\nUnlike other destinations, Optimizely Feature Experimentation for the mobile integration works a little differently. You will have to implement some Optimizely functions natively to make sure the experiment logic runs correctly.\n\nFollow these steps to add Optimizely Feature Experimentation to your Android Project:\n\n1.  Add the following `repository` to your `app/build.gradle` file.\n\n```\nrepositories {\n    mavenCentral()\n}\n```\n\n2.  After that, add the following `dependency` in the same file:\n\n```\nimplementation 'com.rudderstack.android.integration:optimizely:0.1.1'\nimplementation 'com.optimizely.ab:android-sdk:3.0.0'\n```\n\n3.  Initialize the Optimizely Manager:\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Optimizely recommends initializing their SDK as soon as possible. You need to initialize the Optimizely Manager before proceeding to the next step. Refer to the Optimizely [Initializing the SDK](https://docs.developers.optimizely.com/full-stack/docs/initialize-sdk-android) guide for more information.\n\n```\nval optimizelyManager =  OptimizelyManager.builder()\n            .withSDKKey(<YOUR OPTIMIZELY SDK KEY>)\n            .build(this)\n```\n\n4.  Finally, change the initialization of your `RudderClient` in your `Application` class:\n\n```\nval rudderClient = RudderClient.getInstance(\n    this,\n    <YOUT_WRITE_KEY>,\n    RudderConfig.Builder()\n        .withEndPointUri(<YOUR_DATA_PLANE_URL>)\n        .withFactory(OptimizelyIntegrationFactory.FACTORY(optimizelyManager)\n        .build()\n)\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure you pass the Optimizely manager instance you created in the previous step to the factory as shown in the above snippet above.\n\nFollow these steps to add Optimizely Feature Experimentation to your iOS project:\n\n1.  Go your `Podfile` and add the `Rudder-Optimizely` extension:\n\n2.  After adding the dependency followed by `pod install`, you can add the imports to your `AppDelegate.m` file as shown:\n\n```\n#import \"RudderOptimizelyFactory.h\"\n```\n\n3.  Finally, change the initialization of your `RudderClient` as shown:\n\n```\nRSConfigBuilder *builder = [[RSConfigBuilder alloc] init];\n[builder withDataPlaneUrl:DATA_PLANE_URL];\n// Setup optimizely logger.\nOPTLYLoggerDefault *optlyLogger = [[OPTLYLoggerDefault alloc] initWithLogLevel:OptimizelyLogLevelAll];\n// Create an Optimizely manager\n self.optlyManager = [[OPTLYManager alloc] initWithBuilder:[OPTLYManagerBuilder  builderWithBlock:^(OPTLYManagerBuilder * _Nullable builder) {\n        builder.sdkKey = @<SDK KEY>;\n        builder.logger = optlyLogger;\n }]];\n[builder withFactory:[RudderOptimizelyFactory instanceWithOptimizely:self.optlyManager]];\n[builder withLoglevel:RSLogLevelDebug];\n[RSClient getInstance:WRITE_KEY config:[builder build]];\n```",
  "title": "Optimizely Feature Experimentation Device Mode | RudderStack Docs",
  "description": "Send events to Optimizely Feature Experimentation using RudderStack's device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pardot/",
  "markdown": "# Pardot | RudderStack Docs\n\nSend your event data from RudderStack to Pardot.\n\n* * *\n\n*     4 minute read  \n    \n\n[Pardot](https://www.pardot.com/) is a Salesforce product and a marketing automation solution that enables organizations to track and measure the effectiveness of their communications, gain insight into user behavior, and personalize content across campaigns based on any specific criteria.\n\nRudderStack supports Pardot as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Pardot as a destination in RudderStack, verify if the source platform is supported by Pardot by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Pardot, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Pardot**.\n\n## Connection settings\n\nTo successfully configure Pardot as a destination, first authenticate your account by following the below steps:\n\n1.  Click **Create Account** in the **Account Settings** section.\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n4.  Click **Save** to use the specified account:\n\n[![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In case you have authenticated multiple accounts, you can click **Edit Credentials** to select or delete any other authenticated account:\n> \n> ![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n> \n> RudderStack **gives an error** if you try to delete an account used by any other connection set up for the same destination.\n\nNext, configure the following settings:\n\n[![Pardot connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/pardot-connection-settings3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pardot-connection-settings3.webp)\n\n*   **Business Unit Id**: Your **Business Unit ID** is the 18 character long string starting with `0Uv`. You can find it in your **Salesforce** account by following the steps listed below:\n    1.  Go to **Setup** at the top right corner and click **Pardot**.\n    2.  Click **Pardot Account Setup** to obtain the Business Unit ID.\n\n[![Pardot Business Unit Id](https://www.rudderstack.com/docs/images/event-stream-destinations/pardot-business-unit-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pardot-business-unit-id.webp)\n\n*   **Campaign Id**: You can find the Campaign ID (or piCId) under **Marketing** > **Campaigns** in your Pardot account. After selecting the desired website campaign, click **View Tracking Code**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Alternatively, you can go to the [Pardot campaigns](https://pi.pardot.com/campaign) and select the desired campaign from the list. The last 5 digits of the campaign URL is your campaign ID. For example, `12345` is the campaign ID for the campaign URL `https://pi.pardot.com/campaign/read/id/12345` .\n\n## Identify\n\nThe `identify` call lets you capture the details of a visiting user along with any associated traits such as their name, email address, etc.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"userId\", {\n  \"active_seats\": 6,\n  \"salutation\": \"Mr\",\n  \"firstName\": \"Alex\",\n  \"lastName\": \"Keener\",\n  \"email\": \"alex@example.com\",\n  \"website\": \"https://www.example.com\",\n  \"score\": 16,\n  \"company\": \"Example Organization\",\n  \"job_title\": \"Sales Executive\",\n  \"department\": \"Sales\",\n  \"country\": \"USA\",\n  \"address\": {\n    \"street\": \"6649 N Blue Gum Street\",\n    \"city\": \"New Orleans\",\n    \"state\": \"LA\",\n    \"zip\": \"00000\"\n  },\n  \"phone\": \"8005550100\",\n  \"annual_revenue\": \"100000\",\n  \"employees\": \"100\",\n  \"industry\": \"Technology sector\",\n  \"notes\": \"example notes\",\n  \"address_two\": \"example address\",\n  \"fax\": \"fax321\",\n  \"years_in_business\": 13,\n  \"comments\": \"good\",\n  \"is_do_not_email\": false,\n  \"opted_out\": false,\n  \"is_reviewed\": false,\n  \"is_starred\": true,\n  \"territory\": \"territory\",\n  \"campaign_id\": 12345\n}, {\n  externalId: [{\n    type: \"crmfid\", // can be pardotid for sending pardot ID\n    id: \"crmFidUser\",\n  }]\n});\n```\n\nThe following behavior can be observed whenever an `identify` call is made through RudderStack:\n\n*   RudderStack throws an error if either `email` or `externalId` (`crmfid`/`pardotid`) is absent.\n*   RudderStack calls the update API if `email` is absent but either `pardotid` or `crmfid` is present. However, if `pardotid` and `crmfid` are not already linked to a prospect, it throws an error.\n*   RudderStack throws an error if `email` is absent and `prospectid` or `crmfid` is entered incorrectly.\n*   If only `email` is present, or Pardot already contains more than one prospect with the same email ID, a new prospect is created as Pardot does not allow write operation on email IDs.\n*   RudderStack considers only the first `externalId` in case of multiple `externalId`.\n\n## FAQ\n\n#### How do I find the crmfid (used for upsert operation)?\n\nYou can find the `crmfid` (CRM Lead ID) under any **Prospect** by clicking on **Sync with CRM** as shown below:\n\n[![Pardot CRM Lead ID](https://www.rudderstack.com/docs/images/event-stream-destinations/Pardot-crmfid1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Pardot-crmfid1.webp)\n\nThe CRM Lead ID can be located here:\n\n[![Pardot CRM Lead ID](https://www.rudderstack.com/docs/images/event-stream-destinations/Pardot-crmfid2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/Pardot-crmfid2.webp)\n\n#### How do I update the prospect data?\n\nTo update the prospect data, you need to send a payload that contains `externalId` in the payload as shown below:\n\n```\n// Sample payload with `id` data for update\n{\n  \"externalId\": [{\n    \"type\": \"pardotid\"\n    \"id\": \"12345\",\n  }]\n}\n```\n\n*   `type` can contain either of the following fields:\n    *   Pardot ID with field name as `pardotid`.\n    *   CRM FID with field name as `crmfid`.\n*   `id` field contains the actual value.\n\n#### Can I send the event data to Pardot’s Sandbox environment?\n\nUnfortunately, you can currently send the event data only to the Pardot’s **production** environment. Sandbox environments are not supported.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Pardot | RudderStack Docs",
  "description": "Send your event data from RudderStack to Pardot.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pendo/",
  "markdown": "# Pendo | RudderStack Docs\n\nSend your event data from RudderStack to Pendo.\n\n* * *\n\n*     3 minute read  \n    \n\n[Pendo](https://www.pendo.io/) is a popular product analytics platform that allows you to better understand your customers, and deliver personalized, guided product journeys for them.\n\nRudderStack allows you to configure Pendo as a destination to which you can send your event data seamlessly, for delivering personalized user experiences.\n\n## Getting started\n\nRudderStack supports sending event data to Pendo via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **Supported** | **\\-** | **\\-** |\n| **Cloud Mode** | **\\-** | **\\-** | **\\-** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Pendo native SDK is loaded from `https://cdn.pendo.io/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Pendo SDK successfully.\n\nOnce you have ascertained that the platform is supported by Pendo, please follow these steps:\n\n*   Choose a source to which you would like to add Pendo as a destination.\n*   Select the destination as **Pendo** to your source. Give your destination a name and then click **Next**.\n*   On the **Connection Settings** page, fill all fields with the relevant information and click **Next**.\n\n[![](https://www.rudderstack.com/docs/images/screenshot-2020-11-27-at-2.29.18-pm.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-11-27-at-2.29.18-pm.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To get the Pendo **API Key**, follow these steps:\n> \n> 1.  Login to Pendo dashboard.\n> 2.  Go to the **Settings** on the left sidebar and click **Subscription Settings**.\n> 3.  You will see an option called **Apps** and under that hover on the square box and click **view app details**.\n> 4.  Here you will find your **API Key** in **App Details** section.\n\n## Identify\n\nTo identify a user to Pendo, you need to call the `identify` API. When you send an `identify` call, RudderStack will pass that user’s information to Pendo with `userId` as Pendo’s visitor ID. The user traits that you pass are mapped to visitor metadata in Pendo.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"name123\", {\n  name: \"Name Surname\",\n  first_name: \"Name\",\n  last_name: \"Surname\",\n  email: \"name@surname.com\",\n  createdAt: \"Thu Mar 24 2020 17:46:45 GMT+0000 (UTC)\",\n})\n```\n\n## Group\n\nYou can use the `group` call to create or update an account in Pendo. When you send a Group call, RudderStack sends the `groupId` to Pendo as account ID. The group traits are mapped to account metadata in Pendo.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you are using your Pendo account data, the group calls (with fields `groupId` & `traits`) are required.\n\nHere is a sample `group` call:\n\n```\nrudderanalytics.group(\"groupId\", {\n    \"name\": \"Company\",\n    \"industry\": \"Industry\",\n    \"employees\": 123,\n    \"email\": abc@xyz.com\n  }\n);\n```\n\n## Track\n\nThe `track` call allows you to capture any action that the user might perform, along with the properties that are associated with that action. Each action is considered to be an event.\n\nHere is a sample `track` call:\n\n```\nrudderanalytics.track(\"test track event\", {\n  revenue: 30,\n  currency: \"USD\",\n  userId: \"12345\",\n})\n```\n\n## FAQ\n\n#### Where do I find the Pendo API Key?\n\n*   Login to Pendo dashboard.\n*   Go to the **Settings** on the left sidebar and click **Subscription Settings.**\n*   You will see an option called **Apps** and under that hover on the square box and click **view app details**.\n*   Here you will find your **API Key** in **App Details** section.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Pendo | RudderStack Docs",
  "description": "Send your event data from RudderStack to Pendo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/persistiq/",
  "markdown": "# PersistIQ | RudderStack Docs\n\nSend your event data from RudderStack to PersistIQ.\n\n* * *\n\n*     4 minute read  \n    \n\n[PersistIQ](https://www.persistiq.com/) is an outbound sales automation and customer discovery platform. It helps you find new customers, onboard them, and organize your outreach strategies effectively.\n\n## Getting started\n\nRudderStack supports sending event data to PersistIQ via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to PersistIQ, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **PersistIQ**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure PersistIQ as a destination, you will need to configure the following settings:\n\n*   **PersistIQ REST API Key**: Enter your PersistIQ API key. For more information on obtaining the API key, refer to the [FAQ](#faq) section below.\n*   **Map RudderStack user attributes to PersistIQ Lead attributes**: Use this setting to map your RudderStack event properties to the custom or non-standard PersistIQ lead attributes.\n\n## Identify\n\nYou can use RudderStack’s [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a lead (prospect) in PersistIQ. RudderStack sends the user information to PersistIQ via their `/leads` endpoint.\n\n### Creating a new lead\n\nA sample `identify` call that creates a new lead in PersistIQ is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  address: \"99 Blue Gum Street\",\n  email: \"alex@example.com\"\n})\n```\n\nRudderStack automatically maps all common attributes like name, email, city, etc. to the PersistIQ lead attributes. To map specific event properties to the custom PersistIQ lead attributes, use the **Map RudderStack user attributes to PersistIQ Lead attributes** dashboard setting to specify the mapping.\n\n#### Supported mappings\n\nThe following table lists the mappings between the RudderStack properties and PersistIQ attributes:\n\n| RudderStack property | PersistIQ property | Data type |\n| --- | --- | --- |\n| `traits.dup` | `dup` | String |\n| `traits.creator_id` | `creator_id` | String |\n| `context.traits.email`  <br>`traits.email` | `lead[0].email` | String |\n| `context.traits.country`  <br>`traits.country` | `lead[0].country` | String |\n| `context.traits.city`  <br>`traits.city` | `lead[0].city` | String |\n| `context.traits.gender`  <br>`traits.gender` | `lead[0].gender` | String |\n| `context.traits.company`  <br>`traits.company` | `lead[0].company_name` | String |\n| `context.traits.phone`  <br>`traits.phone` | `lead[0].phone` | Phone number |\n| `context.traits.facebookUrl`  <br>`traits.facebookUrl` | `lead[0].facebookUrl` | URL |\n| `context.traits.twitterUrl`  <br>`traits.twitterUrl` | `lead[0].twitterUrl` | URL |\n| `context.traits.linkedinUrl`  <br>`traits.linkedinUrl` | `lead[0].linkedinUrl` | URL |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `lead[0].first_name` | String |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `lead[0].last_name` | String |\n| `traits.{x}`  <br>`context.traits.{x}` | `lead[0].{x}` | \\-  |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack does not batch events before sending them to PersistIQ. Hence, the index inside the `lead` array is always `0`.\n\n### Updating an existing lead\n\nRudderStack automatically updates a lead if the `identify` call contains the `persistIqLeadId` field in the `externalId` object. Otherwise, it creates a new lead.\n\nA sample `identify` call that updates an existing PersistIQ lead is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  address: \"99 Blue Gum Street\",\n  email: \"alex@example.com\"\n}, {\n  \"externalId\": [{\n    \"type\": \"persistIqLeadId\",\n    \"id\": \"abc12345\"\n  }]\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your PersistIQ lead ID, refer to the [FAQ](#faq) section below.\n\n#### Supported mappings\n\nThe following table list the mappings between the RudderStack properties and PersistIQ attributes:\n\n| RudderStack property | PersistIQ property | Data type |\n| --- | --- | --- |\n| `externalId.persistIqLeadId`  <br>Required | `leadId` | String |\n| `traits.status`  <br>`context.traits.status` | `status` | String |\n| `context.traits.email`  <br>`traits.email` | `data.email` | String |\n| `context.traits.country`  <br>`traits.country` | `data.country` | String |\n| `context.traits.city`  <br>`traits.city` | `data.city` | String |\n| `context.traits.gender`  <br>`traits.gender` | `data.gender` | String |\n| `context.traits.company`  <br>`traits.company` | `data.company_name` | String |\n| `context.traits.phone`  <br>`traits.phone` | `data.phone` | String |\n| `context.traits.facebookUrl`  <br>`traits.facebookUrl` | `data.facebookUrl` | URL |\n| `context.traits.twitterUrl`  <br>`traits.twitterUrl` | `data.twitterUrl` | URL |\n| `context.traits.linkedinUrl`  <br>`traits.linkedinUrl` | `data.linkedinUrl` | URL |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `data.first_name` | String |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `data.last_name` | String |\n| `traits.{x}`  <br>`context.traits.{x}` | `data.{x}` | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The lead status passed in the `traits.status`/`context.traits.status` must already be configured in your PersistIQ dashboard.\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) events to add or remove a lead from a group in PersistIQ. RudderStack uses the `/campaigns` endpoint to send this information to PersistIQ.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  mailbox_id: \"mbid123\",\n  operation: \"add\" // set to remove to remove user from a group\n}, {\n  \"externalId\": [{\n    \"type\": \"persistIqLeadId\",\n    \"id\": \"abc12345\"\n  }]\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If not explicitly specified, RudderStack automatically sets the `traits.operation` parameter to `add`. To remove a user from the group, set this parameter to `remove`.\n\n### Supported mappings\n\nThe following table list the mappings between the RudderStack properties and PersistIQ attributes:\n\n| RudderStack property | PersistIQ property |\n| --- | --- |\n| `groupId`  <br>Required | `campaign_id` |\n| `externalId.persistIqLeadId`  <br>Required | `leadId` |\n| `traits.mailbox_id`  <br>`context.traits.mailbox_id` | `mailbox_id` |\n\n## FAQ\n\n#### Where can I find the PersistIQ API key?\n\nTo get your PersistIQ API key, follow these steps:\n\n1.  Log in to your [PersistIQ dashboard](https://persistiq.com/app/).\n2.  From the bottom left corner, click your profile button and go to **Settings and Billing** > **Integrations**. Your API key will be listed here:\n\n[![PersistIQ API Key](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-api-key.webp)\n\n#### How do I get the PersistIQ lead ID and campaign ID?\n\nTo get a prospect’s lead ID in the [PersistIQ dashboard](https://persistiq.com/app/), click the specific prospect. You can find the ID in the resulting URL:\n\n[![PersistIQ lead ID](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-lead-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-lead-id.webp)\n\nSimilarly, to get a campaign ID, go to **Campaigns** in your dashboard and click the required campaign. The ID should be visible in the resulting URL.\n\n[![PersistIQ campaign ID](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-campaign-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/persistiq-campaign-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "PersistIQ | RudderStack Docs",
  "description": "Send your event data from RudderStack to PersistIQ.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/",
  "markdown": "# Pinterest Tag | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Pinterest Tag | RudderStack Docs",
  "description": "Send your event data from RudderStack to Pinterest Tag.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/qualtrics/",
  "markdown": "# Qualtrics | RudderStack Docs\n\nSend your event data from RudderStack to Qualtrics.\n\n* * *\n\n*     7 minute read  \n    \n\n[Qualtrics](https://www.qualtrics.com/au/core-xm/survey-software/) is a popular survey software that lets you create intelligent, real-time user surveys. It lets you get cutting-edge insights into your customers and use them to boost your brand value.\n\nRudderStack lets you configure Qualtrics as a destination to which you can send your event data directly.\n\n## Getting started\n\nRudderStack supports sending event data to Qualtrics via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | **Supported** | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Qualtrics native SDK is loaded from `http://qualtrics.com` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Qualtrics SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Qualtrics, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source and select **Qualtrics** from the list of destinations.\n2.  Assign a name to the destination and click **Continue**.\n\n### Configuration Settings\n\nTo successfully configure Qualtrics as a destination, you will need to configure the following settings:\n\n*   **Project ID:** Enter your Qualtrics Project ID here.\n*   **Brand ID:** Enter your Qualtrics Brand ID here.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section below for steps on obtaining your Qualtrics Project ID and Brand ID.\n\n*   **Enable Generic Page Title:** If this field is enabled, RudderStack sends every `page` call with the name `Viewed a Page`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This field is useful only when using the `page` call.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If this option is disabled, RudderStack will search for the category and name of the `page` call and send the event as `Viewed <category_field> <name_field> Page`. If any of the two fields is absent, RudderStack sends the `page` call as `Viewed <category_field> / <name_field> Page`.\n\n## Adding device mode integration\n\nTo add Qualtrics to your iOS project, follow these steps:\n\n1.  In your `Podfile`, add the `Rudder-Qualtrics` extension as shown:\n\n2.  After adding the dependency followed by a `pod install` command, add the following imports to your `AppDelegate.m` file:\n\n```\n#import <rudder>\n#import <rudderqualtricsfactory.h>\n@import Qualtrics;\n```\n\n3.  Then, add the initialization of your `RSClient` as shown:\n\n```\nRSConfigBuilder *configBuilder = [[RSConfigBuilder alloc] init];\n    [configBuilder withDataPlaneUrl:DATA_PLANE_URL];\n    [configBuilder withFactory:[RudderQualtricsFactory instance]];\n    [RSClient getInstance:<source_write_key> config:[configBuilder build]];\n```\n\n4.  Next, add the following snippet to display the qualified intercept on your `ViewController`:\n\n```\n[Qualtrics.shared evaluateProjectWithCompletion:^(NSDictionary<nsstring>* targetingResults){\n    for (NSString* interceptID in targetingResults) {\n      TargetingResult *result = targetingResults[interceptID];\n          if ([result passed]) {\n            [[Qualtrics shared] displayWithViewController:self];\n          }\n    }\n}];\n```\n\nFor more information, refer to the [Qualtrics iOS documentation](https://api.qualtrics.com/2241421657525-getting-started-with-the-mobile-app-sdk-on-i-os).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Your Android project must be on **version 5.0 (API level 21) or higher** for RudderStack to be able to send events to Qualtrics.\n\nOnce confirmed, follow these steps to add Qualtrics to your Android project:\n\n1.  Open your `app/build.gradle` (Module: app) file and add the following under the `dependencies` section :\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.+'\nimplementation 'com.rudderstack.android.integration:qualtrics:1.0.0'\nimplementation 'com.google.code.gson:gson:2.8.6'\n\n// Qualtrics\nimplementation 'com.qualtrics:digital:2.0.0'\n```\n\n2.  Add a new Maven repository for the App Feedback package. Your `allprojects` section should appear as shown:\n\n```\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven {\n            url \"https://s3-us-west-2.amazonaws.com/si-mobile-sdks/android/\"\n        }\n    }\n}\n```\n\n3.  Open the `AndroidManifest.xml` file from the `src/main` folder in the project root and add the following XML snippet after the existing activity:\n\n```\n<activity android:name=\"com.qualtrics.digital.QualtricsSurveyActivity\"></activity>\n<activity android:name=\"com.qualtrics.digital.QualtricsPopOverActivity\" android:theme=\"@style/Qualtrics.Theme.Transparent\"></activity>\n```\n\n4.  Initialize the RudderStack SDK in your `Application` class’ `onCreate()` method as shown:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(QualtricsIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\n5.  Add a `MyCallback` subclass. You need to implement a callback for the Qualtrics APIs. This will be used to call the `displayIntercept()` method based on the `evaluateIntercept()` result. A good place to add this callback is before the last closing brace (`}`) in your `MainActivity.Java` class. Add the following code:\n\n```\nprivate class MyCallback implements IQualtricsProjectEvaluationCallback {\n   @Override\n   public void run(Map<string targetingresult=\"\"> targetingResults) {\n       for (Map.Entry<string> result: targetingResults.entrySet())\n           if (result.getValue().passed()) {\n               Qualtrics.instance().displayIntercept(MainActivity.this, result.getKey());\n           }\n   }\n}\n```\n\n6.  Add the following snippet to display the qualified intercept in your activity class:\n\n```\nQualtrics.instance().evaluateProject(new MyCallback());\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In the iOS device mode implementation, even if the user qualifies for multiple intercepts, only one will be shown. Whereas in Android, all intercepts for the user will be shown.\n\n## Page\n\nThe `page` call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nRudderStack passes any tracked events as embedded data to the Qualtrics [intercept](https://www.qualtrics.com/support/website-app-feedback/getting-started-with-website-app-feedback/step-4-setting-up-your-intercept/) target. After the `page` call, the Qualtrics survey is loaded.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can set the intercepts when a user creates the project or after they have created the project.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"category\", \"name\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n  testDimension: \"true\"\n});\n```\n\nFor the above example, The event will be sent as `Viewed category name Page`, if the **Generic Page Title** option is disabled in the RudderStack dashboard. If this option is enabled, the event will be sent as `Viewed a Page`.\n\nIf the category field is not mentioned in the `page` call but specified inside the properties, RudderStack still includes the field while sending the event. For example, refer to the following snippet:\n\n```\nrudderanalytics.page(\"name\", {\n  category: \"category\",\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n  testDimension: \"true\"\n});\n```\n\nFor the above example, the event will be sent as `Viewed category name Page`, if the **Generic Page Title** option is disabled in the RudderStack dashboard. If it is enabled, the event will be sent as `Viewed a Page`.\n\nIf `category` is not specified in the event at all, RudderStack sends the event with only the page name, as shown below:\n\n```\nrudderanalytics.page(\"name\", {\n  path: \"path\",\n  url: \"url\",\n  title: \"title\",\n  search: \"search\",\n  referrer: \"referrer\",\n  testDimension: \"true\"\n});\n```\n\nFor the above example, The event will be sent as `Viewed name Page`, if the **Generic Page Title** option is disabled in the RudderStack dashboard. If enabled, the event will be sent as `Viewed a Page`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If both the name and category fields are absent in the `page` call and the **Generic Page Title** option is disabled, RudderStack will not send the event to Qualtrics.\n\n## Track\n\nThe `track` call lets you track how many times a user performs certain actions. RudderStack passes any tracked events as embedded data to the Qualtrics [intercept](https://www.qualtrics.com/support/website-app-feedback/getting-started-with-website-app-feedback/step-4-setting-up-your-intercept/) target. After the `track` call, the Qualtrics survey is loaded.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In Qualtrics, both `page` and `track` calls have the same functionality.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can set the intercepts either during or after creating the project.\n\nIn this case, the value of event field of the `track` call will be used as the event name while sending it to Qualtrics.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Test Event\");\n```\n\nIn the above example, the event will be sent to Qualtrics as `Test Event`.\n\n## Identify\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `identify` call is supported only in the mobile (Android and iOS) Device Mode integration.\n\nWhen you make an `identify` call, RudderStack sets the user traits using:\n\n*   The Qualtrics `Properties` class, `setString`, and `setNumber` API in case of Android, and\n*   The `setStringWithString` and `setNumberWithNumber` API in case of iOS\n\nThese user traits can be used as custom properties while setting the [Target Logic](https://www.qualtrics.com/support/website-app-feedback/common-use-cases/optimizing-intercept-targeting-logic/) or [Embedded Data](https://api.qualtrics.com/sdks/ZG9jOjgwNTgzNjE-getting-started-with-mobile-app-sdk-on-android#using-embedded-data) for any intercept in your Qualtrics dashboard.\n\n```\n[[RSClient sharedInstance] identify:@\"test_user_id\"\n        traits: @{ @\"property_key\": @\"property_value\" }];\n```\n\n```\nMainApplication.rudderClient.identify(\n    RudderTraits().put(\"property_key\", \"property_value\")\n)\n```\n\n## FAQ\n\n#### How do I get my Qualtrics project ID and brand ID?\n\n1.  Log into your [Qualtrics account](https://login.qualtrics.com/login?lang=au).\n2.  Click the project you will be using.\n3.  Click **Settings** tab, followed by **Manage Project** option (the right-most dropdown menu in the dashboard).\n\n[![Qualtrics IDs](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-ids.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-ids.webp)\n\n4.  Click **Project IDs**. Here you will find both your Project ID and Brand ID:\n\n[![Qualtrics IDs](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-ids-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-ids-2.webp)\n\n#### How do I know if the RudderStack SDK has loaded successfully?\n\nOnce RudderStack loads the web SDK successfully, you will be able to see the survey options chosen in the Qualtrics dashboard, for example, a survey button, survey form, etc.\n\n[![Qualtrics success](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-success.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualtrics-success.webp)\n\n#### Is it possible to manually set the logic in the mobile device mode integration?\n\nYes, you can manually set the logic using Qualtrics `Properties` class `setString` and `setNumber` API on Android and `setStringWithString` and `setNumberWithNumber` API on iOS. For more information, refer to the [iOS documentation](https://api.qualtrics.com/2241421657525-getting-started-with-the-mobile-app-sdk-on-i-os) or the [Android documentation](https://api.qualtrics.com/sdks/ZG9jOjgwNTgzNjE-getting-started-with-mobile-app-sdk-on-android), depending on your implementation.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Qualtrics | RudderStack Docs",
  "description": "Send your event data from RudderStack to Qualtrics.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/setting-up-pinterest-ads/",
  "markdown": "# Set up Pinterest Tag | RudderStack Docs\n\nSet up Pinterest Tag as a destination in RudderStack.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack supports sending event data to Pinterest Tag via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **Supported** | **\\-** | **\\-** |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Pinterest Tag native SDK is loaded from `https://s.pinimg.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Pinterest Tag SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Pinterest Tag, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Pinterest Tag**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Pinterest Tag as a destination, configure the following settings:\n\n*   **Tag ID**: Enter your [Pinterest Tag ID](#how-do-i-get-the-pinterest-tag-id) (required only for sending events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)).\n    \n*   **App Store App ID**: Enter the App Id from your App Store (required only for sending events using an iOS source).\n    \n*   **API Version**: Select the [Pinterest Tag API version](https://developers.pinterest.com/docs/getting-started/migration/) from the dropdown and enter the following values (required only for sending events via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode)):\n    \n    **V3(deprecating soon)**:\n    \n    *   **Pinterest Advertiser ID**: Enter the Advertiser ID of your Pinterest account.\n    \n    **V5**:\n    \n    *   **Ad Account ID**: Enter your Pinterest’s [Ad Account ID](#how-do-i-get-the-ad-account-id).\n    *   **Conversion Token**: Enter the [Conversion Token](#how-to-get-the-conversion-token) associated with your Pinterest account.\n\n### Other settings\n\n*   **Send as test event**: RudderStack marks the event as test requests if this setting is turned on. It does not record the event but the API still returns the same response messages.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Use this setting to verify if your requests are working and the events are constructed correctly.\n\n*   **Enable hashing for user data conversions**: This setting is on by default and hashes your user data using SHA256 encoding.\n    \n*   **Enable Event Deduplication**: Turn on this setting to deduplicate the events. Then, specify the following:\n    \n    *   **Deduplication key**: Enter the key using which Pinterest Tag should use to deduplicate the events.\n*   **Enable Enhanced Match on Page Load**: This setting is on by default and attaches the hashed email address on the initial page load. Any further calls made to Pinterest will be an Enhanced Match.\n    \n    When turned off, all visits made to your site become anonymous. However, you can still identify any user by making the `identify()` call.\n    \n    RudderStack supports [Pinterest Enhanced Match](https://help.pinterest.com/en/business/article/enhanced-match) when the following conditions are met:\n    \n    *   A user is identified every time they visit your site.\n    *   A user visits your site anonymously but is identified at a later stage by making an `identify()` call.\n    \n    If you use RudderStack’s `identify()` method to use Pinterest’s Enhanced Match, you can only collect this information for successive events. Pinterest does not retroactively update the values for the past events.\n    \n*   **Send external\\_id for user**: Turn on this setting to send the user’s [`external_id`](https://developers.pinterest.com/docs/conversions/external-id/) to Pinterest Tag (applicable only for sending events via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode)).\n    \n*   **Send as custom event**: Turn on this setting to send an unmapped event as a Pinterest custom event. If an event is neither mapped in the **Map Your Events To Pinterest Events** dashboard setting nor is one of the [ecommerce tracking events](https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-cloud-mode/#ecommerce-conversion-tracking), it will be sent as a custom event.\n    \n*   **Custom Properties**: Enter any custom properties which should be sent to Pinterest (applicable only for sending events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)). For more information on using the custom properties, refer to the [Custom properties](https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-device-mode/#custom-properties) section.\n    \n*   **Map Your Events To Pinterest Events**: Use this field to map RudderStack events to Pinterest Standard Conversion Events.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that RudderStack gives the highest priority to the event mapping specified in this setting.\n> \n> *   If not specified, it gives priority to the [standard ecommerce event mappings](https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-device-mode/#ecommerce-conversion-tracking).\n> *   If **Send as custom event** toggle is turned on, then RudderStack sends the event with name `custom` to Pinterest.\n> *   If none of the above qualifies:\n>     *   RudderStack sends the event name to Pinterest as is and it is shown as an `unknown` event in the Pinterest dashboard.\n\n### Client-side events filtering\n\nThis setting is applicable only if you are sending events to Pinterest Tag via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode). Refer to the [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information.\n\n### Consent Settings\n\nThis setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Pinterest Tag.\n\n### Web SDK Settings\n\n*   **Use device-mode to send events**: If you are using the [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, this setting is on by default and cannot be turned off.\n\n## FAQ\n\n#### How do I get the Pinterest Tag ID?\n\n1.  Log in to your [Pinterest Ads dashboard](https://ads.pinterest.com/).\n2.  Click the **Ads** dropdown and go to **Conversions**.\n3.  In the Pinterest Tag Manager, click **Get Started** and you will see your Tag ID:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/tag-id-pinterest.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/tag-id-pinterest.webp)\n\nRefer to the [Pinterest documentation](https://developers.pinterest.com/docs/conversions/conversions/#Find%20your%20ad_account_id) to get the Pinterest Ad account ID.\n\n#### How to get the conversion token?\n\nRefer to the [Pinterest documentation](https://developers.pinterest.com/docs/conversions/conversions/#Get%20the%20conversion%20token#Get%20the%20conversion%20token) to get the conversion token associated with your account.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Pinterest Tag | RudderStack Docs",
  "description": "Set up Pinterest Tag as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-device-mode/",
  "markdown": "# Pinterest Tag device mode | RudderStack Docs\n\nSend events to Pinterest Tag via the web device mode.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack lets you send your event data to Pinterest Tag using Pinterest’s `pintrk` conversion tag via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\nFind the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/PinterestTag).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you create new or update existing customers and record the traits about them like their name, email address, etc.\n\nWhen you make an `identify` call with a user’s email address and traits, RudderStack triggers the Pinterest `set()` method. This saves the identification parameters to be sent with the next events, so it is recommended to set the values as early as possible.\n\nIf you make an `identify` call without `email`, the identification parameter will not be set.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\nIn the above example, the identification parameter will be set to `alex@example.com` and the successive calls will be an Enhanced Match.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> After an `identify` call is made, nothing appears in the network tab in your browser or in the tag helper extension. However, a hashed value for an `em` parameter is added in the next event call, in a JSON object encoded in the URL.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call allows you to capture user actions along with the properties associated with these actions.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n    checkout_id: \"C324532\",\n    order_id: \"T1230\",\n    value: 15.98,\n    revenue: 16.98,\n    currency: \"INR\"\n})\n```\n\nRudderStack SDK sends the `track` event and any properties as custom properties to Pinterest.\n\n### Ecommerce conversion tracking\n\nRudderStack supports ecommerce conversion tracking for Pinterest. You can use the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for sending the events while instrumenting your site with the RudderStack SDK.\n\nThe following table mentions some sample `track` events mapped to the Pinterest events:\n\n| RudderStack event | Pinterest event |\n| --- | --- |\n| Order Completed | `Checkout` |\n| Product Added | `AddToCart` |\n| Products Searched | `Search` |\n| Product List Filtered | `Search` |\n\nYou can also track a custom event that you want to include in the conversion reporting. It will be mapped to a custom Pinterest event, for example:\n\n```\nrudderanalytics.track(\"custom event\")\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can map your event to a specific Pinterest event by adding it in the **Map Your Events To Pinterest Events** section while configuring the Pinterest destination in RudderStack.\n\n### Standard Pinterest events\n\nPinterest supports the following nine standard events that can be mapped and tracked for reporting. Any event apart from these is treated as a user-defined event.\n\n*   `Checkout`\n*   `AddToCart`\n*   `PageVisit`\n*   `SignUp`\n*   `WatchVideo`\n*   `Lead`\n*   `Search`\n*   `ViewCategory`\n*   `Custom`\n\n### Property mapping\n\nRudderStack maps the following properties to the Pinterest properties:\n\n| RudderStack property | Pinterest property |\n| --- | --- |\n| query | `search_query` |\n| value | `value` |\n| order\\_quantity | `order_quantity` |\n| currency | `currency` |\n| order\\_id | `order_id` |\n| promo\\_code | `promo_code` |\n| property | `property` |\n| video\\_title | `video_title` |\n| lead\\_type | `lead_type` |\n| coupon | `coupon` |\n\nThe following properties are nested within the ecommerce `products` array:\n\n| RudderStack property | Pinterest property |\n| --- | --- |\n| product\\_id | `product_id` |\n| sku | `product_id` |\n| name | `product_name` |\n| price | `product_price` |\n| category | `product_category` |\n| variant | `product_variant` |\n| quantity | `product_quantity` |\n| brand | `product_brand` |\n\n### Custom properties\n\nYou can send the custom properties to Pinterest by adding them in the **Custom Properties** section while configuring the Pinterest destination in RudderStack.\n\nA sample snippet with custom properties is shown below:\n\n```\nrudderanalytics.track(\"Event\", {\n  customProperty: {\n    customValue: 2,\n  },\n  someRandomMailId: \"user@gmail.com\",\n})\n```\n\nFor the above snippet, the following properties must be added in the **Custom Properties** section:\n\n*   `customProperty.customValue`\n*   `someRandomMailId`\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nPinterest’s `pintrk` conversion tag sends any one of the following events when you make a `page` call:\n\n*   **`ViewCategory`**: RudderStack sends this event if both the `name` and `category` fields are present. The below sample event contains both the fields and is mapped to the Pinterest’s `ViewCategory` event:\n\n```\nrudderanalytics.page(\"Best Seller\", \"Games\", {\n  path: \"/best-seller/games/1\",\n  url: \"https://www.estore.com/best-seller/games/1\",\n  title: \"Best selling games offered by EStore\",\n  search: \"estore bestseller games\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n  testDimension: \"true\",\n})\n```\n\n*   **`PageVisit`**: RudderStack sends this event if only `name` field is present and drops any additional properties. The below sample event contains only `name` and is mapped to the Pinterest’s `PageVisit` event:\n\n```\nrudderanalytics.page(\"Best Seller\", {\n  path: \"/best-seller/1\",\n})\n```\n\n## Limited Data Processing (LDP)\n\nStarting January 1, 2023, you can use Pinterest’s [Limited Data Processing (LDP)](https://developers.pinterest.com/docs/conversions/conversion-management/#Understanding%20Limited%20Data%20Processing) flag to limit how Pinterest uses certain data to help the advertisers comply with the users’ privacy settings in accordance with the CCPA (California Consumer Privacy Act).\n\nThe following table lists the event properties **required to enable Limited Data Processing** and their mappings with the Pinterest fields:\n\n| RudderStack property | Pinterest property | Data type | Description |\n| --- | --- | --- | --- |\n| `context.traits.optOutType`  <br>`properties.optOutType` | `custom_data.opt_out_type` | String | Set this field to `LDP`. |\n| `context.traits.state`  <br>`context.traits.State`  <br>`context.traits.address.state`  <br>`context.traits.address.State` | `st` | Array of strings with SHA-256 encoding | Should be a two-letter code |\n| `context.traits.country`  <br>`context.traits.Country`  <br>`context.traits.address.country`  <br>`context.traits.address.Country` | `country` | Array of strings with SHA-256 encoding | Should be a two-character ISO-3166 country code |\n\n## FAQ\n\n#### How can I verify if my events are being sent to Pinterest Tag?\n\nFollow these steps to see your events in Pinterest Tag:\n\n1.  Login to your [Pinterest ads manager](https://ads.pinterest.com/) account.\n2.  Click the **Ads** tab and select **Conversions** from the dropdown to see your events:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/pinterest-tag-events.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pinterest-tag-events.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Pinterest Tag device mode | RudderStack Docs",
  "description": "Send events to Pinterest Tag via the web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/quora-pixel/",
  "markdown": "# Quora Pixel | RudderStack Docs\n\nSend your event data from RudderStack to Quora Pixel.\n\n* * *\n\n*     5 minute read  \n    \n\n[Quora Conversion Pixel](https://quoraadsupport.zendesk.com/hc/en-us/articles/115010303387-About-the-Quora-Pixel) is a popular advertising and marketing tool to track your website traffic and conversions. If you are running ad campaigns on [Quora](https://quora.com/), you can attribute the downstream user actions on your website to your Quora impressions.\n\n## Getting started\n\nRudderStack supports sending event data to Quora Pixel via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Quora Pixel native SDK is loaded from `https://a.quora.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Quora Pixel SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Quora Pixel, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Quora Pixel**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Quora Pixel as a destination, you need to configure the following settings:\n\n*   **Pixel ID**: Enter the Pixel ID from your Quora Ads Manager Account. For more information on getting your Pixel ID, refer to the [FAQ](#how-do-i-retrieve-the-quora-pixel-id) section below.\n*   **Map RudderStack events to Quora Pixel events**: Use this setting to map your events to specific Quora Pixel events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can map multiple Quora Pixel events to a single RudderStack event and vice versa. If you do not specify a mapping for a particular event, RudderStack maps it to Quora’s **Generic** event.\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Quora Pixel. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to the Quora Pixel destination.\n\n## Supported calls\n\nQuora Pixel does not accept the standard RudderStack events, that is, [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/), [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/), etc. directly. You need to first map these event names to the corresponding Quora events in the RudderStack dashboard.\n\nSuppose you specify the following mapping in the RudderStack dashboard:\n\n[![Quora Pixel event mapping use-case](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-usecase.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-usecase.webp)\n\nRudderStack then takes the event name `Product Viewed` and maps it to Quora’s `Search` event.\n\nA sample `Product Viewed` event is shown below:\n\n```\nrudderanalytics.track(\"Product Viewed\");\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You can only pass the event name to Quora Pixel. It does not accept any event properties.\n\nRudderStack sends any event for which the mapping is not specified in the dashboard as a `Generic` event.\n\n## Event mapping\n\nQuora Ads supports two types of events, [Standard](https://quoraadsupport.zendesk.com/hc/en-us/articles/360029101832-Standard-Events) and [Custom](https://quoraadsupport.zendesk.com/hc/en-us/articles/360029101852).\n\n### Standard events\n\nQuora Pixel **natively supports** the following standard events:\n\n| Standard event | Description |\n| --- | --- |\n| Generic | Used to track generic actions that are not accounted for in the other categories. |\n| Purchase | Used to track purchases of digital or physical goods. |\n| Generate Lead | Used to track the lead generation process. |\n| Complete Registration | Used to track user signups for a newsletter or service. |\n| Add Payment Info | Used to track the linking of payment information to a user’s account. |\n| Add to Cart | Used to track the addition of items to a cart. |\n| Add to Wishlist | Used to track the addition of items to a wishlist. |\n| Initiate Checkout | Used to track the checkout process initialization. |\n| Search | Used to track different types of searches. |\n\nYou can map these events to the RudderStack events via the **Map RudderStack events to Quora Pixel events** dashboard setting.\n\n### Custom events\n\nBefore you map your RudderStack events to Quora’s [custom events](https://quoraadsupport.zendesk.com/hc/en-us/articles/360029101852), make sure you have first configured the custom event in your Quora Ads Manager account.\n\nTo add a new custom event in Quora Ads Manager, follow these steps:\n\n1.  Log into your [Quora Ads Manager Account](https://www.quora.com/ads/account).\n2.  Navigate to the **Pixel & events** tab in your Quora Dashboard.\n3.  Click the **Create event** button to open the **Create custom event** modal.\n4.  Custom events require a name and description, and category. They also require **at least** one URL rule in the **URL Event** setting:\n\n[![Custom Event](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-custom-event.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-custom-event.webp)\n\n5.  Click **Create event** to add a new custom event.\n\nBy default, Quora Pixel automatically tracks the custom events based on the **URL Event** setting. You need to include the specific web page URL keywords from which requests will be sent to Quora.\n\nYou can also send a specific RudderStack event as a Quora custom event by choosing the **Custom** event option from the dropdown:\n\n[![Custom Event](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-custom-events-example.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/quora-pixel-custom-events-example.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you send a [standard event](#standard-events) from a URL that is included in the **URL Event** property of your custom event configured in Quora Pixel, the event will be recorded in Quora as **both** a standard and custom event.\n\n## FAQ\n\n#### How do I retrieve the Quora Pixel ID?\n\nTo retrieve your Pixel ID from the Quora Ads dashboard, follow these steps:\n\n1.  Log into your [Quora Ads Manager Account](https://www.quora.com/ads/account).\n2.  Navigate to the **Pixel & events** tab in your Quora Ads dashboard.\n3.  Click the **Setup Pixel** button to open the **Install the Quora Pixel** modal.\n4.  Select **Install manually** and click the **Next** button.\n5.  In the **Step 1: Install the base Pixel** modal, copy the installation JavaScript snippet and paste it somewhere safe.\n6.  Search for `init` in the snippet. The string corresponding to `init` is your Pixel ID. For example, if your snippet contains the following code:\n\n```\nqp('init', 'd2bnp3ubi9x6zq1p89h5hyx2hf5q1k3v');\n```\n\nIn this case, `d2bnp3ubi9x6zq1p89h5hyx2hf5q1k3v` is your Pixel ID.\n\n#### Can I use the client-side events filtering feature for the custom events?\n\nThe [client-side events filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) feature is not applicable for custom events. This is because Quora tracks custom events based on the **URL Event** property.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Quora Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Quora Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/podsights/",
  "markdown": "# Podsights (Spotify Ad Analytics) | RudderStack Docs\n\nSend your event data from RudderStack to Podsights.\n\n* * *\n\n*     8 minute read  \n    \n\n[Podsights](https://podsights.com/) is a podcast advertising and attribution platform. It lets you plan your advertising campaigns and measure the effectiveness of your podcasts through audience insights and real-time impression reporting.\n\n## Getting started\n\nRudderStack supports sending events to Podsights via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Podsights, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Podsights**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Podsights as a destination, you will need to configure the following settings:\n\n*   **Pixel ID**: Enter your Podsights Pixel ID. For more information on obtaining your Podsights Pixel ID, refer to the [FAQ](#faq) section below.\n*   **Map Rudder events to Podsights Pixel events**: Use this setting to map your RudderStack events with standard Podsights Pixel events selected from the dropdown. You can map multiple Podsights Pixel events to a single RudderStack event and vice versa.\n*   **Pass Internal ID**: Enable this setting to pass a hashed internal ID in case of `alias` events. For more information on obtaining the internal ID, refer to the [FAQ](#faq) section below.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Podsights. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Podsights.\n\n## Track\n\nYou can use the RudderStack [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event to track user events along with any associated properties and send this information to Podsights.\n\nRudderStack supports the following standard [Podsights Pixel events](https://help.adanalytics.spotify.com/technical-pixel-docs):\n\n| Podsights Pixel event | Event name | Description |\n| --- | --- | --- |\n| Lead | `lead` | User completed an action like form submission, free trial signup, button click, etc. |\n| Product | `product` | User viewed a product. |\n| Add to cart | `addtocart` | User added a product to cart. |\n| Check out | `checkout` | User initiated a checkout. |\n| Purchase | `purchase` | User purchased a product. |\n\nYou can map your RudderStack events to the above Podsights events in the RudderStack dashboard using the **Map Rudder events to Podsights Pixel Events** setting:\n\n[![RudderStack event mapping with Podsights](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-podsights-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rudderstack-podsights-event-mapping.webp)\n\nIn the above example, RudderStack maps the event `Order Completed` with the Podsights `checkout` Pixel event.\n\nBy default, RudderStack maps the following events to the Podsights Pixel events:\n\n| RudderStack event | Podsights Pixel event name |\n| --- | --- |\n| `Signed Up` | `lead` |\n| `Product Viewed` | `product` |\n| `Product Added` | `addtocart` |\n| `Checkout Started` | `checkout` |\n| `Order Completed` | `purchase` |\n\nRudderStack prioritizes the custom event mappings you set in the dashboard over the above standard mappings.\n\n### Lead\n\nA sample `track` call mapped to a Podsights `lead` event is shown below:\n\n```\nrudderanalytics.track(\"Signed Up\", {\n  price: 500,\n  currency: \"USD\",\n  type: \"paper\",\n  category: \"Clothes\"\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Podsight attributes:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.type` | `type` |\n| `properties.category` | `category` |\n\n### Product\n\nA sample `track` call mapped to a Podsights `product` event is shown below:\n\n```\nrudderanalytics.track(\"product\", {\n  price: 1300,\n  currency: \"USD\",\n  product_id: \"1234000\",\n  name: \"goldenTest\",\n  product_type: \"Card\",\n  brand: \"testVendor\"\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Podsight attributes:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.product_id` | `product_id` |\n| `properties.name` | `product_name` |\n| `properties.product_type` | `product_type` |\n| `properties.brand` | `product_vendor` |\n\n#### Sending multiple product details\n\nIf you send the product details as an array in the `track` event, RudderStack fetches the details from each product item and calls the Podsights `product` event for each item. For example, consider the following `track` event:\n\n```\nrudderanalytics.track(\"Product\", {\n  price: 10.0,\n  currency: \"INR\",\n  quantity: 2,\n  products: [\n    {\n      product_id: \"S1100\",\n      name: \"Product 1\",\n      product_type: \"Card\",\n      brand: \"Some Vendor\"\n    },\n    {\n      product_id: \"S1200\",\n      name: \"Product 2\",\n      product_type: \"Card\",\n      brand: \"Some Vendor 2\"\n    }\n  ]\n});\n```\n\nIn this case, RudderStack makes two `track` calls to Podsights with the individual product details:\n\n```\n// Call 1\n\nrudderanalytics.track(\"Product\", {\n  price: 10.0,\n  quantity: 2,\n  currency: \"INR\",\n  product_id: \"S1100\",\n  name: \"Product 1\",\n  product_type: \"Card\",\n  brand: \"Some Vendor\"\n});\n\n// Call 2\n\nrudderanalytics.track(\"Product\", {\n  price: 10.0,\n  quantity: 2,\n  currency: \"INR\",\n  product_id: \"S1200\",\n  name: \"Product 2\",\n  product_type: \"Card\",\n  brand: \"Some Vendor 2\"\n});\n```\n\n### Add to Cart\n\nA sample `track` call mapped to a Podsights `addtocart` event is shown below:\n\n```\nrudderanalytics.track(\"Add to Cart\", {\n  price: 23.2,\n  currency: \"USD\",\n  product_id: \"1234000\",\n  name: \"goldenTest\",\n  product_type: \"Card\",\n  brand: \"testVendor\"\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Podsight attributes:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.product_id` | `product_id` |\n| `properties.name` | `product_name` |\n| `properties.product_type` | `product_type` |\n| `properties.brand` | `product_vendor` |\n| `properties.quantity` | `quantity` |\n| `properties.variant_id` | `variant_id` |\n| `properties.variant_name` | `variant_name` |\n\nSimilar to the [Product](#sending-multiple-product-details) event, if you send the product details as an array in the `track` event, RudderStack fetches the details from each product item and calls the Podsights `addtocart` event for each item.\n\n### Check out\n\nA sample `track` call mapped to a Podsights `checkout` event is shown below:\n\n```\nrudderanalytics.track(\"checkout\", {\n  price: 30.0,\n  currency: \"USD\",\n  discount_code: \"PODCAST_CODE_TEST\",\n  quantity: 3,\n  line_items: [\n    {\n      price: 21.2,\n      quantity: 1,\n      product_id: \"1234000\",\n      product_name: \"goldenTest\",\n      product_type: \"Card\",\n      product_vendor: \"testVendor\",\n      variant_id: \"11112\",\n      variant_name: \"Test\"\n    }\n  ]\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Podsight attributes:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.quantity` | `quantity` |\n| `properties.variant_id` | `variant_id` |\n| `properties.discount_code` | `discount_code` |\n| `properties.line_items` | `line_items` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you do not pass the `line_items` object, then RudderStack fetches the `line_items` from the event’s properties and maps them to Podsight’s `line_items` field.\n\n#### Passing multiple product items\n\nIf you pass multiple product items as an array, then RudderStack fetches the individual product details and internally builds the `line_items` object before passing it on to Podsights via the `checkout` event, as demonstrated in the following example:\n\nConsider the following `track` event:\n\n```\nrudderanalytics.track(\"Checkout\", {\n  price: 10.0,\n  currency: \"USD\",\n  quantity: 2,\n  discountCode: \"POD_CODE\",\n  products: [\n    {\n      price: 21.6,\n      quantity: 12,\n      product_id: \"SKU123\",\n      name: \"Card Game\",\n      product_type: \"Card\",\n      brand: \"Some Vendor\",\n      variant_id: \"test123\",\n      variant_name: \"Test 123\"\n    },\n    {\n      price: 42.4,\n      quantity: 2,\n      product_id: \"SKU124\",\n      name: \"Floppy Disk\",\n      product_type: \"Card123\",\n      brand: \"Some Vendor\",\n      variant_id: \"test124\",\n      variant_name: \"Test 124\"\n    }\n  ]\n});\n```\n\nRudderStack internally collates all product information and builds the `line_items` array before sending it to Podsights:\n\n```\npdst(\"checkout\", {\n  price: 10.0,\n  currency: \"USD\",\n  discount_code: \"POD_CODE\",\n  quantity: 2,\n  line_items: [\n    {\n      price: 21.6,\n      quantity: 12,\n      product_id: \"SKU123\",\n      product_name: \"Card Game\",\n      product_type: \"Card\",\n      product_vendor: \"Some Vendor\",\n      variant_id: \"test123\",\n      variant_name: \"Test 123\"\n    },\n    {\n      price: 42.4,\n      quantity: 2,\n      product_id: \"SKU124\",\n      product_name: \"Floppy Disk\",\n      product_type: \"Card123\",\n      product_vendor: \"Some Vendor\",\n      variant_id: \"test124\",\n      variant_name: \"Test 124\"\n    }\n  ]\n});\n```\n\n### Purchase\n\nA sample `track` call mapped to a [`purchase`](https://podsights.com/docs#purchase) event is shown below:\n\n```\nrudderanalytics.track(\"purchase\", {\n  price: 1000,\n  currency: \"rupee\",\n  discountCode: \"PODCAST_CODE\",\n  orderId: \"12322323232\",\n  is_new_customer: true,\n  quantity: 3,\n  line_items: [\n    {\n      price: 21.2,\n      quantity: 1,\n      product_id: \"1234000\",\n      product_name: \"goldenTest\",\n      product_type: \"Card\",\n      product_vendor: \"testVendor\",\n      variant_id: \"11112222\",\n      variant_name: \"testTest\"\n    }\n  ]\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Podsight attributes:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.discountCode` | `discount_code` |\n| `properties.line_items` | `line_items` |\n| `properties.orderId` | `order_id` |\n| `properties.is_new_customer` | `is_new_customer` |\n| `properties.quantity` | `quantity` |\n\nSimilar to the [Check out](#passing-multiple-product-items) event, if you pass multiple product items as an array, then RudderStack fetches the individual product details and internally builds the `line_items` object before passing it on to Podsights via the `purchase` event.\n\n### Passing hashed internal ID to Podsights\n\nIf you turn on **Pass Internal ID** setting in the RudderStack dashboard and **Alias** events are enabled for your Podsight Pixel, then RudderStack triggers a Podsights `alias` event capturing the hashed internal user ID along with every conversion event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   The Podsights `alias` event matches the Podsights internal cookie ID with your hashed internal user IDs.\n> *   RudderStack uses SHA-256 encryption for hashing your `userId`.\n\nTo enable this feature, follow these steps:\n\n1.  Activate **Alias Events** for your Podsights Pixel from your dashboard:\n\n[![Podsights alias event setting](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-event.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-event.webp)\n\n2.  Enable the **Pass Internal ID** setting in the RudderStack dashboard.\n\nRudderStack automatically calls the Podsights `alias` event by mapping the following internal RudderStack IDs to Podsights:\n\n| RudderStack attribute | Podsights attribute |\n| --- | --- |\n| `userId`  <br>`context.traits.userId`  <br>`context.traits.id` | `id` |\n\nSuppose you send the following `track` call named `testEvent` mapped to Podsights’ `lead` event with the **Pass Internal ID** enabled:\n\n```\nrudderanalytics.track(\"testEvent\", {\n  price: 100,\n  currency: \"euro\",\n  type: \"paper\"\n});\n```\n\nRudderStack then makes the following two calls to Podsights:\n\n[![Alias calls made to Podsights](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to record your website’s page views with any additional information about the viewed page.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also set custom attributes inside the `page` event properties.\n\nRudderStack sends the `page` calls to Podsights as a `view` event.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"Home\", \"Clothes\", {\n  path: \"/best-seller/1\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n  url: \"https://www.estore.com/best-seller/1\"\n});\n```\n\n### Supported property mappings\n\nRudderStack maps the following **optional** properties with the Podsights properties:\n\n| RudderStack property | Podsights property |\n| --- | --- |\n| `context.page.referrer` | `referrer` |\n| `context.page.url` | `url` |\n\n## FAQ\n\n#### Where can I find the Podsights Pixel ID?\n\nTo get your Podsights Pixel ID, follow these steps:\n\n1.  Log in to your [Podsights dashboard](https://dash.podsights.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**. You can find your Podsights Pixel ID under **Your Pixels**.\n\n#### Where can I find the Podsights alias ID for `alias` events?\n\n1.  Log in to your [Podsights dashboard](https://dash.podsights.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**. Then, click the edit button next to your pixel.\n\n[![Podsights alias ID](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-manage-option.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-manage-option.webp)\n\n3.  The **Alias ID** is listed under **Alias Events**:\n\n[![Podsights alias ID](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-id.webp)\n\n#### Where can I view the events sent to Podsights?\n\nTo view the events sent to Podsights, follow these steps:\n\n1.  Log into your [Podsights dashboard](https://dash.podsights.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**.\n3.  Click your pixel and go to the **Debugger** tab.\n\n[![Alias calls made to Podsights](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can filter the events by name or platform, as per your requirement.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Podsights (Spotify Ad Analytics) | RudderStack Docs",
  "description": "Send your event data from RudderStack to Podsights.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-cloud-mode/",
  "markdown": "# Pinterest Tag cloud mode | RudderStack Docs\n\nSend events to Pinterest Tag using cloud mode.\n\n* * *\n\n*     6 minute read  \n    \n\nRudderStack lets you send your event data to [Pinterest Conversions API](https://s.pinimg.com/ct/docs/conversions_api/dist/v3.html) via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode). It sends the event calls in a [batch](https://www.rudderstack.com/docs/api/http-api/#batch), where each batch can contain upto 1000 events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> *   To use Pinterest Tag’s cloud mode (Pinterest conversions API), contact [Pinterest Support](https://help.pinterest.com/en/contact) to enable the beta access.\n> *   Pinterest is migrating to API v5 and will deprecate support for API v3 on June 30, 2023. Hence, it is recommended to [configure Pinterest Tag](https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/setting-up-pinterest-ads/#connection-settings) as a destination in RudderStack using API v5.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/pinterest_tag).\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call allows you to capture the users’ conversion events.\n\nRudderStack maps the `track` events as specified in the **Map Your Events To Pinterest Events** connection setting in the dashboard.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  event_id: 'eventIDordercompleted',\n  order_id: \"transactionId\",\n  value: 35.00,\n  revenue: 31.98,\n  currency: 'USD',\n  products: [{\n    product_id: '123454387',\n    price: 3.00,\n    quantity: 2,\n    currency: 'USD',\n    position: 1,\n    value: 6.00,\n  }]\n}, {\n  traits: {\n    email: \"alex@example.com\",\n    lastname: \"Keener\",\n    firstname: \"Alex\",\n    action_source: \"offline\" // or app_ios / app_android / web\n  }\n});\n```\n\n### Ecommerce conversion tracking\n\nRudderStack supports ecommerce conversion tracking for Pinterest. You can use the [Ecommerce Events Specification](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) for sending the events while instrumenting your site with the RudderStack SDK.\n\nThe following table mentions how the specific RudderStack `track` Ecommerce events are mapped to standard Pinterest Conversion Events:\n\n| RudderStack event | Pinterest event |\n| --- | --- |\n| Order Completed | `checkout` |\n| Product Added | `add_to_cart` |\n| Products Searched | `search` |\n| Product List Filtered | `search` |\n\nYou can also track a custom event that you want to include in the conversion reporting. It will be mapped to a custom Pinterest event, for example:\n\n```\nrudderanalytics.track(\"custom event\")\n```\n\n### Standard Pinterest events\n\nPinterest supports the following nine standard events that can be mapped and tracked for reporting. Any event apart from these is treated as a user-defined event.\n\n*   `checkout`\n*   `add_to_cart`\n*   `page_visit`\n*   `signup`\n*   `watch_video`\n*   `lead`\n*   `search`\n*   `view_category`\n*   `custom`\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\n*   **`view_category`**: RudderStack sends this event if both the `name` and `category` fields are present. The below sample event contains both the fields and is mapped to the Pinterest’s `view_category` event:\n\n```\nrudderanalytics.page(\"Best Seller\", \"Games\", {\n  path: \"/best-seller/games/1\",\n  url: \"https://www.estore.com/best-seller/games/1\",\n  title: \"Best selling games offered by EStore\",\n  search: \"estore bestseller games\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n  testDimension: \"true\",\n})\n```\n\n*   **`page_visit`**: RudderStack sends this event if only `name` field is present and drops any additional properties. The below sample event contains only `name` and is mapped to the Pinterest’s `page_visit` event:\n\n```\nrudderanalytics.page(\"Best Seller\", {\n  path: \"/best-seller/1\",\n})\n```\n\n## Common field mappings\n\nThe following table lists the mappings specific for Pinterest Conversion API and are relevant for both the `track` and `page` calls:\n\n| RudderStack property | Pinterest Tag property | Description |\n| --- | --- | --- |\n| `message.event`  <br>Required | `event_name` | Type of the user event. |\n| `context.traits.action_source`  <br>`properties.action_source`  <br>`message.channel`  <br>Required | `action_source` | Source indicating the occurence of conversion event. |\n| `timestamp`  <br>Required | `event_time` | Unix timestamp (in UTC) in seconds indicating when the user conversion event occurred. |\n| `destination.Config.advertiserId`  <br>Required | `advertiser_id` | Pinterest Advertiser ID. |\n| Integrations Object `messageId` | `event_id` | Deduplication key from the dashboard setting or `messageId`. The dashboard setting is given higher priority. |\n| `pageUrl` | `event_source_url` | URL of the web conversion event. |\n| `context.device.adTrackingEnabled` | `opt_out` | *   When `action_source` is **web** or **offline**, it defines whether the user has opted out of tracking for web conversion events.<br>*   When `action_source` is **app\\_android** or **app\\_ios**, it defines whether the user has enabled **Limit Ad Tracking** on their iOS device or opted out of **Ads Personalization** on their Android device. |\n| `destination.Config.appId` | `app_id` | App store’s App ID. |\n| `context.app.name`  <br>`properties.appName` | `app_name` | Name of the app. |\n| `context.app.version`  <br>`properties.appVersion` | `app_version` | Version of the app. |\n| `context.device.manufacturer`  <br>`properties.manufacturer` | `device_brand` | Brand of the user device. |\n| `context.device.model`  <br>`properties.deviceModel` | `device_model` | Model of the user device. |\n| `context.device.type`  <br>`properties.deviceType` | `device_type` | Type of the user device. |\n| `context.os.version` | `os_version` | Version of the device’s operating system. |\n| `context.locale` | `language` | Two-character ISO-639-1 language code indicating the user’s language. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For mobile sources, if `context.device.adTrackingEnabled` is `true`, `opt_out` will be set as `false` and vice-versa.\n\n## User field mappings\n\nThe following table lists the mappings for fields carrying the user information for `track` and `page` calls:\n\n| RudderStack property | Pinterest Tag property | Data Type |\n| --- | --- | --- |\n| `properties.email`  <br>`context.traits.email` | `em` | Array of strings with SHA-256 encoding |\n| `properties.phone`  <br>`context.traits.phone` | `ph` | Array of strings with SHA-256 encoding |\n| `properties.clickId` | `click_id` | String |\n| `context.traits.gender` | `ge` | Array of strings with SHA-256 encoding |\n| `context.traits.birthday` | `db` (YYYYMMDD format) | Array of strings with SHA-256 encoding |\n| `context.traits.lastName` | `ln` | Array of strings with SHA-256 encoding |\n| `context.traits.firstName` | `fn` | Array of strings with SHA-256 encoding |\n| `traits.address.city`  <br>`context.traits.address.city` | `ct` | Array of strings with SHA-256 encoding |\n| `traits.address.state`  <br>`context.traits.address.state` | `st` (Two-letter code) | Array of strings with SHA-256 encoding |\n| `traits.address.zip`  <br>`context.traits.address.zip` | `zp` | Array of strings with SHA-256 encoding |\n| `traits.address.country`  <br>`context.traits.address.country` | `country` (Two-character ISO-3166 country code) | Array of strings with SHA-256 encoding |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId` | `external_id` | Array of strings with SHA-256 encoding |\n| `context.device.advertisingId` | `hashed_maids` | Array of strings with SHA-256 encoding |\n| `context.ip`  <br>`context.requestIP`  <br>`properties.ip`  <br>`properties.clientIpAddress` | `client_ip_address` | String |\n| `context.userAgent` | `client_user_agent` | String |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To send the `track` or `page` events successfully, you need to include **at least one** of the following user properties:\n> \n> *   `em`\n> *   `hashed_maids`\n> *   Combination of `client_ip_address` and `client_user_agent`\n\n## Custom field mappings\n\nThe following table lists the custom fields mappings for `track` and `page` calls:\n\n| RudderStack property | Pinterest Tag property | Data Type |\n| --- | --- | --- |\n| `properties.currency` | `currency` | String |\n| `properties.value`  <br>`properties.total`  <br>`properties.revenue` | `value` | String |\n| `properties.product_id`  <br>`properties.product_sku`  <br>`properties.products[index].product_id`  <br>`properties.products[index].product_sku` | `content_ids` | Array of strings |\n| `properties.price`  <br>`properties.products[index].price` | `contents.[index].item_price` | Array of strings |\n| `properties.quantity`  <br>`properties.products[index].quantity` | `contents.[index].quantity` | Integer |\n| `properties.numOfItems` (if not present, sum of quantity) | `num_items` | Integer |\n| `properties.order_id` | `order_id` | String |\n| `properties.query` | `search_string` | String |\n\n## Limited Data Processing (LDP)\n\nStarting January 1, 2023, you can use Pinterest’s [Limited Data Processing (LDP)](https://developers.pinterest.com/docs/conversions/conversion-management/#Understanding%20Limited%20Data%20Processing) flag to limit how Pinterest uses certain data to help the advertisers comply with the users’ privacy settings in accordance with the CCPA (California Consumer Privacy Act).\n\nThe following table lists the event properties **required to enable Limited Data Processing** and their mappings with the Pinterest fields:\n\n| RudderStack property | Pinterest property | Data type | Description |\n| --- | --- | --- | --- |\n| `properties.optOutType` | `custom_data.opt_out_type` | String | Set this field to `LDP`. |\n| `traits.address.state`  <br>`context.traits.address.state` | `st` | Array of strings with SHA-256 encoding | Should be a two-letter code |\n| `traits.address.country`  <br>`context.traits.address.country` | `country` | Array of strings with SHA-256 encoding | Should be a two-character ISO-3166 country code |\n\n## FAQ\n\n#### How can I verify if my events are being sent to Pinterest Conversions API?\n\nFollow these steps to see your events in Pinterest Conversions API:\n\n1.  Login to your [Pinterest ads manager](https://ads.pinterest.com/) account.\n2.  Click the **Ads** tab and select **Conversions** from the dropdown.\n3.  Select **API for conversions** from the dropdown to see your events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To see **API for conversions** option in the dropdown, you need to set up your Pinterest dashboard using the Pinterest Tag. For more information on using the Pinterest Tag, refer to the [Pinterest Tag Device Mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/pinterest-ads/pinterest-ads-device-mode/) documentation.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/pinterest-tag-events-cloud.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pinterest-tag-events-cloud.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Pinterest Tag cloud mode | RudderStack Docs",
  "description": "Send events to Pinterest Tag using cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/pipedream/",
  "markdown": "# Pipedream destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Pipedream destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Pipedream.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/reddit-pixel/",
  "markdown": "# Reddit Pixel | RudderStack Docs\n\nSend your event data from RudderStack to Reddit Pixel.\n\n* * *\n\n*     3 minute read  \n    \n\n[Reddit Pixel](https://ads.reddit.com/) is a JavaScript snippet that you can add to your website to track user actions on your website after interacting with your ad on Reddit.\n\n## Getting started\n\nRudderStack supports sending event data to Reddit Pixel via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Reddit Pixel native SDK is loaded from `https://www.redditstatic.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Reddit Pixel SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Reddit Pixel, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Reddit Pixel**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Reddit Pixel as a destination, configure the following settings:\n\n*   **Pixel ID**: Enter your Reddit [Pixel ID](#faq).\n*   **Mapping to trigger the Reddit Pixel events for the respective events set here**: Use this setting to map custom event names to the standard Reddit Pixel events.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Reddit Pixel. Refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information.\n*   **Use device mode to send events**: As this is a web device mode-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Reddit Pixel.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to update the user’s signup information.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify()\n```\n\n## Page\n\nWhen you make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call, the `track` event is sent as `PageVisit` to `rdt('track,'PageVisit')`. RudderStack ignores any parameter sent to `rudderanalytics.page()`.\n\nA sample `page` call is as shown:\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Added\")\n```\n\n### Property mappings\n\nThe following table lists the event mapping from RudderStack to Reddit Pixel’s standard events:\n\n| RudderStack event | Reddit Pixel standard event |\n| --- | --- |\n| `Product Added` | `Add to Cart` |\n| `Product Added to Wishlist` | `Add to Wishlist` |\n| `Order Completed` | `Purchase` |\n\nThe following table lists the custom events mapping from RudderStack to Reddit Pixel’s standard events:\n\n| RudderStack event | Reddit Pixel standard event |\n| --- | --- |\n| `Lead` | `Lead` |\n| `View Content` | `ViewContent` |\n| `Search` | `Search` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Reddit Pixel does not support any other custom events apart from the ones mentioned above.\n\n## FAQ\n\n#### Where can I find the Pixel ID in Reddit Pixel?\n\n1.  Log in to the [Reddit Ads Manager account](https://accounts.reddit.com/adsregister).\n2.  Select **Events Manager** from the drop-down menu in the top-left corner.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id-1.webp)\n\n3.  Select **Set Up Reddit Pixel** and choose from one of the below options according to your requirement:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id.webp)\n\nBased on the selected option, you will find your Pixel ID on the next screen.\n\nSee [Reddit Pixel documentation](https://business.reddithelp.com/helpcenter/s/article/Install-the-Reddit-Pixel-on-your-website) for more information on setting up the Reddit Pixel.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Reddit Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Reddit Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rakuten/",
  "markdown": "# Rakuten | RudderStack Docs\n\n## Rakuten Beta\n\nSend your event data from RudderStack to Rakuten.\n\n* * *\n\n*     8 minute read  \n    \n\n[Rakuten](https://rakutenadvertising.com/affiliate/) provides a robust affiliate marketing ecosystem to expand your reach by connecting with a vast and engaged audience across multiple channels.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/rakuten).\n\n![](https://img.shields.io/badge/Stability-Beta-105ed5.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAl8SURBVHgB7Z1NbFzVFcfPfeOAFGR3WpqU4iwmFIli2tSVgHSXaaVK2TQgGhASSG3KKqlUpwvworhxJCyRZJMQJXSXqRSkCBIriQqq5CiZ7JKYxQiBbaoUJlJMRSqBsQMSMDOPe579wsh4PjJ+c979+P8kZ+zxmzzb9zfnfp+rqAPuH9yepyo9FpLKkaJBCsOsfjpLwAlCRSUV0pxSdJECKl4tnSzSbaLavTA3+Hg2qPUM6RvuJkjkGaqs/ymuyWT2zpROlNt6RasLIBSoJyQ6eEem51ArwZqKxVVeWFXH9H+XIwBuocoqDHdcfbdxFZlp9I37Nj05RDU6QYhS4LtkdUj64/fvGaBPP566uNIFK4p136bte3TV9zIB0ARd3eUbyfUdsZakGiUA2mBJrs+0XJeWPf8ti20qukAA3CY6GP26vs11S6zc4NO5TLV6AQ110BmqXM18/cty6fQcfxXETwe1yhCkAp0T5npqPbvjr6KItRitKh8SAKtjrpqpbOSoFUUsXQXuIQBWTzaOWnFVmCcAEiAMaYgfFXqCIGm4hxjo0fU8AZAgYRA+HujQtYUASJJQ5QKlMBcIkkb9giPWIAGQKGE2IACSB2KB7tBDHrKhfz09sc3dPkvhtbdofv5zShMvxerrvYv+svMpcpXxMxdTF8vLqnB+/iZJMj//BfmGn2ItyBb0/E1ZkU3AU7E+F40iMzPXyDe87RXO/u8GSXH9I7l7mYK3Yl2efI+k4Ajpm1zeijX1fpkkuTI5RT7hrVjnzk+SJNIip423YnH1dPltuepw/EyRfMLrKZ0JwaglLXLaeC0WRxHJYYdXXn2DfMFrsTiKFF77F0nBPVFfeofer26QjlqHPYla3ot1/aP/i0atU1pkH6IW1mNpCsffEo1awyNHyXUgFi22tYb/foSk4LYWy+wyEGuJifNXRAv7lVdfd7pKhFh1cGFPz5RJAo6Su4YOOLtWC2LVwYW9c/d+sUjC0zxjB46Ri0CsZXAv8dk/jYrJxb3E4RG59p0UEGsFINfqgVgNiOWSanOxXNuefN6ZBj3EagLL9bunnheb4+M2F8vswmQ1xGoD7i3mt+4SiSYs8zNarrH9BaujF8RqEy7w/NY/R20hiQI/dvzNKHrZuo4LYt0m3BaKBZvu8qpQlvkFfR+OluOWzTF6uRM6CVgw/hh4IEdPPJanB3+ao80PP0TdIBaM2fzIQ/T7bXl69JEB2nDvejIV9ZOfbw/JALhgeOu7zfT1rqUHtWj80dd3F/XrgufneH39qbNFSpoN967T91gX3a+/f3309+PnOKKmHd2MEav47yNGvwNtwgSxvGxj+biBVBpjxJrV7QhXwU7oFJmdlROLJZZcVbCw4OYKhmYYI5b0u1oyd4PUtJBJGCPW9PuyGVkkC5vfNL7lyDJGLMkkHYz0lvfp//h1BpYxYklnZDl3/gpJMiGcKyJtjBpukJwX49Fsl0VOG6PEuvy2bKofaZGRuyEluJ0l+ceX3oLlU3Vo3Mi7ZBRJI5WRL71D48SS3oIumQFGOglJmhg5VyiZOCON6teHqGWkWBy1JAt7+MUjYoXNUevwP14n1zF2dcPYvgJJwT02ycLmZceu9xCNFSvaJby/QFJIF7ZklEwDo9djpVHYUh0HjpKubq9njF/ot3PogGhhSybq4Lakq3lJjReLG7uS292lE3XwnkUX5bJiaXIauRR27paLXC7KZc2ad+lcCpyI7dnn9ojJ7JpcVm2mSCuXgpTMLNczz42SC2vkrdylI1kA0jLzTIDNW+tjrN3+xQXA++e4wCUEixODSBR4vPOZ23m2Rq/MD340MEoWw+NcvNOYj+Pt71/X1m5q3qXTiSB8j4kLk9Fr+T68e7vdn7GTtWYffDgbzS3yz8s7q9vd0BvNRy6ke9i49WIxXOBcePwH5U0ZX335dSTZnXfeseL1nYpVf79YME4M0qrQOxUrhu/B94p/Zv691v0w2/B6E8RyLikI9+b4g0YWE2hwXgPOZxDnhujtXauHEZL5o0fLm5eSg8QRbPPDAzTwwEbq7Vsb5VVIEr7fS0vTXIu/08bofiw1v5H4dzMFY3I3ALdAfizQFSAW6AoQC3QFiAW6AsQCXQFiga4AsUBXgFigKxgz8v7b3zxq1MixzZzT001JzS50ijFi/e2FPyBrckLwqo+0xUJVCLoCxHKQ+ZvpRisGYjlI2tUgA7Ec47oh+fIhlmPMGrKUGWI5hgnVIAOxHMOULDYQyzGkD2JoBMRyjGnhgxEaAbEcgqtBtLFA4ph0GBTEcgje62gKEMsReCu+9EFXzYBYjnBlUva4mFZALEfgpCUmAbEcgHuDpswRxkAsBzAxlxbEshxutJ+CWCBpDhuatxRiWYyp0YqBWBZjarRiIJaljC8lfDMViGUhXAWaNm61HIhlIYejTNFmjVstB2JZhulVYAzEsgiuAl8SPMNxNUAsS2Cp+MSKtNNstwvEsgCWaVd0bqPZ7ap6IJYFjO37Z3RglE1ALMMZfvEonTp7gWzDuZMpXIGrv+GRIzRx3pzlxrcDxDIQbqhzm8q26q8eiGUYLNOuof1WNdRXAmIZROH4m9aMU7UCYhkAV33DI0eN2mWzWiBWynCU4lNibRn4bBeIlRK8AWJsX8HqBnozIJYwLBRHKJeqvZWAWAJwNRetSjhbNCq/QjeBWF2CZeJD0GOZXGtDtQJiJQT37GZmrtElXdVxjirXq7pWGCMWn7zeZ9GRJzyAubDwBc3O3og+9y0itQKHjYOugNUNoCuwWHMEQMJosRTEAokSKioFiqhEACRIENJcEKqaGYnBgTsouhiomjpNACRJjYqKH/WQw6f6IUsArBalyv99542NweLndIgASIKQivwQiVUJKgcJww4gAdZkMnv5MRKrXDo9h6gFVk0YHpopnSjzp7dG3qOopetHAqATtDtretYcjL+8JVYUtWrhDgKgA9idOFoxmfpvfnJjqnz3PQOf6U+3EgBtokLae/Xdk4X65zLLL/rk46lLd68fUHqQK08AtGBJqtHlz2dWulhHriLkAq1QNfrr1fdOvrzi95q98P6fbc+HgTqmW/s5AiBGN9S5TaUjVbHRJZlmr+c21/d+vOlMUKvq6KV+RcBvFM3pqm9fNVPZ8cE74zPNL22T3ODTuUy1MqoF24II5hksVI0OVXoqB3n0oL2XdABXkXqgIq+H77fo/yEbhjRIwA0Uz8AojkylMKxd01XV6WZVXiO+ASW4fHjWfkysAAAAAElFTkSuQmCC&logoColor=&logoWidth=&style=)\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Rakuten**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Rakuten as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Merchant ID**: Enter the numeric merchant ID that uniquely identifies you in the Rakuten marketing system.\n\n### Connection mode\n\nThis integration supports sending events to Rakuten via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n## Track\n\nYou can use the RudderStack [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event to track events along with any associated properties and send this information to Rakuten.\n\nA sample `track` event is shown below:\n\n```\nrudderananlytics.track('event', {\n  orderId: \"OR122441\",\n  land: 1234,\n  ranSiteId: \"823421983a3-231824ft12-e12-gh1208b12-14\"\n  products: [{\n      sku: 'sku1',\n      amount: '8' // instead of 10 for 20% discount\n      quantity: 1,\n      name: 'Product1'\n    },\n    {\n      sku: 'sku2',\n      amount: 81 // instead of 90 for 10% discount\n      quantity: 2,\n      name: 'Product2'\n    }\n  ]\n})\n```\n\n### Property mappings\n\nRudderStack maps the following properties to the Rakuten fields:\n\n| RudderStack property | Rakuten property | Limitations |\n| --- | --- | --- |\n| `properties.order_id`  <br>`properties.orderId`<br><br>Required | `ord` | <40 non-blank characters |\n| `properties.land`  <br>`properties.land_time`  <br>`properties.landTime`<br><br>Required | `land` | Should be present as `YYYYMMDD_HHMM` in the GMT 24-hour format.<br><br>**Note**: This is the datetime value set in the cookie of your Rakuten Marketing-specific gateway page when a customer arrives at your website. |\n| `properties.date`  <br>`properties.order_completed_time`  <br>`properties.orderCompletedTime` | date | Should be present as `YYYYMMDD_HHMM` in the GMT 24-hour format.<br><br>**Note**: Represents the date and time of the online completion (Thank You) page. |\n| `properties.altord`  <br>`properties.alt_ord`  <br>`properties.alter_order_id`  <br>`properties.alterOrderId` | `altord` | <40 characters<br><br>**Note**: Alternative version of the reported order ID like a backend version, customer-facing version, etc. |\n| `properties.currency` | `cur` | 3 alphanumeric characters matching the currency used by the customer in the transaction. For example, `USD`, `CAD`, `GBP`, `JPY`, `BRL`, `EUR`, `AUD`. |\n| `properties.creditCardType`  <br>`properties.credit_card_type` | `cc` | <16 characters |\n| `properties.commreason`  <br>`properties.comm_reason` | `commreason` | <255 characters<br><br>**Note**: Used for reporting only and should be used to show the reason for the commission (`iscomm`) flag. |\n| `properties.iscomm`  <br>`properties.is_comm` | `iscomm` | \\-<br><br>**Note**: Specifies if a commission is applicable for an order. |\n| `properties.consumed` | `consumed` | <13 characters  <br>Should be formatted as `YYYYMMDD_HHMM` in the GMT 24-hour format.  <br>**Note**: Expected date when a travel event is consumed. |\n| `properties.coupon` | `coupon` | <128 characters |\n| `properties.customerId`  <br>`properties.customer_id`  <br>`properties.cust_id`  <br>`properties.custId`  <br>`properties.userId` | `custid` | <128 characters<br><br>**Note**: Identifier representing the customer like ID, hashed email, etc. Make sure to not pass any PII. Any special characters should be URL-encoded into the hex format. |\n| `properties.cust_score`  <br>`properties.customer_score`  <br>`properties.customerScore`  <br>`properties.custScore` | `custscore` | <16 characters<br><br>**Note**: Represents a score assigned to the customer by the system. It can alphabetical, numeric, or alphanumeric. |\n| `properties.customerStatus`  <br>`properties.custStatus`  <br>`properties.customer_status`  <br>`properties.cust_status` | `custstatus` | <32 characters<br><br>**Note**: Represents the status of the customer like new, existing, guest, etc. |\n| `properties.dId`  <br>`properties.advertisingId`  <br>`properties.advertising_id` | `did` | <42 characters<br><br>**Note**: Used for the advertising ID of the mobile device. |\n| `properties.discountAmount`  <br>`properties.disAmt`  <br>`properties.discount_amount` | `disamt` | <9 characters |\n| `properties.orderStatus`  <br>`properties.ordStatus`  <br>`properties.order_status`  <br>`properties.ord_status` | `ordstatus` | <32 characters<br><br>**Note**: Represents the order status assigned by the system. |\n| `properties.tr`  <br>`properties.ran_site_id`  <br>`properties.ranSiteID` | `tr` | <34 characters<br><br>**Note**: Set in a cookie of your Rakuten Marketing-specific gateway page. Can include mixed-case letters, numbers, and special characters like `-`, `.`, `_`, `/`, and `*`. |\n| `properties.segment` | `segment` | <32 characters<br><br>**Note**: Represents the customer segment. |\n| `properties.shipcountry`  <br>`properties.ship_country` | `shipcountry` | <3 characters<br><br>**Note**: The country where the order is to be shipped. Must follow the ISO 3-character country code. |\n| `properties.shipped` | `shipped` | Should be present as `YYYYMMDD_HHMM` in the GMT 24-hour format.<br><br>**Note**: Expected date when the order will be shipped. |\n| `properties.sitename`  <br>`properties.site_name`  <br>`properties.url`  <br>`context.page.url` | `sitename` | <128 characters<br><br>**Note**: Identifier representing where the conversion took place like domain name of the site. Any special characters should be URL-encoded in the hex format. |\n| `properties.storeId`  <br>`properties.store_id` | `storeid` | <255 characters<br><br>**Note**: Represents the category of the store where the conversion occurred. |\n| `properties.storecat`  <br>`properties.store_cat`  <br>`properties.storeCategory`  <br>`properties.store_category` | `storecat` | \\-<br><br>**Note**: Represents the category name for the store where the conversion occurred. |\n\n### Item-level mappings\n\nRudderStack maps the following item-level properties to the Rakuten properties:\n\n| RudderStack property | Rakuten property | Limitations |\n| --- | --- | --- |\n| `product.$.sku`<br><br>Required | `skulist.$` | \\-  |\n| `product.$.amount`  <br>`product.$.(price*quantity)`<br><br>Required | `amtlist.$` | \\-  |\n| `product.$.quantity`<br><br>Required | `qlist.$` | \\-  |\n| `product.$.name`<br><br>Required | `namelist.$` | \\-  |\n| `product.$.brand` | `brandlist.$` | <255 characters. |\n| `product.$.coupon` | `couponlist.$` | \\-<br><br>**Note**: Holds a pipe-delimited list of item-level coupons applied to the order. Order of values in this list must match the order of values in `skulist`. Multiple item-level coupon codes are not allowed. |\n| `product.$.categoryId` | `catidlist.$` | <128 characters<br><br>**Note**: You can specify up to 5 category IDs per item separated by `>`. For example, `(1001>2001>3001)` |\n| `product.$.category` | `catlist.$` | <255 characters<br><br>**Note**: You can specify up to 5 category IDs per item separated by `>`. For example, `(ParentCat>ChildCat1>ChildCat2)` |\n| `product.$.discountAmount` | `disamtlist.$` | <9 characters<br><br>**Note**: Pipe delimited list of item-specific discount amounts formatted as a number. Values must match the order of values in `skulist`. |\n| `product.$.discountType` | `distypelist.$` | <256 characters<br><br>**Note**: Pipe delimited list of item-level discount types. Order of values must match of values in `skulist`. Special characters should be URL-encoded in hex format. |\n| `product.$.isClearance` | `isclearancelist.$` | Acceptable values are `Y` or `N`<br><br>**Note**: Pipe delimited list of flags indicating if the item is on clearance. Values must match the order of values in `skulist`. |\n| `product.$.isMarketPlace` | `ismarketplacelist.$` | Acceptable values are `Y` or `N`<br><br>**Note**: Pipe delimited list of flags indicating if the item is from a marketplace. Values must match the order of values in `skulist`. |\n| `product.$.isSale` | `issalelist.$` | Acceptable values are `Y` or `N`<br><br>**Note**: Pipe delimited list of flags indicating if the item is on sale. Values must match the order of values in `skulist`. |\n| `product.$.itmStatus` | `itmstatuslist.$` | <32 characters<br><br>**Note**: Pipe delimited list of item-level statuses. Order of values in this list must match the order of values in `skulist`. Possible values are `In-Stock`, `Back-Ordered`, etc. Special characters must be URL-encoded in hex format. |\n| `product.$.margin` | `marginlist.$` | <3 characters<br><br>**Note**: Pipe delimited list representing profit margin of the products. Order of values in this list must match the order of values in `skulist`. |\n| `product.$.markdown` | `markdownlist.$` | <6 characters<br><br>**Note**: Pipe delimited list representing markdown rate of an item. Order of values in this list must match the order of values in `skulist`. |\n| `product.$.sequence` | `sequencelist.$` | <4 characters.<br><br>**Note**: Identifies the sequence of items included in a shipment or return. |\n| `product.$.shipby` | `shipbylist.$` | <32 characters<br><br>**Note**: Pipe delimited list of strings identifying who shipped the item. Possible values are `Store` if the item is shipped from a physical store, `Fulfullment Vendor X` if shipped by a fulfillment partner, etc. Special characters must be URL-encoded in hex format. |\n| `product.$.shipID` | `shipidlist.$` | <32 characters<br><br>**Note**: Identifies a collection of items that are shipped or returned together. |\n| `product.$.taxexempt` | `taxexemptlist.$` | Acceptable values are `Y` or `N`<br><br>**Note**: Pipe delimited list of flags indicating if the item is tax-exempt. Rakuten then reduces the transaction amount by a defined tax rate. |\n\n## Discount reporting\n\nFor accurate discount reporting, make sure to report only product discounts or discounts that reduce a product subtotal. Do not include free shipping in the discount amount.\n\nSuppose a customer purchases 1 item of SKU A for $10.00 and 2 items of SKU B for $45.00 each and then redeems a 10% order-level discount. In that case, Rakuten provides two options for reporting discounts:\n\n*   Reduced item reporting (preferred)\n*   Discounts as SKU\n\n### Reduced item reporting\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Rakuten prescribes this reporting method for selected goods commissioning, that is, if you want to commission by product type.\n\nIn this case, you can adjust the reported amount value to reflect the applied discounts. In the above example, you can send the amounts in a `product` array as $9.00 and $81.00 respectively for the two SKUs.\n\nFor multiple item purchases, disperse the discounts accordingly among each value in the total amount value.\n\n### Discounts as SKU\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Rakuten prescribes this method if you intend to set the same commission on all goods.\n\nFor this reporting model, add an extra value to the `sku`, `quantity`, `amount`, and the product `name` fields that depict the discount.\n\n*   For `sku`, and `name`, use the string `Discount`.\n*   For `quantity`, use `0`.\n*   For `amount`, use the negative dollar value of the discount.\n\nA sample `track` event highlighting this method is shown:\n\n```\nrudderananlytics.track('event', {\n  products: [{\n      sku: 'sku1',\n      amount: '100'\n      quantity: 1\n    },\n    {\n      sku: 'Discount',\n      name: 'Discount',\n      amount: -10 // Total discount of 10\n      quantity: 0\n    }\n  ]\n})\n```\n\n## FAQ\n\n#### Why are products commissionable even if `iscomm` is set to `N` (no)?\n\nNote that `iscomm` is applicable for the entire order.\n\nEven if you have `iscomm=N` in the postback, the transaction is still commissionable in Rakuten. You need to explicitly set the dynamic commissioning rules (for example, if `iscomm` equals `N`, pay $0 commission) in the Rakuten dashboard to avoid paying commission for a particular order.\n\n#### How can I report a returned item in `Order Cancelled` or `Partially Cancelled` events?\n\nSuppose a customer returns two items of SKU A and one item of SKU B, the cancellation records would look like below:\n\n```\nrudderananlytics.track('event', {\n  orderId: \"ord123\",\n  land: 1133,\n  ranSiteId: \"846t21983y3-231824et12-e12-ey1208e12-14\",\n  cur: 'USD',\n  products: [{\n      sku: 'A',\n      amount: '-200'\n      quantity: 2,\n      name: 'name_1'\n    },\n    {\n      sku: 'B',\n      amount: -10\n      quantity: 1,\n      name: 'name_2'\n    }\n  ]\n})\n```\n\nNote that the quantity shows the number of returned items and price is negative, reflecting the return. Quantity is not a negative number for returns unless the price in the original order was zero.\n\nYou must also account for any discounts applied during the order cancellation. For reduced item discount reporting, note that:\n\n*   If you are using discount as a SKU option, send a cancellation record for the discount SKU item **in addition** to the regular SKUs of the order for cancellation.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Rakuten | RudderStack Docs",
  "description": "Send your event data from RudderStack to Rakuten.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/reddit/",
  "markdown": "# Reddit Destination | RudderStack Docs\n\nSend your event data from RudderStack to Reddit.\n\n* * *\n\n*     3 minute read  \n    \n\nReddit’s [Conversions API](https://reddit.my.site.com/helpcenter/s/article/Conversions-API) is a server-to-server solution for tracking and sharing your web conversion data with Reddit.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/reddit).\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Reddit**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Reddit as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   Under **Account Settings**, click **Create Account** > **Connect with Reddit**. Give RudderStack the necessary permissions to access your Reddit account.\n*   **Account ID**: Enter the [Pixel ID](#faq) of your Reddit Ads account that the conversion events belong to.\n*   **Hash Data**: This setting is turned on by default. RudderStack hash encrypts the event properties (for example, `email`, `userId`, `ip`, etc.) before sending them to Reddit.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are already hashing this data before sending it to RudderStack, make sure to turn off this setting.\n\n### Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Reddit:\n\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Reddit.\n\n### Event mapping settings\n\n*   **RudderStack to Reddit event mappings**: Click **Set up mapping** to map your RudderStack events to specific Reddit events. You can also use the JSON mapper to set these mappings.\n\n[![Reddit event mapping setting](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-event-mapping.webp)\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to record and send conversion events along with any associated properties to Reddit for processing.\n\nA sample `track` event sent to Reddit:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  revenue: 500,\n  currency: \"INR\",\n  conversionId: \"G53B1A44XQ\",\n  clickId: \"4583752045291814500\",\n  products: [{\n    product_id: \"item1\",\n    sku: \"9472-775-0112\",\n    name: \"Sample Item\",\n    price: 30,\n    position: 1,\n    category: \"Sample Items\"\n    url: \"https://www.website.com/sample-product/\",\n    image_url: \"https://www.website.com/product/path.jpg\",\n  }]\n}, {\n  traits: {\n    email: \"alex@example.com\",\n    userId: \"1hKOmRA4GRlm\",\n    firstName: \"Alex\",\n    lastName: \"Keener\"\n  }\n});\n```\n\nBy default, RudderStack maps the following standard [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) to Reddit’s `tracking_type` events:\n\n| RudderStack event | Reddit `tracking_type` event |\n| --- | --- |\n| `Product Viewed`  <br>`Product List Viewed` | `ViewContent` |\n| `Product Added` | `AddToCart` |\n| `Product Added to Wishlist` | `AddToWishlist` |\n| `Order Completed` | `Purchase` |\n| `Products Searched` | `Search` |\n\nYou can also use the [Event mapping settings](#event-mapping-settings) in the RudderStack dashboard to map your events to specific Reddit events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that if your events are not mapped and do not belong to the above standard RudderStack ecommerce events, RudderStack automatically sends it as a custom event and maps it to Reddit’s `Custom` tracking type.\n\n### Supported mappings\n\nRudderStack maps the following event properties in the `track` events to the corresponding Reddit fields:\n\n| RudderStack property | Reddit property |\n| --- | --- |\n| `event`  <br>Required | `tracking_type` as set in the dashboard or as per the above standard mapping. |\n| `event`  <br>Required | `custom_event_name` with `tracking_type` set to `Custom` |\n| `originalTimestamp`  <br>Required | `event_at` |\n| `properties.clickId` | `click_id` |\n| `traits.email`  <br>`context.traits.email` | `user.email` |\n| `context.ip`  <br>`request_ip` | `user.ip_address` |\n| `context.userAgent` | `user.user_agent` |\n| `context.device.advertisingId` | `user.idfa` OR `user.aaid` |\n| `properties.optOut` | `opt_out` |\n| `properties.conversionId`  <br>`messageId` | `event_metadata.conversion_id` |\n| `properties.currency` | `event_metadata.currency` |\n| `properties.products.$.category` | `event_metadata.products.$.category` |\n| `properties.products.$.product_id` | `event_metadata.products.$.id` |\n| `properties.products.$.name` | `event_metadata.products.$.name` |\n| `properties.revenue` | `event_metadata.value` |\n| `properties.products.$.quantity`  <br>`properties.quantity`  <br>`properties.item_count` | `event_metadata.item_count` |\n| `context. traits.userId` | user.external\\_id |\n| `properties.uuid` | `user.uuid` |\n| `context.screen.height` | `user.screen_dimensions.height` |\n| `context.screen.width` | `user.screen_dimensions.width` |\n\n## FAQ\n\n#### Where can I find the Pixel ID?\n\n1.  Log in to the [Reddit Ads Manager account](https://accounts.reddit.com/adsregister).\n2.  Select **Events Manager** from the drop-down menu in the top-left corner.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id-1.webp)\n\n3.  Select **Set Up Reddit Pixel** and choose from one of the below options according to your requirement:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/reddit-pixel-id.webp)\n\nBased on the selected option, you will find your Pixel ID on the next screen.\n\nSee [Reddit Pixel documentation](https://business.reddithelp.com/helpcenter/s/article/Install-the-Reddit-Pixel-on-your-website) for more information on setting up the Reddit Pixel.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Reddit Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Reddit.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/quantummetric/",
  "markdown": "# Quantum Metric | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Quantum Metric | RudderStack Docs",
  "description": "Send your event data from RudderStack to Quantum Metric.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/post-affiliate-pro/",
  "markdown": "# Post Affiliate Pro | RudderStack Docs\n\nSend your event data from RudderStack to Post Affiliate Pro.\n\n* * *\n\n*     5 minute read  \n    \n\n[Post Affiliate Pro](https://www.postaffiliatepro.com/) is a popular affiliate marketing software that lets you manage your affiliate programs, track their performance, and boost your lead generation efforts.\n\nRudderStack supports Post Affiliate Pro as a destination to which you can seamlessly send your customer data.\n\n## Getting started\n\nRudderStack supports sending event data to Post Affiliate Pro via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Based on your website’s content security policy, you might need to [allowlist the domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) you have defined in the **URL of Post Affiliate Pro** RudderStack dashboard setting to load the Post Affiliate Pro SDK successfully.\n\nOnce you have confirmed that your source platform supports sending events to Post Affiliate Pro, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **Post Affiliate Pro**.\n*   Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nThe connection settings required to configure Post Affiliate Pro as a destination in RudderStack are listed below:\n\n[![Post Affiliate Pro connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-1.webp)\n\n[![Post Affiliate Pro connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-2.webp)\n\n[![Post Affiliate Pro connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-connection-settings-3.webp)\n\n*   **URL of Post Affiliate Pro**: Enter your Post Affiliate Pro tracking URL here.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting the Post Affiliate Pro URL, refer to the [FAQ](#faq) section below.\n\n*   **Account ID**: Enter your network merchant account ID here.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Post Affiliate Pro owners will have this value set to `default1`.\n\n*   **Param Name User ID**: If you have changed the **Affiliate ID / Referrer ID** parameter value by going to **Configuration** - **URL Parameter Names** in your Post Affiliate Pro dashboard, this new value should be entered here.\n    \n*   **Cookie Domain**: Enter your cookie domain name here. You can find this setting by going to your Post Affiliate Pro dashboard and navigating to **Configuration** - **Cookies**:\n    \n\n[![Post Affiliate Pro cookie domain setting](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-cookie-domain.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-cookie-domain.webp)\n\n*   **Cookie to Custom Field**: Enter the ID of the field where the cookie will be written.\n    \n*   **Campaign to Custom Field**: Enter the ID of the field where the campaign value will be written.\n    \n*   **Affiliate to Custom Field**: Enter the ID of the field where the affiliate ID will be written.\n    \n\n#### Affiliate to Link settings\n\n*   **Affiliate Link ID**: Enter your affiliate link ID here, e.g. `affiliateId`. This refers to the ID of the DOM object where the Affiliate ID is added.\n    \n*   **AffiliateId Parameter Name**: Enter your affiliate ID parameter name, e.g. `a_aid`.\n    \n\nSuppose you set the **Affiliate Link ID** to `affiliateId` and **AffiliateId Parameter Name** to `aff_id`. Then, the anchor link of the domain where you want to send the affiliate/referrer ID will be converted from: `[](http://abcd.com)` to: `[\"id=\"affiliateId\">](http://abcd.com/?aff_id=<the_affiliate_id>)`.\n\n#### Cookie to Link settings\n\n*   **Cookie Link ID**: Enter your cookie link ID here. This refers to the ID of the DOM object where the cookie ID is added.\n    \n*   **Cookie Parameter Name**: Enter the cookie parameter name here.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> These settings are similar to the **Affiliate to Link** settings, except that the cookie will be written in place of the `affiliateId`.\n\n#### Event tracking settings\n\n*   **Merge Products**: This setting determines if RudderStack should merge the product information while making a sale call to Post Affiliate Pro. If disabled, an individual sale object will be created for each product.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Merging product information during sales tracking](#sales-tracking) section for more information on this feature.\n\n*   **Disable Tracking Method**: Disable this setting to disable flash cookie creation.\n    \n*   **List of Events for Click**: For [Clicks Tracking](https://support.qualityunit.com/417400-Clicks-referrals-tracking), RudderStack will consider only the events listed in this field.\n    \n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure the event names specified in this field are comma-separated.\n\n*   As this is a destination that supports sending events only via web device mode, the **Use device mode to send events** option will be always enabled.\n\nFinally, click **Next** to complete the setup. Post Affiliate Pro will now be enabled as a destination in RudderStack.\n\n## Identify\n\nYou can use the RudderStack `identify` method to set a unique customer ID. You can then use this ID to subsequently track the customer’s activities.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\n  \"user001\", // visitor Id\n);\n```\n\nRudderStack calls the `setVisitorId` function of the Post Affiliate Pro SDK and sets the user ID provided in the `identify` call:\n\n```\nPostAffTracker.setVisitorId(\"user001\");\n```\n\n## Track\n\nRudderStack supports two types of event tracking for Post Affiliate Pro:\n\n*   **Clicks tracking**: RudderStack initiates Post Affiliate Pro’s clicks tracking mechanism for the events that are explicitly specified in the **List of Events for Click** field, while setting up the integration.\n    \n*   **Sales tracking**: RudderStack initiates Post Affiliate Pro’s sales tracking only for the **Order Completed** event.\n    \n\n### Clicks tracking\n\nA sample `track` event for clicks tracking is as shown:\n\n```\nrudderanalytics.track(\n\"User Clicked\", //event name\n{\n      affiliateId: \"affiliate id\",\n      bannerId: \"banner id\",\n      campaignId: \"campaign id\",\n      channel: \"channel\",\n      data1: \"data1\",\n      data2: \"data2\",\n} //properties\n);\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The **User Clicked** event must be explictly specified in the **List of Events for Click** field. Otherwise, the event will be discarded.\n\nRudderStack maps the following properties to the Post Affiliate Pro click event properties:\n\n| **RudderStack Event Property** | **Post Affiliate Pro Property** |\n| --- | --- |\n| `data1` | `Data1` |\n| `data2` | `Data2` |\n| `affiliateId` | `AffiliateID` |\n| `bannerId` | `BannerID` |\n| `campaignId` | `CampaignID` |\n| `channel` | `Channel` |\n\n### Sales tracking\n\nIn case of sales tracking, RudderStack creates a Post Affiliate Pro `sale` object. For the properties in the event, RudderStack then calls the respective `sale` object function.\n\nA sample `Order Completed` event sent to Post Affiliate Pro sales tracking is shown below:\n\n```\nrudderanalytics.track(\n\"Order Completed\", //event name\n{\n      checkout_id: \"12345\",\n      order_id: \"1234\",\n      affiliation: \"aff_id\",\n      total: 17.45,\n      fixedCost: 20.5,\n      revenue: 15.0,\n      customCommision: 15,\n      campaign: \"campaignId\",\n      channel: \"channelId\",\n      coupon: \"ImagePro\",\n      currency: \"EUR\",\n      status: \"A\",\n      data1: \"something\",\n      data2: \"something\",\n      data3: \"something\",\n      data4: \"something\",\n      data5: \"something\",\n      doNotDeleteCookies: true,\n\n      products: [\n        {\n          product_id: \"123\",\n          sku: \"G-5\",\n          name: \"Product1\",\n          price: 14,\n          fixedCost: 20.5,\n          quantity: 1,\n          customCommision: 10.23,\n          category: \"Miscellaneous\",\n          currency: \"USD\",\n          commisionStatus: \"A\",\n          url: \"https://www.website.com/product/path\",\n          image_url: \"https://www.website.com/product/path.jpg\",\n        },\n        {\n          product_id: \"345\",\n          sku: \"F-5\",\n          name: \"Product2\",\n          price: 2.45,\n          fixedCost: 5.0,\n          quantity: 2,\n          customCommision: 10.50,\n          commisionStatus: \"A\",\n          category: \"General\",\n        },\n      ],\n} //properties\n);\n```\n\nWhen the **Merge Products** option is enabled while configuring the destination in the dashboard, RudderStack merges the product information and sends the `sale` object as seen in the Post Affiliate Pro dashboard below:\n\n[![Post Affiliate Pro sale object with combined product information](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-mergeproduct-true.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-mergeproduct-true.webp)\n\nIf this option is disabled, two separate `sale` objects are created and sent to Post Affiliate Pro:\n\n[![Post Affiliate Pro separate sale objects](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-mergeproduct-false.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-mergeproduct-false.webp)\n\n## FAQ\n\n#### Where do I get the Post Affiliate Pro URL?\n\nTo get your Post Affiliate Pro URL, follow these steps:\n\n1.  Log into your Post Affiliate Pro merchant website.\n2.  Then, click **Tools** and go to **Integration**.\n3.  Under **Main Integration Steps**, choose any one of the **Clicks tracking** or **Sales/Leads Tracking** options.\n4.  Finally, copy the `src` part as shown below:\n\n[![Post Affiliate Pro tracking URL](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-tracking-url.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pap-tracking-url.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Post Affiliate Pro | RudderStack Docs",
  "description": "Send your event data from RudderStack to Post Affiliate Pro.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/posthog/",
  "markdown": "# PostHog destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "PostHog destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to PostHog.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/posthog/setting-up-posthog/",
  "markdown": "# Set up PostHog | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up PostHog | RudderStack Docs",
  "description": "Set up PostHog as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/redis/",
  "markdown": "# Redis | RudderStack Docs\n\nSend events from RudderStack to Redis.\n\n* * *\n\n*     4 minute read  \n    \n\n[Redis](https://redis.io/) is an open source, in-memory data structure store. You can use it as a database and a message broker.\n\nRudderStack stores all traits of your user as a [Redis hash](https://redis.io/commands/hset), allowing you to access user profiles in real-time.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   This integration only accepts [Identify](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) calls. RudderStack ignores all other event types.\n> *   It is highly recommended that you keep your Redis instance within a private network and make it accessible to RudderStack.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/redis).\n\n## Getting started\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Redis**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Redis as a destination, you will need to configure the following settings:\n\n*   **Address**: Enter the address of your Redis instance.\n*   **Password**: Enter the password for your Redis instance.\n*   **Database**: Enter the database name of your Redis instance where RudderStack should store the user traits. You can use this setting to configure a different database in your Redis instance.\n*   **Cluster Mode**: Enable this setting if you’re connecting to a Redis cluster within a multi-node RudderStack setup.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that if you enable **Cluster Mode**:\n> \n> *   You need to specify multiple host addresses in a comma separated format in the **Address** field.\n> *   RudderStack automatically disables the **Database** option.\n\n*   **Secure**: Enable this setting to secure the TLS communication between RudderStack Redis client and your Redis server.\n    *   **Skip verify**: Enable this option to skip the client’s verification of the server’s certificate chain and host name. In this mode, TLS is susceptible to man-in-the-middle attacks. Use this option **only** for testing.\n    *   **CA certificate**: Enter the certificate which needs to be verified while establishing a secure connection. Skip this setting if the Root CA of your server can be verified with any client, for example, Elasticache.\n*   **Prefix**: By default, RudderStack stores user traits with the key `user:<user_id>`. You can specify an extra prefix to distinguish all RudderStack-stored keys.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Redis.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nRudderStack stores the user traits in the Redis instance configured in the [connection settings](#connection-settings). You can access the latest user traits by querying Redis for the key `user:<user_id>`.\n\nA sample `identify` call is shown below:\n\n```\n// Identify a user with name and title as traits\n\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  title: \"CEO\",\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `userId` is a required field for RudderStack to successfully send the `identify` events to Redis.\n\nThe following snippet highlights how it is stored in Redis:\n\n```\n// redis-cli\nredis> HGETALL user:1hKOmRA4GRlm\n1) \"name\"\n2) \"Alex Keener\"\n3) \"title\"\n4) \"CEO\"\n```\n\n### Nested properties\n\nIf your user traits have nested properties, RudderStack flattens them with `.` as the separator.\n\nConsider the following event:\n\n```\n// Identify a user with location as a trait\n\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  location: {\n    state: \"Texas\",\n    city: \"Austin\",\n  },\n})\n```\n\nRudderStack flattens the properties as follows:\n\n```\n// redis-cli\nredis> HGETALL user:1hKOmRA4GRlm\n1) \"location.state\"\n2) \"Texas\"\n3) \"location.city\"\n4) \"Austin\"\n```\n\n### Custom prefix\n\nIf you specify a prefix while setting up your Redis destination, RudderStack uses it to prefix all the keys.\n\nFor example, if you specify the prefix `rudderstack` in the RudderStack dashboard setting and send the following call:\n\n```\n// Identify a user with name and title as traits\n\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  age: 23,\n})\n```\n\nThe corresponding Redis CLI output is prefixed with `rudderstack` as shown below:\n\n```\n// redis-cli\nredis> HGETALL rudderstack:user:1hKOmRA4GRlm\n1) \"age\"\n2) 23\n```\n\n## FAQ\n\n#### How do I set up Redis on Docker with TLS support?\n\nTo enable a TLS endpoint for accessing Redis, run a `redis-stunnel` container with a link to your Redis container and expose the TLS port. For more details, see [redis-stunnel usage](https://hub.docker.com/r/runnable/redis-stunnel/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> *   Set **Common Name** to `localhost` while generating the CA certificate and server certificates.\n> *   Set the TLS endpoint of the `redis-stunnel` container as the **Address** in your [destination settings](#connection-settings).\n\nFor example, see the following Redis destination settings:\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/redis-example-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/redis-example-settings.webp)\n\nHere, `127.0.0.1:6380` is the address used while running containers locally with default values. You can specify the contents of the [generated `ca.pem` file](https://hub.docker.com/r/runnable/redis-stunnel/#:~:text=for%20accessing%20Redis.-,Usage,-The%20easiest%20setup) in the **CA certificate** field.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Redis | RudderStack Docs",
  "description": "Send events from RudderStack to Redis.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/posthog/posthog-device-mode/",
  "markdown": "# PostHog device mode | RudderStack Docs\n\nSend events to PostHog using RudderStack web device mode.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack lets you send your event data to PostHog via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n## Identify\n\nYou can use RudderStack’s [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user in PostHog.\n\nA sample `identify` call is as shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  first_name: \"Alex\",\n  last_name: \"Keener\",\n  email: \"alex@example.com\",\n  createdAt: \"2019-07-23T23:45:56.000Z\",\n})\n```\n\nRudderStack passes the user traits within the `identify` call to PostHog under the `$set` key according to the [PostHog Identify API](https://posthog.com/docs/api/post-only-endpoints#identify).\n\n## Track\n\nRudderStack’s [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture the user events along with their associated properties and send this data to PostHog.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"C324532\",\n  order_id: \"T1230\",\n  revenue: 16.98,\n  shipping: 3.0,\n  coupon: \"FY21\",\n  currency: \"INR\",\n  products: [\n    {\n      product_id: \"product-mixedfruit-jam\",\n      sku: \"sku-1\",\n      category: \"Food\",\n      currency: \"INR\",\n      value: 6.0,\n      typeOfProduct: \"Food\",\n      url: \"https://www.example.com/product/bacon-jam\",\n      image_url: \"https://www.example.com/product/bacon-jam.jpg\",\n    },\n  ],\n})\n```\n\nPostHog supports the RudderStack `track` call as type `capture.` and sends the user action as an event to PostHog according to the [PostHog Capture API](https://posthog.com/docs/api/post-only-endpoints#capture).\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your app’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page({\n  path: \"/best-seller/1\",\n  url: \"https://www.estore.com/best-seller/1\",\n  title: \"EStore Bestsellers\",\n  search: \"estore bestseller\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n})\n```\n\nIn the above example, RudderStack captures information related to the viewed page such as its path, URL, referrer, etc.\n\nFor the `page` call, RudderStack sends `$pageview` as an event to PostHog according to the [PostHog Page API](https://posthog.com/docs/api/post-only-endpoints#page).\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen with any additional relevant information about the screen.\n\nA sample `screen` call using RudderStack’s iOS SDK is shown below:\n\n```\n[[RudderClient sharedInstance] screen:@\"Home Screen\"\n            properties:@{@\"category\" : @\"launcher\"}];\n```\n\nIn the above snippet, RudderStack captures information related to the viewed screen such as its name and category.\n\nFor the `screen` call, RudderStack sends `$screen` as an event to PostHog according to the [PostHog Screen API](https://posthog.com/docs/api/post-only-endpoints#screen).\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to associate an identified user with a group, such as a company, organization, or an account.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It is mandatory to include `groupId` and `groupType` in your `group` calls to create or update the group details.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  groupType: \"Lead\",\n  name: \"Sample Group\",\n  total: 100\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you pass `name` in the group traits, then the group is created in PostHog with that `name`. Otherwise, it is created by the `groupId`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack removes the `groupType` field from the traits and passes them to PostHog as the group properties.\n\nIn device mode, RudderStack calls the [group analytics](https://posthog.com/docs/integrate/client/js#group-analytics) function to create a group in PostHog. It also uses the [PostHog Super Properties](https://posthog.com/docs/integrate/client/js#super-properties) to assign the group to an identified user.\n\nThe traits mapping is summarized in the following table:\n\n| RudderStack group trait | Updated group mapping disabled | Updated group mapping enabled |\n| --- | --- | --- |\n| `groupId`  <br>Required | `groupId` | `$group_key` |\n| `groupType`  <br>Required | `groupType` | `$group_type` |\n\n## Alias\n\nCalling [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) passes `userId` and `previousId` to the PostHog queue.\n\nA sample `alias` call in RudderStack is as shown:\n\n```\nrudderanalytics.alias(\"user01\", \"previous01\")\n```\n\nIn the above example, `previous01` gets mapped to `distinct id` in PostHog, while `user01` gets mapped to `alias` in PostHog.\n\nFor the `alias` call, RudderStack sends `$create_alias` as an event to PostHog according to [PostHog Alias API](https://posthog.com/docs/api/post-only-endpoints#alias).\n\n## Property mappings\n\nRudderStack also maps the following properties to the PostHog standard contextual properties:\n\n| RudderStack field | PostHog field |\n| --- | --- |\n| `context.os.name` | `$os` |\n| `context.page.url` | `$current_url` |\n| `url` | `$host` |\n| `context.page.path` | `$pathname` |\n| `context.screen.height` | `$screen_height` |\n| `context.screen.width` | `$screen_width` |\n| `context.library.name` | `$lib` |\n| `context.library.version` | `$lib_version` |\n| `timestamp`  <br>`originalTimestamp` | `$time` |\n| `context.device.id` | `$device_id` |\n| `request_ip`  <br>`context.ip` | `$ip` |\n| `timestamp`  <br>`originalTimestamp` | `$timestamp` |\n| `anonymousId` | `$anon_distinct_id` |\n| `userId`  <br>`anonymousId` | `distinct_id` |\n| `context.screen.density` | `$screen_density` |\n| `context.device.manufacturer` | `$device_manufacturer` |\n| `context.os.version` | `$os_version` |\n| `context.timezone` | `$timezone` |\n| `context.locale` | `$locale` |\n| `context.userAgent` | `$useragent` |\n| `context.app.version` | `$app_version` |\n| `context.device.name` | `$device_name` |\n| `context.network.carrier` | `$network_carrier` |\n| `context.app.name` | `$app_name` |\n| `context.device.model` | `$device_model` |\n| `context.app.namespace` | `$app_namespace` |\n| `context.app.build` | `$app_build` |\n| `properties.viewport_height` | `$viewport_height` |\n| `properties.viewport_width` | `$viewport_width` |\n| `context.page.loaded` | `$performance_page_loaded` |\n| `context.campaign.source` | `utm_source` |\n| `context.campaign.medium` | `utm_medium` |\n| `context.campaign.name` | `utm_campaign` |\n| `context.campaign.content` | `utm_content` |\n| `context.campaign.term` | `utm_term` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The PostHog SDK autogenerates the property `$insert_id` when you send event via the RudderStack device mode.\n\n## FAQ\n\n#### How can I prevent RudderStack from loading the PostHog SDK on my website?\n\nTo prevent RudderStack from loading the PostHog SDK on your website, you can [load the JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/) as shown:\n\n```\nrudderanalytics.load(\"WRITE_KEY\", \"DATA_PLANE_URL\", {\n  integrations: {\n    All: true,\n    POSTHOG: {\n      loadIntegration: false,\n    },\n  },\n});\n```\n\n#### How do I set the RudderStack event’s `anonymousId` as the PostHog `anonymous_id`?\n\nTo set `anonymousId` in your RudderStack event as the PostHog `anonymous_id`, call PostHog’s [`identify` function](https://posthog.com/docs/data/identify) using the RudderStack `anonymousId`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "PostHog device mode | RudderStack Docs",
  "description": "Send events to PostHog using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/posthog/posthog-cloud-mode/",
  "markdown": "# PostHog cloud mode | RudderStack Docs\n\nSend events to PostHog using RudderStack cloud mode.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack lets you send your event data to PostHog via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n## Identify\n\nYou can use RudderStack’s [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user in PostHog.\n\nA sample `identify` call is as shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  first_name: \"Alex\",\n  last_name: \"Keener\",\n  email: \"alex@example.com\",\n  createdAt: \"2019-07-23T23:45:56.000Z\",\n})\n```\n\nRudderStack passes the user traits within the `identify` call to PostHog under the `$set` key according to the [PostHog Identify API](https://posthog.com/docs/api/post-only-endpoints#identify).\n\n## Track\n\nRudderStack’s [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture the user events along with their associated properties and send this data to PostHog.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"C324532\",\n  order_id: \"T1230\",\n  revenue: 16.98,\n  shipping: 3.0,\n  coupon: \"FY21\",\n  currency: \"INR\",\n  products: [\n    {\n      product_id: \"product-mixedfruit-jam\",\n      sku: \"sku-1\",\n      category: \"Food\",\n      currency: \"INR\",\n      value: 6.0,\n      typeOfProduct: \"Food\",\n      url: \"https://www.example.com/product/bacon-jam\",\n      image_url: \"https://www.example.com/product/bacon-jam.jpg\",\n    },\n  ],\n})\n```\n\nPostHog supports the RudderStack `track` call as type `capture.` and sends the user action as an event to PostHog according to the [PostHog Capture API](https://posthog.com/docs/api/post-only-endpoints#capture).\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your app’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page({\n  path: \"/best-seller/1\",\n  url: \"https://www.estore.com/best-seller/1\",\n  title: \"EStore Bestsellers\",\n  search: \"estore bestseller\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n})\n```\n\nIn the above example, RudderStack captures information related to the viewed page such as its path, URL, referrer, etc.\n\nFor the `page` call, RudderStack sends `$pageview` as an event to PostHog according to the [PostHog Page API](https://posthog.com/docs/api/post-only-endpoints#page).\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen with any additional relevant information about the screen.\n\nA sample `screen` call using RudderStack’s iOS SDK is shown below:\n\n```\n[[RudderClient sharedInstance] screen:@\"Home Screen\"\n            properties:@{@\"category\" : @\"launcher\"}];\n```\n\nIn the above snippet, RudderStack captures information related to the viewed screen such as its name and category.\n\nFor the `screen` call, RudderStack sends `$screen` as an event to PostHog according to the [PostHog Screen API](https://posthog.com/docs/api/post-only-endpoints#screen).\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to associate an identified user with a group, such as a company, organization, or an account.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> It is highly recommended to include `groupId` and `groupType` in your `group` calls to create or update the group details.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  groupType: \"Lead\",\n  name: \"Sample Group\",\n  total: 100\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you pass the `name` in the group `traits`, then the group is created in PostHog with that `name`. Otherwise, it is created by the `groupId` (if present).\n\nFor the `group` call, RudderStack sends `$groupidentify` as an event to PostHog according to the [PostHog Group API](https://posthog.com/docs/api/post-only-endpoints#group).\n\n### Updated group mapping\n\nRudderStack lets you use the updated mapping feature for the `group` calls where it maps the group traits as event properties before sending them to PostHog. To use this feature, enable the **Use Updated Mapping for Group calls** setting in the RudderStack dashboard:\n\n[![PostHog group mapping setting](https://www.rudderstack.com/docs/images/event-stream-destinations/posthog-updated-group-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/posthog-updated-group-mapping.webp)\n\nBy default, the **Use Updated Mapping for Group calls** setting is disabled in the dashboard. In this case, RudderStack sends the group traits to PostHog as received without any modification, as shown in the following snippet:\n\n```\n{\n  \"version\": \"1\",\n  \"type\": \"REST\",\n  \"method\": \"POST\",\n  \"endpoint\": \"https://app.posthog.com/batch\",\n  \"headers\": {\n    \"Content-Type\": \"application/json\"\n  },\n  \"params\": {},\n  \"body\": {\n    \"JSON\": {\n      \"groupId\": \"groupId27\",\n      \"distinct_id\": \"sampleusrRudder7\",\n      \"traits\": {\n        \"groupType\": \"company\",\n        \"KEY_3\": {\n          \"CHILD_KEY_92\": \"value_95\",\n          \"CHILD_KEY_102\": \"value_103\"\n        },\n        \"name_trait\": \"Company\",\n        \"value_trait\": \"Company-ABC\"\n      },\n      \"messageId\": \"e5034df0-a404-47b4-a463-76df99934fea\",\n      \"event\": \"$group\",\n      \"api_key\": \"LNDs0JGdwbknNGolFc4HdoAE\",\n      \"type\": \"group\"\n    },\n  },\n}\n```\n\nWhen **Use Updated Mapping for Group calls** is enabled in the dashboard, RudderStack sends the group traits as event properties to PostHog:\n\n```\n{\n  \"version\": \"1\",\n  \"type\": \"REST\",\n  \"method\": \"POST\",\n  \"endpoint\": \"https://app.posthog.com/batch\",\n  \"headers\": {\n    \"Content-Type\": \"application/json\"\n  },\n  \"params\": {},\n  \"body\": {\n    \"JSON\": {\n      \"distinct_id\": \"sampleusrRudder7\",\n      \"messageId\": \"e5034df0-a404-47b4-a463-76df99934fea\",\n      \"properties\": {\n        \"$group_key\": \"groupId27\",\n        \"$group_type\": \"company\",\n        \"$group_set\": {\n          \"KEY_3\": {\n            \"CHILD_KEY_92\": \"value_95\",\n            \"CHILD_KEY_102\": \"value_103\"\n          },\n          \"name_trait\": \"Company\",\n          \"value_trait\": \"Comapny-ABC\"\n        },\n      },\n      \"event\": \"$group\",\n      \"api_key\": \"LNDs0JGdwbknNGolFc4HdoAE\",\n      \"type\": \"group\"\n    },\n  },\n}\n```\n\nThe mapping is summarized in the following table:\n\n| RudderStack group trait | Updated group mapping disabled | Updated group mapping enabled |\n| --- | --- | --- |\n| `groupId` | `groupId` | `$group_key` |\n| `groupType` | `groupType` | `$group_type` |\n| `traits` | `traits` | `$group_set` |\n\n## Alias\n\nCalling [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) passes `userId` and `previousId` to the PostHog queue.\n\nA sample `alias` call in RudderStack is as shown:\n\n```\nrudderanalytics.alias(\"user01\", \"previous01\")\n```\n\nIn the above example, `previous01` gets mapped to `distinct id` in PostHog, while `user01` gets mapped to `alias` in PostHog.\n\nFor the `alias` call, RudderStack sends `$create_alias` as an event to PostHog according to [PostHog Alias API](https://posthog.com/docs/api/post-only-endpoints#alias).\n\n## Property mappings\n\nRudderStack also maps the following properties to the PostHog standard contextual properties:\n\n| RudderStack field | PostHog field |\n| --- | --- |\n| `context.os.name` | `$os` |\n| `context.page.url` | `$current_url` |\n| `url` | `$host` |\n| `context.page.path` | `$pathname` |\n| `context.screen.height` | `$screen_height` |\n| `context.screen.width` | `$screen_width` |\n| `context.library.name` | `$lib` |\n| `context.library.version` | `$lib_version` |\n| `timestamp`  <br>`originalTimestamp` | `$time` |\n| `context.device.id` | `$device_id` |\n| `request_ip`  <br>`context.ip` | `$ip` |\n| `timestamp`  <br>`originalTimestamp` | `$timestamp` |\n| `anonymousId` | `$anon_distinct_id` |\n| `userId`  <br>`anonymousId` | `distinct_id` |\n| `context.screen.density` | `$screen_density` |\n| `context.device.manufacturer` | `$device_manufacturer` |\n| `context.os.version` | `$os_version` |\n| `context.timezone` | `$timezone` |\n| `context.locale` | `$locale` |\n| `context.userAgent` | `$useragent` |\n| `context.app.version` | `$app_version` |\n| `context.device.name` | `$device_name` |\n| `context.network.carrier` | `$network_carrier` |\n| `context.app.name` | `$app_name` |\n| `context.device.model` | `$device_model` |\n| `context.app.namespace` | `$app_namespace` |\n| `context.app.build` | `$app_build` |\n| `properties.viewport_height` | `$viewport_height` |\n| `properties.viewport_width` | `$viewport_width` |\n| `context.page.loaded` | `$performance_page_loaded` |\n| `context.campaign.source` | `utm_source` |\n| `context.campaign.medium` | `utm_medium` |\n| `context.campaign.name` | `utm_campaign` |\n| `context.campaign.content` | `utm_content` |\n| `context.campaign.term` | `utm_term` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "PostHog cloud mode | RudderStack Docs",
  "description": "Send events to PostHog using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/refiner/setting-up-refiner/",
  "markdown": "# Set up Refiner | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Refiner | RudderStack Docs",
  "description": "Set up Refiner as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/refiner/",
  "markdown": "# Refiner destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Refiner destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Refiner.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/refiner/refiner-cloud-mode/",
  "markdown": "# Refiner cloud mode | RudderStack Docs\n\nSend events to Refiner using RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Refiner via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a contact in Refiner.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To make an `identify` call successfully, either the `email` or `userId` is required.\n\n### Supported mappings\n\nThe following table lists the RudderStack attributes and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| `userId`  <br>Required, if email is absent. | `id` |\n| `properties.email`  <br>Required, if userId is absent. | `email` |\n| `traits`  <br>`context.traits` | traits |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events and send them to Refiner as `trackEvent` events. If a `track` event contains a `userId`, then Refiner updates the corresponding user’s information. Otherwise, it creates a new user.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Refiner does not store any additional properties sent with the `track` event.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  orderId: \"ORD122\",\n  price: \"5.67\",\n  currency: \"USD\",\n});\n```\n\nThe following table lists the RudderStack properties and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| `userId` | `id` |\n| event name | event |\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group, such as a company, organization, or an account. Note that Refiner associates all `group` traits with the `account` object associated with the user.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group@123\", {\n  name: \"Sample Company\",\n  employees: 1000,\n  industry: \"Software\",\n})\n```\n\nThe following table lists the RudderStack properties and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| `userId`  <br>Required | `id` |\n| `traits.email` | `account.email` |\n| `context.traits.email` | `email` |\n| `groupId` | `account.id` |\n| `traits` | `account` |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page and send this information to Refiner.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The behavior of the `page` call is the same as the [](#track)call described above. However, note that if you do not set the event name, RudderStack sets `pageView` as the event name by default.\n\nA sample `page` event is shown below:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"samplewebsite.com\",\n  search: \"some item\",\n  title: \"New Item\",\n  url: \"http://samplewebsite.in\",\n})\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Refiner cloud mode | RudderStack Docs",
  "description": "Send events to Refiner using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/profitwell/",
  "markdown": "# ProfitWell | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "ProfitWell | RudderStack Docs",
  "description": "Send your event data from RudderStack to ProfitWell.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/refiner/refiner-device-mode/",
  "markdown": "# Refiner device mode | RudderStack Docs\n\nSend events to Refiner using RudderStack web device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Refiner via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a contact in Refiner. RudderStack uses the `identifyUser` method to send this information to Refiner.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `userId` is required to make an `identify` call successfully.\n\n### Supported mappings\n\nThe following table lists the RudderStack attributes and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| `userId`  <br>Required | `id` |\n| `properties.email` | `email` |\n| `context.traits` | traits |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events and send them to Refiner as `trackEvent` events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Refiner does not store any additional properties sent with the `track` event.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  orderId: \"ORD122\",\n  price: \"5.67\",\n  currency: \"USD\",\n});\n```\n\nThe following table lists the RudderStack properties and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| event name  <br>Required | event |\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group, such as a company, organization, or an account. Note that Refiner associates all `group` traits with the `account` object associated with the user.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group@123\", {\n  name: \"Sample Company\",\n  employees: 1000,\n  industry: \"Software\",\n})\n```\n\nThe following table lists the RudderStack properties and their mappings with the Refiner properties:\n\n| RudderStack property | Refiner property |\n| --- | --- |\n| `userId`  <br>Required | `id` |\n| `traits.email` | `account.email` |\n| `context.traits.email` | `email` |\n| `groupId` | `account.id` |\n| `traits` | `account` |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page and send this information to Refiner.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The behavior of the `page` call is the same as the [](#track)call described above.\n\nA sample `page` event is shown below:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"samplewebsite.com\",\n  search: \"some item\",\n  title: \"New Item\",\n  url: \"http://samplewebsite.in\",\n})\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Refiner device mode | RudderStack Docs",
  "description": "Send events to Refiner using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/revenue-cat/",
  "markdown": "# Revenue Cat | RudderStack Docs\n\nSend your event data from RudderStack to Revenue Cat.\n\n* * *\n\n*     4 minute read  \n    \n\n[Revenue Cat](https://www.revenuecat.com/) is an in-app subscription platform that lets you analyze and grow your cross-platform app subscriptions.\n\nRudderStack supports Revenue Cat as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Revenue Cat as a destination in RudderStack, verify if the source platform is supported by Revenue Cat by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Revenue Cat, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Revenue Cat**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Revenue Cat as a destination, you will need to configure the following settings:\n\n[![Revenue Cat connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-connection-settings.webp)\n\n*   **Public API Key**: Enter your Revenue Cat public API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your Revenue Cat public API key, refer to the [FAQ](#faq) section below.\n\n*   **X-Platform**: Select your app platform from the dropdown.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nRudderStack uses the `identify` call to create or update new subscribers in Revenue Cat. It maps `userId` (a required trait in every event) to Revenue Cat’s `app_user_id` before sending the data via the [`subscribers`](https://docs.revenuecat.com/reference/subscribers) API.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\",{\n    email: \"alex@example.com\",\n    phone: \"+1-202-555-0146\",\n})\n```\n\n### Traits mapping\n\nRudderStack maps the following `identify` traits to the corresponding Revenue Cat attributes:\n\n| RudderStack trait | Revenue Cat attribute |\n| --- | --- |\n| `userId` (Required) | `app_user_id` |\n| `name` | `$displayName` |\n| `email` | `$email` |\n| `phone` | `$phoneNumber` |\n| `apnsTokens` | `$apnsTokens` |\n| `fcmTokens` | `$fcmTokens` |\n| `context.ip`, `request_ip` | `$ip` |\n| `appsflyerId` | `$appsflyerId` |\n| `iterableUserId` | `$iterableUserId` |\n| `mparticleId` | `$mparticleId` |\n| `onesignalId` | `$onesignalId` |\n| `airshipChannelId` | `$airshipChannelId` |\n| `clevertapId` | `$clevertapId` |\n\nThe following `identify` traits are also mapped to the corresponding Revenue Cat attributes:\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Revenue Cat **cannot modify** these attributes so you must send them **only once**.\n\n| RudderStack trait | Revenue Cat attribute |\n| --- | --- |\n| `idfa`/ `advertisingId` | `$idfa` |\n| `idfv`/ `device.id` | `$idfv` |\n| `gpsAdId` | `$gpsAdId` |\n| `advertisingId` | `$androidId` |\n| `campaign.name` | `$campaign` |\n| `creative` | `$creative` |\n| `keyword` | `$keyword` |\n| `mediaSource` | `$mediaSource` |\n| `ad` | `$ad` |\n| `addGroup` | `$adGroup` |\n| `adjustId` | `$adjustId` |\n| `fbAnonId` | `$fbAnonId` |\n| `iterableCampaignId` | `$iterableCampaignId` |\n| `iterableTemplateId` | `$iterableTemplateId` |\n| `mixpanelDistinctId` | `$mixpanelDistinctId` |\n| `amazonAdId` | `$amazonAdId` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The values for `iterableCampaignId` and `iterableTemplateId` must be valid non-negative, non-decimal integers. Otherwise, RudderStack will reject and skip these fields.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  userId: \"1hKOmRA4GRlm\",\n  currency: \"USD\",\n  fetch_token: \"12456\",\n  products: [{\n      product_id: \"123454387\",\n      name: \"Game\",\n      price: 15.99,\n      introductory_price: \"24\",\n      is_restore: true,\n      presented_offering_identifier: \"123\",\n    }\n  ],\n});\n```\n\n### Event mapping\n\nRudderStack maps the `Order Completed` event to Revenue Cat’s `Purchase` event before sending it across via the [`receipts`](https://docs.revenuecat.com/reference/receipts) API. To do so, RudderStack requires the `userId` (mapped to `app_user_id`) and `fetch_token` properties to be present in the event.\n\n### Property mapping\n\nRudderStack maps the following event properties to the corresponding Revenue Cat attributes:\n\n| RudderStack property | Revenue Cat attribute | Comments |\n| --- | --- | --- |\n| `userId` (Required) | `app_user_id` | \\-  |\n| `fetch_token` (Required) | `fetch_token` | This must be a Base64 encoded **receipt file** for iOS, **receipt token** for Android, **receipt** for Amazon, and **subscription token** in case of Stripe. |\n| `currency` | `currency` | \\-  |\n| `payment_mode` | `payment_mode` | \\-  |\n| `product_id`, `products.product_id` | `product_id` | This is required for Google and should be the Apple, Google, or Amazon SKU or product identifier. |\n| `price` | `price` | \\-  |\n| `introductory_price` | `introductory_price` | \\-  |\n| `is_restore` | `is_restore` | \\-  |\n| `presented_offering_identifier` | `presented_offering_identifier` | \\-  |\n\n## FAQ\n\n#### Where can I find the Revenue Cat public API key?\n\nTo find the Revenue Cat public API key, follow these steps:\n\n1.  Log into your [Revenue Cat dashboard](https://app.revenuecat.com/).\n2.  From the top navigation bar, go to **Projects** and select your app:\n\n[![Revenue Cat project in the dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-project.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-project.webp)\n\n3.  Under **Project settings**, select **API Keys**. You will find your public API keys under **Public app-specific API keys**:\n\n[![Revenue Cat public API key](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-public-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rev-cat-public-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Revenue Cat | RudderStack Docs",
  "description": "Send your event data from RudderStack to Revenue Cat.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/qualaroo/",
  "markdown": "# Qualaroo | RudderStack Docs\n\nSend your event data from RudderStack to Qualaroo.\n\n* * *\n\n*     4 minute read  \n    \n\n[Qualaroo](https://qualaroo.com/) is a customer survey and user feedback platform. It lets you survey your users to understand how they are using your product and what they think of it.\n\n## Getting started\n\nRudderStack supports sending events to Qualaroo via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** |     |     |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Qualaroo, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Qualaroo**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Qualaroo as a destination, you will need to configure the following settings:\n\n*   **Customer ID**: Enter your Qualaroo customer ID.\n*   **Site Token**: Enter your Qualaroo site token.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your Qualaroo customer ID and site token, refer to the [FAQ](#faq) section below.\n\n*   **Record Qualaroo Events**: Enable this setting to allow RudderStack to automatically record your Qualaroo callback events as `track` events. You can then view and analyze these events using other tools (connected to the same source in RudderStack). For more information, refer to the [Recording Qualaroo callback events](#recording-qualaroo-callback-events) section below.\n    *   **List of Events**: Select the list of events from dropdown which RudderStack automatically records as `track` events.\n    *   **Update Event Name in track call**: Enable this setting to update the event name in the `track` call.\n        *   **Mapping to update the Event Name in track call**: Use this setting to map your events with the standard Qualaroo callback events.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Qualaroo. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Qualaroo.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to send user-related information to Qualaroo.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"alex@example.com\", {\n  name: \"Alex Keener\",\n  age: 25\n})\n```\n\nRudderStack uses Qualaroo’s [Identity API](https://help.qualaroo.com/hc/en-us/articles/201956628-Using-the-Identity-API-call) method to send the user information.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If an empty string is passed as an identifier, Qualaroo considers the user to be an unknown visitor or a user with no account.\n\n### Supported mapping\n\nThe following table lists the mappings between the RudderStack and Qualaroo properties:\n\n| RudderStack property | Qualaroo property |\n| --- | --- |\n| `userId`  <br>`context.traits.email`  <br>`context.traits.userId`  <br>`context.traits.id` | `identify` |\n| `context.traits` | `traits` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to track user activities and send this information to Qualaroo.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Viewed\")\n```\n\nRudderStack maps the event name to Qualaroo’s `Triggered event` property. It then calls the `_kiq.push(['set', ...])` method and passes the trait as `Triggered event: event`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Qualaroo does not accept any `track` event properties.\n\n### Recording Qualaroo callback events\n\nYou can use the **Record Qualaroo Events** dashboard setting to allow RudderStack to automatically record your specified Qualaroo callback events as `track` events. You can then view and analyze these events using other tools (connected to the same source in RudderStack).\n\nUse the **List of Events** dashboard setting to specify the callback events to be automatically recorded:\n\n[![List of Qualaroo events to be recorded automatically](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-event-list.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-event-list.webp)\n\nRudderStack supports recording the following [Qualaroo callback events](https://help.qualaroo.com/hc/en-us/articles/201447336-Using-Event-Handler-Callbacks):\n\n| Event name | Description |\n| --- | --- |\n| `show` | When a survey is displayed. |\n| `close` | When a visitor submits the survey. |\n| `submit` | When a visitor replies to a question. |\n| `noTargetMatch` | When no surveys are set to fire. |\n\nYou can also map your `track` events to the standard Qualaroo callback events using the **Mapping to update the Event Name in track call** dashboard setting:\n\n[![Map events to standard Qualaroo events](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-update-event-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-update-event-name.webp)\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to send any page-related information to Qualaroo.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\nRudderStack concatenates the page’s `name` and `category` and maps it to Qualaroo’s `Viewed Page` property. It then calls the `_kiq.push(['set', ...])` method and passes the trait as `Viewed Page: name+category`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Qualaroo does not accept any `page` event properties.\n\n## FAQ\n\n#### Where can I find the Qualaroo customer ID and site token?\n\nTo get your Qualaroo customer ID and site token, follow these steps:\n\n1.  Log into your [Qualaroo dashboard](https://app.qualaroo.com/dashboard).\n2.  Click the **Install Code** option:\n\n[![Install code option in Qualaroo dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-install-code.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-install-code.webp)\n\n3.  Click **Paste code in website source code or GTM**.\n4.  In the **Copy the Code** section, look for `s.src` and note the mentioned URL:\n\n[![Qualaroo JavaScript URL](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-js-url.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/qualaroo-js-url.webp)\n\nSuppose your URL is `https://cl.qualaroo.com/ki.js/12345/j8N.js`, then `12345` is the customer ID and `j8N` is the site token.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Qualaroo | RudderStack Docs",
  "description": "Send your event data from RudderStack to Qualaroo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/profitwell/profitwell-web-device-mode/",
  "markdown": "# ProfitWell device mode | RudderStack Docs\n\nSend events to ProfitWell using RudderStack Web Device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to ProfitWell via the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), that is, using the native web SDK.\n\n## Getting started\n\nRudderStack supports sending event data to ProfitWell via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the ProfitWell native SDK is loaded from `https://public.profitwell.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the ProfitWell SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to ProfitWell, follow the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **ProfitWell**.\n*   Assign a name to the destination, and click **Next**. You will then see the following **Connection Settings** window:\n\n[![Profitwell connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-connection.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-connection.webp)\n\n### Connection Settings\n\nTo successfully configure ProfitWell as a Device Mode destination, enter the following connection settings:\n\n*   **Public API Key**: Enter your ProfitWell public API key here. To obtain the **Public API Key**, log into your ProfitWell account. Then, navigate to the **Account Settings** - **Integration** option. Here, you can get your API key under [API Keys/Dev Kit](https://www2.profitwell.com/app/account/integrations), as shown in the following image:\n\n[![Profitwell API key](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The **Private API Key** field is **not** required if you want to send the events via device mode.\n\n*   **Site Type**: Choose the site type from the dropdown. If the site type is **Web App**, then RudderStack will start the ProfitWell service either with `email` or `userId`. For the type **Marketing**, RudderStack will start the ProfitWell service anonymously.\n*   **Use device-mode to send events**: Enable this option to send events via the web [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The **Private API Key** field is **not** required if you want to send the events via device mode.\n\n*   Finally, click **Next** to complete the setup. ProfitWell should now be configured and enabled as a destination in RudderStack.\n\n## Identify\n\nFor the **Web App** site type, the `identify` call will start the ProfitWell Service using the customer’s `email`. If no email is provided, then RudderStack will start the service with the user’s `userId`. For the **Marketing** type, RudderStack will start the ProfitWell service anonymously.\n\nA sample `identify` call is as shown:\n\n```\n  rudderanalytics.identify( \"userId\", {email: \"sample@domain.com\"});\n```\n\nFor the `identify` call to trigger user engagements, you need to first create [Customers](https://www2.profitwell.com/app/customers) within ProfitWell.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "ProfitWell device mode | RudderStack Docs",
  "description": "Send events to ProfitWell using RudderStack Web Device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/",
  "markdown": "# Rockerbox | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Rockerbox | RudderStack Docs",
  "description": "Send your event data from RudderStack to Rockerbox.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/setting-up-rockerbox/",
  "markdown": "# Set up Rockerbox | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Rockerbox | RudderStack Docs",
  "description": "Set up Rockerbox as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/profitwell/profitwell-cloud-mode/",
  "markdown": "# ProfitWell cloud mode | RudderStack Docs\n\nSend events to ProfitWell using RudderStack Cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\n## Getting started\n\nRudderStack supports sending event data to ProfitWell via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to ProfitWell, follow the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **ProfitWell**.\n*   Assign a name to the destination, and click **Next**. You will then see the following **Connection Settings** window:\n\n[![Profitwell connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-connection.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-connection.webp)\n\n### Connection Settings\n\nTo successfully configure ProfitWell as a Cloud Mode destination, enter the following connection settings:\n\n*   **Private API Key**: Enter your ProfitWell private API key here. To obtain the **Private API Key**, log into your ProfitWell account. Then, navigate to the **Account Settings** - **Integration** option. Here, you can get your API key under [API Keys/Dev Kit](https://www2.profitwell.com/app/account/integrations), as shown in the following image:\n\n[![Profitwell API key](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To send events to ProfitWell via cloud mode, you don’t need to enter the **Public API Key**.\n\n*   Finally, click **Next** to complete the setup. ProfitWell should now be configured and enabled as a destination in RudderStack.\n\n## Identify\n\nThe `identify` call lets you create or update a subscription for a particular user.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\n  \"user0001\",\n  {\n    planId: \"Starter\",\n    email: \"axel@testmail.com\",\n    planInterval: \"month\",\n    effectiveDate: 1630645519,\n    planCurrency: \"USD\",\n    subscriptionAlias: \"starter_axel\",\n    value: \"2000\",\n    name: \"Axel Rose\",\n    age: 25,\n    phone: \"+911234665544\",\n  },\n  {\n    externalId: [\n      { type: \"profitwellSubscriptionId\", id: \"pws_psqfbi9zODBB\" },\n      { type: \"profitwellUserId\", id: \"pws_MS2g4ON214dU\" },\n    ],\n  }\n);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack passes the fields `profitwellUserId` and `profitwellSubscriptionId` as `externalId`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   The `externalId` of type `profitwellUserId` is mapped to ProfitWell’s `user_id` field.\n> *   The `externalId` of type `profitwellSubscriptionId` is mapped to ProfitWell’s `subscription_id` field.\n\n### Identify Mapping\n\nThis section lists the various criteria for mapping RudderStack fields to ProfitWell fields.\n\nThe following table lists all supported fields for **`Creating Subscriptions`** with their relative mapping to the ProfitWell fields:\n\n| **RudderStack Field** | **ProfitWell Field** |\n| --- | --- |\n| `userId` | `user_alias` |\n| `subscriptionAlias` | `subscription_alias` |\n| `email` | `email` |\n| `planId` | `plan_id` |\n| `planInterval` | `plan_interval` |\n| `planCurrency` | `plan_currency` |\n| `status` | `status` |\n| `value` | `value` |\n| `effectiveDate` | `effective_date` |\n\nThe following table lists all supported fields for **`Updating Subscriptions`** with their relative mapping to the ProfitWell fields:\n\n| **RudderStack Field** | **ProfitWell Field** |\n| --- | --- |\n| `planId` | `plan_id` |\n| `planInterval` | `plan_interval` |\n| `value` | `value` |\n| `status` | `status` |\n| `effectiveDate` | `effective_date` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> While creating a subscription, if `effectiveDate` is not provided in the `identify` call, then RudderStack takes the date from the event call’s `timestamp`/`originalTimestamp`.\n\nRudderStack discards the `identify` event in the following two scenarios:\n\n*   For a given `profitwellUserId`, a user account is not found in ProfitWell.\n*   For a given `profitWellUserId`, a `profitwellSubscriptionId` is not found.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you provide a `userId`(mapped to `user_alias` in ProfitWell) or a `subscriptionAlias` (mapped to `subscription_alias`) in the `identify` call, a new user subscription is created if it is not already present.\n\n## FAQ\n\n#### Where do I get the API Key for ProfitWell?\n\nTo obtain your ProfitWell **Private API Key**, log into your ProfitWell dashboard. Navigate to the **Account Settings** - **Integration** option. Here, you can get your API key under [API Keys/Dev Kit](https://www2.profitwell.com/app/account/integrations), as shown in the following image:\n\n[![Profitwell API key](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/profitwell-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "ProfitWell cloud mode | RudderStack Docs",
  "description": "Send events to ProfitWell using RudderStack Cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/rockerbox-cloud-mode/",
  "markdown": "# Rockerbox cloud mode | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Rockerbox cloud mode | RudderStack Docs",
  "description": "Send events to Rockerbox using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/satismeter/",
  "markdown": "# SatisMeter destination | RudderStack Docs\n\nSend your event data from RudderStack to SatisMeter.\n\n* * *\n\n*     4 minute read  \n    \n\n[SatisMeter](https://clarity.microsoft.com/) is a customer feedback collection tool. It helps you derive real-time insights on customer satisfaction and monitor your products’ performance.\n\nRudderStack supports SatisMeter as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to SatisMeter via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to SatisMeter, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **SatisMeter**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure SatisMeter as a destination, you will need to configure the following settings:\n\n*   **Write Key**: Enter your SatisMeter write key for authentication. For more information on obtaining the write key, refer to the [FAQ](#faq) section below.\n*   **Identify Anonymous Users**: Enable this setting to allow RudderStack to identify anonymous users using `anonymousId`.\n*   **Record SatisMeter Events**: Enable this setting to allow RudderStack to automatically record your SatisMeter events as [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events.\n    *   **List of Events**: Specify the list of events to be automatically tracked.\n    *   **Update Event Name in track call**: Enable this setting to update your `track` event names before sending them to other destinations.\n        *   **Mapping to update the event name in the track call**: Use this setting to map the standard SatisMeter events automatically recorded by RudderStack to custom `track` event names.\n\nFor more information on these settings, refer to the [Automatically recording SatisMeter events](#automatically-recording-satismeter-events) section below.\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to SatisMeter. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to SatisMeter.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user interacting with the SatisMeter survey.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You must send the `createdAt` trait in your `identify` calls to keep a record of how long the user has interacted with the survey.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  createdAt: \"2022-02-01T19:14:18.381Z\"\n});\n```\n\n### Supported mappings\n\nRudderStack maps the following `identify` traits to the corresponding SatisMeter properties:\n\n| RudderStack property | SatisMeter property |\n| --- | --- |\n| `userId`  <br>Required, if **Identify Anonymous User** setting is disabled in the dashboard. | `userId` |\n| [`anonymousId`](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/supported-api/#anonymous-id)  <br>If **Identify Anonymous User** setting is enabled in the dashboard. | `userId` |\n| `context.traits.createdAt`  <br>Required | `traits.createdAt` |\n| `context.traits` | `traits` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to [trigger a SatisMeter survey](https://support.satismeter.com/hc/en-us/articles/6980449391891-User-events).\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Response Submitted\")\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must send an `identify` call to identify a user before making a `track` call that records their survey interaction. Otherwise, SatisMeter maps this interaction to an anonymous user.\n\n### Supporting mappings\n\nRudderStack maps the following event properties to the corresponding SatisMeter properties:\n\n| RudderStack event/property | SatisMeter event/property | Data type |\n| --- | --- | --- |\n| `event`  <br>Required | `event` | String |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> SatisMeter does not accept any `track` event properties except the event name.\n\n### Automatically recording SatisMeter events\n\nIf you enable the **Record SatisMeter Events** setting in the dashboard, RudderStack automatically tracks and records the events listed in the **List of Events** fields as `track` events. You can then view and analyze these events using other tools (connected to the same source in RudderStack).\n\n[![SatisMeter write key](https://www.rudderstack.com/docs/images/event-stream-destinations/record-satismeter-events.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/record-satismeter-events.webp)\n\nIn the above image, RudderStack automatically records the standard SatisMeter events `Display`, `Complete`, `Progress`, and `Dismiss` as `track` events.\n\nYou can also update the standard SatisMeter event names by enabling the **Update Event Name in track call** dashboard setting and specifying the mapping:\n\n[![SatisMeter write key](https://www.rudderstack.com/docs/images/event-stream-destinations/satismeter-update-track-event-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/satismeter-update-track-event-name.webp)\n\nIn the above example, RudderStack renames the standard SatisMeter event `Complete` to `Survey Completed` before sending it to the other destinations.\n\n## FAQ\n\n#### Where can I find the SatisMeter write key?\n\nTo get your SatisMeter write key ID, follow these steps:\n\n1.  Log into your [SatisMeter dashboard](https://app.satismeter.com/).\n2.  Select your project and go to **Settings** > **Installation** to find your SatisMeter write key:\n\n[![SatisMeter write key](https://www.rudderstack.com/docs/images/event-stream-destinations/satismeter-write-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/satismeter-write-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "SatisMeter destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to SatisMeter.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sfmc/",
  "markdown": "# Salesforce Marketing Cloud | RudderStack Docs\n\nSend your event data from RudderStack to Salesforce Marketing Cloud.\n\n* * *\n\n*     8 minute read  \n    \n\n[Salesforce Marketing Cloud](https://www.salesforce.com/in/products/marketing-cloud/overview/) is a digital marketing automation and analytics tool. It lets you design personalized digital marketing campaigns to engage with users throughout their product journey.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/sfmc).\n\n## Prerequisites\n\nBefore configuring SFMC as a destination in RudderStack, make sure to:\n\n*   [Set up the data extensions](#create-data-extensions)\n*   [Generate the required credentials](#generate-credentials-to-send-data) for RudderStack to send data to SFMC.\n\n### Create data extensions\n\nIt is highly recommended to [create a data extension](https://help.salesforce.com/s/articleView?id=sf.mc_cab_create_a_new_data_extension.htm&type=5) to store the `identify` and `track` calls coming from RudderStack. You must also create the required attributes in your data extension for each trait (`identify` events) or properties (`track` events) before sending them to SFMC.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> SFMC ignores any traits/properties that are not mapped to the data extension attributes.\n\nFor example, if you send an event property like `\"phone\": \"+1-202-555-0146\"` but there is no matching phone column in your SFMC data extension, the property is ignored.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Create all the attributes in the data extension in title case regardless of the casing used for the trait/property names in your RudderStack `identify`/`track` events.\n> \n> RudderStack automatically formats the field names into title case before sending the events to SFMC.\n\nWhen creating data extensions, make sure to check the **Is Sendable** option if you want to send emails or push notifications based on your events.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-data-extension-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-data-extension-1.webp)\n\nThe primary key for the Identify data extension is called as the [contact key or subscriber key](https://help.salesforce.com/s/articleView?id=sf.mc_mp_use_case_subscriber_key.htm&type=5). You must add a primary key called **Contact Key** for your data extension before sending data to SFMC. RudderStack populates this field with the `userId` or `email` (if `userId` is absent) traits in the [`identify`](#identify) event.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-data-extension-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-data-extension-2.webp)\n\nFor `track` calls, you can set up different primary keys for various events. If you do not set any primary key, RudderStack sets the default primary key to **Contact Key**. You can specify multiple comma-separated primary keys if you have defined multiple primary keys in your data extension. See the following sections for more information:\n\n*   [Map `track` events to primary key](#mapping-events-to-primary-key)\n*   [Set UUID as primary key](#setting-uuid-as-primary-key)\n\n### Generate credentials to send data\n\n1.  In your [SFMC dashboard](https://mc.exacttarget.com/cloud/), go to **Apps** > **Installed Packages**.\n\n[![SFMC installed packages](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-installed-packages.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-installed-packages.webp)\n\n2.  Create a new package. Then, go to the package and click **Add Component**.\n\n[![Add new component in SFMC package](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-add-component.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-add-component.webp)\n\n3.  Choose **API Integration** as the component type and click **Next**.\n\n[![API Integration component type](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-component-type.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-component-type.webp)\n\n4.  Select the integration type as **Server-to-Server** and click **Next**.\n\n[![S2S Integration type](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-integration-type.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-integration-type.webp)\n\n5.  Note the client ID and secret for this package (listed under **API Integration**). Specify these credentials in the [connection settings](#connection-settings) while setting up the SFMC destination in RudderStack.\n\n## Get started\n\nRudderStack supports sending event data to Salesforce Marketing Cloud via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Salesforce Marketing Cloud, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Salesforce Marketing Cloud**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Salesforce Marketing Cloud as a destination, you need to configure the following settings:\n\n*   **Client ID**: Enter the client ID associated with your SFMC package.\n*   **Client Secret**: Enter the client secret for the package.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To retrieve the client ID and secret associated with your SFMC package, go to your [SFMC dashboard](https://mc.exacttarget.com/cloud/), click your name on the top right followed by **Setup** > **Apps** > **Installed Packages**, and select your installed package. The Client ID and Client Secret are listed under the **API Integration** section.\n\n*   **Subdomain**: Enter the subdomain associated with your SFMC account. The subdomain is a 28-character string starting with the letters `mc`. For example, if your **Authentication Base URI** is `https://mcxt4zx444ppr71jd9rp300hdc8y.auth.marketingcloudapis.com/`, then the subdomain is `mcxt4zx444ppr71jd9rp300hdc8y`.\n\n#### Identify call settings\n\n*   **Do not create or update contacts**: Enable this setting to disable creating or updating contacts in SFMC via an [`identify`](#identify) call.\n*   **Identify data external key**: Enter the external key of the SFMC data extension to which to you want to send data from the `identify` events. You can find the external key for your data extension in the SFMC dashboard by going to **Contact Builder** > **Data Extensions**.\n\n#### Track call settings\n\n*   **Map events to external key**: Use this setting to map your `track` events to an SFMC data extension. For more information on this setting, see [Map events to external key](#mapping-events-to-external-key).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you do not map an event to an external key and send the event to SFMC, you will receive an `\"Event not mapped for this track call\"` error.\n\n*   **Map events to Primary Key**: Use this setting to map your own primary key for a `track` event. For more information on this setting, see [Map events to primary key](#mapping-events-to-primary-key).\n*   **Map events to event definition key**: Use this setting to map your RudderStack event to a specific SFMC event definition key. For more information on this setting, see [Map events to primary key](#map-events-to-event-definition-key).\n*   **Event Name to UUID**: Use this setting to assign a UUID as the primary key for a specified event. For more information on this setting, see [Set UUID as primary key](#setting-uuid-as-primary-key).\n*   **OneTrust cookie categories**: Use this setting to associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to SFMC.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) event to create or update contacts in Salesforce Marketing Cloud.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack will not create or update contacts if you enable the **Do not create or update contacts** dashboard setting.\n\nThe following snippet demonstrates a sample `identify` call in RudderStack:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  title: \"CEO\",\n  email: \"alex@example.com\",\n  company: \"Alex's Company\",\n  phone: \"+1-202-555-0146\",\n  state: \"Texas\",\n  city: \"Houston\",\n  postalCode: \"12345\",\n  country: \"USA\",\n  street: \"6649 N Blue Gum Street\",\n  state: \"TX\",\n  createdAt: new Date().toJSON().slice(0, 10).replace(/-/g, \"/\")\n})\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note the following:\n> \n> *   You must include the `userId` or `email` trait in every `identify` call. Otherwise, the event will fail.\n> *   Salesforce Marketing Cloud does not permit colons (`:`) in its **Contact Key** field. Hence, you must remove any colons in your `userId` before sending the events.\n> *   Make sure you do not include nested objects in your events as SFMC cannot handle them.\n> *   SFMC accepts dates only in the ISO 8601 format and rejects any other datetime format.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Purchased\", {\n  product_id: \"ASIN3556\",\n  currency: \"USD\",\n  revenue: 77\n})\n```\n\n### Map events to external key\n\nRudderStack lets you send specific `track` events to your SFMC data extension to send events or push notifications using the **Map events to external key** dashboard setting. Enter the `track` event name and the external key for the corresponding SFMC data extension where you want to send the data. You can add mappings for multiple `track` events by clicking the **Add More** button.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can find the external key for your data extension in the SFMC dashboard by going to **Contact Builder** > **Data Extensions**.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-track-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-track-settings-1.webp)\n\n### Map events to primary key\n\nA primary key is required for all `track` events going to an SFMC data extension. Use the **Map events to primary key** dashboard setting to map a `track` event to your own primary key. You can add multiple primary keys by comma separating them.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   The primary key specified in the dashboard setting must match the primary key set in your SFMC data extension.\n> *   If you do not specify a primary key for a `track` event, RudderStack creates a primary key called `Contact Key` by default and maps it to the event’s `userId`. If `userId` is absent, RudderStack maps it to `email` instead.\n> *   The key specified in the dashboard settings should be present in your event properties.\n\n### Map events to event definition key\n\nUse the **Map events to event definition key** dashboard setting to map a `track` event to a specific event defintion key. RudderStack uses this setting to send the interaction events to SFMC by leveraging their [`/events`](https://developer.salesforce.com/docs/marketing/marketing-cloud/references/mc_rest_interaction/postEvent.html) endpoint.\n\nYou can find the event definition key in **Event Administration** section after you create and save the event in your SFMC dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure to include `id` and `email` in your `track` properties as these are mandatory Salesforce fields for the feature to work correctly.\n\n### Set UUID as primary key\n\nRudderStack lets you set an automatically-generated UUID as the primary key value for a `track` event. To do so, enter the event in the **Event Name** field under **Track Call Settings** and enable the **UUID** setting.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To add multiple events, click the **Add more** button and enable the corresponding **UUID** toggle.\n\nRudderStack automatically generates a UUID and passes it to SFMC as the value for a primary key called `Uuid` for those events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must set `Uuid` as a primary key in your data extension before using this feature.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-track-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/sfmc-track-settings-2.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The UUID will override the primary key defined for the event in the **Map events to primary key** setting.\n\n## Contextual field mappings\n\nRudderStack automatically collects the [contextual properties](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/#contextual-fields) and passes them to SFMC as data extension attributes. To use these fields, you must set the attributes in the SFMC data extensions with specific naming conventions.\n\nThe below table lists the mappings between the RudderStack contextual fields and the SFMC data extension attributes:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack automatically formats the attributes/properties in camel case or snake case to title case.\n\n| RudderStack contextual fields | SFMC attribute name |\n| --- | --- |\n| `app.name` | `App Name` |\n| `app.version` | `App Version` |\n| `app.build` | `App Build` |\n| `campaign.name` | `UTM Campaign` |\n| `campaign.source` | `UTM Source` |\n| `campaign.medium` | `UTM Medium` |\n| `campaign.term` | `UTM Term` |\n| `campaign.content` | `UTM Content` |\n| `locale` | `Locale` |\n| `userAgent` | `User Agent` |\n| `ip` | `IP Address` |\n| `device.adTrackingEnabled` | `Ad Tracking Enabled` |\n| `device.manufacturer` | `Device Manufacturer` |\n| `device.model` | `Device-model` |\n| `device.name` | `Device Name` |\n| `device.type` | `Device Type` |\n| `network.bluetooth` | `Bluetooth Enabled` |\n| `network.carrier` | `Network Carrier` |\n| `network.cellular` | `Cellular Enabled` |\n| `network.wifi` | `Wifi Enabled` |\n| `screen.density` | `Screen Density` |\n| `screen.height` | `Screen Height` |\n| `screen.width` | `Screen Width` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Salesforce Marketing Cloud | RudderStack Docs",
  "description": "Send your event data from RudderStack to Salesforce Marketing Cloud.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/salesforce/",
  "markdown": "# Salesforce destination | RudderStack Docs\n\nSend your event data from RudderStack to Salesforce.\n\n* * *\n\n*     7 minute read  \n    \n\n[Salesforce](https://www.salesforce.com/) is an industry leader in enterprise CRM. It offers a suite of enterprise applications revolving around marketing automation, customer engagement and support, application development as well as analytics.\n\nRudderStack lets you identify your leads in Salesforce without having to use the REST APIs.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/salesforce).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before you get started, note the following:\n> \n> *   RudderStack does not support dev instances of Salesforce. See [FAQ](#does-rudderstack-support-dev-instances-of-salesforce) for more information.\n> *   Creating a new Salesforce account to use with RudderStack is recommended to protect any confidential information in your existing Salesforce account. However, this is completely **optional**.\n> *   To give RudderStack the required API permissions, create a new user account in your Salesforce dashboard by going to **Setup** > **Administration Setup** > **Users** > **New User** and select **System Administrator** as the profile type.\n> *   For the above user, make sure the password policy is set to **Never expires** to avoid event delivery issues due to password expiration. See [Salesforce documentation](https://help.salesforce.com/s/articleView?id=sf.users_profiles_password_policies.htm&type=5) for more information on setting the password policy.\n> *   Make sure to **turn off** two-factor authentication for your Salesforce account. RudderStack will be unable to authenticate while making requests if 2FA is enabled.\n> *   Make sure the Salesforce objects are searchable and fields are creatable before sending events. Otherwise, it can result in errors during event transformation or delivery.\n\n## Getting started\n\nBefore configuring Salesforce as a destination in RudderStack, verify if the source platform is supported by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud** **mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Salesforce, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Salesforce**.\n2.  Assign a name to your destination and click **Next**.\n\n### Connection settings\n\nTo configure Salesforce as a destination in RudderStack, specify the following settings:\n\n*   **User Name**: Enter your Salesforce username in this field.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> **The Salesforce API does not support certain special characters in the username.**\n> \n> For example, if you create a secondary user with the email `alex.keener+rudder@domain.com`, Salesforce sets the username to that email address by default. However, to work with the Salesforce API you will need to remove the `+` sign from the username.\n\n*   **Password**: Enter the password associated with the Salesforce account.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> OAuth 2.0 username-password flow is blocked by default in new orgs to avoid any security risks.\n> \n> Make sure to toggle on the **Allow OAuth Username-Password Flows** setting to enable this flow for your org. For more information, see the [Salesforce documentation](https://help.salesforce.com/s/articleView?id=release-notes.rn_security_username-password_flow_blocked_by_default.htm&release=244&type=5).\n> \n> ![Salesforce OAuth flow setting](https://www.rudderstack.com/docs/images/event-stream-destinations/salesforce-oauth-flow.webp)\n\n*   **Security Token**: Enter your [Salesforce security token](https://help.salesforce.com/s/articleView?id=sf.user_security_token.htm&language=en_US&r=https%3A%2F%2Fwww.google.com%2F&type=5).\n*   **Map Rudder Properties to Salesforce Properties**: This setting is enabled by default and allows you to map the RudderStack event properties to the corresponding Salesforce fields.\n*   **Sandbox mode**: Enable this setting if you are using a [Sandbox environment](https://help.salesforce.com/articleView?id=sf.deploy_sandboxes_parent.htm&type=5) for the integration.\n*   **Use contact ID for converted leads**: Enable this setting if both the lead and contact field mappings are the same.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update leads in Salesforce.\n\nThe following code snippet demonstrates a sample `identify` call:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n  name: 'Alex Keener',\n  title: 'Mr.',\n  email: 'alex@example.com',\n  company: 'Google Inc.',\n  phone: '+1-202-555-0146',\n  rating: 'Hot',\n  city: 'New Orleans',\n  postalCode: '90002',\n  country: 'US',\n  street: 'Blue Gum Street',\n  state: 'LA'\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You don’t require a `userId` to create a lead in Salesforce.\n\nWhen you call `identify`, RudderStack checks if the lead already exists using the `email` property. If yes, the lead/contact is updated with the traits passed in the `identify` call. If not, a new lead is created in Salesforce.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> When you make an `identify` call with a set of user traits, RudderStack updates the appropriate record in Salesforce depending on whether it is a lead or a contact using its lead or contact ID.\n\n### Updating custom fields in Salesforce\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To update custom fields in Salesforce using RudderStack, make sure that you first create those fields in Salesforce before sending the data through RudderStack. For more information, see [Salesforce Help](https://help.salesforce.com/articleView?id=sf.adding_fields.htm&type=5) guide.\n\nAs the [Salesforce Leads API](https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_lead.htm) requires`lastName` and `company` to be present, absence of either of these fields will result in RudderStack automatically appending the `'n/a'` to both the fields - even if they have been specified in some previous request.\n\nFor example, if you want to collect a custom trait in RudderStack named `newProp`, create a field label named `newProp`. This will generate an API name as `newProp__c`. RudderStack automatically appends the `__c` to any custom trait.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> **Make sure the casing is consistent**.\n> \n> For example, if the custom fields are created in the camel case, then the traits must be sent to RudderStack in the camel case only.\n\n## Updating Salesforce objects\n\nYou can create or update any [Salesforce object](https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_list.htm) using the `identify` event. To specify the object type, follow the below schema.\n\nRudderStack looks for the key `externalId` under `context` and determines the Salesforce object type by removing the part `Salesforce-` from the field `type`. Further, it makes a `PATCH` request if there is an `id` present in the request to update the record. Otherwise, a new record is created.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You cannot send an `id` property when creating new records as it will cause an API failure.\n> \n> When creating new records, only provide the `type: \"Salesforce-Contact\"` portion of the `externalId` object.\n\nYou can pass multiple object types in a single request and RudderStack will create that many requests to Salesforce.\n\n```\nrudderanalytics.identify('123456',\n    {\n      FirstName: \"John\",\n      LastName: \"Gibbs\",\n      Email: \"john@peterson.com\"\n    },\n    {\n      externalId: [\n        {\n          type: \"Salesforce-Contact\",\n          id: \"sf-contact-id\"\n        }\n      ]\n    });\n```\n\nIn the example above, RudderStack updates the `Contact` object in Salesforce with `id` as `sf-contact-id` and sends the `traits` object to Salesforce.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack creates a `Lead` object in Salesforce and maps the `traits` to it, as mentioned above. For other objects, RudderStack does not modify the `traits`; they are sent to Salesforce as it is.\n\n## Supported mappings\n\nRudderStack supports and maps the event properties to several standard fields in Salesforce, as listed in the following table:\n\n| RudderStack property | Salesforce field |\n| --- | --- |\n| `address.accuracy` / `accuracy` | `Accuracy` |\n| `company.annualRevenue` | `AnnualRevenue` |\n| `address.city` / `city` | `City` |\n| `company.name` / `company` | `Company` |\n| `address.country` / `country` | `Country` |\n| `address.countryCode` / `countryCode` | `CountryCode` |\n| `convertedAccountId` | `ConvertedAccountId` |\n| `convertedContactId` | `ConvertedContactId` |\n| `convertedDate` | `ConvertedDate` |\n| `convertedOpportunityId` | `ConvertedOpportunityId` |\n| `createdById` | `CreatedById` |\n| `createdAt` / `createddate` | `CreatedDate` |\n| `description` | `Description` |\n| `email` | `Email` |\n| `emailBouncedDate` | `EmailBouncedDate` |\n| `emailBouncedReason` | `EmailBouncedReason` |\n| `firstName` | `FirstName` |\n| `geocodeAccuracy` | `GeocodeAccuracy` |\n| `id` | `Id` |\n| `company.industry` | `Industry` |\n| `individualId` | `IndividualId` |\n| `isConverted` | `IsConverted` |\n| `isDeleted` | `IsDeleted` |\n| `isUnreadByOwner` | `IsUnreadByOwner` |\n| `jigsaw` | `Jigsaw` |\n| `jigsawContactId` | `JigsawContactId` |\n| `lastActivityDate` | `LastActivityDate` |\n| `lastModifiedById` | `LastModifiedById` |\n| `lastModifiedDate` | `LastModifiedDate` |\n| `lastName` | `LastName` |\n| `lastReferencedDate` | `LastReferencedDate` |\n| `lastViewedDate` | `LastViewedDate` |\n| `address.latitude` / `latitude` | `Latitude` |\n| `LeadSource` | `LeadSource` |\n| `address.longitude` / `longitude` | `Longitude` |\n| `masterRecordId` | `MasterRecordId` |\n| `name` | `Name` |\n| `company.employee_count` | `NumberOfEmployees` |\n| `ownerId` | `OwnerId` |\n| `phone` | `Phone` |\n| `photoUrl` | `PhotoUrl` |\n| `address.postalCode` / `postalCode` | `PostalCode` |\n| `rating` | `Rating` |\n| `salutation` | `Salutation` |\n| `address.state` / `state` | `State` |\n| `address.stateCode` / `stateCode` | `StateCode` |\n| `status` | `Status` |\n| `address.street` / `street` | `Street` |\n| `systemModstamp` | `SystemModstamp` |\n| `title` | `Title` |\n| `website` | `Website` |\n\n## FAQ\n\n#### Which Salesforce Edition should I use to access the API?\n\nBefore connecting to the Salesforce API with RudderStack, make sure you are using the right Salesforce edition. You must have either the **Enterprise**, **Unlimited**, **Developer**, or **Performance** editions to access the API.\n\nFollow this [Salesforce help article](https://help.salesforce.com/articleView?id=000326486&type=1&mode=1) for more information.\n\n#### Where do I obtain the Security Token?\n\nYou can find your security token under **Setup** > **Personal Setup** > **My Personal Information** > [Reset My Security Token](https://na15.salesforce.com/_ui/system/security/ResetApiTokenEdit).\n\n#### How do I check the number of Salesforce API calls left for the day?\n\nTo check the number of Salesforce API calls, go to **Setup** > **Administration Setup** > **Company Profile** > **Company Information**. You should then be able to see a field called **API Requests, Last 24 Hours**, which contains the number of API calls left for the day.\n\n#### Does RudderStack support dev instances of Salesforce?\n\nNo, RudderStack does not support Salesforce dev instances currently.\n\nNote that the dev environments (for example, `https://companyabc-dev-ed-develop.lightning.force.com/`) are different from Salesforce’s [sandbox environments](#connection-settings).\n\n#### How to fix “No such column ‘X’ on sobject of type Y” errors?\n\nIf event delivery to Salesforce fails due to a provided field not existing - even though the field does exist - check the field-level security settings for that field in Salesforce.\n\nWhen the field is **not** marked as visible to the role your RudderStack Salesforce user is using, you will get this error. To fix it, make the field visible to the appropriate role.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Salesforce destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Salesforce.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rollbar/",
  "markdown": "# Rollbar | RudderStack Docs\n\nSend your event data from RudderStack to Rollbar.\n\n* * *\n\n*     3 minute read  \n    \n\n[Rollbar](https://rollbar.com/) is a real-time error tracking and monitoring tool. It helps you find and fix any errors in your code, including unhandled exceptions.\n\nRudderStack supports Rollbar as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to Rollbar via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Rollbar native SDK is loaded from `https://cdn.rollbar.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Rollbar SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Rollbar, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Rollbar**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Rollbar as a destination, you will need to configure the following settings:\n\n*   **Access Token**: Enter your Rollbar access token. For more information on obtaining your Rollbar access token, refer to the [FAQ](#faq) section below.\n*   **Capture Uncaught Exceptions**: This setting lets you record any uncaught exceptions from the `window.oneerror` toggle.\n*   **Capture Unhandled Rejections**: Enable this setting to capture and report any unhandled Promise rejections, for example, Promise failures.\n*   **Guess Uncaught Frames**: When this option is enabled, Rollbar guesses the frames in which an error was thrown. This is helpful in cases where the browser does not provide any line or column numbers.\n*   **Code Version**: Enter the version string, for example, a version number. This setting is applicable if you have enabled the **Source Maps** setting in Rollbar.\n\n*   **Environment**: Specify the environment in which your code is running. If you do not set any environment name, the events will be visible under the **unknown** environment in Rollbar.\n    \n*   **Ignored Messages**: Rollbar will ignore the exception messages added in this field. For example, you can ignore an exception message for a third-party browser plugin that is throwing errors.\n    \n*   **Source Map**: Enable this setting for Rollbar to perform efficient stack tracing and error grouping.\n    \n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Rollbar. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n    \n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n    \n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user in Rollbar.\n\nRudderStack sends the `userId` and all user `traits` present in the event to Rollbar along with all errors.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\",\n    name: \"Alex Keener\"\n  }\n);\n```\n\n## FAQ\n\n#### Where can I find the Rollbar access token?\n\nTo obtain the Rollbar access token, follow these steps:\n\n1.  Go to your [Rollbar dashboard](https://app.rollbar.com/).\n2.  Navigate to your project and add the Rollbar SDK to your project. From the list of options, select **Browser JS** and click **Continue**.\n\n[![Rollbar connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/rollbar-access-token-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rollbar-access-token-1.webp)\n\n3.  In the resulting **Installation** window, you can find your project’s access token:\n\n[![Rollbar connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/rollbar-access-token-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/rollbar-access-token-2.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Rollbar | RudderStack Docs",
  "description": "Send your event data from RudderStack to Rollbar.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/rockerbox-device-mode/",
  "markdown": "# Rockerbox device mode | RudderStack Docs\n\nSend events to Rockerbox using RudderStack web device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Rockerbox via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Find the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production/src/integrations/Rockerbox).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Z\", {\n    \"email\": \"alex@example.com\"\n})\n```\n\nThe following table lists the **optional** properties and their mappings between RudderStack and Rockerbox:\n\n| RudderStack property | Rockerbox property |\n| --- | --- |\n| `userId` | `external_id` |\n| `traits.email`/`context.traits.email` | `email` |\n| `traits.phone`/`context.traits.phone` | `phone_number` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The `userId` is the ID for a logged-in user. It is a first-party identifier that persists across sessions. A unique user ID is essential in a conversion pixel for capturing the new or returning user’s data. You can include as many user identifiers but only the first-party identifier should be passed to Rockerbox as `external_id`.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports the `track` call in both the cloud and device modes for Rockerbox integration. Refer to the [Hybrid mode](https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/setting-up-rockerbox/#hybrid-mode) for more information.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\n  \"Product Added\", {\n    product_id: \"00000\",\n    product_name: \"Pink bolognas\",\n    product_url: \"http://www.yourdomain.com/products/pink-bolognas\",\n  })\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nThe `page` call sends a `RB.track(\"view\")` event to Rockerbox by default, along with any additional properties.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\n  \"Cart\",\n  \"Cart Viewed\", {\n    title: \"new blank page\",\n    url: \"/pages/new\"\n  }\n);\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Rockerbox device mode | RudderStack Docs",
  "description": "Send events to Rockerbox using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sendinblue/setting-up-sendinblue/",
  "markdown": "# Set up Sendinblue | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Sendinblue | RudderStack Docs",
  "description": "Set up Sendinblue as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/segment/",
  "markdown": "# Segment destination | RudderStack Docs\n\nSend your event data from RudderStack to Segment.\n\n* * *\n\n*     3 minute read  \n    \n\n[Segment](http://segment.com/) is a leading Customer Data Platform (CDP). It lets you track and collect your customer events from a variety of digital touchpoints and send them to the marketing and analytics platforms of your choice.\n\nWith RudderStack, you can send your customer events to Segment in real-time.\n\n## Getting started\n\nTo enable sending data to Segment, you will first need to add it as a destination in the RudderStack dashboard. Once the destination is configured and enabled, events from RudderStack will start flowing to Segment.\n\nBefore configuring Segment in RudderStack, verify if the source platform supports sending events to RudderStack by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **\\-** | **\\-** | **\\-** |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\nThen, perform the steps below:\n\n*   Configure the data source in RudderStack.\n*   From the list of destinations, select **Segment**.\n\n[![](https://www.rudderstack.com/docs/images/2%20%2827%29.webp)](https://www.rudderstack.com/docs/images/2%20%2827%29.webp)\n\n*   Then, assign a name to the destination and click **Next**.\n\n[![](https://www.rudderstack.com/docs/images/3%20%2824%29.webp)](https://www.rudderstack.com/docs/images/3%20%2824%29.webp)\n\n*   Select the data source and click **Next**.\n\n[![](https://www.rudderstack.com/docs/images/4%20%2823%29.webp)](https://www.rudderstack.com/docs/images/4%20%2823%29.webp)\n\n*   Enter the Segment write key to configure the destination:\n\n[![](https://www.rudderstack.com/docs/images/5%20%2822%29.webp)](https://www.rudderstack.com/docs/images/5%20%2822%29.webp)\n\n*   To transform your event data before sending it to this destination, click **Create New Transformation**. Otherwise, click **Next**.\n\n[![](https://www.rudderstack.com/docs/images/6%20%2820%29.webp)](https://www.rudderstack.com/docs/images/6%20%2820%29.webp)\n\n*   Your Segment destination is now configured and enabled.\n\n[![](https://www.rudderstack.com/docs/images/7%20%2815%29.webp)](https://www.rudderstack.com/docs/images/7%20%2815%29.webp)\n\n## Identify\n\nThe `identify` call lets you associate a visiting user to their actions as well as record their traits.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> As a best practice, please make sure that the `identify`call is made at the start of every session or page load for logged-in users, if possible. This will ensure all latest traits are captured.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"userid\", {\n  name: \"Name Surname\",\n  email: \"name@website.com\",\n  phone: \"phone\",\n  birthday: \"birthday\",\n  gender: \"M\",\n  avatar: \"link to image\",\n  title: \"Owner\",\n})\n```\n\n## Track\n\nThe `track` call allows you to record the customer events, i.e. the actions that they perform, along with their associated properties.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Event Name\", {\n  Plan: \"plan value\",\n})\n```\n\n## Page\n\nThe `page` call lets you record your website’s page views, with any additional relevant information about the viewed page.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"test.com\",\n  search: \"term\",\n  title: \"test_item\",\n  url: \"http://test.in\",\n})\n```\n\n## Group\n\nThe `group` call lets you associate a particular identified user with a group, such as a company, organization, or an account. It also lets you record the custom traits associated with that group, such as the name of the group, number of employees, etc.\n\nA sample `group` call is as shown:\n\n```\nrudderanalytics.group(\"sample-group-id\", {\n  name: \"Example Company\",\n  employees: 1000,\n  industry: \"Software\",\n});\n```\n\n## Alias\n\nThe alias call allows you to associate one user identity with another. This is quite useful in case of some destinations such as Mixpanel (associating `anonymousId` with an identified user on signup) or Kissmetrics (when the user switches IDs).\n\nA sample `alias` call is as shown:\n\n```\nrudderanalytics.alias(\"to\", \"from\", options, callback)\n```\n\nThe above `alias` call has the following parameters:\n\n| **Parameter** | **Presence** | **Description** |\n| --- | --- | --- |\n| **`to`** | Required | Denotes the new identifier |\n| **`from`** | Optional | Denotes the old identifier which will be an alias for the `to` parameter. If not provided, the SDK will populate this as the currently identified `userId`, or `anonymousId` in case of anonymous users. |\n| **`options`** | Optional | This dictionary provides additional context to the event payload. |\n| **`callback`** | Optional | This function gets executed after successful execution of the **`alias()`** method. |\n\n## FAQ\n\n#### How do I get the Segment Write Key?\n\nTo get the Segment Write Key, you can create a HTTP source in your Segment dashboard.\n\nOnce you create the source, you can copy the **Write Key** for that source and use it in RudderStack for sending the data.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Segment destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Segment.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sendinblue/",
  "markdown": "# Brevo (previously Sendinblue) | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Brevo (previously Sendinblue) | RudderStack Docs",
  "description": "Send data from RudderStack to Brevo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sendgrid/",
  "markdown": "# SendGrid destination | RudderStack Docs\n\nSend your event data from RudderStack to SendGrid.\n\n* * *\n\n*     10 minute read  \n    \n\n[SendGrid](https://sendgrid.com/) is a cloud-based email marketing platform built for marketers and developers. It helps businesses deliver billions of transactional and marketing emails every month.\n\n## Getting started\n\nRudderStack supports sending event data to SendGrid via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to SendGrid, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **SendGrid**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure SendGrid as a destination, you will need to configure the following settings:\n\n*   **API Key**: Enter your SendGrid API Key. Refer to the [SendGrid documentation](https://docs.sendgrid.com/ui/account-and-settings/api-keys) for more information on obtaining the API Key.\n*   **Email Subject**: Enter the subject of the email. You can also send it via the `subject` field in the `track` call’s properties. For more information, refer to the [Track](#track) section below.\n*   **Template ID**: Enter the **Template ID** present in your [SendGrid dashboard](https://app.sendgrid.com/) > **Email API** > **Dynamic Templates**. You can also set the Template ID via the `templateId` field in the `track` call’s properties.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `templateId` in the `track` call gets higher priority over the **Template ID** specified in the RudderStack dashboard.\n\n*   **Get email ID from traits**: Enable this setting to let RudderStack search for the user’s `email` inside the user’s `traits`. If found, you can send an event to SendGrid without any `track` call properties.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is only useful when there are no properties in the `track` call. SendGrid requires either the `templateId` or `content` for a successful event delivery.\n\n*   **Reply-To Email**: Enter the email address where the email reply or bounce should be returned.\n*   **Reply-To Name**: Enter the user’s name associated with the above email address.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also send the email ID and name in the `replyTo` field in the `track` call’s properties. Note that these fields will override the **Reply-To Email** and **Reply-To Name** fields set in the RudderStack dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on how to send these details via the `replyTo` object, refer to the [replyTo](#replyto) section below.\n\n*   **IP Pool Name**: Enter your SendGrid IP Pool name. For detailed steps on creating an IP pool, refer to the [SendGrid documentation](https://docs.sendgrid.com/ui/account-and-settings/ip-pools#create-an-ip-pool).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The length of the IP Pool name must be between 2 and 64 characters.\n\n*   **SendGrid Contact List Id**: Enter the SendGrid’s contact list ID where you want to create a contact. Refer to the [SendGrid documentation](https://docs.sendgrid.com/api-reference/lists/get-all-lists) to use their API endpoint to retrieve all your contact lists with their IDs.\n*   **Map your traits to SendGrid custom fields**: Use this setting to map the RudderStack properties with SendGrid’s custom fields.\n\n#### From\n\n*   **Email ID**: Enter the user’s email address through which the email will be sent. For more information on creating a verified sender identity, refer to this [SendGrid documentation](https://docs.sendgrid.com/ui/sending-email/sender-verification).\n    \n*   **Name**: Enter the name associated with above email ID.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also include `email` and `name` inside the `from` object in the `track` call (shown below). Note that this will override the **Email** and **Name** fields specified in the RudderStack dashboard.\n\n```\nfrom:{\n    \"email\": \"test@email.com\",\n    \"name\": \"test\"\n}\n```\n\n#### Event names\n\n*   **Event**: Create the list of events for which RudderStack makes the `track` calls.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack **discards** any `track` call made with an event name that is not specified in this list.\n\n#### Content\n\n*   **Type**: Enter the type of value for the content of your email.\n*   **value**: Enter the actual value to be included in the email.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also send the `content` array via the `track` properties (shown below) which will override the dashboard settings.\n\n```\ncontent: [\n    {\n        \"type\": \"text/plain\",\n        \"value\": \"sample text\"\n    }\n]\n```\n\n#### Attachments\n\nUse the **Attachments** settings to specify any attachments you want to include in your email. The individual settings are as follows:\n\n*   **Content**: This should be a Base64-encoded string.\n*   **Type**: The attachment **type** contains the type of content you are attaching, for example, `\"text/plain\"`, `\"text/html\"`, etc.\n*   **Filename**: Use this setting to specify the attachment’s file name.\n*   **Disposition**: This option specifies how you would like the attachment to be displayed.\n*   **Content ID**: Use this option when **disposition** is set to `inline` and the attachment is an image.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> SendGrid requires that each attachment element must contain **content** and **filename**. The attachments can also be sent via the `track` call (shown below), which will override the dashboard settings.\n\n```\nattachments:[\n    {\n        \"content\": \"base64encodedString\",\n        \"filename\": \"index.html\",\n        \"type\": \"text/html\",\n        \"disposition\": \"attachment\"\n    }\n]\n```\n\n#### ASM\n\nThe **ASM** settings allow you to handle the user’s unsubscribing activity. The configurable options are:\n\n*   **Group ID**: This option specifies the unsubscribe group to associate with this email.\n*   **Groups**: This option contains the array of unsubscribing groups that would be displayed in the unsusbcribing preferences page.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> SendGrid requires that the **Group ID** should always be present if the `asm` object is to be sent.\n\n#### Email settings\n\n*   To include a default footer in every mail, enable the **Footer** option. When enabled, the **text** option contains the plain content of footer. The **HTML** contains the HTML content of footer.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The footer can also be sent via `track` properties (shown below), which will override the dashboard settings.\n\n```\nmailSettings:{\n    \"footer\": true,\n    \"footerText\": \"plain text\",\n    \"footerHtml\": \"html content\"\n}\n```\n\n*   To send a test mail and ensure everything is correct, you can enable the **Sandbox Mode** setting.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The sandbox mode can also be enabled or disabled via the `track` properties (shown below), which will override the dashboard setting.\n\n```\nmailSettings:{\n    \"sandboxMode\": true\n}\n```\n\n#### Tracking settings\n\nThe following table describes the various tracking settings to be configured in the RudderStack dashboard:\n\n| **Setting** | **Description** |\n| --- | --- |\n| **Click Tracking** | Allows you to track if a recipient clicked a link in your email. |\n| **Click Tracking enable text** | Indicates if this setting should be included in the text/plain portion of your email. |\n| **Open Tracking** | Allows you to track if the email was opened by including a single pixel image in the body of the content. |\n| **Substitution Tag** | When **Open Tracking** is enabled, this setting allows you to specify a substitution tag that you can insert in the email body at a specific location. |\n| **Subscription Tracking** | Allows you to insert a subscription management link at the bottom of your email’s text and HTML bodies. |\n| **Text** | When **Subscription Tracking** is enabled, this setting refers to the string to be appended to the email with the subscription tracking link. |\n| **HTML** | When **Subscription Tracking** is enabled, this is appended to the email with the subscription tracking link. |\n| **Substitution Tag** | Refers to the tag that will be replaced with the unsubscribe URL. |\n| **GAnalytics** | Allows you to enable Google Analytics tracking. |\n| **utm source** | Refers to the name of the referrer source, e.g. Google. |\n| **utm medium** | Refers to the name of the marketing medium, e.g. Email. |\n| **utm term** | This setting is used to identify any paid keywords. |\n| **utm content** | Allows you to differentiate your campaign from advertisements. |\n| **utm campaign** | Corresponds to the name of the campaign. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The **utm source**, **utm medium**, **utm term**, **utm content**, **utm campaign** options are associated with the **GAnalytics** setting on the dashboard.\n\nFinally, click **Next** to complete the setup. SendGrid will now be enabled as a destination in RudderStack.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a new contact in SendGrid based on their email ID. If the email ID already exists, RudderStack updates the contact details.\n\nRudderStack sends the `identify` events to SendGrid in a batch where the batch limit is 30000.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Z\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\"\n}, {\n  \"externalId\": [{\n    \"type\": \"listIds\",\n    \"id\": [\"037ae8d4-25b4-496e-adff-2fded15fd0c5\", \"137ae8d4-25b4-496e-adff-2fded15fd0c3\"]\n  }],\n});\n```\n\nYou can pass the SendGrid `listId` in any of the following ways:\n\n*   In the `externalId` object as shown in the above code snippet (takes the highest precedence)\n*   In the **SendGrid Contact List Id** RudderStack dashboard setting.\n\n### Supported mappings\n\nThe following table lists the property mappings betweeen RudderStack and SendGrid:\n\n| RudderStack property | SendGrid property |\n| --- | --- |\n| `email`  <br>Required | `email` |\n| `city` | `city` |\n| `country` | `country` |\n| `first_name` | `first_name` |\n| `last_name` | `last_name` |\n| `postal_code` | `postal_code` |\n| `state_province_region` | `state` |\n| `address_line_1` | `address` |\n| `phone_number` | `phone_number` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you send any custom field in the event payload, make sure it is present in SendGrid and mapped in the **Map your traits to SendGrid custom fields** RudderStack dashboard setting.\n\n### Deleting a user\n\nYou can delete a contact in SendGrid using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#adding-a-suppression-with-delete-regulation) of the RudderStack [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To delete a user, you must specify their `userId` in the event. Additionally, you can specify a custom identifier (optional) in the event.\n\nA sample regulation request body for deleting a user in SendGrid is shown below:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n      \"userId\": \"eab57ccf-6322-498e-9338-7761c6dc0656\"\n    },\n    {\n      \"userId\": \"47983ca9-7cc6-4942-8ff0-ac443g95658d\"\n    }\n  ],\n}\n```\n\n## Track\n\nThe `track` call lets you send an event to SendGrid along with its properties. **Note that the properties specified in the `track` call will override the settings specified in the RudderStack dashboard.**\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that SendGrid requires either the `templateId` or `content` to be present in the body. Otherwise, the event will be **discarded**.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track('testing',\n      {\n          \"personalizations\": [\n          {\n            \"to\": [\n              {\n                \"email\": \"recipient@email.com\",\n                \"name\": \"Name\"\n              }\n            ],\n            \"cc\": [\n                {\n                    \"email\": \"ccUser@gmail.com\",\n                    \"name\": \"CCUser\"\n                },\n                {\n                    \"email\": \"ccUser2@gmail.com\",\n                    \"name\": \"CCUser2\"\n                }\n            ],\n            \"subject\": \"subject\"\n          }\n        ],\n        \"from\": {\n            \"email\": \"test@email.com\",\n            \"name\": \"Name here\"\n        },\n        \"attachments\":[\n            {\n                \"content\": \"base64encodedString\",\n                \"filename\": \"index.html\",\n                \"type\": \"text/html\",\n                \"disposition\": \"attachment\"\n            }\n        ],\n        \"content\":[\n            {\n                \"type\": \"text/html\",\n                \"value\": \"<p>Hello</p>\"\n            }\n        ],\n        \"templateId\": \"value\",\n        \"headers\":{\n            \"key\": \"value\"\n        },\n        \"customArgs\":{\n            \"key\": \"value\"\n        },\n        \"categories\": [\"sample\",\"values\",\"here\"],\n        \"sendAt\": 1617260400,\n        \"batchId\": \"some valid batch ID\",\n        \"subject\": \"Subject Value\",\n        \"mailSettings\":{\n          \"bypassBounceManagement\": true,\n          \"bypassSpamManagement\": true,\n          \"bypassUnsubscribeManagement\": true,\n          \"footer\": true,\n          \"footerText\": \"text\",\n          \"footerHtml\": \"html\",\n          \"sandboxMode\": true\n        },\n        \"replyTo\":{\n          \"email\": \"testingreplyto@email.com\",\n          \"name\": \"Name\"\n        },\n        \"replyToList\":[\n            {\n                \"email\": \"test@gmail.com\",\n                \"name\": \"Test\"\n            }\n        ],\n        \"field1\": \"value\"\n  });\n```\n\nThe following sections highlight some important things to keep in mind while using the `track` call to send customer data to SendGrid.\n\n### `categories`\n\nSendGrid allows the `categories` array to have a maximum of 10 values.\n\n### `customArgs`\n\nIf `customArgs` is not provided in the `track` call, the non-default fields are taken as custom fields. In the sample `track` call above, `field1` will be mapped inside `customArgs`.\n\n### Email settings\n\nTo send the event to SendGrid successfully, the following points must be kept in mind:\n\n*   In the `mailSettings`, you cannot combine `bypassListManagement` with `bypassBounceManagement`, `bypassSpamManagement`, and `bypassUnsubscribeManagement`.\n    \n*   If `bypassListManagement` is present, then neither `bypassSpamManagement`, `bypassBounceManagement`, or `bypassUnsubscribeManagement` can be present.\n    \n\n### `personalizations`\n\nSendGrid requires that the `personalizations` array should be present in every event and each object must contain the field `to`.\n\n*   If the **Get email ID from traits** option is enabled in the RudderStack dashboard and the properties are not sent in track call, RudderStack will look for `email` in the event traits. If found, RudderStack will create a `personalizations` object and assign `email` to the `to` field.\n    \n*   In case both **Template ID** and **content** are not assigned in the dashboard settings, the event will **not** be sent as either of `templateId` or `content` is required.\n    \n\n### `replyTo`\n\nNote that SendGrid does not allow only `name` to be sent in the `replyTo` object. `email` must be present too, otherwise the `replyTo` object will be ignored.\n\nA sample `replyTo` object is as shown:\n\n```\nreplyTo:{\n    \"email\": \"test@email.com\",\n    \"name\": \"test\"\n}\n```\n\n### `asm`\n\nIt is mandatory to have the `groupId` field inside the `asm` object.\n\n### Event name\n\nAs mentioned in the [Connection settings](#connection-settings) section above, the event names for which a `track` call is made must be specified in the RudderStack dashboard. In the sample `track` call above, `testing` is the event name that should be configured in the RudderStack dashboard. Otherwise, this event will be discarded.\n\n### `content`\n\nEach object inside `content` array must contain the `type` and `value` fields. If these fields are absent, then the object will be dropped. However, note that the event will **not** be discarded.\n\n### `attachments`\n\nEach object inside attachments array must at least contain the `content` and `filename` fields. If these fields are absent, then the object will be dropped. However the event will **not** be discarded.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "SendGrid destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to SendGrid.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sendinblue/sendinblue-cloud-mode/",
  "markdown": "# Sendinblue cloud mode | RudderStack Docs\n\nSend events to Sendinblue using the RudderStack cloud mode.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack lets you send your event data to Sendinblue via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to add a contact in Sendinblue. If a contact already exists, RudderStack updates the contact details.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\n  \"alex@example.com\", {\n    firstName: \"Alex\",\n    lastName: \"Keener\",\n    phone: \"+12025550146\",\n    payment: 2,\n    age: 21,\n    location: \"USA\",\n  }, {\n    externalId: [{\n        type: \"sendinblueIncludeListIds\",\n        id: [1,2],\n      },\n    ],\n  }\n);\n```\n\n### Supported mappings\n\nThis section explains the property mappings for `identify` call made to perform different operations on contacts such as their creation, deletion, updation, etc.\n\n#### Create or update a contact\n\nThe following table details the property mappings between RudderStack and Sendinblue to [create or update a contact](https://developers.sendinblue.com/reference/createcontact):\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>Required, if phone number is not present. | `email` | String |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone`  <br>Required, if email is not present. | `attributes.SMS` | String |\n| `traits.newEmail`  <br>`context.traits.newEmail` | `attributes.EMAIL` | String |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `attributes.FIRSTNAME` | String |\n| `traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name`  <br>`traits.lastName` | `attributes.LASTNAME` | String |\n| `traits`  <br>`context.traits` | `attributes` | Object |\n| `integrations.sendinblue.emailBlacklisted` | `emailBlacklisted` | Boolean |\n| `integrations.sendinblue.smsBlacklisted` | `smsBlacklisted` | Boolean |\n| `context.externalId.id` _(when `context.externalId.type` = `sendinblueIncludeListIds`)_ | `listIds` | Int64 Array |\n\n#### Create contact via DOI (Double-opt-in) flow\n\nThe following table details the property mappings between RudderStack and Sendinblue to [create a contact via DOI flow](https://developers.sendinblue.com/reference/createdoicontact):\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>Required | `email` | String |\n| `context.externalId.id` _(when `context.externalId.type` = `sendinblueIncludeListIds`)_ Required | `includeListIds` | Int64 Array |\n| `context.externalId.id` _(when `context.externalId.type` = `templateId`)_  <br>OR  <br>`templatedId` _(defined in RudderStack dashboard)_ Required | `templateId` | Int64 (DOI template’s ID) |\n| Redirection URL _(defined in RudderStack dashboard)_ Required | `redirectionUrl` | URL |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone` | `attributes.SMS` | String |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `attributes.FIRSTNAME` | String |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `attributes.LASTNAME` | String |\n| `traits`  <br>`context.traits` | `attributes` | Object |\n\n#### Update a DOI contact\n\nThe following table details the property mappings between RudderStack and Sendinblue to [update a DOI contact](https://developers.sendinblue.com/reference/updatecontact):\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`context.externalId.id` _(when `context.externalId.type` = `sendinblueContactId`)_  <br>Required | `identifier` | String |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone` | `attributes.SMS` | String |\n| `traits.newEmail`  <br>`context.traits.newEmail` | `attributes.EMAIL` | String |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `attributes.FIRSTNAME` | String |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `attributes.LASTNAME` | String |\n| `traits`  <br>`context.traits` | `attributes` | Object |\n| `integrations.sendinblue.emailBlacklisted` | `emailBlacklisted` | Boolean |\n| `integrations.sendinblue.smsBlacklisted` | `smsBlacklisted` | Boolean |\n| `context.externalId.id` _(when `context.externalId.type` = `sendinblueIncludeListIds`)_ | `listIds` | Int64 array |\n| `context.externalId.id` _(when `context.externalId.type` = `sendinblueUnlinkListIds`)_ | `unlinkListIds` | Int64 array |\n\n#### Delete contact from list\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack uses this API to delete a contact from a given list **if** the **Create contact via Double-opt-in** setting is disabled in the dashboard and `sendinblueUnlinkListIds` is provided in the event’s `externalId` field.\n\nThe following table details the property mappings between RudderStack and Sendinblue to [delete a contact from list](https://developers.sendinblue.com/reference/removecontactfromlist):\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`traits.phone`  <br>`context.traits.phone`  <br>`properties.phone`  <br>Required, if contactID is not present. | `emails` | String |\n| `context.externalId.id` _(when `context.externalId.type` = `sendinblueContactId`)_ | `ids` | String |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to:\n\n*   **[Track event](https://tracker-doc.sendinblue.com/reference/trackevent-3)**: Capture events on your website along with (optional) extra information about the event.\n*   **[Track Link](https://tracker-doc.sendinblue.com/reference/tracklink-3)**: Capture clicks on your website along with (optional) extra information about the click.\n\nA sample `track` call is shown below:\n\n```\n// track events\nrudderanalytics.track(\"Card Created\", {\n  id: \"a4123c72-c6f7-4d8e-b8cd-4abb8a807891\",\n  products: [{\n      product_id: 1234,\n      product_name: \"Track Pants\",\n      amount: 1,\n      price: 220,\n    },\n    {\n      product_id: 5768,\n      product_name: \"T-Shirt\",\n      amount: 5,\n      price: 1058,\n    },\n  ],\n});\n\n//track link\nrudderanalytics.track(\"trackLink\", {\n  link: \"https://mail.google.com/mail/u/0/#inbox\",\n  subject: \"Email confirmation\",\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the track call to the **Track Link** endpoint if the event name is `trackLink` in the event payload. For any other event name, it sends the event to the **Track event** endpoint.\n\n### Supported mappings\n\nThis section explains the property mappings for `track` call to capture events and links on your website.\n\n#### Track event\n\nThe following table details the property mappings between RudderStack and Sendinblue for **Track event** endpoint:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`traits.phone`  <br>`context.traits.phone`  <br>`properties.phone`  <br>Required | `email` | String |\n| `event`  <br>Required | `event` | String |\n| `traits`  <br>`context.traits` | `properties` | Object |\n| `properties` | `eventdata.data` | Object |\n| Value of `integrations.sendinblue.propertiesIdKey` in `properties` | `eventdata.id` | String |\n\n#### Track Link\n\nThe following table details the property mappings between RudderStack and Sendinblue for **Track Link** endpoint:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`traits.phone`  <br>`context.traits.phone`  <br>`properties.phone`  <br>Required | `email` | String |\n| `properties.link`  <br>Required | `link` | String |\n| `properties` | `properties` | Object |\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to send any page-related information to Sendinblue.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n### Supported mappings\n\nThe following table details the property mappings between RudderStack and Sendinblue:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`traits.phone`  <br>`context.traits.phone`  <br>`properties.phone`  <br>Required | `email` | String |\n| `properties.url`  <br>`context.page.url`  <br>Required | `page` | String |\n| `properties.title`  <br>`context.page.title` | `properties.ma_title` | String |\n| `properties.path`  <br>`context.page.path` | `properties.ma_path` | String |\n| `properties.referrer`  <br>`context.page.referrer` | `properties.ma_referrer` | String |\n| `properties.name`  <br>`Page Viewed` | `properties.sib_name` | String |\n| `properties` | `properties` | Object |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Sendinblue cloud mode | RudderStack Docs",
  "description": "Send events to Sendinblue using the RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sendinblue/sendinblue-device-mode/",
  "markdown": "# Sendinblue device mode | RudderStack Docs\n\nSend events to Sendinblue using the RudderStack device mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Sendinblue via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify the users who visited your website. You can also use it to trigger a workflow in Sendinblue, for example, adding all identified contacts to a list.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9\", {\n  email: \"alex@example.com\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  phone: \"+12025550146\",\n  payment: 2,\n  age: 21,\n  location: \"USA\",\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The Sendinblue tracker writes the `sib_cuid` cookie on your domain to track the user activity. As a result, you can create only one contact per session in Sendinblue using the `identify` call and update the same contact in that session. To create a new contact, you must clear the `sib_cuid` cookie first or use a different browser.\n\n### Supported mappings\n\nThe following table details the property mappings between RudderStack and Sendinblue:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `context.traits.email`  <br>`context.traits.Email`  <br>`context.traits.E-mail`  <br>Required | `email` | String |\n| `context.traits` | `properties` | Object |\n| `context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `properties.FIRSTNAME` | String |\n| `context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `properties.LASTNAME` | String |\n| `context.traits.phone`  <br>`context.traits.Phone` | `properties.SMS` | String (valid mobile number  <br>with country code) |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events along with their associated properties.\n\nA sample `track` call is as shown below:\n\n```\nrudderanalytics.track(\n  \"Order Delivered\", {\n    orderId: \"123\",\n    products: [{\n        product_id: 1234,\n        product_name: \"Track Pants\",\n        amount: 1,\n        price: 220,\n      },\n      {\n        product_id: 5768,\n        product_name: \"T-Shirt\",\n        amount: 5,\n        price: 1058,\n      },\n    ],\n  }, {\n    integrations: {\n      All: true,\n      sendinblue: {\n        propertiesIdKey: \"orderId\",\n      },\n    },\n  }\n);\n}\n```\n\n### Supported mappings\n\nThe following table details the property mappings between RudderStack and Sendinblue:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `event`  <br>Required | `event` | String |\n| `context.traits` | `properties` | Object |\n| `context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `properties.FIRSTNAME` | String |\n| `context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `properties.LASTNAME` | String |\n| `context.traits.phone`  <br>`context.traits.Phone` | `properties.SMS` | String |\n| `properties` | `event.data` | Object |\n| Value of `integrations.sendinblue.propertiesIdKey` in `properties`  <br>OR  <br>`messageId` | `event.id` | String |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also send the user traits to Sendinblue via the `track` call by enabling the **Send user traits in track call** setting in the RudderStack dashboard.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This section is applicable for the `identify` and `track` calls.\n\nSendinblue provides various [contact attributes](https://help.sendinblue.com/hc/en-us/articles/209499605-What-are-the-different-types-of-contact-attributes-) which you can use to personalize your communication with your contacts. You can find them in the [Contact Attributes](https://my.sendinblue.com/lists/add-attributes) section in the Sendinblue dashboard where `FIRSTNAME`, `LASTNAME`, and `SMS` are the default contact attributes.\n\nYou can also map the traits in RudderStack’s payload to Sendinblue’s contact attributes using the **Map your traits to Sendinblue contact attributes** setting in the RudderStack dashboard.\n\nIf a contact attribute is **not** present in Sendinblue but you send it in the `identify` call’s traits, it can be used only in the [Automation app](https://automation.sendinblue.com/) unless you [add them as contact attributes](https://my.sendinblue.com/lists/add-attributes).\n\nFor example, the following sample code will create (or update) the user `alex@example.com` with firstname `Alex` and lastname `Keener`, and create three properties (`payment`, `age`, and `location`) that can be used only in the Marketing Automation workflows unless you also add them as your contact attributes.\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9\", {\n  email: \"alex@example.com\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  payment: 2,\n  age: 21,\n  location: \"USA\",\n});\n```\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to send any page-related information to Sendinblue.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n### Supported mappings\n\nThe following table details the property mappings between RudderStack and Sendinblue:\n\n| RudderStack property | Sendinblue property | Data type |\n| --- | --- | --- |\n| `name` | `page_name` | String |\n| `properties` | `properties` | Object |\n| `properties.url`  <br>`context.page.url` | `ma_url` | String |\n| `properties.path`  <br>`context.page.path` | `ma_path` | String |\n| `properties.title`  <br>`context.page.title` | `ma_title` | String |\n| `properties.referrer`  <br>`context.page.referrer` | `ma_referrer` | String |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Sendinblue device mode | RudderStack Docs",
  "description": "Send events to Sendinblue using the RudderStack device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/shynet/",
  "markdown": "# Shynet | RudderStack Docs\n\nSend your event data from RudderStack to Shynet.\n\n* * *\n\n*     3 minute read  \n    \n\nShynet is an open source self-hosted web analytics platform which works without cookies and is privacy-friendly.\n\nRudderStack supports Shynet as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Shynet as a destination in RudderStack, verify if the source platform is supported by Shynet by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Shynet, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Shynet**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Shynet as a destination, you will need to configure the following settings:\n\n[![Shynet connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings.webp)\n\n*   **Heart Beat**: This is a **device mode** only setting. Enter the time (in ms) to send a ping request. The default value is 5000 ms.\n*   **Shynet Script URL**: Enter the script URL generated by Shynet for your service.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your Shynet script URL, refer to the [FAQ](#faq) section below.\n\n### Client-side events filtering\n\n[![Shynet connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings-2.webp)\n\nThis setting lets you specify which events should be blocked or allowed to flow through to Shynet.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This option is applicable only if you’re sending events to Shynet via web device mode. Refer to the [Client-side Event Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information on this feature.\n\n### Web SDK settings\n\n[![Shynet connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-connection-settings-3.webp)\n\nThese settings are applicable only if you are sending events to Shynet via web device mode.\n\n*   **Use device-mode to send events**: Enable this setting to send events from the JavaScript SDK to Shynet via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n    \n*   **OneTrust Cookie Categories**: Use this setting to map [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) to RudderStack’s consent purposes.\n    \n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\n### Cloud mode\n\nA sample `page` call for [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) is shown below:\n\n```\nrudderanalytics.page(\"HomePage\", {\n  loadTime: 55\n}, {\n  context: {\n    page: {\n      url: 'www.site.com'\n    }\n  }\n});\n```\n\nThe following table lists the mappings between RudderStack and Shynet properties:\n\n| RudderStack property | Shynet property | Presence | Data type |\n| --- | --- | --- | --- |\n| `context.page.url` | `location` | Required | String |\n| `context.page.referrer` | `referrer` | Optional | String |\n| `properties.loadTime` | `loadTime` | Optional | Integer |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Although the `context.page.url` is a required property, it is taken as the URL of the current page automatically by `rudderanalytics`, if not specified.\n\n### Device mode\n\nA sample `page` call for [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) is shown below:\n\n```\nrudderanalytics.page(\"Home\");\n```\n\n## FAQ\n\n#### Where can I find the Shynet script URL?\n\nTo find the Shynet script URL, follow these steps:\n\n1.  Log into your Shynet dashboard.\n2.  From **Services**, select your service and click **Manage**.\n3.  Copy the script URL:\n\n[![Shynet script url](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-script-url.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/shynet-script-url.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Shynet | RudderStack Docs",
  "description": "Send your event data from RudderStack to Shynet.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sentry/",
  "markdown": "# Sentry | RudderStack Docs\n\nSend your event data from RudderStack to Sentry.\n\n* * *\n\n*     4 minute read  \n    \n\n[Sentry](https://sentry.io/about/) is a popular error monitoring and reporting tool. It is open source and enables you to monitor and track real-time errors and crashes in your app.\n\nRudderStack supports Sentry as a destination to which you can send your event data directly.\n\n## Getting started\n\nRudderStack supports sending event data to Sentry via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Sentry native SDK is loaded from `https://browser.sentry-cdn.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Sentry SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Sentry, follow these steps:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, select **Sentry** from the list of destinations.\n*   Assign a name to the destination and click **Next**. You will then see the following screen:\n\n[![Configuration settings for sentry](https://www.rudderstack.com/docs/images/sentry.webp)](https://www.rudderstack.com/docs/images/sentry.webp)\n\nConfiguration Settings for Sentry\n\n### Connection Settings\n\nTo successfully configure Sentry as a destination, configure the following settings:\n\n*   **Public DSN:** Enter the public DSN of your Sentry project here. **This is a mandatory field**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section below for more information on getting your public DSN.\n\n*   **Environment:** Enter the value you want RudderStack to set as the environment configuration in your Sentry dashboard. For more information on the use of environments in Sentry, refer to their [documentation](https://docs.sentry.io/product/sentry-basics/environments/#creating-environments).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you enter the value for the **Environment** field as a forward slash (`/`), new line character, space ( ), or the string `None`, Sentry will silently discard the environment configuration information without sending any error.\n\n*   **Set Release By Property:** This field helps you dynamically track the application version in Sentry. The property set here will be searched in the global window object. If found, RudderStack will use that particular version. Otherwise, the value set in the **Release** field will be used by default.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Suppose you have set the **Set Release By Property** field to the value `new_custom_version` and RudderStack finds `window.new_custom_version=2.4.5` in the `window` object. In this case, RudderStack will send the value `2.4.5` as the app version to Sentry. Otherwise, it will look for the value input in the **Release** field and send it as the app version.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Sentry needs the `release` value for every single session. If neither **Set Release By Property** or **Release fields** are specified in the dashboard while configuring the destination, the particular session will be discarded.\n\n*   **Release:** This field is used for tracking your application’s version in Sentry.\n*   **Server Name:** This option is used to track the host on which the client is running. You can enter the server name or even the Device ID in this field.\n*   **Logger:** The name you want Sentry to use as logger. For more information on Sentry’s logging feature, refer to their [docs](https://docs.sentry.io/platforms/python/guides/logging/).\n*   **Ignore Errors:** This option refers to a list of error messages that you do not want Sentry to notify you. You can enter this list as a string or a regular expression.\n*   **Include Paths:** This field should contain the regex patterns of URLs that are part of the app in the stack trace. The other frames will appear as collapsed in the Sentry dashboard.\n*   **Allow URLs:** This is the list of the regex patterns or exact URL strings - from which the errors need to be exclusively sent to Sentry. The URLs of the actual JavaScript files should match this list.\n*   **Deny URLs:** This field refers to the list of regex patterns or exact URL strings for which the errors need to be ignored.\n*   **Debug Mode:** In debug mode, no events are sent to your Sentry instance. You can set this option to **true** or **false** to enable or disable this feature. By default, it is set to **false**.\n\nA sample configuration looks like the following:\n\n[![Configuration](https://www.rudderstack.com/docs/images/sentry.webp)](https://www.rudderstack.com/docs/images/sentry.webp)\n\n## Identify\n\nWhen an `identify` call is made, RudderStack calls [`Sentry.setUser`](https://docs.sentry.io/platforms/javascript/enriching-events/identify-user/) by passing the user traits.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack discards the `identify` call if none of the `userId`, `userName`, `email`, or `ip_address` is present. Atleast one of these four fields is needed to capture the user information. For more information, refer to the [Sentry documentation](https://docs.sentry.io/platforms/javascript/enriching-events/identify-user/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack maps `userId` to `id` while setting the user in Sentry.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"userid\", {\n  name: \"Name\",\n  email: \"name@website.com\",\n});\n```\n\n## FAQ\n\n#### How do I get the public DSN of my Sentry Project?\n\nTo get your public DSN, follow these steps:\n\n*   Log into your [Sentry account](https://sentry.io/auth/login/).\n*   In the left navigation bar, go to **Projects** .\n*   Click the right-most settings icon. This will open the settings window.\n*   Click **Client Keys (DSN)** under **SDK Setup**.\n*   Copy the DSN and use it in your RudderStack destination configuration.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Sentry | RudderStack Docs",
  "description": "Send your event data from RudderStack to Sentry.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/serenytics/",
  "markdown": "# Serenytics | RudderStack Docs\n\nSend your event data from RudderStack to Serenytics.\n\n* * *\n\n*     4 minute read  \n    \n\n[Serenytics](https://www.serenytics.com/) is a full-featured platform for creating dashboards. Generate charts and track KPIs from multiple sources, and easily share results with management and cross-functional teams.\n\nWith this integration you can use the full range of RudderStack tools to create functions, transform and filter your events on their way to the Serenytics warehouse where you can then visualize your data.\n\n## Getting started\n\nRudderStack supports sending event data to Serenytics via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Serenytics, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Serenytics**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo configure Serenytics as a destination, first retrieve your data storage URL from the Serenytics dashboard under the **Data** tab.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/serenytics-data-storage.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/serenytics-data-storage.webp)\n\nThen in the RudderStack dashboard, add the data storage URL to the URL fields in **Connection Settings**.  \n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/serenytics-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/serenytics-connection-settings.webp)\n\n## Supported Calls\n\nAll RudderStack events are sent to Serenytics and stored in the Serenytics warehouse. The most common events for each RudderStack method are mapped automatically to the Serenytics naming convention. See the method-specific table below for a reference of the standard mappings.\n\nProperties/fields that are not included in the mapping tables are passed as `trait_{key_name}` in the Serenytics dashboard.\n\nFor example, in this example RudderStack event:\n\n```\nrudderanalytics.identify(\n    \"newUser\",\n    {\n      email: \"user@gmail.com\",\n      phone: \"+919876543210\",\n      subscription: \"youtube\",\n      channelName: [\"b\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\"],\n      obj: {\n        first: \"Bob\",\n        last: \"Smith\",\n      },\n    }\n  );\n```\n\nThe `userId` and `email` properties are mapped to `user_id` and `email`, and the remaining traits are mapped as `trait_phone`, etc.:\n\n```\n{\n  user_id: \"newUser\",\n  email: \"user@gmail.com\",\n  trait_phone: \"+919876543210\",\n  trait_subscription: \"youtube\",\n  trait_channelName: [\"b\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"j\", \"k\"],\n  trait_obj: {\n    first: \"Bob\",\n    last: \"Smith\",\n  }\n}\n```\n\n### Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you uniquely identify a user and record any associated traits about them like their name, email, etc.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n  likes_movies: true,\n  favorite_color: \"purple\",\n  age: 13\n});\n```\n\n**Event parameter mapping**:\n\n| RudderStack property | Serenytics property |\n| --- | --- |\n| `messageId` | `id` |\n| `userId` | `user_id` |\n| `context.ip`  <br>`request_ip` | `context.ip`  <br>`request_ip` |\n| `firstName` | `first_name` |\n| `lastName` | `last_name` |\n| `traits.age`  <br>`context.traits.age` | `age` |\n| `email` | `email` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n\n### Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\n**Event parameter mapping**:\n\n| RudderStack property | Serenytics property |\n| --- | --- |\n| `event`  <br>Required | `event` |\n| `messageId` | `id` |\n| `anonymousId` | `anonymous_id` |\n| `context.ip`  <br>`request_ip` | `context_ip` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n| `properties.price` | `price` |\n| `properties.currency` | `currency` |\n| `properties.product_id` | `product_id` |\n| `properties.product_name` | `product_name` |\n\n### Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group such as a company, organization, or an account, and record any traits associated with that group, for example, company name, number of employees, etc.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  {\n  userId: \"1hKOmRA4el9Zt1WSfVJIVo4GRlm\",\n  likes_movies: true,\n  age: 25,\n  }\n);\n```\n\n**Event parameter mapping**:\n\n| RudderStack property | Serenytics property |\n| --- | --- |\n| `groupId`  <br>Required | `id` |\n| `context.ip`  <br>`request_ip` | `context_ip` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n\n### Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\n**Event parameter mapping**:\n\n| RudderStack property | Destination property |\n| --- | --- |\n| `messageId` | `id` |\n| `anonymousId` | `anonymous_id` |\n| `name`  <br>`properties.name` | `name` |\n| `context.ip`  <br>`request_ip` | `context_ip` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n| `properties.category` | `category` |\n| `properties.path` | `path` |\n| `pageUrl` | `url` |\n| `properties.title` | `title` |\n\n### Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen with any additional relevant information about the screen.\n\n**Event parameter mapping**:\n\n| RudderStack property | Serenytics property |\n| --- | --- |\n| `messageId` | `id` |\n| `anonymousId` | `anonymous_id` |\n| `name`  <br>`properties.name` | `name` |\n| `context.ip`  <br>`request_ip` | `context_ip` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n| `properties.category` | `category` |\n| `properties.path` | `path` |\n| `pageUrl` | `url` |\n| `properties.title` | `title` |\n\n### Alias\n\nThe [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call lets you merge different identities of a known user.\n\n**Event parameter mapping**:\n\n| RudderStack property | Serenytics property |\n| --- | --- |\n| `userId`  <br>Required | `user_id` |\n| `previousId`  <br>`anonymousId` | `previous_id` |\n| `context.ip`  <br>`request_ip` | `context_ip` |\n| `receivedAt` | `received_at` |\n| `sentAt` | `sent_at` |\n| `originalTimestamp` | `original_timestamp` |\n| `timestamp` | `timestamp` |\n\n## FAQ\n\n#### How do I get the data storage URL?\n\n1.  Log in to the [Serenytics dashboard](https://app.serenytics.com/studio/login) and click the **Data** tab.\n2.  Click the **New data source** button and select the **Serenytics Datawarehouse** tab > **Storage** from the popup.\n3.  From your newly-create source, retrieve the `Url` from the **Configuration** tab. Use this URL to populate your connection settings in RudderStack.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Serenytics | RudderStack Docs",
  "description": "Send your event data from RudderStack to Serenytics.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/signl4/",
  "markdown": "# SIGNL4 destination | RudderStack Docs\n\nSend your event data from RudderStack to SIGNL4.\n\n* * *\n\n*     4 minute read  \n    \n\n[SIGNL4](https://www.signl4.com/) is a tool for instant mobile alerting. It generates real-time alerts to inform teams about incidents and automatically delivers critical information to the right people at the right time.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> RudderStack also supports SIGNL4 as a source. Refer to the [SIGNL4 source](https://www.rudderstack.com/docs/sources/event-streams/cloud-apps/signl4/) documentation for more information.\n\n## Getting started\n\nRudderStack supports sending events to SIGNL4 via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to SIGNL4, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **SIGNL4**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure SIGNL4 as a destination, you will need to configure the following settings:\n\nThe RudderStack dashboard contains the following fields for each of the above-mentioned settings:\n\n*   **Default Value**: Enter or select the required value for the field.\n*   **RudderStack property name**: Enter the property name whose actual value will be taken from the event payload and assigned to the field.\n\nAlthough these fields are optional, RudderStack prioritizes **RudderStack property name** over **Default Value** if both are specified. For example, consider the following use-case:\n\n*   If you provide `new` in the **Default value** field for the **X-S4-Status** setting, the event payload sent to SIGNL4 will contain `X-S4-Status: new`.\n    \n*   If you set **RudderStack property name** for the **X-S4-Status** setting to `alert_status`, RudderStack looks for the event property `properties.alert_status`. Suppose the value for `properties.alert_status` is set to `resolved`, then the output payload sent to SIGNL4 will contain `X-S4-Status: resolved`.\n    \n*   If you provide values in both the fields, the final output payload sent to SIGNL4 will contain `X-S4-Status: resolved`, as the **RudderStack property name** is given higher priority over **Default Field**.\n    \n*   **X-S4-Filtering**: Enable this setting in the RudderStack dashboard and **Filter events/Signls** setting in the SIGNL4 dashboard to send an alert notification only if the input payload contains any keyword for a category. Refer to the [Signl categories](#signl-categories) section to learn more about keywords and category categories.\n    \n    [![SIGNL4 connection setting](https://www.rudderstack.com/docs/images/event-stream-destinations/signl4-conn-settings-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/signl4-conn-settings-4.webp)\n    \n\n*   **Event to title mapping**: This setting lets you map the RudderStack event name to a specific alert title. If you do not provide any value, RudderStack sets the alert title as the event name.\n\n## Signl categories\n\nIn SIGNL4, you can use the categories to mark and tag Signls based on severity, type, or relating to IT systems, machines, sensors, and services. Refer to the [SIGNL4 documentation](https://account.signl4.com/manage/Category) to learn more about the different categories.\n\nYou can use the **X-S4-Service** setting in the RudderStack dashboard to specify the Signl category. If not provided, the keywords present in the payload decide the category of the alert. For example, an event payload containing keywords like `ambulance`, `doctor`, `hospital`, `nurse`, `surgery`, etc., is automatically categorized as **Healthcare**.\n\n[![SIGNL4 connection setting](https://www.rudderstack.com/docs/images/event-stream-destinations/categories-signl4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/categories-signl4.webp)\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to push alerts for events with a particular alert title, message, or other additional details.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Security Alert\", {\n  \"status\": \"UP\",\n  \"message\": \"Aggressive passenger\",\n  \"Source\": \"Gate agent\",\n  \"Type\": \"Security\"\n});\n```\n\nYou can pass any key-value pair in the `track` call; RudderStack maps it as is in the SIGNL4 destination.\n\n### Property mapping\n\nThe following table lists the mappings between RudderStack and SIGNL4 properties:\n\n| RudderStack property | SIGNL4 property | Presence | Description |\n| --- | --- | --- | --- |\n| `event` | `title` | Required | Title of the alert. |\n| `property.message` | `message` | Optional | Text message of the alert. |\n\n## FAQ\n\n#### Where can I find the SIGNL4 API Key?\n\nThe team secret of your SIGNL4 team is the SIGNL4 API key in the RudderStack dashboard. To find the team secret, follow these steps:\n\n1.  Log into your [SIGNL4 dashboard](https://connect.signl4.com/).\n2.  Select **Teams** to find the **Secret**:\n\n[![SIGNL4 script url](https://www.rudderstack.com/docs/images/event-stream-destinations/signl-dashboard-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/signl-dashboard-2.webp)\n\n#### How can I create a member in the SIGNL4 team?\n\nTo create a member in the SIGNL4 team, follow these steps:\n\n1.  Log into your [SIGNL4 dashboard](https://connect.signl4.com/).\n2.  Select **Users** > **Invite new user**.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "SIGNL4 destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to SIGNL4.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/setting-up-singular-in-rudderstack/",
  "markdown": "# Set up Singular | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Singular | RudderStack Docs",
  "description": "Set up Singular as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/",
  "markdown": "# Singular cloud mode | RudderStack Docs\n\nSend events from RudderStack to Singular via cloud mode.\n\n* * *\n\n*     8 minute read  \n    \n\nRudderStack supports server-to-server (S2S) API integration with Singular.\n\nRudderStack supports two types of [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events that you can send to Singular via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode):\n\n*   Session events\n*   Custom events\n\n## Session events\n\nRudderStack lets you specify the event names to be used as session events in the dashboard settings:\n\n[![Singular session events settings](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-session-events.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-session-events.webp)\n\nRudderStack sends the session events to Singular via its [`launch`](https://s2s.singular.net/api/v1/launch) API.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack considers an event as a session event only if it is specified in the dashboard settings or if it one of the following three [lifecycle events](https://www.rudderstack.com/docs/event-spec/standard-events/application-lifecycle-events-spec/):\n> \n> *   Application Installed\n> *   Application Opened\n> *   Application Updated\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack automatically tracks the above three lifecycle events if lifecycle event tracking is enabled.\n\n### Supported mappings\n\nThis section lists the mappings of the RudderStack event properties to the relevant Singular fields.\n\nThe following table lists the mapping of the attributes **automatically captured** by RudderStack for the **mobile platforms** ([Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) and [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/)):\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `context.os.name`  <br>Required | `p` | The source platform (Android or iOS). |\n| `context.app.namespace`  <br>Required | `i` | The package name (Android) or bundle ID (iOS) of your app. |\n| `context.app.version`  <br>Required | `app_v` | The app version. |\n| `context.ip`  <br>`request_ip` (in that order)  <br>Required | `ip` | The user’s IP address. Refer to the note below for information on anonymizing your IP. |\n| `context.os.version`  <br>Required | `ve` | The device OS version at session time. |\n| `context.device.model`  <br>Required | `mo` | The device model. This parameter must be used with the `ma` parameter. |\n| `context.device.manufacturer`  <br>Required | `ma` | The make of the device hardware. This parameter must be used with the `mo` parameter. |\n| `context.locale`  <br>Required | `lc` | The device’s IETF local tag using two-lettered language and country code, separated by an underscore. |\n| `context.device.id`  <br>Required | `idfv` | The raw [`IdentifierForVendor`](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDevice_Class/Reference/UIDevice.html#//apple_ref/occ/instp/UIDevice/identifierForVendor) in upper case with dashes. **This is applicable for iOS apps only**. |\n| `context.device.id`  <br>Required, if `context.device.advertisingId` and `properties.asid` is absent. | `andi` | The raw [`Android ID`](http://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID) in lower case. **This is applicable for Android apps only** and is required only when the Android advertising ID is unavailable on the device. See [FAQ](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/#which-device-id-attributes-are-required-for-android) for more information. |\n| `context.app.build`  <br>Required | `bd` | The device build (URL encoded). |\n| `context.device.adTrackingEnabled`  <br>Required | `dnt` | Pass `true` if do not track(`dnt`) is disabled (`dnt=0`), else pass `false`(`dnt=1`). This is automatically captured if you pass the advertising ID to the SDK. |\n| `context.app.name` | `n` | The human-readable app name as displayed in the UI. |\n| [](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/#clock-skew-considerations) | `utime` | Optional |\n| `context.network.wifi` | `c` | The connection type (WiFi or carrier). |\n| `context.network.carrier` | `cn` | The carrier name of the internet provider. |\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> To anonymize your IP, you can send a placeholder IP in the `context.ip` field. RudderStack uses it as the IP address instead of capturing it automatically from the backend. In case of mobile SDKs, you can leverage the [Transformations](https://www.rudderstack.com/docs/transformations/overview/) feature to do this - when sending events via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nThe following table lists the mapping of the attributes that **must be passed via the event properties**:\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> These properties are not persisted in the SDK and must be passed with every event.\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `properties.install_ref`  <br>Required | `install_ref` | The Google Install Referrer Information. |\n| `properties.referring_application`  <br>Required | `install_source` | The install source package name in Android. Use [`getInitiatingPackageName()`](https://developer.android.com/reference/android/content/pm/InstallSourceInfo#getInitiatingPackageName%28%29) to retrieve this. |\n| `properties.install_receipt`  <br>Required | `install_receipt` | The receipt received from the install. To retreive this, follow the [iOS Install Receipt](https://support.singular.net/hc/en-us/articles/360037640812#Reference_Retrieving_the_iOS_Install_Receipt) guide. |\n| `properties.asid`  <br>Required, if `context.device.advertisingId` and `context.device.id` is absent. | `asid` | The App Set ID for Android v12+ devices. See [FAQ](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/#which-device-id-attributes-are-required-for-android) for more information. |\n| `properties.url`  <br>Required | `openui` | If the app is opened via a deep link/universal link, the value of the encoded deep link URL. |\n| `context.device.attTrackingStatus`  <br>Required | `att_authorization_status` | The [App Tracking Transparency authorization status](https://developer.apple.com/documentation/apptrackingtransparency/attrackingmanager/authorizationstatus). |\n| `userId` | `custom_user_id` | The user ID passed through the `identify` call. |\n| `properties.attribution_token` | `attribution_token` | Used to attribute Apple Search Ads for iOS 14.3 and above. More information [here](https://support.singular.net/hc/en-us/articles/360037640812#asa_adservices). |\n| `properties.skan_conversion_value` | `skan_conversion_value` | The latest `SkAdNetwork` value at the time of the session notification. |\n| `properties.skan_first_call_timestamp` | `skan_first_call_timestamp` | UNIX timestamp of the first call made to the `SkAdNetwork` API. |\n| `properties.skan_last_call_timestamp` | `skan_last_call_timestamp` | UNIX timestamp of the last call made to the `SkAdNetwork` API at the time of the session notification. |\n| `properties.install` | `install` | The install flag. Set to `true` on the first session after app install, or `false` otherwise. Required for reinstall tracking capability. |\n\nThe following table lists the mapping of the attributes that **must be passed via the event properties just once**:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> These properties are persisted in the SDK and must be passed just once.\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `context.device.advertisingId`  <br>Required | `idfa` | The raw [advertising ID](https://developer.apple.com/library/ios/documentation/AdSupport/Reference/ASIdentifierManager_Ref/index.html) in upper case with dashes. **This is applicable for iOS apps only**. |\n| `context.device.advertisingId`  <br>Required, if `properties.asid` and `context.device.id` is absent. | `aifa` | This is the lower case raw [advertising ID](http://support.google.com/googleplay/android-developer/answer/6048248?hl=en) with dashes. **This is applicable for Android apps only**. See [FAQ](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/#which-device-id-attributes-are-required-for-android) for more information. |\n| `context.device.token` | `fcm` | The Firebase Cloud Messaging Device Token. It is required for uninstall tracking in Android. |\n| `context.device.token` | `apns_token` | The Apple Push Notification Service Device Token. It is required for uninstall tracking in iOS. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on setting the device token, refer to the [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/#setting-the-android-device-token) or [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/#setting-the-device-token) SDK documentation.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports only `fcm` for mapping the device token.\n\n## Custom events\n\nRudderStack sends all events other than the session events as custom events via Singular’s [`evt`](https://s2s.singular.net/api/v1/evt) endpoint.\n\n### Supported mappings\n\nThe following table lists the mapping of the attributes **automatically captured** by RudderStack for the **mobile platforms** ([Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) and [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/)):\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `context.os.name`  <br>Required | `p` | The source platform (Android or iOS). |\n| `context.app.namespace`  <br>Required | `i` | The package name (Android) or bundle ID (iOS) of your app. |\n| `context.ip`  <br>`request_ip` (in same order)  <br>Required | `ip` | The user’s IP address. |\n| `context.device.advertisingId`  <br>Required | `idfa` | The raw [`IdentifierForVendor`](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDevice_Class/Reference/UIDevice.html#//apple_ref/occ/instp/UIDevice/identifierForVendor) in upper case with dashes. **This is applicable for iOS apps only**. |\n| `context.device.advertisingId`  <br>Required, if `properties.asid` and `context.device.id` are absent. | `aifa` | This is the lower case raw [advertising ID](http://support.google.com/googleplay/android-developer/answer/6048248?hl=en) with dashes. **This is applicable for Android apps only**. See [FAQ](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/#which-device-id-attributes-are-required-for-android) for more information. |\n| `context.device.id`  <br>Required | `idfv` | The raw [`IdentifierForVendor`](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDevice_Class/Reference/UIDevice.html#//apple_ref/occ/instp/UIDevice/identifierForVendor) in upper case with dashes. **This is applicable for iOS apps only**. |\n| `context.device.id`  <br>Required, if `context.device.advertisingId` and `properties.asid` are absent. | `andi` | The raw [`Android ID`](http://developer.android.com/reference/android/provider/Settings.Secure.html#ANDROID_ID) in lower case. **This is applicable for Android apps only** and is required only when the Android Advertising ID is unavailable on the device. See [FAQ](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-cloud-mode/#which-device-id-attributes-are-required-for-android) for more information. |\n| `context.os.version`  <br>Required | `ve` | The device OS version at session time. |\n| [](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/#clock-skew-considerations) | `utime` | Optional |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Singular prefers `aifa` over `andi` (in Android) and `idfa` over `idfv` (in iOS).\n\nThe following table lists the mapping of the attributes that **must be passed via the event properties**:\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `event`  <br>Required | `n` | The name of the event. **This is user-defined**. |\n| `context.device.attTrackingStatus`  <br>Required | `att_authorization_status` | The [App Tracking Transparency authorization status](https://developer.apple.com/documentation/apptrackingtransparency/attrackingmanager/authorizationstatus). |\n| `userId` | `custom_user_id` | The user ID passed through the `identify` call. |\n| `properties.skan_conversion_value` | `skan_conversion_value` | The latest `SkAdNetwork` value at the time of the session notification. |\n| `properties.skan_first_call_timestamp` | `skan_first_call_timestamp` | UNIX timestamp of the first call made to the `SkAdNetwork` API. |\n| `properties.skan_last_call_timestamp` | `skan_last_call_timestamp` | UNIX timestamp of the last call made to the `SkAdNetwork` API at the time of the session notification. |\n| `properties.eventAttributes` | `e` | The custom event attributes in JSON format. You need to pass these with every event as they are not persisted in the SDK. |\n| `properties.is_revenue_event` | `is_revenue_event` | Determines if an event is a revenue event. You need to pass this through the properties with every event as it is not persisted in the SDK. |\n\nThe following table lists the mapping of the **user-defined attributes specific to revenue events**:\n\n| RudderStack property | Singular attribute | Description |\n| --- | --- | --- |\n| `properties.total`  <br>`properties.value`  <br>`properties.revenue` | `amt` | The currency amount. |\n| `properties.currency` | `cur` | The ISO 4217 three-lettered currency code. This should be in conjunction with the `amt` parameter. |\n| `properties.purchase_receipt` | `purchase_receipt` | The receipt received from a purchase. |\n| `properties.product_id`  <br>`properties.sku` | `purchase_product_id` | The product SKU identifier. |\n| `properties.orderId`  <br>`properties.purchase_transaction_id` (in that order) | `purchase_transaction_id` | The transaction identifier. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you set any one out of the `value`, `revenue`, or `total` properties, RudderStack automatically considers the event as a revenue event, unless it is explicitly mentioned by the `is_revenue_event` property.\n\nA few important considerations in case of custom events are listed below:\n\n*   RudderStack takes the user agent from `context.userAgent` for Android and from the event properties in case of iOS.\n*   RudderStack stores the extra attributes passed in the custom event in Singular’s `e` field.\n\n## FAQ\n\n#### How can I verify if the events are successfully delivered to Singular?\n\nTo verify if the events are successfully delivered to Singular, you can use RudderStack’s [Destination live events](https://www.rudderstack.com/docs/dashboard-guides/live-events/#destination-live-events) feature.\n\nYou can also verify the event delivery by going to your [Singular dashboard](https://app.singular.net/login?redir=%2F#/) and following these steps:\n\n1.  Go to **Settings** > **Console**. You should see a list of tracked devices:\n\n[![Singular event delivery settings](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-1.webp)\n\n2.  To add a new device, click the **Add Device** option and choose the relevant settings:\n\n[![Singular event delivery settings](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-2.webp)\n\n3.  Finally, click the eye icon associated with the tracked device to start seeing the events in real-time.\n\n[![Singular event delivery settings](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-3.webp)\n\nYou should be able to see a real-time log of all events sent to Singular:\n\n[![Singular event delivery settings](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/singular-event-delivery-4.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more customizable and granular reports, you can go to **Attribution** > **Export Logs** in the Singular dashboard. Note that this report is not real-time and takes some time to generate.\n\n#### Which device ID attributes are required for Android?\n\nFor Android requests, Singular requires either of the following attributes in the mentioned order of preference:\n\n*   `aifa`\n*   `asid`\n*   `andi`\n\nIf none of them are available, you must send at least one with the empty value (instead of `null` or `undefined`). If you send all of them, RudderStack discards the `andi` attribute as per Google’s data policies.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Singular cloud mode | RudderStack Docs",
  "description": "Send events from RudderStack to Singular via cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/singular-device-mode/",
  "markdown": "# Singular device mode | RudderStack Docs\n\nSend events from RudderStack to Singular via device mode.\n\n* * *\n\n*     5 minute read  \n    \n\nRudderStack lets you send your events to Singular via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the mobile SDKs.\n\n## Adding device mode integration\n\nAfter you [set up Singular as a destination in RudderStack](https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/setting-up-singular-in-rudderstack/), follow these steps to add it to your project, depending on your platform of integration.\n\nTo add Singular to your iOS app, follow these steps:\n\n1.  In your `Podfile`, add the following dependencies:\n\n```\npod 'Singular-SDK', '11.0.4'\npod 'Rudder-Singular', '1.0.0'\n```\n\n  \n\n2.  After adding the dependencies followed by `pod install` command, add the following imports to your `AppDelegate.m` file:\n\n```\n#import <rudder>\n#import <ruddersingularfactory.h>\n```\n\n  \n\n3.  Initialize your `RSClient`:\n\n```\nRSConfigBuilder *configBuilder = [[RSConfigBuilder alloc] init];\n[configBuilder withDataPlaneUrl:<data_plane_url>];\n[configBuilder withFactory:[RudderSingularFactory instance]];\nRSClient *rudderClient = [RSClient getInstance:<write_key> config:[configBuilder build]];\n```\n\n  \n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This device mode integration is supported for Singular v11.0.4 and above.\n\nFollow these steps to add Singular to your iOS project:\n\n1.  Install `RudderSingular` (available through [CocoaPods](https://cocoapods.org/)) by adding the following line to your `Podfile`:\n\n```\npod 'RudderSingular', '~> 1.0.0'\n```\n\n  \n\n2.  Run the `pod install` command.\n    \n3.  Import the SDK depending on your preferred platform:\n    \n\n  \n  \n\n4.  Add the imports to your `AppDelegate` file under the `didFinishLaunchingWithOptions` method:\n\n```\nlet config: RSConfig = RSConfig(writeKey: WRITE_KEY)\n            .dataPlaneURL(DATA_PLANE_URL)\n\nRSClient.sharedInstance().configure(with: config)\nlet rudderSingularConfig = RudderSingularConfig()\n            .skAdNetworkEnabled(true)\n            .manualSkanConversionManagement(true)\n            .conversionValueUpdatedCallback({ value in\n                print(\"Your SKAN handler \\(value)\")\n            })\n            .waitForTrackingAuthorizationWithTimeoutInterval(0)\nRSClient.sharedInstance().addDestination(RudderSingularDestination(rudderSingularConfig: rudderSingularConfig))\n```\n\n  \n\n```\nRSConfig *config = [[RSConfig alloc] initWithWriteKey:WRITE_KEY];\n[config dataPlaneURL:DATA_PLANE_URL];\n\n[[RSClient sharedInstance] configureWith:config];\nRudderSingularConfig *rudderSingularConfig = [[RudderSingularConfig alloc] init];\n[rudderSingularConfig skAdNetworkEnabled:YES];\n[rudderSingularConfig manualSkanConversionManagement:YES];\n[rudderSingularConfig conversionValueUpdatedCallback:^(NSInteger value) {\n    printf(\"Your SKAN handler %ld\", value);\n}];\n[rudderSingularConfig waitForTrackingAuthorizationWithTimeoutInterval:0];\n[[RSClient sharedInstance] addDestination:[[RudderSingularDestination alloc] initWithRudderSingularConfig:rudderSingularConfig]];\n```\n\nTo add Singular to your Android app, follow these steps:\n\n1.Open your `app/build.gradle` (Module: `app`) file, and add the following under the `dependencies` section :\n\n```\nimplementation 'com.rudderstack.android.sdk:core:[1.0,2.0)'\nimplementation 'com.rudderstack.android.integration:singular:1.0.0'\nimplementation 'com.google.code.gson:gson:2.8.6'\n```\n\n  \n\n2.  Add the Singular Maven plugin to your build script. To do this, add the following snippet into the `Gradle Scripts` section of your root `build.gradle`:\n\n```\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n          url 'https://maven.singular.net/'\n        }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.6.10'\n    }\n}\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n          url 'https://maven.singular.net/'\n        }\n    }\n}\n```\n\n  \n\n3.  Add the following permissions(if not present already) to your `AndroidManifest.xml`:\n\n```\n<uses-permission android:name=\"android.permission.INTERNET\"></uses-permission>\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"></uses-permission>\n```\n\n  \n\n4.  Finally, initialize the RudderStack SDK in your `Application` class’ `onCreate()` method:\n\n```\n// initialize Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(SingularIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\n  \n\nTo add Singular to your React Native app, follow these steps:\n\n1.  Add the RudderStack-Singular module to your app by running the following command:\n\n```\nnpm install @rudderstack/rudder-integration-singular-react-native\n// OR //\nyarn add @rudderstack/rudder-integration-singular-react-native\n```\n\n  \n\n2.  Open your project-level `android/build.gradle` file and add the following snippet:\n\n```\nrepositories {\n  maven {\n    url \"https://maven.singular.net/\"\n  }\n}\n```\n\n  \n\n3.  Import the above module and add it to your SDK initialization:\n\n```\nimport rudderClient from \"@rudderstack/rudder-sdk-react-native\"\nimport singular from \"@rudderstack/rudder-integration-singular-react-native\"\nconst config = {\n\tdataPlaneUrl: <data_plane_url>,\n\ttrackAppLifecycleEvents: true,\n\twithFactories: [singular],\n}\nrudderClient.setup(<write_key>, config)\n```\n\n  \n\nTo add Singular to your Cordova app, follow these steps:\n\n1.  Navigate to the root folder of your application and run the following command:\n\n```\ncordova plugin add rudder-integration-singular-cordova\n```\n\n  \n\n2.  Add the following code in the `onDeviceReady()` function of your app’s home page to initialize the SDK:\n\n```\nRudderClient.initialize(<write_key>, {\n  dataPlaneUrl: <data_plane_url>,\n  factories: [RudderSingularFactory]\n})\n```\n\nMake sure to use the \\`await\\` keyword with the \\`initialize\\` call.\n\n## Identify\n\nFor device mode integrations, the Singular SDK uses RudderStack’s [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method to map the user ID to their custom user ID. RudderStack uses Singular’s [`setCustomUserId`](https://support.singular.net/hc/en-us/articles/360037581952-Android-SDK-Basic-Integration#Optional_Setting_the_User_ID) API to forward the identified user ID to Singular.\n\nA sample `identify` call for both the Android and iOS SDKs is shown below:\n\n```\n[[RSClient getInstance] identify:@\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\"];\n```\n\n```\nRudderClient.getInstance()?.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\")\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture any user actions and the properties associated with them. Each user action is considered to be an event.\n\n### Tracking custom events\n\nA custom `track` call lets you track custom events as they occur in your apps. RudderStack sends these calls to Singular where they are processed as custom post-install events and are made available in the relevant reports.\n\nA sample custom `track` call for both the Android and iOS SDKs is shown below:\n\n```\n[[RSClient getInstance] track:@\"Product Reviewed\" properties:@{\n        @\"product_id\" : @\"345676543\",\n        @\"review_id\" : @\"123454387\"\n    }];\n```\n\n```\nRudderClient.getInstance()\n    ?.track(\n        \"Product Reviewed\",\n        RudderProperty()\n            .putValue(\"product_id\", \"345676543\")\n            .putValue(\"review_id\", \"123454387\")\n    )\n```\n\n### Tracking revenue\n\nSingular supports tracking revenue events. It implements revenue tracking whenever an event containing the `revenue` property is sent(including a zero value). Optionally, you can also pass the `currency` field as an [ISO code](https://www.iso.org/iso-4217-currency-codes.html).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The default currency is set to `USD`.\n\nA sample `revenue` track call is shown below:\n\n```\n[[RSClient getInstance] track:@\"Order Completed\" properties:@{\n        @\"revenue\" : @1251,\n        @\"currency\" : @\"INR\"\n    }];\n```\n\n```\nRudderClient.getInstance()\n    ?.track(\n        \"Order Completed\",\n        RudderProperty().putValue(\"revenue\", 1251).putValue(\"currency\", \"INR\")\n    )\n```\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) method allows you to record whenever a user sees the mobile screen, along with any associated optional properties. This call is similar to the `page` call for the web applications but exclusive to your mobile device.\n\nA sample `screen` call for both the Android and iOS SDKs is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Home\" properties:@{\n    @\"category\" : @\"launcher\"\n}];\n```\n\n```\nRudderClient.getInstance()\n    ?.screen(\n        \"Home\",\n        RudderProperty().putValue(\"category\", \"launcher\")\n    )\n```\n\ne above snippet, RudderStack captures all information related to the viewed screen, along with any additional info about the screen.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the `screen` event to Singular as a custom event.\n\n## Reset\n\nThe `reset` method resets the current user’s identity and creates a new anonymous session. It should be called when a user logs out.\n\nRudderStack calls Singular’s [`unsetCustomUserId`](https://support.singular.net/hc/en-us/articles/360037581952-Android-SDK-Basic-Integration#Optional_Setting_the_User_ID) method to reset a user’s identity.\n\nA sample `reset` call for both the Android and iOS SDKs is shown below:\n\n```\n[[RSClient getInstance] reset];\n```\n\n```\nRudderClient.getInstance()?.reset();\n```\n\n## Implementing SKAdNetwork (SKAN) support\n\nAdd the following code before the initialization of the iOS SDK to give the control to Singular for your SKAdNetwork integration:\n\n```\n[RudderSingularIntegration setSKANOptions:YES\n        isManualSkanConversionManagementMode:YES\nwithWaitForTrackingAuthorizationWithTimeoutInterval:@0\n        withConversionValueUpdatedHandler:^(NSInteger conversionValue){\n    // Receive a callback whenever the Conversion Value is updated\n    NSLog(@\"SKAN handler %ld\",conversionValue);\n}];\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Singular device mode | RudderStack Docs",
  "description": "Send events from RudderStack to Singular via device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/slack/",
  "markdown": "# Slack | RudderStack Docs\n\nSend your event data from RudderStack to Slack.\n\n* * *\n\n*     5 minute read  \n    \n\n[Slack](https://slack.com/intl/en-in/) is a popular business communication platform that lets you organize all your business-related chats by specific topics, groups, or direct messaging.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/slack).\n\n## Getting started\n\nRudderStack supports sending event data to Slack via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Slack, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Slack**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nUse the following settings to send an event to a particular Slack channel:\n\n*   **Type of incoming webhooks**: Select the API from the dropdown that RudderStack uses to send data to the particular Slack channel.\n    \n    *   **Legacy**: RudderStack maps the channel based on the **Event Channel Name** setting. Note that this method may be deprecated soon.\n    *   **Modern**: RudderStack maps the channel based on the **Event Channel Webhook** setting.\n*   **Event Name**: Enter the event name or the regex to match the RudderStack event name.\n    \n*   **Event Channel Webhook**: Enter the webhook URL of the Slack channel where RudderStack sends the above event.\n    \n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To get the URL for **Event Channel Webhook** setting, make sure you have:\n> \n> 1.  Created a Slack app with **Incoming Webhooks** feature enabled.\n> 2.  Authorized the app to post to your specified Slack channel.\n> \n> See [Sending messages using Incoming Webhooks](https://api.slack.com/messaging/webhooks#getting_started) for more information.\n\n*   **Event Channel Name**: Enter the Slack channel’s name where RudderStack should send the above event using the [legacy method](https://api.slack.com/legacy/custom-integrations/messaging/webhooks). You can specify `#channel_name` or `@user_name`. If not specified, RudderStack sends the events to the Slack channel associated with the incoming webhook URL (**Webhook URL** setting below).\n*   **Regex Matching**: Enable this setting if the event name in the first parameter is a regular expression.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack adds the global `g` parameter implicitly. Hence, you need not add it with the regex.\n\n**Identify Template**: Specify the template used to transform the `identify` event before sending it to Slack. RudderStack uses the following default template:\n\n```\nIdentified {{name}} <traits_key1>:<traits_value1> <traits_key2>:<traits_value2> ....\n```\n\nHere, the traits key and value are the key-value pairs in the `traits` object of the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) event payload.\n\nThe `name` field in the template is determined from either of the following:\n\n*   `traits.name`\n*   `traits.firstName + traits.lastName`\n*   `traits.username`\n*   `properties.email`\n*   `traits.email`\n*   `User userId`\n*   `Anonymous user anonymousId`\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Only the traits listed in the **Allowlisted Traits** setting are considered to be a part of the identify template. The rest are not sent to Slack.\n\nUse the following settings to transform an event before sending it to Slack:\n\n*   **Event Name**: Enter the event name or the regex to match the RudderStack event name.\n*   **Event Template**: Specify the template used to transform the above event. RudderStack uses the following default template. Note that RudderStack determines `name` similar to the **Identify Template** setting described above.\n\n```\n{{name}} did {{event}}\n```\n\n*   **Regex Matching**: Enable this setting if the event name is a regex in the first parameter.\n*   **Webhook URL:** Enter your Slack’s [incoming webhook URL](https://my.slack.com/services/new/incoming-webhook/). For more information on obtaining this URL, refer to the [FAQ](#faq) section below.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack sends all the events to the channel associated with the incoming webhook URL.\n\n*   **Allowlisted Traits**: Specify the user traits to be allowlisted. If not specified, RudderStack sends **all** the user traits to Slack.\n*   **Denylisted Events**: Enter the events to add to your denylist. RudderStack will drop these events.\n*   **OneTrust cookie categories**: Use this setting to associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Slack.\n\n## Handlebar expressions\n\nRudderStack supports [Handlebar expression](https://handlebarsjs.com/guide/expressions.html) by leveraging the `handlebars.js` library for including the variables into your dynamic Slack messages.\n\n### Accessible Variables\n\nThe following table lists the variables you can select in your template messages:\n\n| Handlebar expression | Output |\n| --- | --- |\n| `{{name}}` | Identity name of the user in the priority order listed above. |\n| `{{event}}` | Event name, for example, `Product Viewed` or `user login`. |\n| `{{key_1}}`  <br>`{{properties.key_1}}` | The property values from the event’s properties object. |\n| `{{propertiesList}}` | JSON stringified version of your `properties` object. |\n| `{{traits}}` | JSON stringified version of your traits object. |\n| `{{traitsList.key_1}}` | The trait values from the event’s `traits` object. |\n\n### Escaped content\n\nThe values returned by `{{variable}}` are HTML-escaped. For example, if a `variable` has a `&` in its value then it will be returned as `&amp;`. To avoid this behavior, you can use the **triple curly braces** instead of double, like `{{{variable}}}` instead of `{{variable}}`. This will stop the handlebars from escaping a value if there is one, as shown in the following example:\n\n| Expression | Variable | Result |\n| --- | --- | --- |\n| `{{variable}}` | `\"Marcia & Jan\"` | `\"Marcia &amp; Jan\"` |\n| `{{{variable}}}` | `\"Marcia & Jan\"` | `\"Marcia & Jan\"` |\n\nFor more information on the escaped content, refer to the [Handlebar guide](https://handlebarsjs.com/guide/expressions.html#html-escaping).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nA sample `identify` call for a template, like `Identified {{name}} with {{traits}}`, is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4el9Zt1WSfVJIVo4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  country: \"USA\",\n});\n```\n\nFor the above event, you will see the message `Identified Alex Keener with name: Alex Keener email: alex@example.com country: USA` in your configured Slack channel.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user events, that is, the actions your users perform, along with any properties associated with these actions.\n\nA sample `track` call for a template `{{name}} performed {{event}} with {{properties.key1}} {{properties.key2}}` [after the user is identified](#identify) is as follows:\n\n```\nrudderanalytics.track(\"test_event\", {\n  \"key1\": \"test_val1\",\n  \"key2\": \"test_val2\",\n  \"key3\": \"test_val3\"\n})\n```\n\nFor the above snippet, you will see the message `Alex Keener performed test_event with test_val1 test_val2 test_val3` in your configured Slack channel.\n\n## FAQ\n\n#### How do I obtain the incoming webhook URL?\n\nTo obtain the webhook URL, follow the below steps:\n\n1.  Click your Slack workspace name, then go to **Administration** > **Manage Apps**.\n2.  Search for **Incoming webhooks** in the Slack app directory and add it to Slack by clicking on **Add to Slack**.\n3.  Select a channel where you want to post the messages forwarded by the webhook and click **Add Incoming webhooks integration**.\n\n[![Slack connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/choose-channel-slack.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/choose-channel-slack.webp)\n\n4.  Finally, copy the webhook URL and enter it in the RudderStack dashboard.\n\n[![Slack connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/webhook-url-slack.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/webhook-url-slack.webp)\n\n#### Why am I getting Slack messages for all the incoming events in one channel?\n\nBy default, RudderStack sends all the events to the Slack channel associated with the incoming webhook URL (**Webhook URL** setting in the RudderStack dashboard).\n\nTo get specific events in a particular channel, make sure you specify the mappings using the **Event Name** and **Event Channel** settings.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Slack | RudderStack Docs",
  "description": "Send your event data from RudderStack to Slack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tiktok-ads/setup/",
  "markdown": "# Set up TikTok Ads | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up TikTok Ads | RudderStack Docs",
  "description": "Send your event data from RudderStack to TikTok Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/snap-pixel/",
  "markdown": "# Snap Pixel | RudderStack Docs\n\nSend your event data from RudderStack to Snap Pixel.\n\n* * *\n\n*     5 minute read  \n    \n\n[Snap Pixel](https://ads.snapchat.com/) is a piece of JavaScript code that lets you measure the cross-device impact of your advertising campaigns. It enables you to understand how many Snapchat users interact with your website after seeing the ads.\n\n## Getting started\n\nRudderStack supports sending event data to Snap Pixel via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Snap Pixel native SDK is loaded from `https://sc-static.net/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Snap Pixel SDK successfully.\n\nOnce you have confirmed that the source supports sending events to Snap Pixel, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. From the list of destinations, select **Snap Pixel**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo set up Snap Pixel as a destination, you need to configure the following settings:\n\n*   **Pixel ID**: Enter your Snap Pixel ID. Refer to the [FAQ](#faq) section for more information on obtaining your Snap Pixel ID.\n*   **Hashing Method**: Snap Pixel lets you pass a user parameter (`email` or `phone`) in both hashed and non-hashed format during the snippet’s intialization. If you choose **SHA-256**, RudderStack will hash-encode the parameter before passing it to Snap Pixel.\n*   **Mapping to trigger the Snap Pixel events for the respective events set here**: Use this setting to map custom event names to the standard Snap Pixel events.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Reddit Pixel. Refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide for more information.\n*   **Customize Client Deduplication Key**: Enable this setting to set a custom client deduplication ID in Snap Pixel. Refer to the [Setting custom client deduplication key](#setting-custom-client-deduplication-key) section for more information on this setting.\n*   **Use device mode to send events**: As this is a web device mode-only destination, this setting is enabled by default and cannot be disabled.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to initialize the Snap Pixel code.\n\nRudderStack checks the cookies for the user parameter (`email` or `phone`) before loading the Snap Pixel snippet. If the parameter is present, RudderStack loads the snippet. Otherwise, it loads the snippet **without passing** the user parameter.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Snapchat strongly recommends passing a user parameter (either `email` or `phone`) through the Snap Pixel, as it lets you get better insights into your tracked conversions and creates more robust Pixel Custom Audiences. For more information, refer to the [Snap Pixel FAQ](https://businesshelp.snapchat.com/s/article/pixel-website-install?language=en_US).\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify({\n  email: \"alex@example.com\",\n  phone: \"+1-202-555-0146\"\n});   \n```\n\nThe following table lists the user parameters along with the corresponding mapping to the Snap Pixel parameters:\n\n| **RudderStack user parameter** | **Snap Pixel user parameter** |\n| --- | --- |\n| `email` | `user_email` |\n| `phone` | `user_phone_number` |\n\n## Page\n\nWhen you make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call, RudderStack sends the following call to Snap Pixel:\n\n```\nsnaptr(\"track\", \"PAGE_VIEW\")\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can make a `page` call with or without the event payload.\n\nA sample `page` call is as shown:\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to send Snap Pixel events. Refer to the [Snapchat documentation](https://businesshelp.snapchat.com/s/article/pixel-website-install?language=en_US) for more information on the Snap Pixel events.\n\nA sample `track` call is as shown below:\n\n```\nrudderanalytics.track('Order Completed', {\n  'currency': 'USD',\n  'price': 333.33,\n  'order_id': '11111111'\n});\n```\n\nYou can also send the following [RudderStack ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/):\n\n| **RudderStack event** | **Snap Pixel event** |\n| --- | --- |\n| `Order Completed` | `PURCHASE` |\n| `Checkout Started` | `START_CHECKOUT` |\n| `Product Added` | `ADD_CART` |\n| `Payment Info Entered` | `ADD_BILLING` |\n| `Promotion Clicked` | `AD_CLICK` |\n| `Promotion Viewed` | `AD_VIEW` |\n| `Product Added To Wishlist` | `ADD_TO_WISHLIST` |\n| `Product Viewed` | `VIEW_CONTENT` |\n| `Product List Viewed` | `VIEW_CONTENT` |\n| `Products Searched` | `SEARCH` |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack maps `order_id` to Snap Pixel’s `transaction_id` only in case of the `Order Completed` event.\n\nSnap Pixel supports up to 5 custom events, listed below:\n\n*   `CUSTOM_EVENT_1`\n*   `CUSTOM_EVENT_2`\n*   `CUSTOM_EVENT_3`\n*   `CUSTOM_EVENT_4`\n*   `CUSTOM_EVENT_5`\n\n## Setting custom client deduplication key\n\nRudderStack lets you define the client deduplication key for event deduplication. Enable the **Customize Client Deduplication Key** setting in the dashboard to use this feature.\n\nThe following scenarios describe the different ways RudderStack sets the custom deduplication key:\n\n### Scenario 1: Passing the key in the event properties\n\nSuppose you enable the **Customize Client Deduplication Key** setting and set the **Client Deduplication Field** to `properties.dedup`. RudderStack then sets the client deduplication ID with the value associated with `properties.dedup`, as shown in the following snippet:\n\n```\nrudderanalytics.track(\n  \"SHARE\", {\n    dedup: \"mydedupid\",\n    checkout_id: \"12345\",\n    product_name: \"Red T-shirt\",\n    product_url: \"http://www.sampledomain.com/products/myred-t-shirt\",\n  }, {\n    integrations: {},\n  }\n);\n```\n\nIn this case, RudderStack sets `mydedupid` as the client deduplication ID.\n\n### Scenario 2: Passing the `messageId` as the deduplication key\n\nSuppose you enable **Customize Client Deduplication Key** and leave the **Client Deduplication Field** empty. In this case, RudderStack sets the event’s `messageId` as the client deduplication ID.\n\n### Scenario 3: Passing wrong/missing field in the dashboard settings\n\nSuppose you enable **Customize Client Deduplication Key** and set the **Client Deduplication Field**, but the field is either missing or has a different name in the event. In this case, RudderStack **does not set** the client deduplication ID.\n\nFor example, if you set **Client Deduplication Field** to `properties.dedup` and the event contains `properties.deduplication` instead, then RudderStack sends the event to Snap Pixel **without setting** the client deduplication ID.\n\n## FAQ\n\n#### Where can I find the Snap Pixel ID?\n\nTo get your Snap Pixel ID, follow these steps:\n\n1.  Go to your [Snap Ads Manager](https://ads.snapchat.com/) account.\n2.  Under **Events Manager**, go to **View Pixel Details** > **Setup Pixel**. You can find the Pixel ID under **Set Up Your Snap Pixel**:\n\n[![Snap Pixel ID](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-pixel-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-pixel-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Snap Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Snap Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/snapchat-conversion/",
  "markdown": "# Snapchat Conversion | RudderStack Docs\n\nSend your event data from RudderStack to Snapchat via its Conversions API.\n\n* * *\n\n*     6 minute read  \n    \n\nSnapchat’s [Conversions API](https://businesshelp.snapchat.com/s/article/conversions-api?language=en_US) lets you send your web, mobile, and offline events to Snapchat via a S2S (server-to-server) integration. You can then leverage this data to optimize your Snapchat ad campaigns and measure user conversions effectively.\n\nRudderStack supports Snapchat Conversion as a destination where you can send your event data seamlessly.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The events should be generated at least 28 days before to be eligible for reporting via the Conversions API.\n\n## Getting started\n\nBefore configuring Snapchat Conversion as a destination in RudderStack, verify if the source platform is supported by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Snapchat Conversion, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Snapchat Conversion**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Snapchat Conversion as a destination, configure the following settings:\n\n[![Snapchat Conversion connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-conversion-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-conversion-connection-settings.webp)\n\n[![Snapchat Conversion connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-conversion-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-conversion-connection-settings-2.webp)\n\n*   **API Token**: Enter your API token generated from your Snapchat dashboard.\n*   **Pixel ID**: Enter your Snap Pixel ID. This is required for sending the web and offline events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your API token and Snap Pixel ID, refer to the [FAQ](#faq) section below.\n\n*   **Snap App ID**: Enter your Snapchat App ID. This is required for sending the app events.\n\n*   **App ID**: Enter the unique ID associated with your application. This is required for sending the app events.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The **App ID** is different from **Snap App ID**. It should be numeric for iOS and in the human-interpretable string format in case of Android.\n> \n> For more information, refer to the [Conversions API reference](https://marketingapi.snapchat.com/docs/conversion.html#conversion-parameters).\n\n*   **Map your events with Snapchat Standard Events**: Enter the event name and select the corresponding [Snapchat standard event](https://marketingapi.snapchat.com/docs/conversion.html#conversion-parameters:~:text=42ef%2Dba77%2D9dd9a9eb2dc1-,event_type,-Event%20type%20required) from the dropdown to be triggered when that event is called.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can specify multiple **standard events** for one **event name** and vice versa.\n\n*   **Enable Event Deduplication**: Enable this setting to deduplicate the events. If enabled, you need to enter the following:\n    *   **Deduplication key**: Enter the field/property name to be mapped to a standard Snapchat Conversion property `client_dedup_id`, using which Snapchat Conversion deduplicates the events.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event lets you capture user events along with the properties associated with them.\n\nRudderStack tracks and sends the web, mobile, and offline events to Snapchat via the [`conversion`](https://tr.snapchat.com/v2/conversion) endpoint.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack uses Bearer authentication leveraging the Snap API token for authenticating all requests. OAuth is not supported currently.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  order_id: \"1234\",\n  currency: \"USD\",\n  products: [{\n      product_id: \"345676543\",\n      price: 7.99\n    },\n  ],\n}, {\n  context: {\n    traits: {\n      email: \"alex@example.com\",\n      phone: \"+1-202-555-0146\"\n\n    }\n  }\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure to pass at least one of the required fields from the below:\n> \n> *   `email`\n> *   `phone`\n> *   `idfa`\n> *   `ip` and `userAgent`\n\nRudderStack checks the `eventConversionType` event property to determine the type of event to send to Snap Conversion (web, mobile, or offline) as specified below:\n\n```\nweb -> \"WEB\",\nmobile -> \"MOBILE_APP\",\nmobile_app -> \"MOBILE_APP\",\noffline -> \"OFFLINE\"\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure you specify the values in the exact format.\n\nIf `eventConversionType` is not found in the event, RudderStack checks if `channel` is present. If `channel` is absent too, RudderStack automatically sets `eventConversionType` to `OFFLINE`.\n\nAn example highlighting the use of `eventConversionType` is shown below:\n\n```\n\nrudderanalytics.track(\"Products Searched\", {\nquery: \"HDMI cable\",\neventConversionType: \"mobile\"\n});\n```\n\nRudderStack tracks the following properties and maps them to the corresponding Snapchat Conversion properties:\n\n| RudderStack property | Type | Snapchat Conversion property |\n| --- | --- | --- |\n| `properties.order_id`  <br>`properties.checkout_id` | String | `transaction_id` |\n| `context.page.url`  <br>`properties.url` | String | `page_url` |\n| `properties.event` | String | `event_type` |\n| `properties.event_tag` | String | `event_tag` |\n| `properties.eventConversionType` | String | `event_conversion_type` |\n| `properties.quantity` | String | `number_items` |\n| `properties.currency` | String | `currency` |\n| `properties.category` | String | `item_category` |\n| `properties.query` | String | `search_string` |\n| `properties.price`  <br>`properties.value`  <br>`properties.revenue`  <br>`(properties.products.price)` X `(properties.products.quantity)` | String | `price` |\n| `properties.product_id`  <br>`properties.products.product_id` | String | `item_ids` |\n| `properties.SignUpMethod`  <br>`properties.sign_up_method` | String | `sign_up_method` |\n| `properties.client_dedup_id` | String | `client_dedup_id` |\n| `properties.click_id` | String | `click_id` |\n| `properties.description` | String | `description` |\n| `properties.uuid_c1` | String | `uuid_c1` |\n| `properties.level` | String | `level` |\n| `properties.brands` | Array of brands | `brands` |\n| `properties.customer_status`  <br>Can be one of `new`, `returning`, or `activated`. | String | `customer_status` |\n| `properties.data` | String | `data` |\n| `properties.att_status`  <br>Can be one of `AUTHORIZED`, `RESTRICTED`, or `NOT_DETERMINED`. | String | `att_status` |\n| `properties.advertiser_cookie_1` | String | `advertiser_cookie_1` |\n| `properties.delivery_method`  <br>Can be one of `in_store`, `curbside`, or `delivery`. | String | `delivery_method` |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | String | `hashed_first_name_sha` |\n| `traits.middleName`  <br>`traits.middlename`  <br>`traits.middle_name`  <br>`context.traits.middleName`  <br>`context.traits.middlename`  <br>`context.traits.middle_name` | String | `hashed_middle_name_sha` |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | String | `hashed_last_name_sha` |\n| `traits.address.city`  <br>`context.traits.address.city` | String | `hashed_city_sha` |\n| `traits.state`  <br>`context.traits.state` | String | `hashed_state_sha` |\n| `traits.country`  <br>`context.traits.country` | String | `country` |\n| `traits.zipcode`  <br>`context.traits.zipcode`  <br>`traits.zip`  <br>`context.traits.zip` | String | `hashed_zip` |\n| `traits.region`  <br>`context.traits.region` | String | `region` |\n| `context.device.model` | String | `device_model` |\n\n### Event mapping\n\nRudderStack maps the following ecommerce events to the corresponding Snapchat Conversion events:\n\n| **RudderStack event** | **Snapchat Conversion event** |\n| --- | --- |\n| Products Searched | `SEARCH` |\n| Product List Viewed | `VIEW_CONTENT` |\n| Promotion Viewed | `AD_VIEW` |\n| Promotion Clicked | `AD_CLICK` |\n| Product Viewed | `VIEW_CONTENT` |\n| Product Added | `ADD_CART` |\n| Checkout Started | `START_CHECKOUT` |\n| Payment Info Entered | `ADD_BILLING` |\n| Order Completed | `PURCHASE` |\n| Product Added to Wishlist | `ADD_TO_WISHLIST` |\n\nRudderStack **does not map** the following events and passes their properties as is, without any modification:\n\n*   `ACHIEVEMENT_UNLOCKED`\n*   `APP_INSTALL`\n*   `APP_OPEN`\n*   `COMPLETE_TUTORIAL`\n*   `INVITE`\n*   `LIST_VIEW`\n*   `LEVEL_COMPLETE`\n*   `LOGIN`\n*   `PAGE_VIEW`\n*   `RATE`\n*   `RESERVE`\n*   `SAVE`\n*   `SIGN_UP`\n*   `SHARE`\n*   `SPENT_CREDITS`\n*   `START_TRIAL`\n*   `SUBSCRIBE`\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack processes `page` calls as [`track`](#track) calls with the Snapchat event set to `page_view`.\n> \n> Hence, all the required fields for `track` events are required here as well.\n\nA sample `page` call sent to Snapchat:\n\n```\nrudderanalytics.page(\"Help\", \"Help Page\", {\n  name: \"Contact Customer Care\",\n  request_ip: \"203.0.113.0\",\n  context: {\n    userAgent: \"ABC\"\n  }\n})\n```\n\n## FAQ\n\n#### Where can I find the Conversions API token?\n\nTo get your Snap Conversions API token, follow these steps:\n\n1.  Go to your [Snap Ads Manager](https://ads.snapchat.com/) account.\n2.  Click **Create Ads** option in the top left section of the dashboard and go to **Business Details** > **Conversions API Tokens**. You will find all API tokens associated with your account listed here.\n3.  To generate a new Conversions API token, click **Generate Token**.\n\n[![Snap Conversions API token](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-api-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-api-token.webp)\n\n#### Where can I find the Pixel ID associated with my account?\n\nTo get your Snap Conversions Pixel ID, follow these steps:\n\n1.  Go to your [Snap Ads Manager](https://ads.snapchat.com/) account.\n2.  Click **Create Ads** option in the top left section of the dashboard and go to **Events Manager**.\n3.  Then, click **Setup Snap Pixel**. You will see the following options:\n\n[![Snap Conversions set up Pixel](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-setup-pixel.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-setup-pixel.webp)\n\n4.  Select **Pixel Code** and click **Continue**.\n5.  You will see the Snap Pixel ID at the top left of the resulting window:\n\n[![Snap Conversions Pixel ID](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-pixel-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-pixel-id.webp)\n\n#### Where can I find the App ID associated with my application?\n\nTo get your Snap Conversions Pixel ID, follow these steps:\n\n1.  Go to your [Snap Ads Manager](https://ads.snapchat.com/) account.\n2.  Click **Create Ads** option in the top left section of the dashboard and go to **Apps**. You will find the **App ID** associated with all your apps listed here.\n\nTo add a new app, follow these steps:\n\n1.  Click **Add an App**.\n2.  You can either create a new Snap App ID or importing an existing App ID.\n3.  Then, enter your **App Name** and the relevant app ID/URL depending on your app’s platform.\n4.  Finally, add any postbacks and click **Continue** to finish the setup.\n\n[![Snap Conversions add new app](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-add-new-app.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snap-conversions-add-new-app.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Snapchat Conversion | RudderStack Docs",
  "description": "Send your event data from RudderStack to Snapchat via its Conversions API.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tiktok-ads/cloud-mode/",
  "markdown": "# TikTok Ads cloud mode | RudderStack Docs\n\nSend events to TikTok Ads using RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to TikTok Ads via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   This integration supports both [Events 1.0](https://business-api.tiktok.com/portal/docs?id=1739657891856385) and [Events 2.0](https://business-api.tiktok.com/portal/docs?id=1771101276978178) API for sending events to TikTok. RudderStack recommends using the Events 2.0 API to send your events as TikTok will sunset the Events 1.0 API by the second half of 2024.\n> *   To send custom events to TikTok Ads using [RudderStack Open Source](https://app.rudderstack.com/signup?type=opensource), use [`rudder-transformer`](https://github.com/rudderlabs/rudder-transformer) v1.52.0 or later.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/tiktok_ads).\n\n## Track\n\nUse the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events along with the associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  checkout_id: \"12345\",\n  order_id: \"1234\",\n  affiliation: \"Apple Store\",\n  total: 20,\n  revenue: 15.0,\n  shipping: 22,\n  tax: 1,\n  discount: 1.5,\n  coupon: \"ImagePro\",\n  currency: \"USD\",\n  contentType: \"product\",\n  products: [{\n      product_id: \"123\",\n      sku: \"G-32\",\n      name: \"Monopoly\",\n      price: 14,\n      quantity: 1,\n      category: \"Games\",\n      url: \"https://www.website.com/product/path\",\n      image_url: \"https://www.website.com/product/path.jpg\",\n    },\n    {\n      product_id: \"345\",\n      sku: \"F-32\",\n      name: \"UNO\",\n      price: 3.45,\n      quantity: 2,\n      category: \"Games\",\n    },\n  ],\n})\n```\n\n### Event mapping\n\nRudderStack maps the following events to the corresponding TikTok Ads Events:\n\n| RudderStack event | TikTok Ads event |\n| --- | --- |\n| `ViewContent` | `ViewContent` |\n| `ClickButton` | `ClickButton` |\n| `Search` | `Search` |\n| `Contact` | `Contact` |\n| `Download` | `Download` |\n| `SubmitForm` | `SubmitForm` |\n| `CompleteRegistration` | `CompleteRegistration` |\n| `Subscribe` | `Subscribe` |\n\nRudderStack also maps the following [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/):\n\n| RudderStack event | TikTok Ads event |\n| --- | --- |\n| `Product Added to Wishlist` | `AddToWishlist` |\n| `Product Added` | `AddToCart` |\n| `Checkout Started` | `InitiateCheckout` |\n| `Payment Info Entered` | `AddPaymentInfo` |\n| `Checkout Step Completed` | `CompletePayment` |\n| `Order Completed` | `PlaceAnOrder` |\n\n### Property mapping\n\nRudderStack maps the following **optional** event properties to the corresponding TikTok Ads fields:\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> TikTok will sunset the [Events 1.0](https://business-api.tiktok.com/portal/docs?id=1739657891856385) API by the second half of 2024. RudderStack recommends using the [Events 2.0](https://business-api.tiktok.com/portal/docs?id=1771101276978178) API to send your events.\n\n| RudderStack property | TikTok Ads property |\n| --- | --- |\n| `properties.eventId` | `event_id` |\n| `timestamp` | `timestamp` |\n| `properties.testEventCode` | `test_event_code` |\n| `properties.contents` | `properties.contents` |\n| `properties.currency` | `properties.currency` |\n| `properties.clickId` | `context.ad.callback` |\n| `properties.value` | `properties.value` |\n| `properties.description` | `properties.description` |\n| `properties.query` | `properties.query` |\n| `properties.context.ad` or `context.ad` | `context.ad` |\n| `properties.context.page` or `context.page` | `context.page` |\n| `properties.context.user` | `context.user` |\n| `context.ip` | `context.ip` |\n| `context.userAgent` | `context.user_agent` |\n| From `externalId` `tiktokExternalId` | `user.external_id` |\n\nFor custom events, RudderStack maps only the [standard fields](https://github.com/rudderlabs/rudder-transformer/blob/0e1429663d167a2c5cded0d9130374eb586a18c0/src/v0/destinations/tiktok_ads/data/TikTokTrack.json) supported by TikTok Ads and drops all other fields in the event. See [TikTok Ads standard fields](https://business-api.tiktok.com/portal/docs?id=1741601162187777) documentation for more information.\n\n| RudderStack property | TikTok Ads property |\n| --- | --- |\n| `properties.eventId`  <br>`properties.event_id`  <br>`messageId` | `data.$.event_id` |\n| `timestamp` | `data.$.event_time` |\n| `phone` | `data.$.user.phone` |\n| `properties.contents` | `data.$.properties.contents` |\n| `properties.contentType`  <br>`properties.content_type` | `data.$.properties.content_type` |\n| `properties.currency` | `data.$.properties.currency` |\n| `properties.description` | `data.$.properties.description` |\n| `properties.email`  <br>`traits.email`  <br>`context.traits.email`  <br>`context.user.email` | `data.$.user.email` |\n| `properties.limited_data_use` | `data.$.limited_data_use` |\n| `properties.orderId`  <br>`properties.order_id` | `data.$.properties.order_id` |\n| `properties.value` | `data.$.properties.value` |\n| `properties.query` | `data.$.properties.query` |\n| `properties.shopId`  <br>`properties.shop_id` | `data.$.properties.shop_id` |\n| `properties.ttclid` | `data.$.user.ttclid` |\n| `properties.ttp` | `data.$.user.ttp` |\n| `properties.referrer`  <br>`context.page.referrer` | `data.$.page.referrer` |\n| `properties.url`  <br>`context.page.url` | `data.$.page.url` |\n| `context.locale` | `data.$.user.locale` |\n| `context.ip`  <br>`request_ip` | `data.$.user.ip` |\n| `context.userAgent` | `data.$.user.user_agent` |\n| `properties.testEventCode` | `test_event_code` |\n| From `externalId` `tiktokExternalId` | `data.$.user.external_id` |\n\nNote that the `properties.ttclid` to `user.ttclid` mapping corresponds to the `properties.clickId` to `context.ad.callback` mapping in Events 1.0 API.\n\n## FAQ\n\n#### I see a 40002 response code with ‘No permission to operate pixel code’ error message, what can I do?\n\nThis error code is related to the authentication of your TikTok account. For more information, refer to the [TikTok documentation](https://ads.tiktok.com/gateway/docs/index?identify_key=2b9b4278e47b275f36e7c39a4af4ba067d088e031d5f5fe45d381559ac89ba48&language=ENGLISH&doc_id=1701890979375106#item-link-FAQ).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "TikTok Ads cloud mode | RudderStack Docs",
  "description": "Send events to TikTok Ads using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tiktok-ads/device-mode/",
  "markdown": "# TikTok Ads device mode | RudderStack Docs\n\nSend events to TikTok Ads using RudderStack web device mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to TikTok Ads via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) using the native web SDK.\n\nFind the open source JavaScript SDK code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production-staging/src/integrations/TiktokAds).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to identify a user in TikTok ads.\n\nThe following snippet highlights a sample `identify` call sent to TikTok Ads:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\",\n    name: \"Alex Keener\"\n  }, {\n    externalld: [{\n        id: \"external_id_1\",\n        type: \"tiktokExternalId\"\n    }]\n  }\n);\n```\n\nIn TikTok Ads, an external ID is an identifier that uniquely represents a user. Use the `externalId` parameter to match the `id` with the TikTok user. Make sure to set the type as `tiktokExternalId`.\n\nSetting an external ID for a user is helpful in increasing match rates across channels and boost your ad measurements and optimization. For more information on using external IDs, see [TikTok documentation](https://ads.tiktok.com/marketing_api/docs?id=1765942670613506).\n\n### Traits mappings\n\nRudderStack maps the following traits to the TikTok Ads fields:\n\n| RudderStack trait | TikTok Ads trait |\n| --- | --- |\n| `properties.phone`  <br>`properties.number` | `phone` |\n| `properties.email` | `email` |\n| `externalId.tiktokExternalId` | `tiktokExternalId` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events along with the associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderAnalytics.track(\"Add To Cart\", {\n  eventId: \"123\",\n  category: \"cat1\",\n  product_id: \"product\",\n  contents: [{\n      \"price\": 8,\n      \"quantity\": 2,\n      \"content_type\": \"socks\",\n      \"content_id\": \"1077218\"\n    },\n    {\n      \"price\": 30,\n      \"quantity\": 1,\n      \"content_type\": \"dressing\",\n      \"content_id\": \"1237218\"\n    }\n  ],\n  currency: \"USD\",\n  email: \"alex@example.com\",\n  phone: \"1234567890\"\n});\n```\n\n### Supported mappings\n\nRudderStack maps the following event properties to the corresponding TikTok Ads properties:\n\n| RudderStack property | TikTok Ads property |\n| --- | --- |\n| `context.traits.email`  <br>`traits.email`  <br>`properties.email` | `email` |\n| `context.traits.phone`  <br>`traits.phone`  <br>`properties.phone` | `phone` |\n| `testEventCode` | `test_event_code` |\n| `properties.event_id` | `event_id` |\n| `properties.contents` | `contents` |\n| `properties.category` | `category` |\n| `properties.status` | `status` |\n| `properties.name` | `content_name` |\n| `properties.product_id`  <br>`properties.productId` | `content_id` |\n| `properties.contentType`  <br>`properties.content_type` | `content_type` |\n| `properties.currency` | `currency` |\n| `properties.value` | `value` |\n| `properties.description` | `description` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Send the `testEventCode` property to test a connection in TikTok Ads.\n\nFor custom events, RudderStack maps only the [standard fields](https://github.com/rudderlabs/rudder-transformer/blob/0e1429663d167a2c5cded0d9130374eb586a18c0/src/v0/destinations/tiktok_ads/data/TikTokTrack.json) supported by TikTok Ads and drops all other fields in the event. See [TikTok Ads standard fields](https://business-api.tiktok.com/portal/docs?id=1741601162187777) documentation for more information.\n\n## Page\n\nRudderStack does not send any page-related properties to TikTok. Once you make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call, TikTok automatically fetches all the page-related properties.\n\nThe following snippet highlights a sample `page` call:\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "TikTok Ads device mode | RudderStack Docs",
  "description": "Send events to TikTok Ads using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/snapengage/",
  "markdown": "# SnapEngage | RudderStack Docs\n\nSend your event data from RudderStack to SnapEngage.\n\n* * *\n\n*     4 minute read  \n    \n\n[SnapEngage](https://snapengage.com/) is an enterprise chat platform. It offers chatbots and live chat integrations to drive conversions, reduce response times, and increase customer satisfaction.\n\nRudderStack supports SnapEngage as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to SnapEngage via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | Supported | \\-  | \\-  |\n| Cloud mode | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the SnapEngage native SDK is loaded from `https://storage.googleapis.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the SnapEngage SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to SnapEngage, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **SnapEngage**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure SnapEngage as a destination, you will need to configure the following settings:\n\n[![SnapEngage connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-connection-settings-1.webp)\n\n[![SnapEngage connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-connection-settings-2.webp)\n\n*   **Widget ID**: Enter your SnapEngage widget ID.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining your SnapEngage widget ID, refer to the [FAQ](#faq) section below.\n\n*   **Record Live Chat Events**: Enable this setting to allow RudderStack to automatically record your SnapEngage Live Chat events as `track` events.\n*   **Update Event Name in track call**: If **Record Live Chat Events** is enabled, enable this setting to update the event names in the `track` call.\n    *   **Mapping to update the Event Name in track call**: Use this setting to map the standard SnapEngage events with your custom event names.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to SnapEngage.\n\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to set the user’s email and username in SnapEngage through their [SDK](https://developer.snapengage.com/javascript-api/#javascript-api).\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\",\n    name: \"Alex Keener\"\n  }\n);\n```\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack and SnapEngage properties:\n\n| RudderStack property | SnapEngage property | Data type | Presence |\n| --- | --- | --- | --- |\n| `traits.email` / `context.traits.email` | `email` | String | Required |\n| `traits.name` / `context.traits.name` | `name` | String | Optional |\n\n## Track\n\nIf you enable the **Record Live Chat Events** dashboard setting, RudderStack records the SnapEngage Live Chat events based on the user’s interactions and sends them as [track](https://www.rudderstack.com/docs/event-spec/standard-events/track/) events. You can then view and analyze these events using other tools (connected to the same source in RudderStack).\n\n### Supported events\n\nRudderStack automatically records and sends the following Live Chat events:\n\n*   [Live Chat Conversation Started](https://developer.snapengage.com/javascript-api/#startchat-event)\n\n```\nSnapEngage.setCallback(\"StartChat\", function() {\n  window.rudderanalytics.track(\n    \"Live Chat Conversation Started\", {}, {\n      context: {\n        integration: {\n          name: 'snapengage',\n          version: '1.0.0'\n        }\n      }\n    }\n  );\n});\n```\n\n*   [Live Chat Conversation Ended](https://developer.snapengage.com/javascript-api/#close-event)\n\n```\nSnapEngage.setCallback(\"Close\", function() {\n  window.rudderanalytics.track(\n    \"Live Chat Conversation Ended\", {}, {\n      context: {\n        integration: {\n          name: 'snapengage',\n          version: '1.0.0'\n        }\n      }\n    }\n  );\n});\n```\n\n*   [Live Chat Message Sent](https://developer.snapengage.com/javascript-api/#chatmessagesent-event)\n\n```\nSnapEngage.setCallback(\"ChatMessageSent\", function() {\n  window.rudderanalytics.track(\n    \"Live Chat Message Sent\", {}, {\n      context: {\n        integration: {\n          name: 'snapengage',\n          version: '1.0.0'\n        }\n      }\n    }\n  );\n});\n```\n\n*   [Live Chat Message Received](https://developer.snapengage.com/javascript-api/#chatmessagereceived-event)\n\n```\nSnapEngage.setCallback(\"ChatMessageReceived\", function(agent) {\n  window.rudderanalytics.track(\n    \"Live Chat Message Received\", {\n      agentUsername: agent\n    }, {\n      context: {\n        integration: {\n          name: 'snapengage',\n          version: '1.0.0'\n        }\n      }\n    }\n  );\n});\n```\n\n*   [Button Clicked](https://developer.snapengage.com/javascript-api/#button-event)\n\n```\nSnapEngage.setCallback(\"InlineButtonClicked\", function() {\n  window.rudderanalytics.track(\n    \"Inline Button Clicked\", {}, {\n      context: {\n        integration: {\n          name: 'snapengage',\n          version: '1.0.0'\n        }\n      }\n    }\n  );\n});\n```\n\n### Mapping events\n\nYou can also update the standard SnapEngage Live Chat events with custom event names. Enable the **Update Event Name in track call** dashboard setting in RudderStack and specify the required mapping:\n\n[![SnapEngage event name mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-event-mapping.webp)\n\nFrom the mappings set in the above image, RudderStack replaces the event names `\"Live Chat Conversation Started\"` and `\"Live Chat Message Sent\"`with `\"User Started Chat\"` and `\"Submit\"` respectively.\n\n## FAQ\n\n#### Where can I find the SnapEngage widget ID?\n\nTo get your SnapEngage widget ID, follow these steps:\n\n1.  Log into your [SnapEngage dashboard](https://www.snapengage.com/app/).\n2.  In the sidebar, select the widget under **Current Widget** for which you want the widget ID.\n3.  Go to **Settings** > **Get the Code**. You will find the widget ID under **(Advanced) Widget ID**:\n\n[![SnapEngage widget ID](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-widget-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapengage-widget-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "SnapEngage | RudderStack Docs",
  "description": "Send your event data from RudderStack to SnapEngage.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/singular/",
  "markdown": "# Singular | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Singular | RudderStack Docs",
  "description": "Send your event data from RudderStack to Singular.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tvsquared/",
  "markdown": "# TVSquared | RudderStack Docs\n\nSend your event data from RudderStack to TVSquared.\n\n* * *\n\n*     3 minute read  \n    \n\n[TVSquared](https://tvsquared.com/) is a television attribution platform that specializes in enterprise-scale cross-screen and multi-touch TV attribution and measurement.\n\nRudderStack supports TVSquared as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nRudderStack supports sending event data to TVSquared via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | **\\-** | **\\-** |\n| **Cloud mode** | **\\-** | **\\-** | **\\-** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, RudderStack loads the TVSquared native SDK from the `http://tvsquared.com` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the TVSquared SDK successfully.\n\nOnce you have confirmed that the platform supports sending events to TVSquared, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **TVSquared**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully set up TVSquared as a destination, configure the following settings:\n\n*   **Brand Id (Site ID)**: Enter the unique identifier indicating the TVSquared client to which the traffic belongs. It is of the format `TV-XXXXXXX-1` with a variable-length numeric value replacing `X`.\n*   **Client Id (Collector Id)**: Enter the Client ID used to distribute the traffic and manage the load on the TVSquared servers effectively. It is numeric and can contain one or more values.\n*   **Custom Metrics**: The **Property Name** values added in this field are sent to TVSquared for the events containing those event properties, along with the other defined TVSquared properties. For example, if the property added in the dashboard is `shipping` , then the shipping value is sent to TVSquared. A sample snippet for this is shown:\n\n```\nrudderanalytics.track('Order Completed', {\n  order_id: '5d4c7cb5',\n  revenue: 99.9,\n  shipping: 13.99,\n  tax: 20.99,\n  products: [\n  ]\n});\n```\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to TVSquared. See [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) for more information.\n\n## Page\n\nWhen you make a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call, RudderStack makes a call to TVSquared to record a page view.\n\n```\nrudderanalytics.page('new category',\n'page name',\n{\n  url: 'url',\n  path: '/path'\n});\n```\n\n## Track\n\nCalling the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method triggers TVSquared’s `Action Tracker` method.\n\nBy default, TVSquared accepts the following properties in your `track` events:\n\n*   `revenue`\n*   `product type (category)`\n*   `action id (order_id)`\n*   `promo (promotion_id)`\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the above parameters are optional. There is no requirement to add these to measure the uplift from TV. However, you can use this data for more detailed analysis as required. If there is no value to pass, RudderStack sets an empty string instead.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track('Order Completed', {\n  order_id: '5d4c7cb5',\n  category: 'category',\n  revenue: 99.9,\n  shipping: 13.99,\n  tax: 20.99,\n  products: [\n\n  ],\n  promotion_id: 'PROMO_1234'\n});\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "TVSquared | RudderStack Docs",
  "description": "Send your event data from RudderStack to TVSquared.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/split/",
  "markdown": "# Split | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Split | RudderStack Docs",
  "description": "Send your event data from RudderStack to Split.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tiktok-ads-offline-events/",
  "markdown": "# TikTok Ads Offline Events | RudderStack Docs\n\nSend your event data from RudderStack to TikTok Ads Offline Events.\n\n* * *\n\n*     3 minute read  \n    \n\n[TikTok Ads](https://ads.tiktok.com/) Offline Events let you track and send your conversions data after a user clicks your TikTok ad but does not directly proceed to sale in the online mode.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/tiktok_ads_offline_events).\n\n## Getting started\n\nRudderStack supports sending event data to this destination via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to TikTok Ads Offline Events, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **TikTok Ads Offline Events**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure TikTok Ads Offline Events as a destination, you will need to configure the following settings:\n\n*   **Access Token**: Enter your TikTok access token (also called Long Term Access Token) by following the steps mentioned in the [Authorization](https://ads.tiktok.com/marketing_api/docs?id=1738373141733378) and [Authentication](https://ads.tiktok.com/marketing_api/docs?id=1738373164380162) sections of the TikTok documentation.\n*   **Mapping to trigger the TikTok Ads Offline standard events for the respective events**: Enter the **Event Name** and select the corresponding **Standard Event** from the dropdown you want to trigger when that event is called. You can specify multiple standard events for one event name and vice versa.\n*   **Hash Contextual User Properties (SHA-256)**: Use this setting to hash the user properties like `email` and `phone` using SHA-256 encryption.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture the offline user events along with the associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Start Payment\", {\n  checkout_id: \"12345\",\n  order_id: \"1234\",\n  total: 20,\n  revenue: 15.0,\n  shipping: 22,\n  tax: 1,\n  discount: 1.5,\n  coupon: \"ImagePro\",\n  currency: \"USD\",\n  contentType: \"product\",\n  products: [{\n      product_id: \"123\",\n      sku: \"G-32\",\n      name: \"GI Joe\",\n      price: 4.99,\n    },\n    {\n      product_id: \"345\",\n      sku: \"F-32\",\n      name: \"UNO\",\n      price: 3.45,\n      quantity: 2,\n      category: \"Games\",\n    },\n  ],\n})\n```\n\n### Standard events\n\nTo send a `track` event as a standard TikTok Ads Offline Event, you must specify the event mapping in the RudderStack dashboard’s [connection settings](#connection-settings):\n\n[![TikTok Ads Offline standard events](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-offline-standard-events.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-offline-standard-events.webp)\n\nRudderStack automatically maps the following events to the corresponding TikTok Ads Offline standard events:\n\nRudderStack maps the following events to the corresponding TikTok Ads Events:\n\n| RudderStack event | TikTok Ads event |\n| --- | --- |\n| `ClickButton` | `ClickButton` |\n| `CompleteRegistration` | `CompleteRegistration` |\n| `Contact` | `Contact` |\n| `Download` | `Download` |\n| `Search` | `Search` |\n| `SubmitForm` | `SubmitForm` |\n| `Subscribe` | `Subscribe` |\n| `ViewContent` | `ViewContent` |\n\nRudderStack also maps the following [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/):\n\n| RudderStack event | TikTok Ads event |\n| --- | --- |\n| `Checkout Started` | `InitiateCheckout` |\n| `Checkout Step Completed` | `CompletePayment` |\n| `Order Completed` | `PlaceAnOrder` |\n| `Payment Info Entered` | `AddPaymentInfo` |\n| `Product Added` | `AddToCart` |\n| `Product Added to Wishlist` | `AddToWishlist` |\n\n### Property mapping\n\nRudderStack maps the following event properties to the corresponding TikTok Ads Offline Events fields:\n\n| RudderStack property | TikTok Ads Offline event property |\n| --- | --- |\n| `message.event`  <br>Required | `event` |\n| `properties.eventSetId`  <br>Required | `event_set_id` |\n| `timestamp`  <br>Required | `timestamp` |\n| `properties.eventId`  <br>`properties.messageId` | `event_id` |\n| `traits.phone`  <br>`context.traits.phone` | `context.user.phone_numbers` |\n| `traits.email`  <br>`context.traits.email` | `context.user.emails` |\n| `properties.order_id`  <br>`properties.orderId` | `properties.order_id` |\n| `properties.shop_id`  <br>`properties.shopId` | `properties.shop_id` |\n| `context.channel` | `properties.event_channel` |\n| `properties.value`  <br>`properties.revenue`  <br>`properties.total` | `properties.value` |\n| `properties.currency` | `properties.currency` |\n| `properties.name`  <br>`properties.products.name` | `properties.contents.content_name` |\n| `properties.contentType`  <br>`properties.products.name` | `properties.contents.content_type` |\n| `properties.category`  <br>`properties.products.category` | `properties.contents.content_category` |\n| `properties.productId`  <br>`properties.products.productId` | `properties.contents.content_id` |\n| `properties.price`  <br>`properties.products.price` | `properties.contents.price` |\n| `properties.price`  <br>`properties.products.price` | `properties.contents.price` |\n| `properties.quantity`  <br>`properties.products.quantity` | `properties.contents.quantity` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack **internally** sets the property `partner_name` to `RudderStack` while sending the above properties to TikTok Ads Offline Events.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "TikTok Ads Offline Events | RudderStack Docs",
  "description": "Send your event data from RudderStack to TikTok Ads Offline Events.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/trengo/",
  "markdown": "# Trengo | RudderStack Docs\n\nSend your event data from RudderStack to Trengo.\n\n* * *\n\n*     5 minute read  \n    \n\n[Trengo](https://trengo.com/en) is a popular business messaging and communications platform that lets you bring together all your messages via email, SMS, social media, etc. into a single central communication hub. It allows you to set up cross-platform collaborations with your team, automate conversations with your users, and deliver personalized customer experiences.\n\nRudderStack allows you to configure Trengo as a destination to which you can send your event data.\n\n## Getting started\n\nBefore configuring your source and destination in RudderStack, please verify if the source platform is supported by Trengo by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud** **mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Trengo, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source. Then, select **Trengo** from the list of destinations.\n*   Assign a name to the destination and click **Next**. You should then see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/trengo-config.webp)](https://www.rudderstack.com/docs/images/trengo-config.webp)\n\n### Connection Settings\n\nIn the **Connection Settings**, you will see the following options:\n\n*   **API Token:** This is a unique token generated for your Trengo account. To generate this API token, you need to select **REST API** from **Apps and Integrations** under the **Settings** option in your Trengo account.\n*   **Channel ID:** This corresponds to the unique ID for the channel to which you want to send your data via RudderStack.\n*   **Channel Identifier:** Select this option depending on the type of channel you want to send your data.\n*   **Enable deduplication for Contacts:** By default, RudderStack will _Deduplicate_ contacts generated from your `identify` events. You can disable this option if you want to create duplicate contacts with same identifier.\n*   **Map events with template:** To send `track` events to Trengo, you need to add the `event` to the _Event Name_ field. If you wish to customize the subject for the event, you can do so by adding a _template_.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a particular event the **Channel ID** can be overriden using `externalId`, For example: `(context.externalId: [{type:trengoChannelId, id:channelId}])`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> When using an `externalId` to override _channelId_ , make sure that the **Channel Identifier** of that specific channel matches with the **Channel Identifier** you have selected in RudderStack dashboard.\n\n### Effects on the Identify events\n\nDisabling the option **Enable deduplication for Contacts** will have the following consequences on the `identify` events:\n\n*   RudderStack will not update exising contacts with the same `identifier`.\n*   For the channel identifier **phone**:\n    *   If a contact is present with the same `phone`number as an identifier, it will be duplicated.\n    *   If you want to store multiple contacts for a particular `phone` number as an identifier for different channels (where the `channel identifiers` are **phone** too), you will need to disable the `deduplication` option from RudderStack dashboard.\n*   For the channel identifier **email**:\n    *   If a contact is present with the same `email` address as an identifier, it will not be duplicated. This is a known destination behavior.\n    *   For creating multiple contacts with `email` address as an identifer, you need a unique email address.\n\n## Identify\n\nThe `identify` call lets you associate a user with their actions and capture all relevant traits about them.\n\nFor each `identify` call, RudderStack creates a `contact` using `email` or `phone` as an identifier (depending on the `channel identifier`) using the [Trengo Contact API](https://developers.trengo.com/reference#create-update-a-user).\n\nIf a contact is already present with same `identifier` (`email`/`phone`), RudderStack will update the contact using the [Trengo Contact API](https://developers.trengo.com/reference#update-a-user-1).\n\nA sample `identify` call looks like the following:\n\n```\nrudderanalytics.identify(\"userid\", {\n  firstName: \"Name\",\n  lastName: \"Surname\",\n  email: \"name@website.com\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> **NOTE:** If you already have Trengo `contactId` you can pass it in `externalId`, `(example context.externalId: [{type:trengoContactId, id:channelId}])`, in that case will we avoid searching for `contactId` using `identifier(email/phone)` before updating.\n\n## Track\n\nThe `track` call allows you to capture any action that the user might perform along with the properties associated with that action. Each action is considered to be an event. For every `track` event, RudderStack creates a `ticket` in Trengo using the [Trengo Ticket API](https://developers.trengo.com/reference#create-a-ticket).\n\nA sample `track` call looks like the following:\n\n```\nrudderanalytics.track(\"Product Purchased\", {\n  Clicked_Rush_delivery_Button: true,\n  total_value: 2000,\n  revenue: 2000,\n})\n```\n\n## Mapping Track Events with Trengo’s Event Template\n\nThe following table demonstrates the use of the **Map events with template:** option for your `track` events:\n\n| **Event Name** | **Event Template** | **Subject Generated** |\n| --- | --- | --- |\n| `Product Purchased` | `{{ event }} from our store` | `Product Purchased from our store` |\n| `Added to cart` | `Product was of value:{{ revenue }}` | `Product was of value:2000` |\n| `Checked Out` | `Cart was checked out` | `Cart was checked out` |\n\nA few things to note while using this option:\n\n*   For particular **Event Name**, the **Event Template** is optional. If left blank, the subject will not generated using the Template. (Note: Subjects are generally used for creating tickets in the channels where the channel identifier is `email`.)\n*   For `track` calls, the `contact identifier` is mandatory. For example, for tracking events to an `email` channel, `email` is a mandatory event field. Similarly, for tracking events to a `phone` channel, `phone` is a mandatory event field.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> For lodging your `track` events to Trengo, it is mandatory to add the `event` name in **Event Name** field. If the **Event Name** is not present, the particular `track` events will not flow through.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Trengo | RudderStack Docs",
  "description": "Send your event data from RudderStack to Trengo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/userlist/",
  "markdown": "# Userlist | RudderStack Docs\n\nSend your event data from RudderStack to Userlist.\n\n* * *\n\n*     3 minute read  \n    \n\n[Userlist](https://userlist.com/) is a popular behavior-based messaging platform that lets you engage with your SaaS users effectively through targeted, behavior-based campaigns.\n\nRudderStack supports sending your events to Userlist from the cloud mode S2S (Server to Server) by calling the relevant RudderStack APIs.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> This destination is supported by the Userlist team. You can contact the Userlist team via [](mailto:support@userlist.com)[support@userlist.com](mailto:support@userlist.com).\n\n## Getting started\n\nBefore configuring your source and destination on the RudderStack app, please check whether the platform you are working on is supported. You can refer the following table to do so:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Userlist, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderlabs.com/), add the source and Userlist as a destination.\n*   Name your destination, and click **Next**. You should be able to see the following screen:\n\n[![](https://www.rudderstack.com/docs/images/userlist.webp)](https://www.rudderstack.com/docs/images/userlist.webp)\n\nConnection settings for Userlist destination\n\n*   Enter the **Userlist Pus Key** which you can find from your [Userlist Push API settings](https://app.userlist.com/settings/push).\n*   Once the destination is enabled, events from the RudderStack SDK will start to flow to Userlist.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Userlist does not support tracking of anonymous users. So, make sure you call `identify` before calling `track`.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call sends the event data to Userlist along with the properties that you pass as the RudderStack traits.\n\nIf the `userId` is already known, Userlist will update the user record. Otherwise, it’ll create a new one.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Userlist will only process messages with a `userId`. Messages with only an `anonymousId` will be ignored.\n\nThe following code snippet is an example of an `identify` call in RudderStack:\n\n```\nrudderanalytics.identify(\"test-user-id\", {\n  name: \"Tintin\",\n  city: \"Brussels\",\n  country: \"Belgium\",\n  email: \"tintin@herge.com\",\n})\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call is made to associate the user with a company in Userlist.\n\nAn example of a `group` call is as shown:\n\n```\nrudderanalytics.group(\"test-group-id\", {\n  name: \"Example, Inc.\",\n  industry: \"Testing\",\n  employees: 42,\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Userlist supports adding properties to the relationship between user and group. As this isn’t officially supported by RudderStack’s message format, you can specify the relationship properties by providing additional data for Userlist specifically.\n\nThe following example will associate the currently identified user with the given group (company) and set their `role` for that particular group (company) to `owner`.\n\n```\nrudderanalytics.group(\"test-group-id\", {\n  name: \"Example, Inc.\",\n  industry: \"Testing\",\n  employees: 42,\n  integrations: {\n    Userlist: {\n      extensions: {\n        relationship: {\n          properties: {\n            role: \"owner\",\n          },\n        },\n      },\n    },\n  },\n})\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call will pass the event properties to Userlist. You may call `rudderanalytics.track()` with or without event properties.\n\nThe following code snippet shows how a sample `track` call is made in RudderStack:\n\n```\nrudderanalytics.track(\"Project created\", {\n  project_name: \"Demo Project\",\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that every `track` call will be sent to Userlist as a new event. You may send additional properties to describe the event in more detail.\n> \n> Both the event name and additional properties will be stored with the event and normalized to snake case (`project_created` and `project_name`) automatically within Userlist.\n\nTo track an event in the context of a group (company), you need to specify the `groupId` in the `context`:\n\n```\nrudderanalytics.track(\"Project created\", {\n  project_name: \"Demo Project\",\n  context: {\n    groupId: \"test-group-id\",\n  },\n})\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Userlist | RudderStack Docs",
  "description": "Send your event data from RudderStack to Userlist.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/user-com/",
  "markdown": "# User.com | RudderStack Docs\n\nSend your event data from RudderStack to User.com.\n\n* * *\n\n*     5 minute read  \n    \n\n[User.com](https://user.com/en/) is a popular marketing automation platform. It provides robust tools for the marketing, sales, management, and support teams to boost their brand value, enhance customer engagement, and increase conversions.\n\nFind the open source code for this destination in this [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/user).\n\n## Getting started\n\nRudderStack supports sending event data to User.com via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to User.com, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **User.com**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully set up User.com as a destination, you will need to configure the following settings:\n\n*   **Public REST API Key**: Enter your public User.com REST API key.\n*   **App Subdomain**: Enter the subdomain of your User.com app.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining the public REST API key and app subdomain, see the [FAQ](#faq) section below.\n\n*   **Map Rudder user attributes to User.com attributes**: With this setting, you can map the RudderStack user attributes to specific User.com user attributes.\n*   **Map RudderStack event name to User.com event name**: Use this setting to map the RudderStack event names to specific User.com events. You can map one or more RudderStack events to a single User.com event but **not** vice-versa.\n*   **Map your event property**: Enter the RudderStack and User.com event properties you want to map for the above-mentioned event names. You can map a RudderStack property only to one User.com property and vice-versa.\n*   **Map Rudder company attributes to User.com company attributes**: Use this setting to map the RudderStack company attributes to specific User.com company attributes.\n\n## User lookup\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This functionality is applicable only for the `identify`, `track`, and `page` calls.\n\nRudderStack looks up a user in User.com using the `userKey`, `email`, or `phone` properties.\n\n*   You can pass the `userKey` in the `externalId` array:\n\n```\n\"externalId\": [{\n  \"type\": \"userKey\",\n  \"id\": \"uehfuuiuednjk\"\n}],\n```\n\n*   You can pass the `email` or `phone` in the `integrations` object:\n\n```\nintegrations: {\nuser: {\n  lookup: \"email/phone\"\n}\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must pass only one of `email` or `phone` in `lookup`. Also, `email` or `phone` (whichever is passed) must have unique values in User.com.\n\nThe precedence order for looking up a user based on the above properties is:\n\n*   The `userKey` is given the highest priority.\n*   The `lookup` value is given the second highest priority. If `phone`/`email` (whichever is passed) is not found, RudderStack will throw an error.\n*   If none of the above is present, RudderStack falls back to the `userId`. If not found, RudderStack will throw an error.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a new user in User.com. If the user already exists, RudderStack updates the user details.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4el9Zt1WSfVJIVo4GRlm', {\n      firstName: 'Alex',\n      lastName: 'Keener',\n      email: \"alex@example.com\"\n    }, {\n      externalId: [{\n        type: \"userKey\",\n        id: \"Df344sdFgdDsS4\"\n      }],\n      integrations: {\n        user: {\n          lookup: \"email\"\n        }\n      }\n    );\n```\n\n#### Traits mapping\n\nThe following table lists the mappings between RudderStack and User.com properties for `identify` call:\n\n| RudderStack property | User.com property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId`  <br>Required | `custom_id` |\n| `traits.firstName`  <br>`traits.firstname`  <br>`traits.first_name`  <br>`context.traits.firstName`  <br>`context.traits.firstname`  <br>`context.traits.first_name` | `first_name` |\n| `traits.lastName`  <br>`traits.lastname`  <br>`traits.last_name`  <br>`context.traits.lastName`  <br>`context.traits.lastname`  <br>`context.traits.last_name` | `last_name` |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`context.externalId.0.id` | `email` |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone` | `phone_number` |\n| `traits.tags`  <br>`context.traits.tags` | `tags` |\n| `traits.address.city`  <br>`context.traits.address.city` | `city` |\n| `traits.region`  <br>`context.traits.region` | `region` |\n| `traits.country`  <br>`context.traits.country` | `country` |\n| `traits.gender`  <br>`context.traits.gender` | `gender` |\n| `traits.status`  <br>`context.traits.status` | `status` |\n| `traits.googleUrl`  <br>`context.traits.googleUrl` | `google_url` |\n| `traits.linkedinUrl`  <br>`context.traits.linkedinUrl` | `linkedin_url` |\n| `traits.twitterUrl`  <br>`context.traits.twitterUrl` | `twitter_url` |\n| `traits.facebookUrl`  <br>`context.traits.facebookUrl` | `facebook_url` |\n| `traits.avatar`  <br>`context.traits.avatar`  <br>`traits.avatarURL`  <br>`context.traits.avatarURL`  <br>`traits.avatar_URL`  <br>`context.traits.avatar_URL` | `gravatar_url` |\n| `traits.timezone`  <br>`context.traits.timezone` | `timezone` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to record a new event which, in turn, can be used to filter and bucket users in User.com.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track('Add to cart', {\n  purchased_item: \"T-Shirt\",\n  brand: \"Zara\",\n  email: \"alex@example.com\"\n}, {\n  integrations: {\n    user: {\n      lookup: \"email\"\n    }\n  }\n););\n```\n\n#### Property mapping\n\nThe following table lists the mappings between RudderStack and User.com properties for the `track` call:\n\n| RudderStack property | User.com property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required | `user_id` |\n| `event`  <br>Required | `name` |\n| `properties` | `data` |\n| `originalTimestamp`  <br>`timestamp` | `timestamp` |\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"section-name\", {\n      path: \"path\",\n      url: \"url\",\n      title: \"title\",\n      search: \"search\",\n      referrer: \"referrer\",\n      phone: \"1-202-555-0146\",\n    }, {\n      integrations: {\n        user: {\n          lookup: \"phone\"\n        }\n      });\n```\n\n#### Property mapping\n\nThe following table lists the mappings between RudderStack and User.com properties for `page` call:\n\n| RudderStack property | User.com property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>Required | `client_user` |\n| `traits.url`  <br>`context.traits.url`  <br>Required | `page_domain` |\n| `traits.path`  <br>`context.traits.path`  <br>Required | `page_path` |\n| `originalTimestamp`  <br>`timestamp`  <br>Required | `timestamp` |\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to create or update a company profile and associate a user with it.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"group01\", {\n    name: \"Alex Keener\",\n    phone: \"1-202-555-0146\",\n    size: 51,\n    zipcode: 90009,\n    street: \"6649 N Blue Gum Street\",\n    city: \"New Orleans\",\n    region: \"Louisiana\",\n    country: \"USA\"\n  },\n);\n```\n\n#### Property mapping\n\nThe following table lists the mappings between RudderStack and User.com properties for the `group` call:\n\n| RudderStack property | User.com property |\n| --- | --- |\n| `userId`  <br>`traits.userId`  <br>`traits.id`  <br>`context.traits.userId`  <br>`context.traits.id`  <br>`anonymousId`  <br>Required | `custom_id`(user) |\n| `groupId`  <br>`traits.groupId` | `custom_id`(company) |\n| `traits.name` | `name`(company name) |\n| `traits.email`  <br>`context.traits.email`  <br>`properties.email`  <br>`context.externalId.0.id` | `email` |\n| `traits.address`  <br>`context.traits.address` | `address` |\n| `traits.address.city`  <br>`context.traits.address.city` | `city` |\n| `traits.region`  <br>`context.traits.region` | `region` |\n| `traits.country`  <br>`context.traits.country` | `country` |\n| `traits.description` | `description` |\n| `traits.phone`  <br>`context.traits.phone`  <br>`properties.phone` | `phone_numbers` |\n| `traits.zip`  <br>`traits.zipcode`  <br>`traits.address.zipcode`  <br>`traits.address.postalcode`  <br>`context.traits.zip`  <br>`context.traits.zipcode`  <br>`context.traits.address.zipcode`  <br>`context.traits.address.postalcode` | `postal_code` |\n| `traits.size` | `size` |\n| `traits.tags` | `tags` |\n\n## FAQ\n\n#### Where can I find the User.com public REST API key?\n\nTo get your public REST API key, follow these steps:\n\n1.  Log into your [User.com dashboard](https://app.user.com/accounts/login/) and go to your app.\n2.  Click **Settings** > **App settings** > **Advanced** > **Public REST API keys**.\n3.  Click **Create API key**:\n\n[![User.com connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/user-com-dashboard.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/user-com-dashboard.webp)\n\n#### Where can I find the User.com app subdomain?\n\nTo get your app subdomain, follow these steps:\n\n1.  Log into your [User.com dashboard](https://app.user.com/accounts/login/) and go to your app.\n2.  Click **Settings** > **Setup & Integrations** to see the app domain. The subdomain is the part of the complete domain excluding `.user.com`:\n\n[![User.com connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/user-com-dashboard-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/user-com-dashboard-2.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "User.com | RudderStack Docs",
  "description": "Send your event data from RudderStack to User.com.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/variance/",
  "markdown": "# Variance | RudderStack Docs\n\nSend your event data from RudderStack to Variance.\n\n* * *\n\n*     4 minute read  \n    \n\nThe [Variance](https://www.variance.com/) customer growth platform makes your product, marketing, and sales data operational. It lets you to create, access, and manage intent-based signals across all stages of your customers’ journey.\n\nRudderStack lets you add Variance as a destination to which you can seamlessly send your event data.\n\n## Getting started\n\nTo enable sending data to Variance, you will first need to add it as a destination in the RudderStack dashboard. Once the destination is configured and enabled, events from RudderStack will start flowing to Variance.\n\nBefore configuring Variance in RudderStack, verify if the source platform supports sending events to RudderStack by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device Mode** | **\\-** | **\\-** | **\\-** |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform is supported by Variance, perform the steps below:\n\n*   Configure the data source in RudderStack.\n*   From the list of destinations, select **Variance**.\n*   Then, assign a name to the destination and click **Next**.\n*   Select the data source and click **Next**. You will then see the following **Connection Settings** page:\n\n[![](https://www.rudderstack.com/docs/images/image%20%28114%29.webp)](https://www.rudderstack.com/docs/images/image%20%28114%29.webp)\n\n*   Enter the Variance **Webhook URL** and **Authorization Header Value** to configure the destination.\n*   To transform your event data before sending it to this destination, click **Create New Transformation**. Otherwise, click **Next**.\n\nThat’s it! Your Variance destination is now configured and enabled.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you associate a visiting user to their actions as well as record their traits.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> As a best practice, make sure that the `identify` call is made at the start of every session or page load for logged-in users, if possible. This will ensure allir latest traits are captured.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"userid\", {\n  name: \"Name Surname\",\n  email: \"name@website.com\",\n  company: {\n    id: \"1\",\n    name: \"Website\",\n  },\n})\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call allows you to record the customer events, i.e. the actions that they perform, along with their associated properties.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Event Name\", {\n  plan: \"plan value\",\n})\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views, with any additional relevant information about the viewed page.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"Cart\", \"Cart Viewed\", {\n  path: \"/cart\",\n  referrer: \"test.com\",\n  search: \"term\",\n  title: \"test_item\",\n  url: \"http://test.in\",\n})\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you associate a particular identified user with a group, such as a company, organization, or an account. It also lets you record the custom traits associated with that group, such as the name of the group, number of employees, etc.\n\nA sample `group` call is as shown:\n\n```\nrudderanalytics.group(\"sample-group-id\", {\n  name: \"Example Company\",\n  employees: 1000,\n  industry: \"Software\",\n})\n```\n\n## Alias\n\nMany destination platforms need an explicit [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call for mapping the already identified users to a new user identifier that you may want to use, to track them in the future. The `alias` call lets you implement this functionality.\n\nA sample `alias` call is as shown:\n\n```\nrudderanalytics.alias(\"new_user_id\");\n```\n\n## Account mapping\n\nVariance offers a few different ways of mapping your users to accounts/companies. Here’s an overview:\n\n### Group\n\nIf you already use the `group` call to indicate the Account, then you do not need to fill in anything. Variance will extract the Account automatically, and you’re good to go.\n\n### Identify with custom traits\n\nChoose this option if you include some information about the Account/Company/Organization as a trait in each `identify` call. When you choose this option you’ll need to let Variance know the name of the trait you use.\n\nFor instance, if you pass something like `{'company':{'id':1,'name':'Awesome Inc.'}}` , you could add `company.id` as the **Account ID** trait and `company.name` as the **Account Name** trait.\n\n### Identify email trait domain extraction (fallback)\n\nIf you don’t use either of the methods above, Variance can extract the domain from the `email` trait and use that as the Account name.\n\n## FAQ\n\nHead to the **Integrations** - **RudderStack** page in Variance and then add a RudderStack connection. For more information, check the [Variance docs for RudderStack](https://www.variance.com/docs/rudderstack).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Variance | RudderStack Docs",
  "description": "Send your event data from RudderStack to Variance.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/split/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Split as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/spotify-pixel/",
  "markdown": "# Spotify Pixel | RudderStack Docs\n\nSend your event data from RudderStack to Spotify Pixel.\n\n* * *\n\n*     8 minute read  \n    \n\n[Spotify Pixel](https://ads.spotify.com/en-US/ad-analytics/spotify-pixel/) is a powerful ad tracking and analytics tool. It is a piece of JavaScript code that you can integrate in your website and analyze the actions the users take after hearing your ads.\n\n## Setup\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Spotify Pixel**.\n2.  Connect your source and click **Continue**.\n\n### Connection settings\n\nConfigure the following settings to set up Spotify Pixel as a destination in RudderStack:\n\n*   **Name**: Assign a name to uniquely identify the destination.\n*   **Pixel ID**: Enter your Spotify Pixel ID. To [obtain this ID](#faq), log in to your Spotify Pixel dashboard and go to **Manage** > **Your Pixels**.\n\n### Connection mode\n\nSpecify how you want to route events from your source to Spotify Pixel.\n\nRudderStack supports sending events to Spotify via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n## Configuration settings\n\nAfter completing the initial setup, configure the following settings to correctly receive your data in Spotify Pixel:\n\n*   **Spotify Pixel Alias Event Setting**: Turn on this setting to enhance attribution by passing a Spotify Pixel [`alias`](https://help.adanalytics.spotify.com/technical-pixel-docs) event along with every conversion event.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Spotify Pixel. For more information on this setting, see [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/).\n*   **OneTrust Cookie Categories**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Spotify Pixel.\n\n#### **Mappings**\n\n*   **RudderStack to Spotify Pixel Event Mappings**: Use this setting to map your RudderStack events to the standard Spotify Pixel events. You can map multiple Spotify Pixel events to a single RudderStack event and vice versa.\n\n## Track\n\nYou can use the RudderStack [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event to track user events along with any associated properties and send this information to Spotify Pixel.\n\nRudderStack supports the following standard [Spotify Pixel events](https://help.adanalytics.spotify.com/technical-pixel-docs):\n\n| Spotify Pixel event | Event name | Description |\n| --- | --- | --- |\n| Lead | `lead` | User completed an action like form submission, free trial signup, button click, etc. |\n| Product | `product` | User viewed a product. |\n| Add to cart | `addtocart` | User added a product to cart. |\n| Check out | `checkout` | User initiated a checkout. |\n| Purchase | `purchase` | User purchased a product. |\n\nYou can map your RudderStack events to the above Spotify Pixel events in the dashboard using the **RudderStack to Spotify Pixel Event Mappings** setting:\n\n[![RudderStack event mapping with Spotify Pixel](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-pixel-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-pixel-event-mapping.webp)\n\nIn the above example, RudderStack maps the event `Product Added to Cart` with the Spotify Pixel event `addtocart`.\n\nBy default, RudderStack maps the following events to the Spotify Pixel events:\n\n| RudderStack event | Spotify Pixel event name |\n| --- | --- |\n| `Signed Up` | `lead` |\n| `Product Viewed` | `product` |\n| `Product Added` | `addtocart` |\n| `Checkout Started` | `checkout` |\n| `Order Completed` | `purchase` |\n\nRudderStack prioritizes the custom event mappings you set in the dashboard over the above standard mappings.\n\n### Lead\n\nA sample `track` call mapped to a Spotify Pixel `lead` event is shown below:\n\n```\nrudderanalytics.track(\"Signed Up\", {\n  price: 500,\n  currency: \"USD\",\n  type: \"paper\",\n  category: \"Clothes\",\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Spotify Pixel attributes:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.type` | `type` |\n| `properties.category` | `category` |\n\n### Product\n\nA sample `track` call mapped to a Spotify Pixel `product` event is shown below:\n\n```\nrudderanalytics.track(\"product\", {\n  price: 1300,\n  currency: \"USD\",\n  product_id: \"1234000\",\n  name: \"goldenTest\",\n  product_type: \"Card\",\n  brand: \"testVendor\",\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Spotify Pixel attributes:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.product_id` | `product_id` |\n| `properties.name` | `product_name` |\n| `properties.product_type` | `product_type` |\n| `properties.brand` | `product_vendor` |\n\n#### Sending multiple product details\n\nIf you send the product details as an array in the `track` event, RudderStack fetches the details from each product item and calls the Spotify Pixel `product` event for each item. For example, consider the following `track` event:\n\n```\nrudderanalytics.track(\"Product\", {\n  name: 10.0,\n  currency: \"INR\",\n  quantity: 2,\n  products: [{\n      product_id: \"S1100\",\n      name: \"Product 1\",\n      product_type: \"Card\",\n      brand: \"Some Vendor\",\n    },\n    {\n      product_id: \"S1200\",\n      name: \"Product 2\",\n      product_type: \"Card\",\n      brand: \"Some Vendor 2\",\n    },\n  ],\n});\n```\n\nIn this case, RudderStack makes two `track` calls to Spotify Pixel with the individual product details:\n\n```\n// Call 1\n\nrudderanalytics.track(\"Product\", {\n  price: 10.0,\n  quantity: 2,\n  currency: \"INR\",\n  product_id: \"S1100\",\n  name: \"Product 1\",\n  product_type: \"Card\",\n  brand: \"Some Vendor\",\n});\n\n// Call 2\n\nrudderanalytics.track(\"Product\", {\n  price: 10.0,\n  quantity: 2,\n  currency: \"INR\",\n  product_id: \"S1200\",\n  name: \"Product 2\",\n  product_type: \"Card\",\n  brand: \"Some Vendor 2\",\n});\n```\n\n### Add to Cart\n\nA sample `track` call mapped to the Spotify Pixel `addtocart` event is shown below:\n\n```\nrudderanalytics.track(\"Add to Cart\", {\n  price: 23.2, \n  currency: \"USD\",\n  product_id: \"1234000\",\n  name: \"goldenTest\",\n  product_type: \"Card\",\n  brand: \"testVendor\",\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Spotify Pixel attributes:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.product_id` | `product_id` |\n| `properties.name` | `product_name` |\n| `properties.product_type` | `product_type` |\n| `properties.brand` | `product_vendor` |\n| `properties.quantity` | `quantity` |\n| `properties.variant_id` | `variant_id` |\n| `properties.variant_name` | `variant_name` |\n\nSimilar to the [Product](#sending-multiple-product-details) event, if you send the product details as an array in the `track` event, RudderStack fetches the details from each product item and calls the Spotify Pixel `addtocart` event for each item.\n\n### Check out\n\nA sample `track` call mapped to a Spotify Pixel `checkout` event is shown below:\n\n```\nrudderanalytics.track(\"checkout\", {\n  price: 30.0,\n  currency: \"USD\",\n  discount_code: \"PODCAST_CODE_TEST\",\n  quantity: 3,\n  line_items: [{\n    price: 21.2,\n    quantity: 1,\n    product_id: \"1234000\",\n    product_name: \"goldenTest\",\n    product_type: \"Card\",\n    product_vendor: \"testVendor\",\n    variant_id: \"11112\",\n    variant_name: \"Test\",\n  }],\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Spotify Pixel attributes:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `properties.price` | `value` |\n| `properties.currency` | `currency` |\n| `properties.quantity` | `quantity` |\n| `properties.variant_id` | `variant_id` |\n| `properties.discount_code` | `discount_code` |\n| `properties.line_items` | `line_items` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you do not pass the `line_items` object, then RudderStack fetches the `line_items` from the event’s properties and maps them to Spotify Pixel’s `line_items` field.\n\n#### Passing multiple product items\n\nIf you pass multiple product items as an array, then RudderStack fetches the individual product details and internally builds the `line_items` object before passing it on to Spotify Pixel via the `checkout` event, as demonstrated in the following example:\n\nConsider the following `track` event:\n\n```\nrudderanalytics.track(\"Checkout\", {\n  price: 10.0,\n  currency: \"USD\",\n  quantity: 2,\n  discount_code: 'POD_CODE',\n  products: [{\n      price: 21.6,\n      quantity: 12,\n      product_id: \"SKU123\",\n      name: \"Card Game\",\n      product_type: \"Card\",\n      brand: \"Some Vendor\",\n      variant_id: 'test123',\n      variant_name: 'Test 123',\n    },\n    {\n      price: 42.4,\n      quantity: 2,\n      product_id: \"SKU124\",\n      name: \"Floppy Disk\",\n      product_type: \"Card123\",\n      brand: \"Some Vendor\",\n      variant_id: 'test124',\n      variant_name: 'Test 124',\n    },\n  ],\n});\n```\n\nRudderStack internally collates all product information and builds the `line_items` array before sending it to Spotify Pixel:\n\n```\npdst('checkout', {\n  price: 10.0,\n  currency: 'USD',\n  discount_code: 'POD_CODE',\n  quantity: 2,\n  line_items: [{\n      price: 21.6,\n      quantity: 12,\n      product_id: 'SKU123',\n      product_name: 'Card Game',\n      product_type: 'Card',\n      product_vendor: 'Some Vendor',\n      variant_id: 'test123',\n      variant_name: 'Test 123',\n    },\n    {\n      price: 42.4,\n      quantity: 2,\n      product_id: 'SKU124',\n      product_name: 'Floppy Disk',\n      product_type: 'Card123',\n      product_vendor: 'Some Vendor',\n      variant_id: 'test124',\n      variant_name: 'Test 124',\n    },\n  ],\n});\n```\n\n### Purchase\n\nA sample `track` call mapped to a Spotify Pixel `purchase` event is shown below:\n\n```\nrudderanalytics.track(\"purchase\", {\n  price: 1000,\n  currency: \"rupee\",\n  discount_code: \"PODCAST_CODE\",\n  order_id: \"12322323232\",\n  is_new_customer: true,\n  quantity: 3,\n  line_items: [{\n    price: 21.2,\n    quantity: 1,\n    product_id: \"1234000\",\n    product_name: \"goldenTest\",\n    product_type: \"Card\",\n    product_vendor: \"testVendor\",\n    variant_id: \"11112222\",\n    variant_name: \"testTest\",\n  }],\n});\n```\n\nThe following table lists the mapping between the **optional** RudderStack event properties and the Spotify Pixel attributes:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `properties.total`  <br>`properties.revenue` | `value` |\n| `properties.currency` | `currency` |\n| `properties.discount_code` | `discount_code` |\n| `properties.line_items` | `line_items` |\n| `properties.order_id` | `order_id` |\n| `properties.is_new_customer` | `is_new_customer` |\n| `properties.quantity` | `quantity` |\n\nSimilar to the [Check out](#passing-multiple-product-items) event, if you pass multiple product items as an array, then RudderStack fetches the individual product details and internally builds the `line_items` object before passing it on to Spotify Pixel via the `purchase` event.\n\n### Passing hashed internal ID to Spotify Pixel\n\nIf you turn on **Spotify Pixel Alias Event Setting** in the RudderStack dashboard and **Alias** events are configured for your Spotify Pixel, then RudderStack triggers a Spotify Pixel [`alias`](https://help.adanalytics.spotify.com/technical-pixel-docs) event capturing the hashed internal user ID along with every conversion event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   The Spotify Pixel `alias` event matches the Spotify Pixel internal cookie ID with your hashed internal user IDs.\n> *   RudderStack uses SHA-256 encryption for hashing your `userId`.\n\nTo enable this feature, follow these steps:\n\n1.  Activate **Alias Events** for Spotify Pixel from your dashboard:\n\n[![Spotify Pixel alias event setting](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-event.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-event.webp)\n\n2.  Enable the **Spotify Pixel Alias Event Setting** setting in the RudderStack dashboard.\n\nRudderStack automatically calls the Spotify Pixel `alias` event by mapping the following internal RudderStack IDs to Spotify Pixel:\n\n| RudderStack attribute | Spotify Pixel attribute |\n| --- | --- |\n| `userId`  <br>`context.traits.userId`  <br>`context.traits.id` | `id` |\n\nSuppose you send the following `track` call named `testEvent` (mapped to Spotify Pixel’s `lead` event) with the **Pass Internal ID** enabled:\n\n```\nrudderanalytics.track(\"testEvent\", {\n  price: 100,\n  currency: \"euro\",\n  type: \"paper\",\n});\n```\n\nRudderStack then makes the following two calls to Spotify Pixel:\n\n[![Alias calls made to Spotify Pixel](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to record your website’s page views with any additional information about the viewed page.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also set custom attributes inside the `page` event properties.\n\nRudderStack sends the `page` calls to Spotify Pixel as a `view` event.\n\nA sample `page` call is as shown:\n\n```\nrudderanalytics.page(\"Home\", \"Clothes\", {\n  path: \"/best-seller/1\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n  url: \"https://www.estore.com/best-seller/1\"\n});\n```\n\n### Supported property mappings\n\nRudderStack maps the following **optional** properties with the Spotify Pixel properties:\n\n| RudderStack property | Spotify Pixel property |\n| --- | --- |\n| `context.page.referrer` | `referrer` |\n| `context.page.url` | `url` |\n\n## FAQ\n\n#### Where can I find the Spotify Pixel ID?\n\n1.  Log in to your [Spotify Pixel dashboard](https://adanalytics.spotify.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**. You can find your Pixel ID under **Your Pixels**.\n\n#### Where can I find the Spotify Pixel alias ID for `alias` events?\n\n1.  Log in to your [Spotify Pixel dashboard](https://adanalytics.spotify.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**. Then, click the edit button next to your Spotify pixel.\n\n[![Spotify Pixel alias ID](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-manage-option.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-manage-option.webp)\n\nThe **Alias ID** is listed under **Alias Events**:\n\n[![Spotify Pixel alias ID](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/pixel-alias-id.webp)\n\n#### Where can I view the events sent to Spotify Pixel?\n\n1.  Log in to your [Spotify Pixel dashboard](https://adanalytics.spotify.com/).\n2.  From the left sidebar, go to **Manage** > **Your Pixels**.\n3.  Click your pixel and go to the **Debugger** tab.\n\n[![Alias calls made to Spotify Pixel](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/spotify-alias-calls.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can filter the events by name or platform as per your requirement.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Spotify Pixel | RudderStack Docs",
  "description": "Send your event data from RudderStack to Spotify Pixel.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sprig/",
  "markdown": "# Sprig Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Sprig Destination | RudderStack Docs",
  "description": "Send your event data from RudderStack to Sprig.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/split/cloud-mode/",
  "markdown": "# Split Cloud Mode Integration | RudderStack Docs\n\nSend events to Split using RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nAfter you have successfully instrumented Split as a destination in RudderStack, follow this guide to correctly send your events to Split in [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/splitio).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  plan: \"GOLD\",\n  age: 40,\n})\n```\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events and the associated properties.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Clicked button\", {\n  color: \"red\",\n  buttonText: \"Get started\",\n})\n```\n\nRudderStack sends the above `track` call as a `Clicked_button` event to Split along with the event properties.\n\nNote that the event name (`Clicked button` in the above example) in the `track` event should:\n\n*   Start with a letter or number.\n*   Contain 80 characters or less.\n*   Contain only letters, numbers, hyphen, underscore, or period.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) event lets you record your website’s page views with any additional information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"homepage\", \"home\", {\n  url: \"https://abc.com\",\n  title: \"Test\",\n  referrer: \"https://google.com\",\n})\n```\n\nRudderStack sends the above `page` call as a `Viewed_home_page` event to Split, along with the associated properties.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional relevant information about the screen.\n\nA sample `screen` call is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Main\" properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\nThe above snippet captures information related to the viewed screen such as its name and category. RudderStack sends this call as a `Viewed_Main_screen` event with the associated properties.\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group like a company, organization, or an account. You can also record any custom traits associated with that group like the company name, number of employees, etc.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group123\", {\n  company: 'Sample Company',\n});\n```\n\n## Specify traffic type in events\n\nYou can specify the Split traffic type in your events as follows:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  plan: \"GOLD\",\n  age: 40,\n  trafficTypeName: \"account\"\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack automatically maps the `trafficTypeName` field present in your `traits`/`context.traits`/`properties` object to Split’s `trafficTypeName` field.\n> *   The traffic type name specified at the event level takes precedence over the [Traffic Type](https://www.rudderstack.com/docs/destinations/streaming-destinations/split/setup-guide/#connection-settings) dashboard setting.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Split Cloud Mode Integration | RudderStack Docs",
  "description": "Send events to Split using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sprig/setup/",
  "markdown": "# Set Up Sprig | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set Up Sprig | RudderStack Docs",
  "description": "Set up Sprig as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sprig/device-mode/",
  "markdown": "# Sprig Device Mode | RudderStack Docs\n\nSend events to Sprig using RudderStack web device mode.\n\n* * *\n\n*     less than a minute  \n    \n\nRudderStack lets you send your event data to Sprig via [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), that is, using the native Sprig web SDK.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/develop/packages/analytics-js-integrations/src/integrations/Sprig).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user in Sprig.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n  firstName: 'Alex',\n  lastName: 'Keener',\n  email: \"alex@example.com\"\n});\n```\n\n### Supported mappings\n\nRudderStack maps the following **optional** user attributes in the `identify` events to the corresponding Sprig fields:\n\n| RudderStack property | Sprig property |\n| --- | --- |\n| `userId` | `userId` |\n| `context.traits` | `attributes` |\n| `context.traits.email` | `email` |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record any user actions along with the associated properties.\n\nA sample `track` call is shown:\n\n```\nrudderanalytics.track('Sample Survey', {\n  plan: \"Annual\",\n  accountType: \"Pro\"\n});\n```\n\nIf you send a `track` event called `Signed Out`, then RudderStack automatically maps it to the `logoutUser` event before sending it to Sprig. Otherwise, it maps the following event/properties to the corresponding Sprig fields:\n\n| RudderStack property | Sprig property |\n| --- | --- |\n| `event`  <br>Required | `eventName` |\n| `userId` | `userId` |\n| `properties` | `properties` |\n\nSprig expects the event name to be present in the `eventName` key. Hence, if you send a `track` event named `Product Added`, RudderStack maps it to Sprig’s `eventName` key before sending it across to Sprig.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Sprig Device Mode | RudderStack Docs",
  "description": "Send events to Sprig using RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/sprig/cloud-mode/",
  "markdown": "# Sprig Cloud Mode | RudderStack Docs\n\nSend events to Sprig using RudderStack cloud mode.\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you send your event data to Sprig via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/sprig).\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a user in Sprig.\n\nA sample `identify` call is shown:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n  firstName: 'Alex',\n  lastName: 'Keener',\n  email: \"alex@example.com\"\n});\n```\n\n### Traits mapping\n\nRudderStack maps the following user attributes in the `identify` events to the corresponding Sprig fields:\n\n| RudderStack property | Sprig property |\n| --- | --- |\n| `userId`  <br>Required | `userId` |\n| `email` | `emailAddress` |\n| `context.traits` | `attributes` |\n\n### Deleting a user\n\nYou can delete a user in Sprig using the [Suppression with Delete regulation](https://www.rudderstack.com/docs/api/user-suppression-api/#adding-a-suppression-with-delete-regulation) of RudderStack’s [User Suppression API](https://www.rudderstack.com/docs/api/user-suppression-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To delete a user, you must specify their `userId` and the [Sprig API key](https://www.rudderstack.com/docs/destinations/streaming-destinations/sprig/setup/#connection-settings) in the event.\n\nA sample regulation request body for deleting a user in Intercom is shown below:\n\n```\n{\n  \"regulationType\": \"suppress_with_delete\",\n  \"destinationIds\": [\n    \"2FIKkByqn37FhzczP23eZmURciA\"\n  ],\n  \"users\": [{\n    \"userId\": \"1hKOmRA4GRlm\",\n    \"apiKey\": \"<your_sprig_apiKey>\"\n  }]\n}\n```\n\nSee the [Destinations](https://www.rudderstack.com/docs/dashboard-guides/destinations/#destination-details) guide for more information on obtaining the `destinationId`.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record any user events along with the associated properties and send the information to Sprig.\n\nA sample `track` call is shown:\n\n```\nrudderanalytics.track('Signup', {\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  email: \"alex@example.com\"\n});\n```\n\n### Property mapping\n\nRudderStack maps the following event properties in the `track` events to the corresponding Sprig fields:\n\n| RudderStack property | Sprig property |\n| --- | --- |\n| `userId`  <br>Required | `userId` |\n| `event`  <br>Required | `events[0].event` |\n| `timestamp`  <br>Required | `events[0].timestamp` |\n| `email` | `emailAddress` |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Sprig Cloud Mode | RudderStack Docs",
  "description": "Send events to Sprig using RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vero/cloud-mode/",
  "markdown": "# Vero cloud mode | RudderStack Docs\n\nSend events to Vero via RudderStack cloud mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Vero via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nRudderStack sends the `identify` events to Vero via their [`users`](https://developers.getvero.com/?bash#users) endpoint to create, update, and manage your user records and their subscription status.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"email\": \"alex@example.com\",\n  \"gender\": \"Male\",\n  \"randomKey\": \"randomData\"\n})\n```\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack traits to the corresponding Vero properties:\n\n| RudderStack trait | Vero property | Presence |\n| --- | --- | --- |\n| `userId` or `anonymousId` | `id` | Required. |\n| `email` | `email` | Optional |\n| `traits` | `data` | Optional |\n| `context.os.name` | `channels.platform` | Optional |\n| `context.device.token` | `channels.address` | Optional |\n| `context.device.name` | `channels.device` | Optional |\n| `context.timezone` | `timezone` | Optional |\n| `context.locale` | `locale` | Optional |\n| `context.userAgent` | `userAgent` | Optional |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `email` is an optional field. However, if it is absent, Vero will not be able to send any emails to the user, so it is recommended to have this trait in the event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If `userId` is absent, RudderStack maps `anonymousId` to Vero’s `id` field to create or update the user.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can add or update user records as required as these are the custom properties.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nRudderStack sends the `track` events to Vero via their [`events/track`](https://developers.getvero.com/?bash#events-track) endpoint to track events for a specific user based on the actions they take. If a user profile does not exist, Vero will create one.\n\nA sample `track` event is as shown:\n\n```\nrudderanalytics.track(\"Product Viewed\", {\n  SKU: \"P001\",\n  \"revenue\": 77.6,\n  \"currency\": \"USD\",\n  \"review_id\": \"R1619\"\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Vero does not differentiate between the upper or lower case letters, spaces, and underscores in the event names. For example, Vero matches the `Purchased Item`, `purchased item`, and `purchased_item` as the same event.\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack properties to the corresponding Vero properties:\n\n| RudderStack property | Vero property | Presence |\n| --- | --- | --- |\n| `userId`/`anonymousId` | `identity.id` | Required |\n| `event` | `event_name` | Required |\n| `email` | `identity.email` | Optional |\n| `properties` | `data` | Optional |\n\n### Unsubscribing and resubscribing users\n\nRudderStack supports [unsubscribing](https://developers.getvero.com/?bash#users-unsubscribe) and [resubscribing](https://developers.getvero.com/?bash#users-resubscribe) users in Vero by passing the `userId` in the `track` call:\n\n```\nrudderanalytics.track(\"unsubscribe\", {\n  userId: \"1hKOmRA4el9Zt1WSfVJIVo4GRlm\"\n})\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nRudderStack sends the `page` events to Vero via their [`events/track`](https://developers.getvero.com/?bash#events-track) endpoint.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\n  \"Cart\",\n  \"Cart Viewed\", {\n    path: \"/best-seller/1\",\n    referrer: \"https://www.google.com/search?q=estore+bestseller\",\n    search: \"estore bestseller\",\n    title: \"The best sellers offered by EStore\",\n    url: \"https://www.estore.com/best-seller/1\"\n  }\n);\n```\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever your user views their mobile screen, with any additional relevant information about the screen.\n\nRudderStack sends the `screen` events to Vero via their [`events/track`](https://developers.getvero.com/?bash#events-track) endpoint.\n\nA sample `screen` call sent via the [Android SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/) is as shown:\n\n```\nMainApplication.rudderClient.screen(\n    \"Home Screen\",\n    RudderProperty().putValue(\"prop_key\", \"prop_value\")\n)\n```\n\n## Alias\n\nRudderStack sends the [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) events to Vero via their [`users/reidentify`](https://developers.getvero.com/?bash#users-alias) endpoint to change a user’s identifier (`id`).\n\nA sample `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"userId\", \"previousId\");\n```\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack properties to the corresponding Vero properties:\n\n| RudderStack property | Vero property | Presence |\n| --- | --- | --- |\n| `userId` | `new_id` | Required |\n| `previousId` | `id` | Required |\n\nRudderStack supports adding and removing `tags` to all `identify`, `track`, `page`, and `screen` calls by passing them via the `integrations` object. An example snippet is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\"\n  }, {\n    integrations: {\n      Vero: {\n        tags: {\n          add: [\"tag1\", \"tag2\"],\n          remove: [\"tag3\"]\n        }\n      }\n    }\n  }\n);\n```\n\nYou can then view the updated tags associated with that user in the Vero dashboard:\n\n[![User tags in Vero dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/vero-tags.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/vero-tags.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Vero cloud mode | RudderStack Docs",
  "description": "Send events to Vero via RudderStack cloud mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vero/device-mode/",
  "markdown": "# Vero web device mode | RudderStack Docs\n\nSend events to Vero via RudderStack web device mode.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack lets you send your event data to Vero via [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"email\": \"alex@example.com\",\n  \"gender\": \"Male\",\n  \"randomKey\": \"randomData\"\n})\n```\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack traits to the corresponding Vero properties:\n\n| RudderStack trait | Vero property | Presence |\n| --- | --- | --- |\n| `userId`/`anonymousId` | `id` | Required. |\n| `email` | `email` | Optional |\n| `context.traits`/`traits` | `traits` | Optional |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `email` is an optional field. However, if it is absent, Vero will not be able to send any emails to the user, so it is recommended to have this trait in the event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If `userId` is absent, RudderStack maps `anonymousId` to Vero’s `id` field to create or update the user.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You need to first create a user by explicitly calling `identify` before making any `track` calls to Vero. Otherwise, the `track` calls will fail.\n\nA sample `track` event is as shown:\n\n```\nrudderanalytics.track(\"Product Viewed\", {\n  SKU: \"P001\",\n  \"revenue\": 77.6,\n  \"currency\": \"USD\",\n  \"review_id\": \"R1619\" \n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Vero API does not differentiate between the upper or lower case letters, spaces, and underscores in the event names. For example, Vero matches the `Purchased Item`, `purchased item`, and `purchased_item` as the same event.\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack properties to the corresponding Vero properties:\n\n| RudderStack property | Vero property | Presence |\n| --- | --- | --- |\n| `event` | `event_name` | Required |\n| `properties` | `data` | Optional |\n\n### Unsubscribing and resubscribing users\n\nRudderStack supports unsubscribing and resubscribing users in Vero by passing the `userId` in the `track` call:\n\n```\nrudderanalytics.track(\"unsubscribe\", {\n  userId: \"1hKOmRA4el9Zt1WSfVJIVo4GRlm\"\n})\n```\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\n  \"Cart\",\n  \"Cart Viewed\", {\n    path: \"/best-seller/1\",\n    referrer: \"https://www.google.com/search?q=estore+bestseller\",\n    search: \"estore bestseller\",\n    title: \"The best sellers offered by EStore\",\n    url: \"https://www.estore.com/best-seller/1\"\n  }\n);\n```\n\n## Alias\n\nRudderStack sends the [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) events to change a user’s identifier (`id`) in Vero.\n\nA sample `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"userId\", \"previousId\");\n```\n\n### Supported mappings\n\nThe following table lists the mapping of the RudderStack properties to the corresponding Vero properties:\n\n| RudderStack property | Vero property | Presence |\n| --- | --- | --- |\n| `userId` | `new_id` | Required |\n| `previousId` | `id` | Required |\n\nRudderStack supports adding and removing `tags` to all `identify`, `track`, and `page` calls by passing them via the `integrations` object. An example snippet is shown below:\n\n```\nrudderanalytics.identify(\n  \"1hKOmRA4GRlm\", {\n    email: \"alex@example.com\"\n  }, {\n    integrations: {\n      Vero: {\n        tags: {\n          add: [\"tag1\", \"tag2\"],\n          remove: [\"tag3\"]\n        }\n      }\n    }\n  }\n);\n```\n\nYou can then view the updated tags associated with that user in the Vero dashboard:\n\n[![User tags in Vero dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/vero-tags.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/vero-tags.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Vero web device mode | RudderStack Docs",
  "description": "Send events to Vero via RudderStack web device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vero/",
  "markdown": "# Vero | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Vero | RudderStack Docs",
  "description": "Send your event data from RudderStack to Vero.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vero/setting-up-vero/",
  "markdown": "# Set up Vero | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set up Vero | RudderStack Docs",
  "description": "Set up Vero as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/statsig/",
  "markdown": "# Statsig | RudderStack Docs\n\nSend your event data from RudderStack to Statsig.\n\n* * *\n\n*     3 minute read  \n    \n\nStatsig helps companies safely A/B test features in production before rolling them out, avoiding product debates and costly mistakes when shipping out new features. Statsig automates the grunt work so that your A/B tests run automatically, and you always get the latest insights into how your product features are performing.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Read more about Statsig on their [website](https://statsig.com/). For more information on the Statsig-supported data connectors, refer to the [Statsig Documentation](https://docs.statsig.com/).\n\nRudderStack supports Statsig as a destination to which you can send real-time event data for efficient A/B testing.\n\n## Getting started\n\nBefore configuring Statsig as a destination in RudderStack, verify if the source platform is supported by Statsig by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that your source platform supports sending events to Statsig, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Statsig**.\n2.  Assign a name to the destination and click **Next**.\n\n### Connection settings\n\nTo configure Statsig as a destination in RudderStack, enter the **Server Secret Key** associated with your project. To obtain the server secret key, follow these steps:\n\n1.  Log into your [Statsig console](https://console.statsig.com/).\n2.  Go to your project and click the **Settings** icon on the top right:\n\n[![Statsig settings](https://www.rudderstack.com/docs/images/event-stream-destinations/statsig-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/statsig-settings.webp)\n\n3.  Finally, click **API Keys**. You should find the **Server Secret Key** here.\n\n[![Statsig API key](https://www.rudderstack.com/docs/images/event-stream-destinations/statsig-api-keys.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/statsig-api-keys.webp)\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a visiting user and associate them to their actions. It also lets you record the traits about them like their name, email address, etc.\n\nA sample `identify` call is as shown:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n})\n```\n\n### Retrieving the `userId`\n\nTo get the `userId` associated with an identified user, you can use the `getUserId()` method as shown:\n\n```\nrudderanalytics.getUserId();\n```\n\n### Retrieving the `anonymousId`\n\nAn anonymous ID (`anonymousId`) is an autogenerated UUID (Universally Unique Identifier) that is assigned to each unique, unidentified visitor coming to your website.\n\nYou can retrieve the `anonymousId` of any visitor by running the `getAnonymousId()` method:\n\n```\nrudderanalytics.getAnonymousId();\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If the value of `anonymousId` is `null` in the SDK, calling the above function will automatically set a new `anonymousId` in RudderStack.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\"Home\")\n```\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user events, that is, the actions your users perform, along with any properties associated with these actions.\n\nA sample `track` call is as shown:\n\n```\nrudderanalytics.track(\"Product Reviewed\", {\n  review_id: \"12345\",\n  product_id: \"123\",\n  rating: 4.0,\n  review_body: \"Good product.\"\n})\n```\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call lets you record whenever a user views their mobile screen, with any additional relevant information about the viewed screen.\n\nA sample `screen` call sent via the [iOS SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) is shown below:\n\n```\n[[RSClient sharedInstance] screen:@\"Main\"\n                properties:@{@\"prop_key\" : @\"prop_value\"}];\n```\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call allows you to link an identified user with a group, such as a company, organization, or an account. It also lets you record any custom traits associated with that group, for example, the name of the company, number of employees, etc.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"12345\", {\n  name: \"MyGroup\",\n  industry: \"IT\",\n  employees: 450,\n  plan: \"basic\"\n})\n```\n\n## Alias\n\nThe [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call lets you merge different identities of a known user.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> `alias` is an advanced method that lets you change the tracked user’s ID explicitly. This method is useful when managing identities for some of the downstream destinations.\n\nA sample `alias` call is as shown:\n\n```\nrudderanalytics.alias(\"12345\")\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Statsig | RudderStack Docs",
  "description": "Send your event data from RudderStack to Statsig.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/stormly/",
  "markdown": "# Stormly | RudderStack Docs\n\n## Stormly Beta\n\nSend your event data from RudderStack to Stormly.\n\n* * *\n\n*     2 minute read  \n    \n\n[Stormly](https://www.stormly.com/) is a product analytics tool powered by AI. It gives you insights into your users’ behavior and tailored tips on improving their product experience.\n\nFind the open source transformation code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/blob/main/src/v0/destinations/stormly/transform.js).\n\n## Get started\n\nRudderStack supports sending event data to Stormly via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to Stormly, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Stormly**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\n*   **API Key**: Enter your Stormly API key. For steps on obtaining the key, see [FAQ](#faq).\n*   **OneTrust Cookie Categories**: Use this setting to map [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) to RudderStack’s consent purposes.\n\n## Identify\n\nUse the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create a user in Stormly.\n\nA sample `identify` call sent to Stormly:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\",{\n        city: \"New York\",\n        name: \"Alex Keener\",\n        email: \"alex@example.com\",\n        country: \"US\",\n        trait1:123\n    });\n```\n\n#### Supported mappings\n\nThe following table details the mappings between RudderStack traits and Stormly properties:\n\n| RudderStack trait | Stormly property | Data type |\n| --- | --- | --- |\n| `userId`  <br>Required | `userId` | String |\n| `traits`  <br>`context.traits` | `traits` | Object |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events and add them to the Stormly database.\n\nThe following snippet highlights a sample `track` call:\n\n```\nrudderanalytics.track('Product Reviewed', {\n  review_id: 'REV1344112',\n  product_id: 'XUV112',\n  rating: 3.0,\n  review_body: 'Good product.',\n  groupId: '91Yb32830',\n});\n```\n\n#### Supported mappings\n\nThe following table details the mappings between RudderStack and Stormly properties:\n\n| RudderStack property | Stormly property | Data type |\n| --- | --- | --- |\n| `userId`  <br>Required | `userId` | String |\n| `event`  <br>Required | `event` | String |\n| `properties` | `properties` | Object |\n\n## Group\n\nUse the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to create a group in Stormly and add a user to it.\n\nA sample `group` call sent to Stormly:\n\n```\nrudderanalytics.group(\"91Yb32830\", {\n  name: \"User Group 1\",\n  employees: 1000,\n  industry: \"Software\",\n});\n```\n\n#### Supported mappings\n\nThe following table details the mappings between RudderStack and Stormly properties:\n\n| RudderStack property | Stormly property | Data type |\n| --- | --- | --- |\n| `userId`  <br>Required | `userId` | String |\n| `groupId`  <br>Required | `groupId` | String |\n| `traits` | `traits` | Object |\n\n## FAQ\n\n#### Where can I find the Stormly API key?\n\n1.  Log in to your [Stormly dashboard](https://www.stormly.com/login).\n2.  From the left sidebar, click the dropdown and select **Manage Projects**.\n3.  Select your project.\n4.  Click **Set-Up Data**.\n\n[![Stormly Setup Data option](https://www.rudderstack.com/docs/images/event-stream-destinations/stormly-setup-data.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/stormly-setup-data.webp)\n\n5.  Copy the API key from the resulting URL.\n\n[![Stormly API key](https://www.rudderstack.com/docs/images/event-stream-destinations/stormly-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/stormly-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Stormly | RudderStack Docs",
  "description": "Send your event data from RudderStack to Stormly.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/appcenter/",
  "markdown": "# Visual Studio App Center | RudderStack Docs\n\nSend your event data from RudderStack to Visual Studio App Center.\n\n* * *\n\n*     7 minute read  \n    \n\n[App Center](https://appcenter.ms/) is Microsoft’s cross-platform build automation and management platform that lets you seamlessly manage your app’s lifecycle. With App Center, you can easily manage and automate your builds, effectively test your apps in the cloud, and monitor their real-time usage with the help of crash data and analytics.\n\nRudderStack lets you send your event data to App Center via its native web SDKs.\n\n## Getting started\n\nBefore configuring your source and destination in RudderStack, check whether the platform you are sending the events from is supported by App Center. Refer the following table to do so:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | **Supported** | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the platform supports sending events to App Center, perform the steps below:\n\n*   From your [RudderStack dashboard](https://app.rudderstack.com/), add the source and select **App Center** from the list of destinations.\n*   Name your destination, and click **Next**. You should be able to see the following screen:\n\n[![Connection settings for App Center destination](https://www.rudderstack.com/docs/images/appcenter.webp)](https://www.rudderstack.com/docs/images/appcenter.webp)\n\n*   Enter the relevant details and click **Next** to complete the setup. The **API Secret Key** can be found as **App Secret** on the **Getting Started** page or **Settings** page on the App Center portal.\n\n## Adding device mode integration\n\nOnce you add App Center as a destination in the [RudderStack dashboard](https://app.rudderstack.com/), follow these steps to add it to your mobile project depending on your integration platform:\n\nYour Android project must be on **version 5.0 (API level 21) or higher** for RudderStack to be able to send events to App Center.  \n\nOnce confirmed, follow these steps to add App Center to your Android project:\n\n1.  Add the following `dependencies` to your `app/build.gradle` file as shown:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.7+'\nimplementation 'com.rudderstack.android.integration:appcenter:1.+'\nimplementation 'com.google.code.gson:gson:2.8.6'\n```\n\n2.  Also add the App Center `analytics` depedencies to your `app/build.gradle` as shown below:\n\n```\ndef appCenterSdkVersion = '4.1.0'\nimplementation \"com.microsoft.appcenter:appcenter-analytics:${appCenterSdkVersion}\"\n```\n\n3.  Make sure that the `minSdkVersion` in your `app/build.gradle` is atleast `21`.\n\n```\ndefaultConfig {\n  minSdkVersion 21\n}\n```\n\n4.  Finally, change the initialization of your `RudderClient` in your `Application` class:\n\n```\n// initializing Rudder SDK\nval rudderClient =\n    RudderClient.getInstance(\n        this,\n        WRITE_KEY,\n        RudderConfig.Builder()\n            .withDataPlaneUrl(DATA_PLANE_URL)\n            .withFactory(AppcenterIntegrationFactory.FACTORY)\n            .build()\n    )\n```\n\nFollow these steps to add App Center to your iOS project:\n\n5.  Go to your `Podfile` and add the `Rudder-AppCenter` extension\n\n6.  After adding the dependency followed by `pod install` , you can add the imports to your `AppDelegate.m` file:\n\n```\n#import <rudderappcenterfactory.h>\n```\n\n7.  Finally, change the initialization of your `RudderClient` as shown:\n\n```\nRSConfigBuilder *builder = [[RSConfigBuilder alloc] init];\n[builder withDataPlaneUrl:<your_data_plane_url>];\n[builder withFactory:[RudderAppCenterFactory instance]];\n[RSClient getInstance:<your_write_key> config:[builder build]];\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To use App Center, your iOS project must be set up in Xcode 11 or later on macOS version 10.14.4 or later. Also, you must be targeting devices running on iOS 9.0 or later.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This device mode integration is supported for App Center v4.4.1 and above.\n\nFollow these steps to add App Center to your iOS project:\n\n1.  Install `RudderAppCenter` (available through [CocoaPods](https://cocoapods.org/)) by adding the following line to your `Podfile`:\n\n```\npod 'RudderAppCenter', '~> 1.0.0'\n```\n\n2.  Run the `pod install` command.\n3.  Next, import the SDK depending on your preferred platform:\n\n4.  Next, add the imports to your `AppDelegate` file under `didFinishLaunchingWithOptions` method:\n\n```\nRSConfig *config = [[RSConfig alloc] initWithWriteKey:WRITE_KEY];\n[config dataPlaneURL:DATA_PLANE_URL];\n\n[[RSClient sharedInstance] configureWith:config];\n[[RSClient sharedInstance] addDestination:[[RudderAppCenterDestination alloc] init]];\n```\n\n```\nlet config: RSConfig = RSConfig(writeKey: WRITE_KEY)\n            .dataPlaneURL(DATA_PLANE_URL)\n\nRSClient.sharedInstance().configure(with: config)\nRSClient.sharedInstance().addDestination(RudderAppCenterDestination())\n```\n\nTo add AppCenter to your React Native project, follow these steps:\n\n1.  Add the RudderStack-App Center module to your app as shown:\n\n```\nnpm install @rudderstack/rudder-integration-appcenter-react-native\n## OR ##\nyarn add @rudderstack/rudder-integration-appcenter-react-native\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure the `minSdkVersion` of your `build.gradle` in the root of `android` directory is atleast `21`\n\n2\\. Run \\`pod install\\` inside the \\`ios\\` directory of your project adding \\`@rudderstack/rudder-integration-appcenter-react-native\\` to your project. 3. Finally, import the module you added above and add it to your SDK initialization code:\n\n```\nimport rudderClient from \"@rudderstack/rudder-sdk-react-native\"\nimport appcenter from \"@rudderstack/rudder-integration-appcenter-react-native\"\n\nconst config = {\n  dataPlaneUrl: DATA_PLANE_URL,\n  trackAppLifecycleEvents: true,\n  withFactories: [appcenter],\n}\nrudderClient.setup(WRITE_KEY, config)\n```\n\nFollow the below steps to add App Center to your Flutter Project:\n\n1.  Add the following dependency to the `dependencies` section of your `pubspec.yaml` file.\n\n```\nrudder_integration_appcenter_flutter: ^1.1.1\n```\n\n2.  Run the below command to install the dependency added in the above step:\n\n3.  Import the `RudderIntegrationAppcenterFlutter` in your application where you are initializing the SDK.\n\n```\nimport 'package:rudder_integration_appcenter_flutter/rudder_integration_appcenter_flutter.dart';\n```\n\n4.  Finally, change the initialization of your `RudderClient` as shown:\n\n```\nfinal RudderController rudderClient = RudderController.instance;\nRudderConfigBuilder builder = RudderConfigBuilder();\nbuilder.withFactory(RudderIntegrationAppcenterFlutter());\nrudderClient.initialize(<write_key>, config: builder.build(), options: null);\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For Android platform, make sure that the `android.defaultConfig.minSdkVersion` is set to atleast `21` by checking it in the `android/app/build.gradle` file.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For iOS platform, you can link App Center as a framework instead of a library with your application by linking it statically as shown below:\n> \n> ```\n> use_frameworks! :linkage=> :static\n> ```\n\nTo add App Center to your Cordova project, follow these steps:\n\n1.  Navigate to the root folder of your application and run the following command::\n\n```\ncordova plugin add rudder-integration-appcenter-cordova\n```\n\n2.  Add the platforms that you want to target for your app:\n\n```\ncordova platform add ios\ncordova platform add android\n```\n\n3.  Run the following command to build the project for all platforms:\n\n4.  Add the following code in the `onDeviceReady()` function of your home page to initialize the SDK:\n\n```\nRudderClient.initialize(WRITE_KEY , {\n  dataPlaneUrl: DATA_PLANE_URL,\n  factories: [RudderAppCenterFactory]\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure to use the `await` keyword with the `initialize` call.\n\n## Track\n\nA `track` call lets you track custom events as they occur in your web application.\n\nA sample `track` call looks like the following:\n\n```\n[[RSClient sharedInstance] track:@\"Product Clicked\" properties:@{\n    @\"product_id\" : @\"pr01\",\n    @\"name\" : @\"Cadbury\"\n}];\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The above track call is directly passed on to App Center via its `trackEvent` api in both the RudderStack `Android` & `iOS` SDKs.\n\nThe `eventProperties` object should only contain the values of type `String` and `Number`\\- the other property types will be simply ignored, if sent.\n\nFor example, if `eventProperties` is set as:\n\n```\n{\n  \"colours\": [\n    \"red\",\n    \"black\"\n  ],\n  \"city\": \"New Orleans\",\n  \"state\": \"Louisiana\"\n}\n```\n\nthen RudderStack will send the data to App Center as:\n\n```\n{\n  \"city\": \"New Orleans\",\n  \"state\": \"Louisiana\"\n}\n```\n\n## Screen\n\nThe `screen` method allows you to record whenever a user sees the mobile screen, along with any associated optional properties. This call is similar to the `page` call, but is exclusive to your mobile device.\n\nA sample `screen` call using the RudderStack Android SDK looks like the following code snippet:\n\n```\n[[RSClient sharedInstance] screen:@\"Home\" properties:@{\n    @\"category\" : @\"launcher\"\n}];\n```\n\nIn the above snippet, RudderStack captures the information related to the screen being viewed, such as screen’s name and category.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The above `screen` call is directly passed on to App Center as a `track` event via its `trackEvent` API, with event name as `Viewed {screen name} screen` along with the its properties. The above example will be sent as a `track` event with name `Viewed MainActivity screen` along with its properties.\n\n## Opting in/out of sending user data to App Center\n\nAny users visting your app can express their consent over sending data to App Center. Based on this consent you can either opt in or out of sending that user’s data to App Center.\n\nRefer to the section below for more details on how to use this feature.\n\nFirstly import Appcenter’s `Analytics` Module as shown below: `groovy import com.microsoft.appcenter.analytics.Analytics;`\n\nThen add the below script just after the initialization of the Android SDK:\n\n```\nrudderClient.onIntegrationReady(\"App Center\") {\n    // have your own logic to get the user consent\n    if (userConsent) {\n        // enabling appcenter's analytics module\n        Analytics.setEnabled(true)\n    } else {\n        // disabling appcenter's analytics module\n        Analytics.setEnabled(false)\n    }\n}\n```\n\nFirstly import the Appcenter’s `Analytics` Module as shown below:\n\n```\n@import AppCenterAnalytics;\n```\n\nThen add the below script just after the initialization of the iOS SDK:\n\n```\nif(userConsent)\n{\n    // enabling appcenter's analytics module\n    [MSACAnalytics setEnabled:true];\n}\nelse\n{\n    // disabling appcenter's analytics module\n    [MSACAnalytics setEnabled:false];\n}\n```\n\nFirstly import the `AppCenterIntegrationFactory` as shown below:\n\n```\nimport {\n  enableAnalytics,\n  disableAnalytics,\n} from '@rudderstack/rudder-integration-appcenter-react-native';\n```\n\nThen add the below script just after the initalization of the React Native SDK:\n\n*   To enable App Center Analytics:\n\n```\nawait rudderClient.registerCallback(\"App Center\", () => {\n  enableAnalytics();\n});\n```\n\n*   To disable App Center Analytics:\n\n```\nawait rudderClient.registerCallback(\"App Center\", () => {\n  disableAnalytics();\n});\n```\n\n## FAQ\n\n#### How do I get the App Center API secret?\n\nThe **API Secret Key** can be found as **App Secret** on the **Getting Started** page or **Settings** page on your App Center portal.\n\n#### What is transmission interval?\n\nThe App Center SDK uploads logs in a batch of 50. If the SDK doesn’t have 50 logs to send, it will still send logs after 3 seconds (set by default). There can be a maximum of 3 batches sent in parallel. In this case, this interval of 3 seconds is the **transmission interval**. Note that the value of this transmission interval must always be between 3 seconds and 86400 seconds (one day).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Visual Studio App Center | RudderStack Docs",
  "description": "Send your event data from RudderStack to Visual Studio App Center.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vitally/",
  "markdown": "# Vitally | RudderStack Docs\n\nSend data from RudderStack to Vitally.\n\n* * *\n\n*     3 minute read  \n    \n\n[Vitally](https://vitally.io/?utm_source=rudderstack&utm_medium=docs&utm_campaign=partners) is a customer success platform for B2B SaaS companies that wraps your unified customer data with powerful analytics, alerts, and workflows to help you build successful customers.\n\n## Getting started\n\nRudderStack supports sending event data to Vitally via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Vitally, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Vitally**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Vitally as a destination, you will need to configure the following settings:\n\n*   **API Key**: Enter your Vitally API key. For more information on obtaining the API key, refer to the [FAQ](#faq) section below.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nA sample `identify` event is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4GRlm', {\n  name: 'Alex Keener',\n  email: 'alex@example.com',\n  avatar: 'https://example.com/avatars/alexkeener.webp',\n  role: 'CEO'\n});\n```\n\nVitally uses the information from the `identify` calls to consolidate the user profile. Also, you can use the traits for sorting and filtering users within an account.\n\nYou can view the following `identify` traits in the Vitally dashboard:\n\n| Trait | Description |\n| --- | --- |\n| `name` | Sets the username in Vitally. |\n| `email` | Sets the user’s email. |\n| `avatar` | Displays the user’s avatar in the Vitally dashboard. |\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track('Enabled Slack Integration', {\n  channel: '#support'\n})\n```\n\nVitally uses the `track` calls to track and analyze the account’s (user’s) engagement with your product. It provides out-of-the-box analysis for your events and the ability to define your own custom metrics on top of them, for example, [Success Metrics](https://docs.vitally.io/account-health-scores-and-metrics/success-metrics) and [Elements](https://docs.vitally.io/account-health-scores-and-metrics/elements).\n\n## Group\n\nThe [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call lets you link an identified user with a group like a company, organization, or an account.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  name: \"Initech\",\n  industry: \"Technology\",\n  plan: \"enterprise\",\n  mrr: 2000\n});\n```\n\nVitally uses the `group` events to maintain a picture of the account. It adds any group traits to the account which you can use to analyze your customer base as a whole. You can view a customer’s traits on their dashboard, use these traits for sorting and filtering, configure rules to automate your customer success process, and much more.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sets the group trait `name` as the account name in the Vitally dashboard.\n\n## FAQ\n\n#### Where can I find the Vitally API key?\n\n1.  From your [Vitally dashboard](https://login.vitally.io/), go to **Account Settings** > **Product Data** integrations list.\n2.  Select and enable the RudderStack integration. You will find the **API key** listed here.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Vitally | RudderStack Docs",
  "description": "Send data from RudderStack to Vitally.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/snapchat-custom-audience/setup-guide/",
  "markdown": "# Set Up Snapchat Custom Audience\n\nSend your event data from RudderStack to Snapchat Custom Audience.\n\n* * *\n\n*     4 minute read  \n    \n\nThis guide will help you set up Snapchat Custom Audience as a destination in RudderStack\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/snapchat_custom_audience).\n\n## Getting started\n\nRudderStack supports sending events to Snapchat Custom Audience via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Snapchat Custom Audience, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Snapchat Custom Audience**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Snapchat Custom Audience as a destination, first authenticate your account by following the below steps:\n\n1.  Click **Create Account** in the **Account Settings** section.\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n4.  Click **Save** to use the specified account:\n\n[![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In case you have authenticated multiple accounts, you can click **Edit Credentials** to select/delete any other authenticated account:\n> \n> ![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n> \n> RudderStack **gives an error** if you try to delete an account used by any other connection set up for the same destination.\n\nNext, configure the following settings:\n\n*   **Segment ID**: Enter your Snapchat segment ID. For more information on getting your segment ID, refer to the [FAQ](#faq) section below.\n*   **Schema**: Select the schema (**EMAIL**, **MOBILE AD ID**, or **PHONE**) from the dropdown.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The corresponding field (`email`, `phone`, or `mobileAdId`/`mobile_id`) must be present in your events. Otherwise, RudderStack will not send the events to Snapchat Custom Audience.\n\n*   **Disable hashing**: By default, RudderStack hashes the `email`, `phone`, and `mobileAdId` in the SHA-256 format. If enabled, RudderStack will **not** perform the hashing.\n\n## `audienceList` event structure\n\nThe following code snippet shows a sample `audienceList` call:\n\n```\n{\n  \"type\": \"audiencelist\",\n  \"event\": \"Order Created\",\n  \"sentAt\": \"2022-06-14T12:34:53.514Z\",\n  \"traits\": null,\n  \"userId\": \"6201002000600\",\n  \"context\": {\n    \"library\": {\n      \"name\": \"RudderStack Shopify Cloud\",\n      \"version\": \"1.0.0\"\n    },\n    \"integration\": {\n      \"name\": \"SHOPIFY\"\n    }\n  },\n  \"rudderId\": \"b66112d4-a5af-4856-a6e4-2dbad7104c91\",\n  \"messageId\": \"99a56bfb-45bf-4852-a911-03f73c3fdcdf\",\n  \"timestamp\": \"2022-06-14T12:34:48.000Z\",\n  \"properties\": {\n    \"listData\": {\n      \"add\": [{\n        \"email\": \"alex@example\",\n        \"phone\": \"+1-202-555-0146\",\n        \"country\": \"USA\",\n        \"lastName\": \"Keener\",\n        \"firstName\": \"Alex \",\n        \"postalCode\": \"90009\"\n      },\n        {\n          \"email\": \"alexis@example.com\",\n          \"phone\": \"+1-202-555-0145\",\n          \"country\": \"USA\",\n          \"lastName\": \"Alexis\",\n          \"firstName\": \"Keener\",\n          \"postalCode\": \"90009\"\n        }\n      ],\n      \"remove\": [{\n        \"email\": \"jack@hotmail.com\",\n        \"phone\": \"+1-202-555-0145\",\n        \"country\": \"USA\",\n        \"lastName\": \"Jack\",\n        \"firstName\": \"Jackson \",\n        \"postalCode\": \"90009\"\n      }]\n    }\n  },\n  \"receivedAt\": \"2022-06-14T12:34:53.113Z\",\n  \"request_ip\": \"35.231.104.198\",\n  \"anonymousId\": \"760bf220-046f-4c2a-ad2b-3424be593740\",\n  \"integrations\": {\n    \"SHOPIFY\": true\n  },\n  \"originalTimestamp\": \"2022-06-14T12:34:53.514Z\"\n}\n```\n\n## Schema fields mapping\n\nThe following table details the mapping of the schema fields (as specified in the RudderStack dashboard) and the [Snapchat Marketing API](https://marketingapi.snapchat.com/docs/?&_ga=2.64649388.22530882.1663148304-88679508.1663136652#create-an-audience-segment).\n\nRudderStack normalizes the raw identifiers by following the [Snapchat-prescribed rules](https://marketingapi.snapchat.com/docs/#normalizing-hashing) before SHA-256 hashing and sending them to Custom Audience.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack groups the identifiers in batches with a maximum of 100000 identifiers per request. For more information, refer to the [Snapchat Marketing API](https://marketingapi.snapchat.com/docs/#adding-users).\n\n| RudderStack schema field | Custom Audience field | Notes |\n| --- | --- | --- |\n| `properties.listData.add.email` | `users.data.[sha256(email)]` | RudderStack trims any leading and trailing whitespaces and converts all characters into the lower case before hashing. |\n| `properties.listData.add.phone`<br><br>`properties.listData.add.mobile` | `users.data.[sha256(phone)]`<br><br>`users.data.[sha256(mobile)]` | RudderStack includes the country code and removes any double 0s in front of it. It also excludes any non-numeric characters like whitespaces, parentheses, `+`, or `-`. |\n| `properties.listData.add.mobileId`<br><br>`properties.listData.add.mobileAdId`<br><br>`properties.listData.add.mobile_id` | `users.data.[sha256(mobileId)]`<br><br>`users.data.[sha256(mobileAdId)]`<br><br>`users.data.[sha256(mobile_id)]` | RudderStack converts all characters into the lower case. It does not remove any hyphens. |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `email`, `mobileAdId`/`mobile_id`, or `mobile` must be present in your events depending on the **Schema** setting configured in the RudderStack dashboard. Otherwise, RudderStack will not send the events to Snapchat Custom Audience.\n\n## FAQ\n\n#### Where can I find my Snapchat Segment ID?\n\nTo get your Snapchat Segment ID, follow the steps below:\n\n1.  Log into your [Snapchat Ads Manager dashboard](https://ads.snapchat.com/).\n2.  Go to **Assets** > **Audiences**.\n3.  Under **Audience Library**, select the required audience.\n4.  Copy the ID after `/audiences/custom-audience/` in the URL of the resulting page. This is your segment ID.\n\n[![Snapchat segment ID](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-segment-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/snapchat-segment-id.webp)\n\nFor example, consider the following URL:\n\n```\nhttps://ads.snapchat.com/cc9c3e81-8a7e-44c0/audiences/custom-audience/1234567890123456/\n```\n\nIn the above case, `1234567890123456` is the segment ID.\n\n#### How do I create a Customer List Audience in Snapchat?\n\nFor detailed steps on creating a Snapchat Customer List Audience, refer to the [Snapchat support page](https://businesshelp.snapchat.com/s/article/create-sam-audience?language=en_US).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set Up Snapchat Custom Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Snapchat Custom Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/vwo/",
  "markdown": "# VWO (Visual Website Optimizer) | RudderStack Docs\n\nSend data from RudderStack to VWO.\n\n* * *\n\n*     5 minute read  \n    \n\n[VWO](https://vwo.com/) (Visual Website Optimizer) is an A/B testing and product optimization platform. It provides an intuitive visual editor where you can run A/B tests without the need to write any HTML code.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-sdk-js/tree/production-staging/src/integrations/VWO).\n\n## Getting started\n\nRudderStack supports sending event data to VWO via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the VWO native SDK is loaded from `http://visualwebsiteoptimizer.com` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the VWO SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to VWO, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **VWO**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\n*   **Account ID**: Enter your VWO account ID. For more information on obtaining your VWO account ID, refer to the [FAQ](#faq) section below.\n*   **Single Page Application(SPA)?**: Enable this setting if you’re loading the native VWO SDK on a single page application.\n*   **Send experiment viewed as track**: Enable this setting to record your VWO experiment as a `track` event with the name `Experiment Viewed`. For more information on this setting, refer to the [Sending experiment viewed from VWO](#sending-experiment-viewed-from-vwo) section below.\n*   **Send experiment viewed as identify traits**: Enable this setting to send your experiment data within the [traits](https://www.rudderstack.com/docs/event-spec/standard-events/identify/#identify-traits) of your `identify` event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you enable both the **Send experiment viewed as track** and **Send experiment viewed as identify traits** settings, then RudderStack independently captures the experiment details and sends them as `track` and `identify` events, respectively.\n\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to VWO. For more information, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Library Tolerance**: Specify the maximum time (in ms) RudderStack should wait for the VWO library to load before displaying your web page.\n*   **Setting Tolerance**: Specify the maximum time (in ms) RudderStack should wait for the test settings before VWO displays your original web page.\n*   **Use Existing jQuery**: Enable this setting if your page already includes jQuery. Otherwise, VWO will include jQuery on the page for you.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To function correctly, VWO requires jQuery to be present in the web page.\n\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n\n## Loading the VWO SDK\n\nBy default, RudderStack **does not** load the VWO SDK automatically. To do so, you must [load the web SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/) as follows:\n\n```\nrudderanalytics.load(WRITE_KEY, DATA_PLANE_URL, {\n  integrations: {\n    VWO: {\n      loadIntegration: true\n    }\n  }\n});\n```\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user and send the information to VWO.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"name\": \"Alex Keener\",\n  \"email\": \"alex@example.com\"\n});\n```\n\n### Sending user traits\n\nRudderStack lets you send the experiment-related data like the user’s traits via an [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call, so that the other destinations have the necessary user-related context of the variations.\n\nTo do so, enable the **Send experiment viewed as identify traits** dashboard setting and include the user traits in the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) event.\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  \"name\": \"Alex Keener\",\n  \"email\": \"alex@example.com\",\n  \"Experiment: 1234\": \"Signup as default landing\"\n});\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack prefixes all the `identify` traits with `rudder.` before sending them to VWO. For example, RudderStack sends `email` as `rudder.email` to VWO.\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to send user events and their associated properties to VWO.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Item Purchased\", {\n  category: \"MyCategory\",\n  currency: \"INR\",\n  value: 500\n})\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack prefixes the event name with `rudder.` before sending it to VWO. For example, `Item Purchased` event is sent as `rudder.Item Purchased` to VWO.\n\n### Sending `Experiment Viewed` as `track` event\n\nWhen you enable the **Send experiment viewed as track** dashboard setting, RudderStack automatically sends a [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event whenever an experiment variation is loaded for a user. It sets `Experiment Viewed` as the event name along with the experiment and variation details as the event properties.\n\nYou can then send this `track` event to the other destinations (connected to the same source in RudderStack) to analyze the experimentation results.\n\nA sample code snippet for this activity is as shown:\n\n```\nrudderanalytics.track(\"Experiment Viewed\", {\n  experimentId: \"Signup\",\n  variationName: \"Signup as a default landing\"\n});\n```\n\n### Tracking revenue goals\n\nRudderStack also lets you forward the revenue amount to VWO when the [`Order Completed`](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/ordering/#order-completed) event is called.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack uses the `revenue` or `amount` property for tracking the revenue goals.\n\nA sample code snippet for this activity is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  revenue: 125\n});\n```\n\n## FAQ\n\n#### How do I add the VWO JavaScript snippet to my website?\n\nTo configure VWO SmartCode(JavaScript snippet) on all web pages where you plan to run your A/B tests, you can refer to this [VWO Knowledge Base](https://help.vwo.com/hc/en-us/articles/360019422834) article.\n\n#### Where can I find my VWO Account ID?\n\nYou can obtain the VWO Account ID by following these steps:\n\n1.  Log into your [VWO dashboard](https://app.vwo.com/#/login).\n2.  Click the settings icon on the top right and go to **Account**.\n\nYou will find your account ID listed under **Account Details**.\n\nFor more information, refer to the [VWO Knowledge Base](https://help.vwo.com/hc/en-us/articles/360008469173-How-to-find-your-account-ID).\n\n#### How can I disable loading the VWO SDK for certain events?\n\nBy default, RudderStack **does not** load the VWO SDK automatically. However, if you have loaded the VWO SDK using [this approach](#loading-the-vwo-sdk), you can disable it for certain events by setting `VWO` to `false` in the event’s `integrations` object:\n\n```\nrudderanalytics.track(\n  \"Experiment Viewed\", {\n    revenue: 30,\n    currency: \"USD\",\n  }, {\n    integrations: {\n      VWO: false\n    },\n  }\n);\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "VWO (Visual Website Optimizer) | RudderStack Docs",
  "description": "Send data from RudderStack to VWO.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/tiktok-ads/",
  "markdown": "# TikTok Ads | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "TikTok Ads | RudderStack Docs",
  "description": "Send your event data from RudderStack to TikTok Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/trade-desk-realtime-conversions/",
  "markdown": "# The Trade Desk Real Time Conversions\n\nSend your event data from RudderStack to The Trade Desk.\n\n* * *\n\n*     5 minute read  \n    \n\n[The Trade Desk](https://www.thetradedesk.com/us) is a leading digital advertising technology platform for efficient campaign management. It offers comprehensive tools to target audiences across diverse channels like video, mobile, and display.\n\nRudderStack lets you send real-time conversion events data to The Trade Desk via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) using [The Trade Desk Real-Time Conversion Events API](https://partner.thetradedesk.com/v3/portal/data/doc/DataConversionEventsApi). Find the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/main/src/cdk/v2/destinations/the_trade_desk).\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **The Trade Desk Real Time Conversions**.\n\n### Connection settings\n\nConfigure the following settings to set up The Trade Desk Real Time Conversions as a destination in RudderStack:\n\n*   **Name**: Specify a unique name to identify the destination in RudderStack.\n*   **Advertiser ID**: Enter the advertiser ID from the **Advertiser Preferences** page in the The Trade Desk dashboard.\n*   **Tracking Tag ID**: Enter the tracking tag ID. [Contact your The Trade Desk representative](https://www.thetradedesk.com/us/contact-us) to obtain it.\n\n### Connection mode\n\nSpecify how you want to route events from your source to The Trade Desk Real Time Conversions.\n\nRudderStack supports sending event data to The Trade Desk Real Time Conversions via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device Mode** | \\-  | \\-  | \\-  |\n| **Cloud Mode** | **Supported** | **Supported** | **Supported** |\n\n### Event mapping\n\nClick **Set-up mapping** to map your RudderStack events/properties to specific The Trade Desk Real Time Conversions events/properties. RudderStack also provides the JSON mapper to set these mappings.\n\nUse **Event** tab to map the respective events:\n\n[![Optimizely Feature Experimentation event mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/trade-desk-event-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/trade-desk-event-mapping.webp)\n\nUse **Custom properties** tab to map the custom properties (`td1` to `td10`) by entering the property path from where RudderStack maps it to the corresponding The Trade Desk Real Time Conversions’ custom property:\n\n[![Optimizely Feature Experimentation attribute mapping](https://www.rudderstack.com/docs/images/event-stream-destinations/trade-desk-property-mapping.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/trade-desk-property-mapping.webp)\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you capture user events along with the properties associated with them.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Product Added\", {\n  product_id: \"622c6f5d5cf86a4c77358033\",\n  sku: \"8472-998-0112\",\n  category: \"Games\",\n  name: \"Cones of Dunshire\",\n  brand: \"Wyatt Games\",\n  variant: \"expansion pack\",\n  price: 49.99,\n  quantity: 5,\n  coupon: \"PREORDER15\",\n  position: 1,\n  url: \"https://www.website.com/product/path\",\n  image_url: \"https://www.website.com/product/path.webp\",\n})\n```\n\n### Supported events\n\nRudderStack supports all [The Trade Desk Real Time Conversions events](https://partner.thetradedesk.com/v3/portal/data/doc/DataConversionEventsApi#event-mapping). Out of these, RudderStack maps the following standard [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) as:\n\n| RudderStack event | The Trade Desk Real Time Conversions event |\n| --- | --- |\n| Product Added | `addtoCart` |\n| Order Completed | `purchase` |\n| Product Viewed | `viewitem` |\n| Checkout Started | `startcheckout` |\n| Cart Viewed | `viewcart` |\n| Product Added to Wishlist | `wishlistitem` |\n\nYou can map the rest of The Trade Desk Real Time Conversions events (listed below) in the RudderStack dashboard in the [**Map RudderStack to The Trade Desk Events** setting](#event-mapping):\n\n*   searchitem\n*   searchcategory\n*   login\n*   messagebusiness\n*   direction\n*   sitevisit\n\nRudderStack sends all the other unmapped events as is.\n\n### Property mappings\n\nThe following table details the property mappings between RudderStack and The Trade Desk Real Time Conversions:\n\n| RudderStack | The Trade Desk Real Time Conversions | Note |\n| --- | --- | --- |\n| <tracking-tag-id> Required | `tracker_id` | This value is populated from the RudderStack dashboard’s **Tracking Tag ID** setting. |\n| <advertiser-id>  <br>Required | `adv` | This value is populated from the RudderStack dashboard’s **Advertiser ID** setting. |\n| `value` | `value` | [More information](#value-mapping). |\n| `currency` | `currency` | \\-  |\n| `event` | `event_name` | [More information](#supported-events). |\n| `context.ip`  <br>`request_ip` | `client_ip` | \\-  |\n| `context.page.referrer` | `referrer_url` | \\-  |\n| \\-  | `adid` | Unique advertising ID for the event. RudderStack maps this property from `externalId` in the `context` object. [More information](#adid-mapping). |\n| \\-  | `adid_type` | Type of advertising ID, specified in the `adid` property. RudderStack maps this property from `externalId` in the `context` object. [More information](#adid-mapping). |\n| `messageId` | `imp` | 36-character string (including dashes) that serves as the unique ID for the impression to which the event is attributed. |\n| `order_id` | `order_id` | \\-  |\n| `products` | `items` | [More information](#items-mapping) |\n| <td> | `td1` to `td10` | This value for custom fields is populated from the RudderStack dashboard’s [**Map RudderStack to The Trade Desk Events** setting](#event-mapping). |\n| \\-  | `privacy_settings` | [More information](#privacy_settings-mapping). |\n| \\-  | `data_processing_option` | [More information](#data_processing_option-mapping). |\n\n#### `adid` mapping\n\nRudderStack maps the advertising ID (`adid`) from `context.device.advertisingId` if the `os` information is provided in `context.os.name`.\n\nRudderStack maps the type of advertising ID (`adid_type`) as:\n\n*   `AAID` if os’s name is `android`\n*   `NAID` if os’s name is `windows`\n*   `IDFA` if os’s name is `ios`\n\nSample `context` object:\n\n```\n{\n   \"app\": {\n      \"build\": \"1.0.0\",\n      \"name\": \"RudderLabs Android SDK\",\n      \"namespace\": \"com.rudderlabs.javascript\",\n      \"version\": \"1.0.5\"\n   },\n   \"device\": {\n      \"adTrackingEnabled\": true,\n      \"advertisingId\": \"test-advertisingId\",\n      \"id\": \"test-id\",\n      \"manufacturer\": \"Google\",\n      \"model\": \"AOSP on IA Emulator\",\n      \"name\": \"generic_x86_arm\",\n      \"type\": \"ios\",\n      \"attTrackingStatus\": 3\n   },\n\n   \"locale\": \"en-GB\",\n   \"os\": {\n      \"name\": \"ios\",\n      \"version\": \"\"\n   }\n}\n```\n\nIf the device information is absent, you can also pass the advertising ID (`adid`) in the context’s `externalId` object:\n\n```\n{\n  \"externalId\": [\n    {\n      \"type\": \"daid\",\n      \"id\": \"test-daid\"\n    }\n  ]\n}\n```\n\n#### `value` mapping\n\nFor `Product Added`, `Product Viewed`, and `Product Added to Wishlist` events, RudderStack maps `price*quantity` to The Trade Desk Real Time Conversions’ `value` field.\n\nFor `Order Completed`, and `Checkout Started` events, RudderStack maps `revenue`/`value` to The Trade Desk Real Time Conversions’ `value` field.\n\n#### `items` mapping\n\nFor `Order Completed`, `Checkout Started`, and `Cart Viewed event` events, RudderStack maps the individual products inside the `products` array to The Trade Desk Real Time Conversions’ `item` array.\n\nFor single product events, that is, `Product Added`, `Product Viewed`, and `Product Added to Wishlist`, RudderStack maps the root-level properties to single item in the `items` array of The Trade Desk Real Time Conversions:\n\n| RudderStack property | The Trade Desk Real Time Conversions property |\n| --- | --- |\n| `product_id`/`sku`  <br>Required | `item_code` |\n| `name` | `name` |\n| `quantity` | `qty` |\n| `price` | `price` |\n| `category_id` | `cat` |\n\n#### `privacy_settings` mapping\n\nRudderStack maps the following privacy settings (`privacy_settings`) from the `integration` object:\n\n| RudderStack | The Trade Desk Real Time Conversions | Notes |\n| --- | --- | --- |\n| `privacy_type` Required | `privacy_type` | Allowed values are: `GDPR`/`CCPA`/`GPP` |\n| `is_applicable` Required | `is_applicable` | Boolean property indicating if the value specified in the `privacy_type` property is applicable. |\n| `consent_string` Required | `consent_string` | User’s consent when the privacy regulations are in effect. |\n\nSample `integration` object:\n\n```\n{\n  All: true,\n  THE_TRADE_DESK: {\n    privacy_settings: [\n      {\n        privacy_type: 'GDPR',\n        is_applicable: 1,\n        consent_string: 'ok',\n      },\n    ],\n  },\n};\n```\n\n#### `data_processing_option` mapping\n\nRudderStack maps the following data processing options (`data_processing_option`) from the `integration` object:\n\n| RudderStack | The Trade Desk Real Time Conversions | Note |\n| --- | --- | --- |\n| `policies` Required | `policies` | Pass the users’ opt-out choices. Currently, The Trade Desk Real Time Conversions only supports the `LDU` (Limited data use) policy. |\n| `region`  <br>Required | `region` | Two-letter state. For example, `US-CO`. |\n\nSample `integration` object:\n\n```\n{\n  All: true,\n  THE_TRADE_DESK: {\n    policies: ['LDU'],\n    region: 'US-CA'\n  },\n};\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "The Trade Desk Real Time Conversions | RudderStack Docs",
  "description": "Send your event data from RudderStack to The Trade Desk.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/webengage/",
  "markdown": "# WebEngage | RudderStack Docs\n\nSend your event data from RudderStack to WebEngage.\n\n* * *\n\n*     6 minute read  \n    \n\n[WebEngage](https://webengage.com/) is a full stack marketing automation tool. It lets you drive growth for your businesses by engaging your users via push and in-app notifications, email campaigns, etc. You can also leverage WebEngage’s analytics capabilities to get a 360-degree view of your users and the product.\n\nRudderStack supports WebEngage as a destination to which you can seamlessly send your event data for efficient marketing and analytics.\n\n## Getting started\n\nBefore configuring WebEngage as a destination in RudderStack, verify if the source platform is supported by WebEngage by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to WebEngage, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **WebEngage**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure WebEngage as a destination, you will need to configure the following settings:\n\n[![WebEngage connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/webengage-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/webengage-connection-settings.webp)\n\n*   **License Code**: Enter your WebEngage license code.\n*   **API Key**: Enter your WebEngage API key.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To get your WebEngage license code and API key, log into your WebEngage dashboard and go to **Data Platform** > **Integrations** > **REST API**. For more information, refer to the [FAQ](#faq) section below.\n\n*   **Data Center**: Select your WebEngage data center from the dropdown.\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) method lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc.\n\nRudderStack uses the `identify` call to create or update the customer information in WebEngage. It maps `userId` or `anonymousId` (`userId` is prioritized if both are present ) to WebEngage’s `userId` before sending the data via the [`users`](https://docs.webengage.com/docs/rest-api-tracking-users#users) API.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  email: \"alex@example.com\",\n  phone: \"+1-202-555-0146\",\n});\n```\n\n### Traits mapping\n\nRudderStack maps the following `identify` traits to the corresponding WebEngage attributes:\n\n| RudderStack trait | WebEngage attribute | Presence | Notes |\n| --- | --- | --- | --- |\n| `userId` | `userId` | Required if `anonymousId` is not present. | `userId` cannot exceed 100 characters. |\n| `anonymousId` | `anonymousId` | Required if `userId` is not present. | `anonymousId` cannot exceed 100 characters. |\n| `firstName` | `firstName` | Optional | The user’s first name. |\n| `lastName` | `lastName` | Optional | The user’s last name. |\n| `birthday`/`dateOfBirth`/`dateofbirth`/`dob`/`DOB` | `birthDate` | Optional | The user’s birth date in the ISO format: `yyyy-MM-dd`. |\n| `gender` | `gender` | Optional | The user’s gender. |\n| `email` | `email` | Optional | The user’s email. |\n| `phone` | `phone` | Optional | The user’s phone. |\n| `emailOptIn` | `emailOptIn` | Optional | The user’s email subscription preference. |\n| `smsOptIn` | `smsOptIn` | Optional | The user’s SMS subscription preference. |\n| `whatsappOptIn` | `whatsappOptIn` | Optional | The user’s WhatsApp subscription preference. |\n| `company.name` | `company` | Optional | The user’s company. |\n| `hashedEmail` | `hashedEmail` | Optional | The user’s hashed email for email services. |\n| `hashedPhone` | `hashedPhone` | Optional | The user’s encrypted phone number for SMS services. |\n| `postalcode` / `address.postalCode` | `postalCode` | Optional | The user’s postal code. |\n| `region` / `address.region` | `region` | Optional | The user’s region. |\n| `locality` / `address.locality` | `locality` | Optional | The user’s locality. |\n| `city` / `address.city` | `city` | Optional | The user’s city. |\n| `country` / `address.country` | `country` | Optional | The user’s country. |\n| `attributes` | `attributes` | Optional | The user’s custom attributes as key-value pairs. |\n\n### Identify traits considerations\n\nNote the following when sending `identify` traits to WebEngage:\n\n*   Either `userId` or `anonymousId` must be present in the `identify` call.\n*   If both `userId` and `anonymousId` are present in the `identify` call, RudderStack ignores `anonymousId`.\n*   WebEngage prioritizes `hashedEmail` over `email`. Hence, once you set `hashedEmail`, it can then be updated only through a new `hashedEmail`.\n*   WebEngage prioritizes `hashedPhone` over `phone`. Hence, once you set `hashedPhone`, it can then be updated only through a new `hashedPhone`.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) method lets you capture user events along with the properties associated with them.\n\nRudderStack uses the `track` call to send the custom events to WebEngage via the [`events`](https://docs.webengage.com/docs/rest-api-tracking-events#events) API.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  timestamp: \"2022-05-05T14:58:10.000Z\",\n  currency: \"USD\",\n  checkout_id: \"X23441\",\n  order_id: \"ORD00123\"\n});\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure you call `identify` before `track` for RudderStack to include the `userId` in the `track` events. Otherwise, RudderStack will send the `track` calls to WebEngage with an `anonymousId`.\n\n### Property mapping\n\nRudderStack maps the following event properties to the corresponding WebEngage attributes:\n\n| RudderStack trait | WebEngage attribute | Presence | Notes |\n| --- | --- | --- | --- |\n| `userId` | `userId` | Required if `anonymousId` is not present. | `userId` cannot exceed 100 characters. |\n| `anonymousId` | `anonymousId` | Required if `userId` is not present. | `anonymousId` cannot exceed 100 characters. |\n| `eventName` | `event` | Required | The event name. |\n| `timestamp`/`originalTimestamp` | `eventTime` | Optional | The date and time of the event in ISO format: `yyyy-MM-ddTHH:mm:ss±hhmm`. |\n| `properties` | `eventData` | Optional | The custom event attributes as key-value pairs. |\n\n### Setting custom attributes\n\nWebEngage lets you send custom attributes as key-value pairs in the `eventData` parameter as described in the [above section](#property-mapping). However, there are a few things you should keep in mind:\n\n*   WebEngage ignores any custom attributes starting with `we_` as these are reserved for internal use.\n*   User attribute names must be less than 50 characters, while the `string` attribute values cannot exceed 1000 characters. WebEngage automatically truncates any additional characters.\n*   You can create a maximum of 25 custom user attributes of each data type.\n*   If the attribute value is a JSON object, it can only be used to personalize your campaigns. These attributes cannot be used to create user segments.\n*   Once defined, the data type of a custom user attribute cannot be changed again.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views with any additional relevant information about the viewed page.\n\nRudderStack internally transforms the `page` call into a `track` call before sending it as a custom event to WebEngage. It sends the event/category name by transforming it in the `Viewed ${category} ${name} page` format.\n\nFor example, consider the following `page` call:\n\n```\nrudderanalytics.page(\"Home\", \"Clothes\", {\n  path: \"/best-seller/1\",\n  referrer: \"https://www.google.com/search?q=estore+bestseller\",\n  search: \"estore bestseller\",\n  title: \"The best sellers offered by EStore\",\n  url: \"https://www.estore.com/best-seller/1\"\n});\n```\n\nRudderStack transforms the above event into a `track` call named `Viewed Home Clothes page` and sends it to WebEngage as a custom event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the `page` event properties to WebEngage, similar to the `track` event properties.\n\n## Screen\n\nThe [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) method lets you record whenever your user views their mobile screen with any additional relevant information about the screen. It is the mobile equivalent of a [](#page)call.\n\nRudderStack internally transforms the `screen` call into a `track` call before sending it as a custom event to WebEngage. It sends the event/category name by transforming it in the `Viewed ${category} ${name} screen` format.\n\nFor example, consider the following `screen` call:\n\n```\nrudderClient.screen(\n    \"Games\",\n    \"home\",\n    RudderProperty().putValue(\"foo\", \"bar\"),\n    null\n)\n```\n\nRudderStack transforms the above event into a `track` call named `Viewed Games home screen` and sends it to WebEngage as a custom event.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack sends the `screen` event properties to WebEngage, similar to the `track` event properties.\n\n## FAQ\n\n#### Where can I find the WebEngage License Code and API key?\n\nTo get your WebEngage License Code and API key, follow these steps:\n\n1.  Log into your [WebEngage dashboard](https://dashboard.webengage.com/).\n2.  Go to **Data Platform** > **Integrations** > **REST API**.\n3.  You will find the WebEngage **License Code** and **API Key** listed under **Project Credentials**:\n\n[![WebEngage license code and API key](https://www.rudderstack.com/docs/images/event-stream-destinations/webengage-license-api-key.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/webengage-license-api-key.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "WebEngage | RudderStack Docs",
  "description": "Send your event data from RudderStack to WebEngage.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/snapchat-custom-audience/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Snapchat Custom Audience\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Snapchat Custom Audience | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Snapchat Custom Audience destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/trade-desk-audience/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to The Trade Desk Audience\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to The Trade Desk Audience | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your The Trade Desk Audience destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/trade-desk-audience/",
  "markdown": "# The Trade Desk Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "The Trade Desk Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to The Trade Desk Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/woopra/",
  "markdown": "# Woopra | RudderStack Docs\n\nSend your event data from RudderStack to Woopra.\n\n* * *\n\n*     6 minute read  \n    \n\n[Woopra](https://www.woopra.com/) is a customer journey and product analytics tool. It lets you track your customers’ activities across various product, marketing, and sales touchpoints. You can also leverage built-in triggers to take real-time actions based on user behavior.\n\nRudderStack supports Woopra as a destination where you can send your event data seamlessly.\n\n## Getting started\n\nRudderStack supports sending event data to Woopra via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | **Supported** | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In a web device mode integration, that is, using [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) as a source, the Woopra native SDK is loaded from `https://static.woopra.com/` domain. Based on your website’s content security policy, you might need to [allowlist this domain](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#allowlist-destination-domain) to load the Woopra SDK successfully.\n\nOnce you have confirmed that the source platform supports sending events to Woopra, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Woopra**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Woopra as a destination, you need to configure the following settings:\n\n[![Woopra connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-1.webp)\n\n*   **Project Name**: Enter your Woopra project name. This is the domain name you entered while setting up your project.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on getting your Woopra project name, refer to the [FAQ](#faq) section below.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack uses this project name as a fallback value if it is not specified in the event’s `integrations` object. For more information, refer to the [Identify](#identify) section below.\n\nTo send the events to Woopra via [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), you also need to configure the following settings:\n\n[![Woopra connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-2.webp)\n\n[![Woopra connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-connection-settings-3.webp)\n\n*   **Cookie Name**: Enter the name of the cookie used to identify the visitor.\n*   **Cookie Domain**: Enter the domain scope of the Woopra cookie.\n*   **Click Tracking**: Enable this setting to track user click interactions via links and buttons.\n*   **Cookie Path**: Specify the cookie path that stores all information related to tracking user click interactions via links and buttons.\n*   **Download Tracking**: If enabled, this setting lets you track the downloads on your web page.\n*   **Hide Campaign**: Enable this setting to remove the captured campaign properties from the URL.\n*   **Idle Timeout**: Enter the inactivity time (in ms) after which RudderStack considers the user to be offline.\n*   **Ignore Query URL**: If enabled, RudderStack ignores the URL’s query component when the standard page view is called.\n*   **Outgoing Ignore Subdomain**: If enabled, RudderStack does not track the links to the subdomains as outgoing links.\n*   **Outgoing Tracking**: Enable this setting to track the external link clicks on the web page.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Woopra.\n\n*   **Use device mode to send events**: This setting **must be enabled** to send the events to Woopra via web device mode.\n*   **OneTrust Cookie Categories**: If **Use device mode to send events** is enabled, this setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Woopra.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to update the visitor properties in Woopra.\n\nRudderStack uses the [`identify`](https://docs.woopra.com/reference/track-identify) endpoint to send the user information to Woopra.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  state: \"Louisiana\",\n  firstName: \"Alex\",\n  lastName: \"Keener\",\n  country: \"USA\",\n  email: \"alex@example.com\",\n  integrations: {\n    \"woopra\": {\n      \"projectName\": \"abc.com\"\n    }\n  }\n});\n```\n\nYou can specify your Woopra project name within the `integrations` object of the `identify` event, as seen in the above snippet. Alternatively, you can specify the project name via the **Project Name** dashboard setting while configuring the destination.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you provide the Woopra project name in both the dashboard settings as well as the `integrations` object, RudderStack gives precedence to the name specified in the `integrations` object.\n\nRudderStack uses the below fields to identify a user in the same order of precedence:\n\n| Precedence order | RudderStack property | Woopra property |\n| --- | --- | --- |\n| 1   | `userId` / `traits.userId` / `traits.id` / `context.traits.userId` / `context.traits.id` | `cv_id` |\n| 2   | `traits.email` / `context.traits.email` / `properties.email` | `cv_email` |\n| 3   | `context.externalId.woodpraId` / `anonymousId` | `cookie` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a detailed list of the supported property mappings, refer to the [Standard property mappings](#standard-property-mappings) section below.\n\nAny user-provided cookie must be mapped to either `email` or `userId` when creating a new user or using the cookie for the first time. Otherwise, Woopra accepts the data but reflects it **only when** that cookie is mapped to any of these identifiers. For example, Woopra accepts the following event but does not reflect the data in the dashboard:\n\n```\nrudderanalytics.identify({\n  name: \"Alex Keener\",\n  country: \"USA\",\n} {\n  externalId: [{\n    id: \"some_external_id_1\",\n    type: \"woopraId\",\n  }, ],\n});\n```\n\nWhen you include a user identifier (`email`) in the subsequent events as shown below, Woopra reflects all user information present in the current and previous events.\n\n```\nrudderanalytics.identify({\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  country: \"USA\",\n} {\n  externalId: [{\n    id: \"some_external_id_1\",\n    type: \"woopraId\",\n  }, ],\n});\n```\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to track events in Woopra via the [`ce`](https://docs.woopra.com/reference/track-ce) endpoint.\n\nA sample `track` event is as shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  orderId: \"1234567\",\n  price: \"567\",\n  currency: \"USD\",\n});\n```\n\n### Supported mappings\n\nThe following table lists the supported **optional** property mappings between RudderStack and Woopra for the `track` events:\n\n| RudderStack property | Woopra property | Data type |\n| --- | --- | --- |\n| `event` | `event` | String (in lower case) |\n| `originalTimestamp` | `timestamp` | Unix timestamp (in ms) |\n| `properties.{x}` | `ce_{x}` | \\-  |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If the event name is empty, RudderStack sends an empty string to Woopra as well, as a default fallback.\n\n## Page\n\nWhen you send a [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) event, RudderStack converts it to a Woopra [`track`](https://docs.woopra.com/reference/track-ce#pageviews) event and sends all page-related information and the associated properties.\n\n### Supported mappings\n\nThe following table lists the supported **optional** property mappings between RudderStack and Woopra for the `page` events:\n\n| RudderStack property | Woopra property | Data type |\n| --- | --- | --- |\n| `properties.{x}` | `ce_{x}` | \\-  |\n| `Viewed <category> <name> Page` | `event` | String (in lower case) |\n\n## Standard property mappings\n\nThe following table lists the supported property mappings between RudderStack and Woopra, **common to all above events**:\n\n| RudderStack property | Woopra property | Data type | Presence |\n| --- | --- | --- | --- |\n| `integration.woopra.propertyName` | `property` | Domain | Optional |\n| `userId` / `traits.userId` / `traits.id` / `context.traits.userId` / `context.traits.id` | `cv_id` | String | Required, if `cv_email` or `cookie` is absent. |\n| `traits.email` / `context.traits.email` / `properties.email` | `cv_email` | String | Required, if `cv_id` or `cookie` is absent. |\n| `context.externalId.woodpraId` / `anonymousId` | `cookie` | String | Required, if `cv_email` or `cv_id` is absent. |\n| `context.ip` | `cv_ip` | IP address | Optional |\n| `traits.company` | `cv_company` | String | Optional |\n| `traits.name` / `context.traits.name` | `cv_name` | String | Optional |\n| `traits.{x}` / `context.traits.{x}` | \\-  | Custom fields | Optional |\n| `context.device.type` | `device` | String | Optional |\n| `context.app.name` | `app` | String | Optional |\n| `ua.browser.name` + `ua.browser.version` | `browser` | String | Optional. The visitor profile for a given identifier won’t be published until this field is sent to Woopra. |\n| `context.os.name` | `os` | String | Optional |\n\n## FAQ\n\n#### Where can I find the Woopra project name?\n\nTo get your Woopra project name, follow these steps:\n\n1.  Go to your [Woopra dashboard](https://app.woopra.com/).\n2.  Select your organization and go to **Projects**.\n3.  You should be able to see all your projects and the associated domain names (Woopra project name):\n\n[![Woopra project name](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-domain-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/woopra-domain-name.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Woopra | RudderStack Docs",
  "description": "Send your event data from RudderStack to Woopra.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/trade-desk-audience/setup-guide/",
  "markdown": "# Set Up The Trade Desk Audience\n\nSend your event data from RudderStack to The Trade Desk Audience.\n\n* * *\n\n*     3 minute read  \n    \n\nThis guide will help you set up The Trade Desk Audience as a destination in RudderStack when connecting to a [Reverse ETL source](https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/trade-desk-audience/connect-retl-source/).\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **The Trade Desk Audience**.\n\n### Connection settings\n\nConfigure the following settings to set up The Trade Desk Audience as a destination in RudderStack:\n\n*   **Name**: Specify a unique name to identify the destination in RudderStack.\n*   **Advertiser ID**: Enter the advertiser ID from the **Advertiser Preferences** page in the The Trade Desk dashboard.\n*   **Advertiser Secret Key**: Enter the advertiser secret key from The Trade Desk dashboard under **Advertiser Preferences** > **Seat Identifiers & Keys**. For more information, refer to the [The Trade Desk documentation](https://partner.thetradedesk.com/v3/portal/data/doc/DataAuthentication#secret-keys).\n*   **Data Server**: Select the preferred data server from dropdown. For more information, refer to the [The Trade Desk documentation](https://partner.thetradedesk.com/v3/portal/data/doc/DataEnvironments#1pd-servers).\n\n### Configuration settings\n\nConfigure the following settings in the **Configuration** tab of the The Trade Desk Audience destination:\n\n*   **TTL (in days)**: Enter the Time-to-Live (TTL) indicating the duration for which a user must remain active in the segment. The default TTL is set to 30 days and the maximum allowable TTL value is 180 days.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Once the TTL expires, the user data gets removed from the data segments. You need to trigger a full sync to repopulate the data by going to the **Syncs** tab of your Reverse ETL source in the dashboard.\n\n## Sync first-party data\n\nRudderStack supports adding/deleting the IDs from the data segments in The Trade Desk Audience by using the [`POST /data/advertiser`](https://partner.thetradedesk.com/v3/portal/data/doc/post-data-advertiser-external) endpoint of The Trade Desk Audience API. It uploads the first-party data for the specified advertiser ID to perform audience targeting.\n\nRudderStack supports all the ID types mentioned in this \\[The Trade Desk API reference\\]([https://partner.thetradedesk.com/v3/portal/data/doc/post-data-advertiser-external#supported-ids](https://partner.thetradedesk.com/v3/portal/data/doc/post-data-advertiser-external#supported-ids). Refer to the documentation to know more about these ID types, their data type, and usage.\n\nRefer to the following request example with an external provider and different IDs:\n\n```\n{\n  \"DataProviderId\": \"test-dataProviderId\",\n  \"AdvertiserId\": \"test-advertiserId\",\n  \"Items\": [{\n      \"TDID\": \"123e4567-e89b-12d3-a456-426652340000\", // {ID_TYPE}\n      \"Data\": [{\n        \"Name\": \"1210\", // The name of the segment to which this ID will be added               \n        \"TimestampUtc\": \"2023-11-11T10:11:30+5000\",\n        \"TTLInMinutes\": 43200\n      }]\n    },\n    {\n      \"DAID\": \"234e4567-e89b-12d3-a456-426652340000\", // {ID_TYPE}\n      \"Data\": [{\n        \"Name\": \"1210\", // The name of the segment to which this ID will be added\n        \"TimestampUtc\": \"2023-11-11T10:11:30+5000\",\n        \"TTLInMinutes\": 43200\n      }]\n    }\n  ]\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack internally splits the request into multiple batches to adhere to the batch limit of 2.5MB imposed by The Trade Desk Audience.\n\n### Upload UIDs using Snowflake source\n\nWhile using the [Snowflake source](https://www.rudderstack.com/docs/sources/reverse-etl/snowflake/) with The Trade Desk, you can use the [Unified ID 2.0 (UID2)](https://app.snowflake.com/marketplace/listing/GZT0ZRYXTMV/unified-id-2-0-unified-id-2-0-advertiser-identity-solution?originTab=provider&providerName=Unified%20ID%202.0) for advertising without exposing any sensitive directly identifying information.\n\nTo do this, [set up the UID2 Snowflake account](https://unifiedid.com/docs/guides/snowflake_integration) and interact with Snowflake’s UID2 function to convert the emails and phone numbers into UIDs. Once these UIDs are available in the Snowflake warehouse, RudderStack will upload them to The Trade Desk using its [First Party Data Endpoint](https://partner.thetradedesk.com/v3/portal/data/doc/post-data-advertiser-external).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set Up The Trade Desk Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to The Trade Desk Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/yahoo-dsp/",
  "markdown": "# Yahoo DSP | RudderStack Docs\n\nSend your event data from RudderStack to Yahoo DSP.\n\n* * *\n\n*     3 minute read  \n    \n\n[Yahoo demand-side platform (DSP)](https://www.adtech.yahooinc.com/advertising/solutions/dsp) (formerly Verizon Media) provides a unified solution to advertisers to programmatically monitor, create, and manage advertising campaigns.\n\nRudderStack supports Yahoo DSP as a destination where you can send your event data seamlessly.\n\n## Getting started\n\nBefore configuring Yahoo DSP as a destination in RudderStack, verify if the source platform is supported by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Yahoo DSP, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Yahoo DSP**.\n2.  Assign a name to your destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Yahoo DSP as a destination, you need to configure the following settings:\n\n[![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings.webp)\n\n[![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings-2.webp)\n\n*   **Client ID**: Enter the client ID from your Yahoo DSP account.\n*   **Client Secret**: Enter the client secret from your Yahoo DSP account.\n\n*   **Account ID**: Enter the Advertiser ID linked with your audience type.\n    \n*   **Audience Type**: Specify the type of the audience you want to update by choosing `email`, `device ID`, or `IP Address` from the dropdown. The default audience type is `email`.\n    \n    If you select the audience type as `device ID`, also choose the **Seed List Type** as shown:\n    \n    [![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-connection-settings-3.webp)\n    \n*   **Audience ID**: Enter the ID of the created audience.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section for more information on how to obtain Account ID and Audience ID.\n\n*   **Hash Required**: This setting hash-encodes the user data and is enabled by default. However, you can disable it to prevent hashing.\n\n## `audiencelist` event structure\n\nThe following code snippet shows a sample `audienceList` call for `email` audience type:\n\n```\n{\n    \"type\": \"audiencelist\",\n    \"properties\": {\n        \"listData\": {\n            \"add\": [{\n                    \"email\": 'alex@example.com'\n                },\n                {\n                    \"email\": 'john@example.com'\n                }\n            ]\n        }\n    }\n}\n```\n\nThe following code snippet shows a sample `audienceList` call for `deviceId` audience type:\n\n```\n{\n    \"type\": \"audiencelist\",\n    \"properties\": {\n        \"listData\": {\n            \"add\": [{\n                    \"deviceId\": '34A668B2-03CF-11E5-8418-1697F925EC7B'\n                },\n                {\n                    \"deviceId\": '34a66c5e-03cf-11e5-8418-1697f925ec7b'\n                }\n            ]\n        }\n    }\n}\n```\n\nThe following code snippet shows a sample `audienceList` call for `ipAddress` audience type:\n\n```\n{\n    \"type\": \"audiencelist\",\n    \"properties\": {\n        \"listData\": {\n            \"add\": [{\n                    \"ipAddress\": '10.1.7.237'\n                },\n                {\n                    \"ipAddress\": '10.1.7.238'\n                }\n            ]\n        }\n    }\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can send up to 50,000 `email`, `deviceId`, or `ipAddress` fields within one API call.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> `remove` method is not supported in the `listData`.\n\n## Rate limit\n\nThe Yahoo DSP Traffic API is rate-limited and allows only a limited number of requests per user account:\n\n| Type | Limit |\n| --- | --- |\n| Requests per minute | 10  |\n| Requests per hour | 300 |\n| Requests per day | 5000 |\n\n## FAQ\n\n#### How do I obtain the Account ID?\n\nThe Account ID in the connection settings is the Advertiser ID associted with your Yahoo DSP account. To obtain it:\n\n1.  Log into your [Yahoo DSP](https://id.b2b.yahooinc.com/identity/XUI/#login/&realm=%2Fdsp&goto=https%3A%2F%2Fid.b2b.yahooinc.com%2Fidentity%2Foauth2%2Fauthorize%3Frealm%3D%252Fdsp%26nonce%3Dm2uitpzW4R1xm6GezTdVpNRD%26state%3DZ5D6wc5CvqnlYm0pZsv4f8t5%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%26client_id%3Db743c250-2149-4c47-aed1-31a477359099%26redirect_uri%3Dhttps%253A%252F%252Fdeveloper.yahooinc.com%252Foidc%252Fredirect) account.\n2.  Select **Advertisers** and click the relevant advertiser to get the Advertiser ID as shown:\n\n[![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp.webp)\n\n### How do I create an audience?\n\nTo create an audience, follow these steps:\n\n1.  Log into your [Yahoo DSP](https://id.b2b.yahooinc.com/identity/XUI/#login/&realm=%2Fdsp&goto=https%3A%2F%2Fid.b2b.yahooinc.com%2Fidentity%2Foauth2%2Fauthorize%3Frealm%3D%252Fdsp%26nonce%3Dm2uitpzW4R1xm6GezTdVpNRD%26state%3DZ5D6wc5CvqnlYm0pZsv4f8t5%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%26client_id%3Db743c250-2149-4c47-aed1-31a477359099%26redirect_uri%3Dhttps%253A%252F%252Fdeveloper.yahooinc.com%252Foidc%252Fredirect) account\n2.  Select **Advertisers** and choose the relevant advertiser.\n3.  Select **Targeting Library** > **New Custom Audience** to create the required audience as shown:\n\n[![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-3.webp)\n\n### How do I obtain the Audience ID?\n\nTo obtain the Audience ID, follow these steps:\n\n1.  Log into your [Yahoo DSP](https://id.b2b.yahooinc.com/identity/XUI/#login/&realm=%2Fdsp&goto=https%3A%2F%2Fid.b2b.yahooinc.com%2Fidentity%2Foauth2%2Fauthorize%3Frealm%3D%252Fdsp%26nonce%3Dm2uitpzW4R1xm6GezTdVpNRD%26state%3DZ5D6wc5CvqnlYm0pZsv4f8t5%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%26client_id%3Db743c250-2149-4c47-aed1-31a477359099%26redirect_uri%3Dhttps%253A%252F%252Fdeveloper.yahooinc.com%252Foidc%252Fredirect) account.\n2.  Select **Audiences** and use the ID for relevant audience.\n\n[![Yahoo DSP connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yahoo-dsp-2.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Yahoo DSP | RudderStack Docs",
  "description": "Send your event data from RudderStack to Yahoo DSP.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/twitter-ads/",
  "markdown": "# X Ads (formerly Twitter Ads)\n\nSend your event data from RudderStack to X Ads.\n\n* * *\n\n*     3 minute read  \n    \n\n[X Ads](https://ads.twitter.com/) (formerly Twitter Ads) is an advertising platform that lets you track and monitor ad campaigns, clicks, CTRs, etc. You can also implement efficient ad retargeting for your customers.\n\nFind the open source transformation code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/blob/main/src/v0/destinations/twitter_ads/transform.js).\n\n## Get started\n\nRudderStack supports sending event data to X Ads via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the platform supports sending events to X Ads, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **X Ads**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Account settings\n\n1.  Click the **Create Account** button.\n2.  Under **Choose an account**, click the **Connect with X Ads** button and give RudderStack the required permissions to access your account. Then, click **Save**.\n3.  To verify or change your account, click the **Edit Credentials** button.\n\n[![X Ads account settings](https://www.rudderstack.com/docs/images/event-stream-destinations/twitter-ads-account-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/twitter-ads-account-settings.webp)\n\n## Connection settings\n\n*   **Pixel ID**: Enter the Universal Website Tag (UWT) ID for your X Ads account.\n*   **Map RudderStack event name to X event ID**: This setting lets you map a **RudderStack Event Name** to a specific **Twitter Event ID**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining the **Pixel ID** and **Twitter Event ID**, see [FAQ](#faq).\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to capture user events and send them as conversion events for a single Universal Website Tag pixel ID.\n\nThe following snippet highlights a sample `track` call:\n\n```\nrudderanalytics.track(\"Product Purchased\", {\n  \"quantity\": \"3\",\n  \"currency\": \"USD\",\n  \"value\": 251,\n  \"email\": \"alex@example.com\",\n  \"conversionId\": \"56342424234\"\n  \"description\": \"Shoes\",\n  \"contents\": [{\n      \"id\": \"1\",\n      \"price\": \"50.00\",\n      \"quantity\": 1\n    },\n    {\n      \"id\": \"2\",\n      \"price\": \"100.55\",\n      \"quantity\": 2\n    }\n  ]\n})\n```\n\n### Supported mappings\n\nThe following table details the mappings between RudderStack and X Ads properties:\n\n| RudderStack property | X Ads property | Data type |\n| --- | --- | --- |\n| `properties.eventId` | `event_id` | String |\n| `properties.conversionTime` | `conversion_time` | Datetime in ISO 8601 format. |\n| `properties.quantity`  <br>`properties.numberItems` | `number_items` | String |\n| `properties.currency` | `price_currency` | String |\n| `properties.value`  <br>`properties.price`  <br>`properties.revenue` | `value` | String |\n| `properties.conversionId` | `conversion_id` | String |\n| `properties.description` | `description` | String |\n| `properties.contents` | `contents` | Object |\n| `properties.pixelId` | NA  | String |\n\nNote that each event **must** contain one of the following fields:\n\n| RudderStack property | X Ads property | Data type |\n| --- | --- | --- |\n| `properties.email` | `identifiers.hashed_email` | String |\n| `properties.phone` | `identifiers.hashed_phone_number` | String |\n| `properties.twclid` | `identifiers.twclid` | String |\n\nThe following table lists the mappings between the `properties.contents` object fields and X Ads properties:\n\n| `properties.contents` field | X Ads property | Data type |\n| --- | --- | --- |\n| `id` | `content_id` | String |\n| `groupId` | `content_group_id` | String |\n| `name` | `content_name` | String |\n| `price` | `content_price` | String |\n| `type` | `content_type` | String |\n| `quantity` | `num_items` | String |\n\n## FAQ\n\n#### Where can I find the X Ads Pixel ID and Event ID?\n\n1.  Sign in to your [X Ads account](https://ads.twitter.com/).\n2.  Go to **Tools** > **Event Manager**.\n3.  Set up your X pixel and add the associated events. For more information, see [Conversion tracking for websites](https://business.twitter.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html).\n4.  You can find the pixel ID and event ID under your pixel name and created events.\n\n[![X Ads pixel ID and event ID](https://www.rudderstack.com/docs/images/event-stream-destinations/twitterads-pixelid-eventid.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/twitterads-pixelid-eventid.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "X Ads (formerly Twitter Ads) | RudderStack Docs",
  "description": "Send your event data from RudderStack to X Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/s3-datalake/",
  "markdown": "# Amazon S3 data lake | RudderStack Docs\n\nSync data from RudderStack to Amazon S3 Data Lake.\n\n* * *\n\n*     11 minute read  \n    \n\nAmazon S3 is a popular object storage service used to store both structured and unstructured data. With S3 data lake, you can easily use the native AWS services for data processing, analytics, machine learning, and more.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on how the events are mapped to the tables in S3 data lake tables, see the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/).\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/s3_datalake).\n\n## Setup\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before you set up S3 data lake as a destination in RudderStack, make sure to [set up your S3 bucket](#s3-bucket-setup) with the required [permissions](#permissions).\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **S3 Data Lake**.\n2.  Assign a name to the destination and click **Continue**.\n\n### Connection settings\n\n*   **S3 Storage Bucket Name**: Enter the name of the S3 bucket used to store the data before loading it into the S3 data lake.\n*   **Register schema on AWS Glue**: Turn on this option to register the schema of your incoming data on AWS Glue’s data catalog. For more information on registering your schema in AWS Glue, see the [AWS Glue documentation](https://docs.aws.amazon.com/glue/latest/dg/schema-registry.html).\n    *   **AWS Glue Region**: If the **Register schema on AWS Glue** setting is turned on, enter your AWS Glue region. For example, for `N.Virginia`, the AWS Glue region would be `us-east-1`. For more information on getting your AWS Glue region and the associated service endpoints, see the [AWS Glue documentation](https://docs.aws.amazon.com/general/latest/gr/glue.html).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure to grant the following permissions to your AWS Glue instance and the RudderStack IAM role (see **Role Based Authentication** setting below):\n> \n> *   glue:CreateTable\n> *   glue:UpdateTable\n> *   glue:CreateDatabase\n> *   glue:GetTables\n> \n> The following **additional** permissions are required to use [AWS Glue partitions](https://docs.aws.amazon.com/glue/latest/dg/aws-glue-api-catalog-partitions.html):\n> \n> *   glue:BatchCreatePartition\n> *   glue:GetPartition\n> \n> If you are using AWS Lake Formation for fine-grained access control on the data in your data lake, see [AWS Lake Formation permissions](#aws-lake-formation-permissions) for managing the AWS Glue resources on your Lake Formation model.\n\n*   **S3 Prefix**: If specified, RudderStack creates a folder in the S3 bucket with this name and pushes all data within that folder. For example, `s3://<bucket_name>/<prefix>/`.\n*   **Namespace**: If specified, all data for the destination will be pushed to the location `s3://<bucketName>/<prefix>/rudder-datalake/<namespace>`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   If you don’t specify a namespace in the settings, it is set to the source name, by default.\n> *   If **Register schema on AWS Glue** is turned on, RudderStack creates all table definitions in a database with the name set to this namespace.\n\n*   **Role Based Authentication**: Turn on this setting to use the RudderStack IAM role for authentication. For more information on creating an AWS IAM role for RudderStack, see [Create RudderStack IAM role for AWS-based destinations](https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/#creating-a-rudderstack-iam-role).\n    *   **IAM Role ARN**: Enter the ARN of the IAM role.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It is highly recommended to turn on this setting as the access keys-based authentication method is now deprecated.\n\nIf **Role-based Authentication** is disabled, you need to enter the **AWS Access Key ID** and **AWS Secret Access Key** to authorize RudderStack to write to your S3 bucket.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In both the role-based and access key-based authentication methods, you need to set a policy specifying the required permissions for RudderStack to write to your S3 bucket. Refer to the [Permissions](#permissions) section for more information.\n\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your S3 data lake.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data.\n\n### Advanced settings\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n## S3 bucket setup\n\n1.  Go to your [S3 Management console](https://s3.console.aws.amazon.com/s3/).\n2.  [Create a new bucket](https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-bucket.html). Alternatively, you can choose an existing bucket.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> It is recommended to create a new bucket for storing events coming from RudderStack.\n\n#### S3 Permissions\n\nTo send events to your S3 data lake successfully, you need to give RudderStack the necessary permissions to write to your bucket. You can choose any of the following approaches based on your company’s security policies and setup preferences:\n\n#### Option 1: Use RudderStack IAM role\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> It is highly recommended to use this option for setting up the required S3 bucket permissions.\n\nUse this approach if you are going to set up the S3 destination in RudderStack using **Role Based Authentication**.\n\n[![Role based authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/role-based-authentication.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/role-based-authentication.webp)\n\n1.  [Create a RudderStack IAM role](https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/).\n2.  Use the following S3 permissions policy for creating the role:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Sid\": \"Statement1\",\n    \"Effect\": \"Allow\",\n    \"Action\": [\n      \"s3:GetObject\",\n      \"s3:PutObject\",\n      \"s3:PutObjectAcl\",\n      \"s3:ListBucket\"\n    ],\n    \"Resource\": [\n      \"arn:aws:s3:::<S3_BUCKET_NAME>\",\n      \"arn:aws:s3:::<S3_BUCKET_NAME>/*\"\n    ]\n  }]\n}\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Replace `<S3_BUCKET_NAME>` with the actual bucket name.\n\n3.  After creating the role, note and specify the **IAM Role ARN** to set up your S3 data lake destination.\n\n#### Option 2: Create IAM user and provide credentials\n\n> ![danger](https://www.rudderstack.com/docs/images/danger.svg)\n> \n> Note that:\n> \n> *   Using [**Role-based Authentication (Option 1)**](#option-1-use-rudderstack-iam-role) is highly recommended as this method is now deprecated and will be discontinued soon.\n> *   AWS **does not** recommend access key credentials-based authentication.\n\nUse this approach if you are going to set up the S3 data lake destination in RudderStack using the **Access Key Based Authentication**.\n\n[![Access key based authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/access-key-based-authentication.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/access-key-based-authentication.webp)\n\n1.  Log in to your [Amazon AWS IAM Console](https://console.aws.amazon.com/iam/).\n2.  [Create an IAM user](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html). Choose a policy that has **write** access to your bucket. Alternatively, you can [create a new policy](https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create-console.html#access_policies_create-start) with the following permissions and attach it to the IAM user:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Sid\": \"Statement1\",\n    \"Effect\": \"Allow\",\n    \"Action\": [\n      \"s3:GetObject\",\n      \"s3:PutObject\",\n      \"s3:PutObjectAcl\",\n      \"s3:ListBucket\"\n    ],\n    \"Resource\": [\n      \"arn:aws:s3:::<S3_BUCKET_NAME>\",\n      \"arn:aws:s3:::<S3_BUCKET_NAME>/*\"\n    ]\n  }]\n}\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Replace `<S3_BUCKET_NAME>` with the actual bucket name.\n\n3.  Return to the IAM dashboard and go to **Users** under **Access management**. Then, click on the newly-created user.\n4.  Go to the **Security credentials** tab and scroll down to **Access keys**.\n5.  Click **Create access key**, select the use case as per your requirement, and click **Next**.\n6.  If required, set the **Description tag value**, and click **Create access key**.\n7.  Note and secure the **Access key** and **Secret access key**. Use these credentials to set up your S3 data lake destination in RudderStack.\n\n## Find data in S3 data lake\n\nRudderStack converts your events into Apache Parquet files and stores them into the configured S3 bucket. Before storing the events, RudderStack groups them by the event name based on the UTC time they were received.\n\nThe folder structure is shown below:\n\n```\ns3://<bucketName>/<prefix>/rudder-datalake/<namespace>/<tableName>/YYYY/MM/DD/HH\n```\n\nAs mentioned in the [Connection settings](#connection-settings) section:\n\n*   `prefix`: This is the S3 prefix in the destination settings. If not specified, RudderStack will omit this value.\n*   `namespace`: The namespace specified in the destination settings. If not specified, RudderStack sets this field to the source name by default.\n*   `tableName`: RudderStack sets this to the event name.\n*   `YYYY`, `MM`, `DD`, and `HH` are replaced by actual time values. A combination of these values represents the UTC time.\n\n#### Use case\n\nSuppose RudderStack tracks the following two events:\n\n| Event name | Timestamp |\n| --- | --- |\n| `Product Purchased` | `\"2019-10-12T08:40:50.52Z\" UTC` |\n| `Cart Viewed` | `\"2019-11-12T09:34:50.52Z\" UTC` |\n\nRudderStack converts these events into Parquet files and dumps them into the following folders:\n\n| Event name | Folder location |\n| --- | --- |\n| `Product Purchased` | `s3://<bucketName>/<prefix>/rudder-datalake/<namespace>/product_purchased/2019/10/12/08` |\n| `Cart Viewed` | `s3://<bucketName>/<prefix>/rudder-datalake/<namespace>/cart_viewed/2019/11/12/09` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you have the **Register schema on AWS Glue** setting toggled on, RudderStack creates all table definitions in a database with the name set to the **Namespace** specified in the dashboard settings.\n\n## Create table definitions using a crawler\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Refer to this section **only** if you haven’t toggled on the **Register Schema on AWS Glue** setting while configuring the S3 data lake destination in RudderStack.\n\nIn the absence of AWS Glue, you can create a crawler to go through your data and create table definitions out of it. To do so, follow these steps:\n\n1.  Go to your AWS Glue console and select **Crawler** from the left pane.\n2.  Select **Add Crawler**.\n3.  Specify a name for your crawler and click **Next**:\n\n[![Add Crawler](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-1.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-1.webp)\n\n4.  Next, under the **Crawler source type** section, choose **Data stores**.\n\n[![Crawler source type](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-2.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-2.webp)\n\n5.  Configure the **Repeat crawls of S3 data stores** based on your requirement.\n6.  Then, under the **Data store** section, select **S3** from the dropdown for the **Choose a data store** setting:\n\n[![Choose a data store](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-3.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-3.webp)\n\n7.  For the **Crawl data in** setting, choose **Specified path in my account**.\n8.  In the **Include path** setting, enter the S3 URI of your configured bucket followed by the suffix `/<prefix>/rudder-datalake/<namespace>/`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If your S3 bucket name is `testBucket` and the configured prefix and namespace are `testPrefix` and `testNameSpace` respectively, then your path should be: `s3://testBucket/testPrefix/rudder-datalake/testNameSpace/`\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you have not configured any prefix while setting up the S3 data lake destination in RudderStack, omit the prefix. The path would then be: `s3://testBucket/rudder-datalake/testNameSpace/`.\n\n9.  Then, under the **Add another data store** setting, select **No**:\n\n[![Add another data store](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-4.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-4.webp)\n\n10.  In the **IAM Role** section, configure a suitable IAM role.\n\n[![IAM Role](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-5.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-5.webp)\n\n11.  In the **Schedule** section, select the frequency of your crawler from the dropdown options:\n\n[![Scheduler](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-6.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-6.webp)\n\n12.  In the **Output** section, configure the database that stores all tables. Under the Grouping behavior for S3 data section, turn on the **Create a single schema for each S3 path** option:\n\n[![Output](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-7.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-7.webp)\n\n13.  Specify the **Table level** as **5** or **4** (refer to the tips below). This value indicates the absolute level of the table location in the bucket.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Since all tables are created in the path `s3://testBucket/<prefix>/rudder-datalake/<namespace>/`, make sure the table level is set to:\n> \n> *   **5**: If a prefix is configured.\n> *   **4**: If a prefix is **not** configured.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The level for the top-level folder is 1. For example, for the path `mydataset/a/b`, if the level is set to 3, the table will be created at the location `mydataset/a/b`. Similarly, if the level is set to 2, the table will be created at the location `mydataset/a`.\n\n14.  Review your crawler configuration and click **Finish** to confirm.\n\n[![Review crawler configuration](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-8.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-crawler-8.webp)\n\n15.  Finally, click your crawler and run it. Wait for the process to finish - you should see some tables created in your configured database.\n\n## Query data using AWS Athena\n\nYou can query your S3 data using a tool like [AWS Athena](https://aws.amazon.com/athena/) which lets you run SQL queries on S3.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before querying your data on S3, make sure that you have sent some data to S3 and the sync is complete.\n\nFollow these steps to start querying your data on s3:\n\n1.  Open your AWS Athena console. Then, go to the same AWS region which was used while configuring AWS Glue.\n2.  In the left pane, select `AwsDataCatalog` as your data source:\n\n[![AwsDataCatalog](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-1.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-1.webp)\n\n3.  Select your configured namespace (or the database you specified while configuring the crawler) from the database dropdown menu.\n\n[![Database](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-2.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-2.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack sets the namespace to your source name if it is not explicitly specified in the destination settings.\n\n4.  You should see some tables already created under the **Tables** section in the left pane.\n5.  You can preview the data by clicking on the three dots next to the table and selecting the **Preview Data** option. Alternatively, you can run your own SQL queries in the workspace on the right:\n\n[![Preview Data](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-3.webp)](https://www.rudderstack.com/docs/images/dw-integrations/s3-datalake-querying-data-3.webp)\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## AWS Lake Formation permissions\n\nAWS Lake Formation lets you have fine-grained access control for the data in your lake. You can use the Lake Formation permissions model to manage your existing AWS Glue data catalog objects and data locations in Amazon S3.\n\nTo maintain backward compatibility with AWS Glue, Lake Formation has the [`Super` permission](https://docs.aws.amazon.com/lake-formation/latest/dg/upgrade-glue-lake-formation-background.html) for the `IAMAllowedPrincipals` group on all the existing AWS Glue data catalog resources.\n\nThe following sections contain the necessary permissions that you need to assign for the [configured IAM role](https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/#creating-a-rudderstack-iam-role) **if** you have edited the default Lake Formation security settings so that:\n\n*   The IAM role does not have the data lake administrator permissions, or\n*   The `IAMAllowedPrincipals` group does not have the default permissions to create or access the Glue resources.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure **Register schema on AWS Glue** is enabled in the RudderStack dashboard for these settings to take effect.\n\n#### Database creator permissions\n\n1.  Log in to your [AWS management console](https://console.aws.amazon.com/) and go to Lake Formation settings.\n2.  Under **Administration**, go to **Administrative roles and tasks**.\n3.  Under **Database creators**, add the configured IAM role.\n\n[![Database creators in AWS Lake Formation](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-database-creators.webp)](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-database-creators.webp)\n\n#### Data location permissions\n\nData location permissions in Lake Formation enable you to create and alter the data catalog resources that point to a specific S3 location. These permissions work in addition to the Lake Formation permissions to secure the data in your data lake.\n\nThis section assumes a data location is registered for your AWS Lake Formation.\n\n[![Database creators in AWS Lake Formation](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-register-location.webp)](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-register-location.webp)\n\nTo provide the [data location permissions](https://docs.aws.amazon.com/lake-formation/latest/dg/granting-location-permissions.html) for the configured IAM role, follow these steps:\n\n1.  Under **Permissions**, click **Data locations**.\n2.  Add the configured IAM role to grant permissions to the storage location.\n\n[![Database creators in AWS Lake Formation](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-location-permissions.webp)](https://www.rudderstack.com/docs/images/dw-integrations/lakeformation-location-permissions.webp)\n\n#### Resource access permissions\n\n1.  Go to **Permissions** > **Data lake permissions**.\n2.  Grant the following access permissions for either `IAMAllowedPrincipals` or the configured IAM role.\n\n*   `CREATE_TABLE` granted on `DATABASE` resource.\n*   `ALTER` granted on `TABLE` resource.\n*   `DESCRIBE` granted on `TABLE` resource.\n\nSee [Granting and revoking permissions on Data Catalog resources](https://docs.aws.amazon.com/lake-formation/latest/dg/granting-catalog-permissions.html) for more information.\n\n### Troubleshooting\n\nThe following table lists the possible permissions-related errors you might encounter while setting up the S3 data lake destination and their solutions:\n\n| Verification step | Error | Solution |\n| --- | --- | --- |\n| Verifying Create Schema | AccessDeniedException: Insufficient Lake Formation permission(s): Required Create Database on Catalog | [Provide database creator permissions for the configured IAM role](#database-creator-permissions). |\n| Verifying Create and Alter Table | create table: AccessDeniedException: Insufficient Lake Formation permission(s) on s3://path/you/have/configured | [Provide data location permissions for the configured IAM role](#data-location-permissions). |\n| Verifying Create and Alter Table | create table: AccessDeniedException: Insufficient Lake Formation permission(s): Required Create Table on xxx | [Provide resource access for the configured IAM role](#resource-access-permissions). |\n\n## FAQ\n\nFor a comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Amazon S3 data lake | RudderStack Docs",
  "description": "Sync data from RudderStack to Amazon S3 Data Lake.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/yandex-metrica/",
  "markdown": "# Yandex.Metrica | RudderStack Docs\n\nSend your event data from RudderStack to Yandex.Metrica.\n\n* * *\n\n*     5 minute read  \n    \n\n[Yandex.Metrica](https://metrica.yandex.com/) is a web analytics platform that lets you get an in-depth understanding of your audience’s behavior and use the insights to drive business growth.\n\n## Getting started\n\nRudderStack supports sending events to Yandex.Metrica via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | Supported | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | \\-  |\n\nOnce you have confirmed that the source platform supports sending events to Yandex.Metrica, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Yandex.Metrica**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully set up Yandex.Metrica as a destination, you need to configure the following settings:\n\n*   **Tag ID**: Enter your Yandex.Metrica tag ID.\n*   **Enable Clickmap**: Enable this setting to collect data for [click mapping](https://yandex.com/support/metrica/code/counter-initialize.html#:~:text=a%20child%20window-,clickmap,-true).\n*   **Enable Tracklinks**: Enable this setting to track user clicks on the [outbound links](https://yandex.com/support/metrica/code/counter-initialize.html#:~:text=browser%27s%20address%20bar-,trackLinks,-true).\n*   **Enable Accurate Track Bounce**: This setting enables the accurate bounce rate with a non-bounce event that is registered after 15 seconds (15000 ms). For more information on this setting, refer to the [Yandex.Metrica documentation](https://yandex.com/support/metrica/code/counter-initialize.html#:~:text=Description-,accurateTrackBounce,-true).\n*   **Enable WebVisor**: Enable this setting to use Yandex.Metrica’s [sesssion replay feature](https://yandex.com/support/metrica/code/counter-initialize.html#:~:text=1%20for%20YAN-,webvisor,-false).\n*   **Container name**: Enter the name of your Yandex.Metrica ecommerce data container that you set while [creating a new counter](https://yandex.ru/support/metrica/general/creating-counter.html). If not specified, RudderStack sets it to `dataLayer` by default.\n*   **Map your event name with supported Yandex.Metrica event name**: Use this setting to map the RudderStack event to the Yandex.Metrica event selected from the dropdown.\n*   **Goal ID**: Enter your Yandex.Metrica goal ID.\n*   **Client-side Events Filtering**: This setting lets you specify which events should be blocked or allowed to flow through to Yandex.Metrica. For more information on this setting, refer to the [Client-side Events Filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) guide.\n*   **Use device mode to send events**: As this is a [web device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode)\\-only destination, this setting is enabled by default and cannot be disabled.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Yandex.Metrica.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [FAQ](#faq) section for more information on obtaining the Yandex.Metrica tag ID, container name, and goal ID.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to identify a user in Yandex.Metrica. If a contact already exists, RudderStack updates the contact details.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify('1hKOmRA4el9Z', {\n      firstName: 'Alex',\n      lastName: 'Keener',\n      email: \"alex@example.com\"\n    }\n```\n\nRudderStack uses Yandex.Metrica’s [`setUserID`](https://yandex.com/support/metrica/objects/set-user-id.html?lang=en) method to associate the `userId` with the user’s client ID during a particular session. To update the information of a user with a specfic `userId`, RudderStack uses the [`userParams`](https://yandex.com/support/zout_metrica-de-2k55914b38f571cgc45c3db06adedbd0/objects/user-params.html?lang=en) method.\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack attributes and the Yandex.Metrica properties:\n\n| RudderStack property | Yandex.Metrica property |\n| --- | --- |\n| `userId`  <br>`anonymousId`  <br>Required | `UserID` |\n\n## Track\n\nYou can use the [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call to send your [ecommerce events](https://www.rudderstack.com/docs/event-spec/ecommerce-events-spec/) to Yandex.Metrica.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  order_id: \"34897497\",\n  coupon: \"BB20\",\n  currency: \"INR\",\n  products: [{\n      product_id: \"43521\",\n      currency: \"INR\",\n      name: \"Rudder Bag\",\n      price: 3700.99,\n      brand: \"Nice\",\n      category: \"Bags\",\n      quantity: 3,\n    },\n    {\n      product_id: \"37333\",\n      currency: \"INR\",\n      name: \"RudderStack T-shirt\",\n      price: 1651.55,\n      brand: \"Adidas\",\n      category: \"Bags\",\n      quantity: 3,\n    },\n  ],\n});\n```\n\n### Event mapping\n\nThe following table lists the default mappings between the RudderStack events and the Yandex.Metrica events:\n\n| RudderStack property | Yandex.Metrica property | Description |\n| --- | --- | --- |\n| `Product Viewed` | `detail` | View the full description of the product. |\n| `Product List Viewed` | `detail` | View the full description of the product list. |\n| `Product Added` | `add` | Add an item to the basket. |\n| `Product Removed` | `remove` | Remove an item from the basket. |\n| `Order Completed` | `purchase` | Complete the product purchase. |\n\nYou can also map any other event to the above Yandex.Metrica events via the dashboard settings.\n\n### Supported property mappings\n\nThe following table lists the properties mapping for Yandex.Metrica’s `detail`, `add`, and `remove` events:\n\n| RudderStack property | Yandex.Metrica property |\n| --- | --- |\n| `properties.product_id`  <br>`properties.sku`  <br>`properties.products[index].product_id`  <br>`properties.products[index].sku`  <br>Required, if name is not present. | `id` |\n| `properties.name`  <br>`properties.products[index].name`  <br>Required, if product\\_id/sku is not present. | `name` |\n| `properties.brand`  <br>`properties.products[index].brand` | `brand` |\n| `properties.category`  <br>`properties.products[index].category` | `category` |\n| `properties.coupon`  <br>`properties.products[index].coupon` | `coupon` |\n| `properties.position`  <br>`properties.products[index].position` | `position` |\n| `properties.price`  <br>`properties.products[index].price` | `price` |\n| `properties.quantity`  <br>`properties.products[index].quantity` | `quantity` |\n| `properties.variant`  <br>`properties.products[index].variant` | `variant` |\n\nThe following mappings are applicable only for the `purchase` event:\n\n| RudderStack property | Yandex.Metrica property |\n| --- | --- |\n| `properties.order_id`  <br>Required | `id` |\n| `properties.revenue` | `revenue` |\n\n## Page\n\nYou can use the [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call to send all page view data to Yandex.Metrica.\n\nA sample `page` call is shown below:\n\n```\nrudderanalytics.page(\n  \"Cart\",\n  \"Cart Viewed\", {\n    referrer: \"https://www.mysite.com/search?q=bestseller\",\n    title: \"The best seller items\",\n    url: \"https://www.mysite.com/bestseller/1\"\n  });\n```\n\nRudderStack uses Yandex.Metrica’s [`hit`](https://yandex.com/support/metrica/objects/hit.html) method to send all page view data.\n\n### Supported mappings\n\nThe following table lists the mappings between the RudderStack attributes and the Yandex.Metrica properties:\n\n| RudderStack property | Yandex.Metrica property |\n| --- | --- |\n| `context.page.url`  <br>Required | `url` |\n| `context.page.title` | `title` |\n| `context.page.referrer` | `referer` |\n\n## FAQ\n\n#### What is the Yandex.Metrica container name? Where can I find it?\n\nYou can set your Yandex.Metrica data container name while setting up your counter for your website:\n\n[![Yandex.Metrica container name](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-container-name.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-container-name.webp)\n\n#### Where can I find my Yandex.Metrica tag ID?\n\nTo obtain your Yandex.Metrica tag ID, follow these steps:\n\n1.  Log into your [Yandex.Metrica](https://metrica.yandex.com/) dashboard.\n2.  From the left sidebar, click **Visitors**. You can see the tag ID listed in the dashboard as well as in the URL:\n\n[![Yandex.Metrica tag ID](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-tag-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-tag-id.webp)\n\n#### Where can I find my Yandex.Metrica goal ID?\n\nTo obtain your Yandex.Metrica tag ID, follow these steps:\n\n1.  Log into your [Yandex.Metrica](https://metrica.yandex.com/) dashboard.\n2.  From the left sidebar, click **Goals**. You can see the goal ID listed in the dashboard against your created targets/goals:\n\n[![Yandex.Metrica goal ID](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-goal-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/yandex-metrica-goal-id.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Yandex.Metrica | RudderStack Docs",
  "description": "Send your event data from RudderStack to Yandex.Metrica.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/azure-datalake/",
  "markdown": "# Azure data lake | RudderStack Docs\n\nSync data from RudderStack to Azure Data Lake.\n\n* * *\n\n*     4 minute read  \n    \n\n[Azure Data Lake](https://azure.microsoft.com/en-in/solutions/data-lake/) is Microsoft’s secure and scalable data lake functionality that lets you store data of varying sizes and complexity and facilitates fast, cross-platform data processing and analytics.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in the Azure data lake.\n\n## Configuring Azure data lake destination in RudderStack\n\nTo send event data to Azure data lake, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to Azure data lake via RudderStack.\n\nTo configure Azure data lake as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Azure Data Lake** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Azure Blob Storage Container Name**: Enter the name of your Blob Storage container used to store the data before loading it into the data lake.\n*   **Prefix**: If specified, RudderStack will create a folder in the bucket with this prefix and push all data within that folder. For example, `https://<account_name>.blob.core.windows.net/<container_name>/<prefix>/`\n*   **Namespace**: If specified, all data for the destination will be pushed to `https://<account_name>.blob.core.windows.net/<bucketName>/<prefix>/rudder-datalake/<namespace>`. If you don’t specify a namespace in the settings, RudderStack sets it to the source name, by default.\n*   **Azure Blob Storage Account Name**: Enter your Azure Blob Storage account name.\n*   **Azure Blob Storage Account Key**: Enter your Blob Storage account key.\n*   **Use shared access signature (SAS) Tokens**: Enable this setting to grant limited access to your Azure Storage resources. When enabled, you can use a Shared Access Signatures (SAS) token instead of your storage account access key:\n\n[![Azure Blob Storage SAS token](https://www.rudderstack.com/docs/images/dw-integrations/azure-sas-token.webp)](https://www.rudderstack.com/docs/images/dw-integrations/azure-sas-token.webp)\n\n*   **Azure Blob Storage SAS**: Enter the generated SAS token.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on setting up your Azure Blob Storage account, refer to the [Azure Blob Storage](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage) guide.\n\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your Azure data lake.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n\n### Advanced settings\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n## Finding your data in the Azure data lake\n\nRudderStack converts your events into Parquet files and dumps them into the configured Azure bucket. Before dumping the events, RudderStack groups the files by the event name based on the time (in UTC) they were received.\n\nThe folder structure is similar to the following format:\n\n`https://<account_name>.blob.core.windows.net/<prefix>/rudder-datalake/<namespace>/<tableName>/YYYY/MM/DD/HH`\n\nAs specified in the [Connection settings](#connection-settings) section above:\n\n*   `<prefix>` is the Azure prefix used while configuring the Azure data lake destination in RudderStack. If not specified, RudderStack will omit this value.\n*   `<namespace>` is the namespace specified in the destination settings. If not specified, RudderStack sets it to the source name.\n*   `<tableName>` is set to the event name.\n*   `YYYY`, `MM`, `DD`, and `HH` are replaced by the actual time values.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> A combination of the `YYYY`, `MM`, `DD`, and `HH` values represents the UTC time.\n\n### Use case\n\nSuppose that RudderStack tracks the following two events:\n\n| Event Name | Timestamp |\n| --- | --- |\n| Product Purchased | `\"2019-10-12T08:40:50.52Z\" UTC` |\n| Cart Viewed | `\"2019-11-12T09:34:50.52Z\" UTC` |\n\nRudderStack then converts these events into Parquet files and dumps them into the following folders:\n\n| Event Name | Folder Location |\n| --- | --- |\n| Product Purchased | `https://<account_name>.blob.core.windows.net/<prefix>/rudder-datalake/<namespace>/product_purchased/2019/10/12/08` |\n| Cart Viewed | `https://<account_name>.blob.core.windows.net/<prefix>/rudder-datalake/<namespace>/cart_viewed/2019/11/12/09` |\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\nFor a comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Azure data lake | RudderStack Docs",
  "description": "Sync data from RudderStack to Azure Data Lake.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/tiktok-audiences/",
  "markdown": "# TikTok Audiences | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "TikTok Audiences | RudderStack Docs",
  "description": "Send your event data from RudderStack to TikTok Audiences.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/tiktok-audiences/setup-guide/",
  "markdown": "# Set Up TikTok Audiences | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set Up TikTok Audiences | RudderStack Docs",
  "description": "Send your event data from RudderStack to TikTok Audiences.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/azure-synapse/",
  "markdown": "# Azure Synapse | RudderStack Docs\n\nSync data from RudderStack to Azure Synapse.\n\n* * *\n\n*     5 minute read  \n    \n\n[Azure Synapse Analytics](https://azure.microsoft.com/en-in/services/synapse-analytics/) is an analytics service that combines data warehousing capabilities with Big Data analytics. If offers a unified data engineering platform to ingest, explore, manage, and serve your data for analytics and Business Intelligence.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in Azure Synapse.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/azure_synapse).\n\n## Prerequisites\n\nBefore setting up Azure Synapse as a destination in RudderStack, make sure you have an Azure subscription and created the [Azure Synapse Workspace](https://docs.microsoft.com/en-in/azure/synapse-analytics/quickstart-create-workspace).\n\nAdditionally, you need to create a dedicated SQL pool in Azure Synapse. You can create it by following the [Azure Synapse documentation](https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/create-data-warehouse-portal).\n\nTo create a user-defined schema on your dedicated SQL pool, run the following SQL command on your pool:\n\n```\nCREATE SCHEMA <schema_name>;\n```\n\n## Configuring Azure Synapse destination in RudderStack\n\nTo send event data to Azure Synapse, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to Azure Synapse via RudderStack.\n\nTo configure Azure Synapse as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Azure Synapse** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Host**: The host name of your Azure Synapse service.\n*   **Database**: The database name in your Azure Synapse instance where the data will be sent.\n*   **User**: The name of the user with the required read/write access to the above database.\n*   **Password**: The password for the above user.\n*   **Port**: The port number associated with the Azure Synapse database instance.\n*   **Namespace**: Enter the name of the schema created in the [Prerequisites](#prerequisites) section, where RudderStack will create all tables.\n*   **SSL Mode**: Choose the SSL mode through which RudderStack will connect to your Azure Synapse instance. RudderStack provides three options - **disable**, **true**, and **false**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information these SSL modes, refer to the [FAQ](#what-are-the-ssl-mode-options-provided-by-rudderstack) section below.\n\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your PostgreSQL database.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Advanced settings\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage configuration settings while setting up your Azure Synapse destination:\n\n*   **Use RudderStack-managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For self-hosted data planes, you will have to specify your own object storage configuration settings.\n\n*   **Choose your storage provider**: If **Use RudderStack-managed object storage** is **disabled** in the dashboard, select the cloud provider for your object storage and enter the relevant settings:\n    \n    *   [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings)\n    *   [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage)\n    *   [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage)\n    *   [MinIO bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/#setting-up-minio)\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### How are reserved words handled by RudderStack?\n\nThere are some limitations when it comes to using [reserved words](https://docs.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver15) in a schema, table, or column names. If such words are used as event names, traits or properties, they will be prefixed with a `_` when RudderStack creates tables or columns for them in your schema.\n\nAlso, note that integers are not allowed at the start of the schema or table name. Hence, RudderStack prefixes such schema, column, or table names with a `_`.\n\nFor instance, `'25dollarpurchase'` will be changed by RudderStack to `'_25dollarpurchase`'.\n\n#### How does RudderStack handle cases when loading the data into Azure Synapse?\n\nRudderStack converts the event keys into lower case before exporting the data into Azure Synapse, so that it does not create two tables if the event name has two different cases.\n\n#### What are the SSL mode options provided by RudderStack?\n\nWhile setting up the Azure Synapse destination, RudderStack provides the following three SSL options:\n\n*   **disable**: The data sent from RudderStack to your database is not encrypted.\n*   **false**: The data sent from RudderStack to your database is not encrypted beyond the login packet.\n*   **true**: The data sent from RudderStack to your database is encrypted.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Azure Synapse | RudderStack Docs",
  "description": "Sync data from RudderStack to Azure Synapse.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/tiktok-audiences/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to TikTok Audiences\n\nConfigure a Reverse ETL source with your TikTok Audiences destination.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide takes you through the steps to connect a Reverse ETL source to the TikTok Audiences destination.\n\n## Set up the connection\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> **The Reverse ETL feature supports only source-driven pipeline configuration.**\n> \n> Make sure you have [set up a Reverse ETL source](https://www.rudderstack.com/docs/sources/reverse-etl/) and connected it to your TikTok Audiences destination before following the below steps.\n\n1.  [Confirm the connection settings](https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/launchdarkly-segments/setup-guide/#connection-settings) for TikTok Audiences destination and click **Continue**.\n    \n2.  In the **Where do you want to sync data to?** section:\n    \n    *   Select **Create New audience** if you want to create a new audience in TikTok. Specify the name and description of the audience in the respective fields.\n    \n    [![](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-new.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-new.webp)\n    \n    *   Select **Use Existing Audience** if you have an existing audience in TikTok and specify the Audience ID.\n    \n    [![](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-existing.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-existing.webp)\n    \n3.  Set the [Sync mode](https://www.rudderstack.com/docs/sources/reverse-etl/sync-modes/) to specify how RudderStack should sync the data to TikTok Audiences.\n    \n4.  In **Choose identifier**, specify the warehouse column that RudderStack uses to identify your records.\n    \n5.  Map your warehouse columns to specific TikTok fields using the **Map fields** setting.\n    \n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-audience-identifier-map-fields.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-audience-identifier-map-fields.webp)\n\nIf you have selected **Create New audience** option in Step 2, the new audience will be created in the destination for that particular advertiser ID with the same **Audience ID** as in the **Schema** tab of your Reverse ETL connection.\n\n[![](https://www.rudderstack.com/docs/images/retl-sources/audience-id.webp)](https://www.rudderstack.com/docs/images/retl-sources/audience-id.webp)\n\n## Supported mappings\n\nYou can map your warehouse columns to the following TikTok fields:\n\n*   `IDFA_MD5`: MD5 hash of an iOS IDFA.\n*   `AAID_MD5`: MD5 hash of an Android AAID/GAID.\n*   `IDFA_SHA256`: SHA256 hash of an iOS IDFA.\n*   `AAID_SHA256`: SHA256 hash of an Android AAID/GAID.\n*   `EMAIL_SHA256`: SHA256 hash of email ID. See [Important Notes for Streaming API- Email Specific Normalization](https://business-api.tiktok.com/portal/docs?id=1739566528222210) section for more information.\n*   `PHONE_SHA256`: SHA256 hash of a phone number in E.164 format, for example, `+1231234567`.\n\n## FAQ\n\n#### Why can’t I add a Reverse ETL source from the destination page?\n\nThe Reverse ETL feature supports only source-driven pipeline configuration. It means that you must configure a Reverse ETL source in RudderStack and then connect it to a new or existing destination. Note that this destination should not be connected to any other source.\n\nSee [Reverse ETL FAQ](https://www.rudderstack.com/docs/sources/reverse-etl/faq/) for more information.\n\n#### How do I view the synced segments in TikTok?\n\nTo view the synced audience, go to your [TikTok Ads Manager](https://ads.tiktok.com/i18n/home) and go to **Tools** > **Audience manager**.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-audiences.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-audiences.webp)\n\nTo see the sync status, check the **Availability** column.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-sync-status.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/tiktok-ads-sync-status.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Connect a Reverse ETL Source to TikTok Audiences | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your TikTok Audiences destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/zendesk/",
  "markdown": "# Zendesk | RudderStack Docs\n\nSend data from RudderStack to Zendesk.\n\n* * *\n\n*     6 minute read  \n    \n\n[Zendesk](https://www.zendesk.com/) is a popular CRM and customer support service suite. It offers features like live chat, call center software capabilities, and a smart knowledge base for your executives to help them resolve customers’ queries and concerns.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/zendesk).\n\n## Getting started\n\nRudderStack supports sending events to Zendesk via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Zendesk, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Zendesk**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo successfully configure Zendesk as a destination, you need to configure the following settings:\n\n*   **Email**: Enter the email address used to log in to your Zendesk account.\n*   **API Token**: Enter the Zendesk API token used to authenticate the integration. To generate a new API token, see the [Zendesk support article](https://support.zendesk.com/hc/en-us/articles/226022787-Generating-a-new-API-token-).\n*   **Zendesk Subdomain**: Enter your Zendesk subdomain **excluding** `.zendesk.com`.\n*   **Source Name**: Enter the events source name. If not specified, RudderStack sets this field to `Rudder` by default.\n*   **Create users as verified**: Enable this setting to create verified users in Zendesk. When enabled, RudderStack sends `verified` as `true` in the event and Zendesk skips the email verification for these users.\n*   **Send Group calls without User ID**: Enable this setting if you do not want to associate a particular user with a group. When enabled, RudderStack creates or updates a group only if `userId` is **not** present in the event.\n*   **Enable Removing Users from Organizations**: Enable this setting to remove users from an organization via the `identify` call. For more information on this setting, see [Removing users from an organization](#removing-users-from-an-organization) section below.\n*   **Update user’s primary email**: Enable this setting to set the email present in the event as the user’s primary email in Zendesk, replacing the previously-set primary email. For more information on this setting, see [Updating user’s primary email in Zendesk](#updating-users-primary-email-in-zendesk) section below.\n*   **OneTrust Cookie Categories**: This setting lets you associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Zendesk.\n\n## Identify\n\nYou can use the [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call to create or update a user in Zendesk.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> It is highly recommended to include the user’s `email` in the `identify` call as RudderStack uses this field to create or update a user in Zendesk.\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  country: \"USA\",\n});\n```\n\nRudderStack persists the user details from the `identify` call for all subsequent calls made to Zendesk.\n\n### Supported mapping\n\nRudderStack maps the following event properties to the standard Zendesk user attributes:\n\n| **RudderStack property** | **Zendesk attribute** |\n| --- | --- |\n| `name`  <br>Required | `name` |\n| `email`  <br>Optional, but recommended | `email` |\n| `organizationId` / `company.id` | `organization_id` |\n| `timezone` | `time_zone` |\n| `phone` | `phone` |\n| `userId` | `user_id` |\n| `userId` | `external_id` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack creates a new custom field in Zendesk for any other unmapped attributes.\n\n### Removing users from an organization\n\nEnable the **Enable Removing Users from Organizations** setting in the dashboard to use this feature.\n\nTo remove a user from an organization, the following fields must be present in the `identify` [`traits`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/#sample-payload):\n\n*   `company.id`\n*   `company.remove` (set to `true`)\n\nA sample `identify` call for this action is shown below:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\",{\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  country: \"USA\",\n  company:{\n    id: 900001329943,\n    remove: true\n  }\n});\n```\n\nThe above `identify` call updates the user (if they exist) as well as removes them from the organization associated with the ID `900001329943`.\n\nRudderStack assumes a valid Zendesk `organization_id` in the `company.id` field. Then, it finds the organization corresponding to that ID and removes the user.\n\n### Updating user’s primary email in Zendesk\n\nTo set the email present in the event as the user’s primary email in Zendesk, enable the **Update user’s primary email** dashboard setting and pass the `email` trait in the `identify` call:\n\n```\nrudderanalytics.identify(\"1hKOmRA4GRlm\", {\n  name: \"Alex Keener\",\n  email: \"alex@example.com\",\n  country: \"USA\",\n});\n```\n\nWhen you send the above event, Zendesk sets `alex@example.com` as the user’s primary email.\n\nIf the **Update user’s primary email** dashboard setting is disabled, RudderStack sets the `email` present in the `identify` traits as the user’s secondary email in Zendesk, **if** any primary mail already exists.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call lets you record the user actions along with any associated properties and send this information to Zendesk.\n\nYou need to first set the `userId` by calling `identify` before sending any `track` events to Zendesk.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Zendesk expects a `userId` for every `track` call.\n\nA sample `track` call is shown below:\n\n```\nrudderanalytics.track(\"Order Completed\", {\n  userId: \"1hKOmRA4GRlm\"\n  currency: \"USD\",\n  revenue: 77,\n  value: 99.99,\n});\n```\n\n## Group\n\nYou can use the [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call to create or update an organization in Zendesk. RudderStack uses the `groupId` to do this.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\"group01\", {\n  name: \"Softworks\",\n  country: \"UK\",\n  group_plan: \"trial\",\n});\n```\n\n### Associating user to an organization\n\nYou can also use the `group` call to associate a particular user to an organization. To do so, disable the **Send Group Calls without User ID** dashboard setting in RudderStack and pass the `userId` via the [`identify`](#identify) call before sending any `group` calls to Zendesk.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack assumes that an `identify` call (containing the `userId`) is made before any `group` call.\n\nIf you do not want to associate a particular user with a group, enable the **Send Group Calls without User ID** dashboard setting. If this setting is enabled, the group will be created or updated only if `userId` is **not** present in the event.\n\n### Standard mapping\n\nRudderStack maps the following **optional** `group` traits to the standard Zendesk organization attributes:\n\n| **RudderStack** | **Zendesk** |\n| --- | --- |\n| `name` | `name` |\n| `domainNames` | `domain_names` |\n| `tags` | `tags` |\n| `groupId` | `external_id` |\n| `url` | `url` |\n| `deleted` | `deleted` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack creates a new custom field in Zendesk for any other unmapped attributes.\n\n### How RudderStack does the user-organization association\n\n*   If both `userId` and `groupId` are present in the `group` event, then RudderStack first finds the user by looking for the `email` field present in the [`context.traits`](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/#contextual-fields) object.\n    \n    *   If `email` is present, then RudderStack associates the user with the `organizationId` and sends all user information for this call.\n    *   If `email` is absent, RudderStack creates the user. It will then find the organization associated with the `groupId` present in the payload.\n*   If `groupId` is absent in the event payload, RudderStack creates a new organization in Zendesk and then does the association.\n    \n\nThe above discussion can be summarized as follows:\n\n| `email` present? | `groupId` present? | Description | Expected behavior |\n| --- | --- | --- | --- |\n| No  | No  | User and the organization do not exist in Zendesk. | RudderStack creates a new user and organization and associates both. |\n| Yes | No  | User already exists in Zendesk but not the organization. | RudderStack creates a new organization and associates the existing user information with it. |\n| No  | Yes | Organization already exists in Zendesk but not the user. | RudderStack creates a new user and associates them with the organization. |\n| Yes | Yes | Both the user and the organization exist in Zendesk. | RudderStack does the user-organization association. |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Zendesk | RudderStack Docs",
  "description": "Send data from RudderStack to Zendesk.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/delta-lake/",
  "markdown": "# Databricks Delta Lake | RudderStack Docs\n\nSync data from RudderStack to Databricks Delta Lake.\n\n* * *\n\n*     14 minute read  \n    \n\n[Delta Lake](https://databricks.com/product/delta-lake-on-databricks) is a popular data lake used for both streaming and batch operations. It lets you store structured, unstructured, and semi-structured data securely and reliably.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/deltalake).\n\n## Configuring Delta Lake destination in RudderStack\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Before configuring Delta Lake as a destination in RudderStack, it is highly recommended to go through the following sections to obtain the necessary configuration settings. These sections also contain the steps to grant RudderStack and Databricks the necessary permissions to your preferred storage bucket.\n> \n> *   [Granting RudderStack access to your storage bucket](#granting-rudderstack-access-to-your-storage-bucket)\n> *   [Granting Databricks access to your storage bucket](#granting-databricks-access-to-your-staging-bucket)\n> *   [Creating a new Databricks cluster](#creating-a-new-databricks-cluster)\n> *   [Generating the Databricks access token](#generating-the-databricks-access-token)\n> *   [Obtaining the JDBC/ODBC configuration](#obtaining-the-jdbcodbc-configuration)\n\nTo send event data to Delta Lake, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to Delta Lake via RudderStack.\n\nTo configure Delta Lake as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Databricks Delta Lake** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Host**: Enter your server hostname from the Databricks dashboard.\n*   **Port**: Enter the port number.\n*   **HTTP Path**: Enter the cluster’s HTTP path.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on obtaining the server hostname, port, and the cluster’s HTTP path, refer to the [Obtaining the JDBC/ODBC configuration](#obtaining-the-jdbcodbc-configuration) section below.\n\n*   **Personal Access Token**: Enter your Databricks access token. For more information on generating the access token, refer to the [Generating the Databricks access token](#generating-the-databricks-access-token) section below.\n*   **Enable delta tables creation in an external location**: Enable this setting to specify the external location to create the delta tables. You can specify the external location in the **External delta table location** setting. When disabled, RudderStack creates the delta tables at a default storage location for the non-external Apache Hive tables.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you **have not** configured a [Unity catalog](https://docs.databricks.com/data-governance/unity-catalog/index.html), you can access the delta tables at `{path_to_table}/{schema}/{table}`.\n> \n> If you **have** configured a Unity catalog, follow these steps:\n> \n> 1.  Create an external location by following this [Databricks documentation](https://docs.databricks.com/data-governance/unity-catalog/manage-external-locations-and-credentials.html#manage-external-locations). Your location will look something like `s3://{bucket_path}/{external_location}`.\n> 2.  Specify the absolute location in the **External delta table location** setting. It will look something like `s3://{bucket_path}/{external_location}/{path_to_table}/{schema}/{table}`.\n\n*   **Catalog**: If you have configured a [Unity catalog](https://docs.databricks.com/data-governance/unity-catalog/index.html), enter the catalog name where your data assets are organized. For more information on creating a Unity Catalog, refer to the [Databricks documentation](https://docs.databricks.com/data-governance/unity-catalog/create-catalogs.html).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you do not specify the catalog name, RudderStack uses the default catalog configured for your workspace.\n\n*   **Namespace**: Enter the the name of the schema where RudderStack will create the tables. If you don’t specify a namespace in the dashboard settings, RudderStack will set it to the source name, by default.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your Delta Lake instance.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the Delta Lake instance.\n*   **Exclude Window**: This optional setting lets you specify the time window (in UTC) when RudderStack will **skip** the data sync.\n*   **Object Storage Configuration**: Use this setting to specify your object storage.\n    *   **Use RudderStack managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage. Note that this option is applicable only for RudderStack-hosted data planes. For self-hosted data planes, you need to specify your own object storage configuration settings.\n    *   **Choose your storage provider**: If **Use RudderStack managed object storage** is disabled, you can select any one of the following platforms for storing your staging files:\n        *   [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings)\n        *   [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage)\n        *   [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage)\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you select S3 as your storage provider, RudderStack provides the option to specify your IAM role ARN or the AWS access key ID/secret access key by enabling the **Use STS Tokens to copy staging files** setting. For more information, refer to the [Amazon S3 storage bucket settings](#case-2-use-sts-token-to-copy-staging-files-is-enabled-in-the-dashboard) section below.\n\n### Advanced settings\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n## Granting RudderStack access to your storage bucket\n\nThis section contains the steps to edit your bucket policy to grant RudderStack the necessary permissions, depending on your preferred cloud platform.\n\n### Amazon S3\n\nFollow these steps to grant RudderStack access to your S3 bucket based on the following two cases:\n\n#### Case 1: Use STS Token to copy staging files is disabled in the dashboard\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Follow the steps listed in this section if the **Use STS Token to copy staging files** option is disabled, that is, you **don’t want to specify** the AWS credentials while configuring your Delta Lake destination.\n\n#### For RudderStack Cloud\n\nIf you are using RudderStack Cloud, edit your bucket policy using the following JSON:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"arn:aws:iam::422074288268:user/s3-copy\"\n    },\n    \"Action\": [\n      \"s3:GetObject\",\n      \"s3:PutObject\",\n      \"s3:PutObjectAcl\",\n      \"s3:ListBucket\"\n    ],\n    \"Resource\": [\n      \"arn:aws:s3:::YOUR_BUCKET_NAME/*\",\n      \"arn:aws:s3:::YOUR_BUCKET_NAME\"\n    ]\n  }]\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure you replace `YOUR_BUCKET_NAME` with the name of your S3 bucket.\n\n#### For self-hosted RudderStack\n\nIf you are [self-hosting RudderStack](https://www.rudderstack.com/docs/get-started/rudderstack-open-source/), follow these steps:\n\n1.  Create an IAM policy with the following JSON:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Action\": \"*\",\n    \"Resource\": \"arn:aws:s3:::*\"\n  }]\n}\n```\n\n2.  Then, create an [IAM user with programmatic access](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html). Attach the above IAM policy to this user.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Copy the ARN of this newly-created user. This is required in the next step.\n\n3.  Next, edit your bucket policy with the following JSON to allow RudderStack to write to your S3 bucket.\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [{\n    \"Effect\": \"Allow\",\n    \"Principal\": {\n      \"AWS\": \"arn:aws:iam::ACCOUNT_ID:user/USER_ARN\"\n    },\n    \"Action\": [\n      \"s3:GetObject\",\n      \"s3:PutObject\",\n      \"s3:PutObjectAcl\",\n      \"s3:ListBucket\"\n    ],\n    \"Resource\": [\n      \"arn:aws:s3:::YOUR_BUCKET_NAME/*\",\n      \"arn:aws:s3:::YOUR_BUCKET_NAME\"\n    ]\n  }]\n}\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Make sure you replace `USER_ARN` with the ARN copied in the previous step. Also, replace `ACCOUNT_ID` with your AWS account ID and `YOUR_BUCKET_NAME` with the name of your S3 bucket.\n\n4.  Finally, add the programmatic access credentials to the `env` file present in your RudderStack installation:\n\n```\nRUDDER_AWS_S3_COPY_USER_ACCESS_KEY_ID=<user_access_key>\nRUDDER_AWS_S3_COPY_USER_ACCESS_KEY=<user_access_key_secret>\n```\n\n#### Case 2: Use STS Token to copy staging files is enabled in the dashboard\n\nIn this case, provide the configuration directly while setting up the Delta Lake destination in RudderStack:\n\n[![S3 settings in RudderStack dashboard](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-connection-settings-3.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-connection-settings-3.webp)\n\n*   **Role-based Authentication**: Enable this setting to use the RudderStack IAM role for authentication. For more information on creating an AWS IAM role for RudderStack, refer to [this guide](https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/#creating-a-rudderstack-iam-role).\n    *   **IAM Role ARN**: Enter the ARN of the IAM role.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It is highly recommended to enable this setting as the access keys-based authentication method is now deprecated.\n\nIf **Role-based Authentication** is disabled, you need to enter the **AWS Access Key ID** and **AWS Secret Access Key** to authorize RudderStack to write to your S3 bucket.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> In both the role-based and access key-based authentication methods, you need to set a policy specifying the required permissions for RudderStack to write to your intermediary S3 bucket. Refer to the [S3 permissions for warehouse destinations](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#s3-permissions-for-warehouse-destinations) section for more information.\n\n### Google Cloud Storage\n\nYou can provide the necessary GCS bucket configuration while setting up the Delta Lake destination in RudderStack. For more information, refer to the [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage).\n\n### Azure Blob Storage\n\nYou can provide the necessary Blob Storage container configuration while setting up the Delta Lake destination in RudderStack. For more information, refer to the [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage).\n\n## Granting Databricks access to your staging bucket\n\nThis section contains the steps to grant Databricks the necessary permissions to access your staging bucket, depending on your preferred cloud platform.\n\n### Amazon S3\n\nFollow these steps to grant Databricks access to your S3 bucket depending on your case:\n\n#### Case 1: Use STS Token to copy staging files is disabled in the dashboard\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Follow the steps listed in this section if the **Use STS Token to copy staging files** option is disabled, i.e. you **don’t want to specify** the AWS access key and secret access key while configuring your Delta Lake destination.\n\nIn this case, you will be required to configure your AWS account to [create an instance profile](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html) which will then be attached with your Databricks cluster.\n\nFollow these steps in the exact order:\n\n1.  [Create an instance profile to access the S3 bucket](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-1-create-an-instance-profile-to-access-an-s3-bucket).\n2.  [Create a bucket policy for the target S3 bucket](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-2-create-a-bucket-policy-for-the-target-s3-bucket).\n3.  [Note the IAM role used to create the Databricks deployment](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-3-note-the-iam-role-used-to-create-the-databricks-deployment).\n4.  [Add the S3 IAM role to the EC2 policy](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-4-add-the-s3-iam-role-to-the-ec2-policy).\n5.  [Add the instance profile to Databricks](https://docs.databricks.com/administration-guide/cloud-configurations/aws/instance-profiles.html#step-5-add-the-instance-profile-to-databricks).\n\n#### Case 2: Use STS Token to copy staging files is enabled in the dashboard\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Follow the steps listed in this section if the **Use STS Token to copy staging files** option is enabled, i.e. you are specifying the AWS access key and secret access key in the dashboard while configuring your Delta Lake destination.\n\nAdd the following Spark configuration to your Databricks cluster:\n\n```\nspark.hadoop.fs.s3.impl shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem\nspark.hadoop.fs.s3a.impl shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem\nspark.hadoop.fs.s3n.impl shaded.databricks.org.apache.hadoop.fs.s3a.S3AFileSystem\nspark.hadoop.fs.s3.impl.disable.cache true\nspark.hadoop.fs.s3a.impl.disable.cache true\nspark.hadoop.fs.s3n.impl.disable.cache true\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on adding custom Spark configuration properties in a Databricks cluster, refer to [Spark configuration guide](https://docs.databricks.com/clusters/configure.html#spark-configuration).\n\n### Google Cloud Storage\n\nTo grant Databricks access to your GCS bucket, follow these steps:\n\n1.  Follow the steps listed in this [user permissions](https://www.rudderstack.com/docs/destinations/warehouse-destinations/gcs-datalake/#setting-user-permissions-in-gcs-data-lake) section to set up the required role and user permissions.\n2.  Then, add the following Spark configuration to your Databricks cluster:\n\n```\nspark.hadoop.fs.gs.auth.service.account.email <client_email>\nspark.hadoop.fs.gs.project.id <project_id>\nspark.hadoop.fs.gs.auth.service.account.private.key <private_key>\nspark.hadoop.fs.gs.auth.service.account.private.key.id <private_key_id>\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on adding custom Spark configuration properties in a Databricks cluster, refer to [Spark configuration guide](https://docs.databricks.com/clusters/configure.html#spark-configuration).\n\n3.  Finally, replace the following fields with the values obtained from the downloaded JSON in the previous step: `<project_id>`,`<private_key>`, `<private_key_id>`,`<client_email>`.\n\n### Azure Blob Storage\n\nTo grant Databricks access to your Azure Blob Storage container, follow these steps:\n\n1.  Add the following Spark configuration to your Databricks cluster.\n\n```\nspark.hadoop.fs.azure.account.key.<storage-account-name>.blob.core.windows.net <storage-account-access-key>\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on adding custom Spark configuration properties in a Databricks cluster, refer to [Spark configuration guide](https://docs.databricks.com/clusters/configure.html#spark-configuration).\n\n2.  Replace the following fields with the relevant values from your Blob Storage account settings: `<storage-account-name>`,`<storage-account-access-key>`.\n\n## Creating a new Databricks cluster\n\nTo create a new Databricks cluster, follow these steps:\n\n1.  Sign into your Databricks account. Then, click the **Compute** option on the dashboard:\n\n[![Delta Lake Compute option](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-1.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-1.webp)\n\n2.  Click the **Create Cluster** option.\n3.  Next, enter the cluster details. Fill in the **Cluster Name**:\n\n[![Delta Lake Cluster name](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-2.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-2.webp)\n\n4.  Select the **Cluster Mode** depending on your use-case. The following image highlights the three cluster modes:\n\n[![Delta Lake cluster modes](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-3.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-3.webp)\n\n5.  Then, select the **Databricks Runtime Version** as **7.1** or higher:\n\n[![Delta Lake runtime version](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-4.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-4.webp)\n\n6.  Configure the rest of the settings as per your requirement.\n7.  In the **Advanced Options** section, configure the **Instances** field as shown in the following image:\n\n[![Delta Lake instances](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-5.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-5.webp)\n\n8.  In the **Instance Profile** dropdown menu, select the Databricks instance profile that you added to your account in the previous step.\n\n[![Delta Lake instances field](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-6.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-6.webp)\n\n9.  Finally, click the **Create Cluster** button to complete the configuration and create the Databricks cluster.\n\n[![Delta Lake create cluster option](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-7.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-7.webp)\n\n## Obtaining the JDBC/ODBC configuration\n\nFollow these steps to get the JDBC/ODBC configuration:\n\n1.  In your Databricks dashboard, click the **Compute** option:\n\n[![Delta Lake Compute option](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-1.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-1.webp)\n\n2.  Then, select the cluster you created in the previous section.\n\n[![Delta Lake cluster](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-8.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-8.webp)\n\n3.  In the **Advanced Options** section, select the **JDBC/ODBC** field and copy the **Server Hostname**, **Port**, and **HTTP Path** values:\n\n[![Delta Lake JDBC/ODBC settings](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-9.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-9.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The **Server Hostname**, **Port**, and **HTTP Path** values are required to configure Delta Lake as a destination in RudderStack.\n\n## Generating the Databricks access token\n\nTo generate the Databricks access token, follow these steps:\n\n1.  In your Databricks dashboard, go to **Settings** and click **User Settings**:\n\n[![Databricks user settings](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-10.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-10.webp)\n\n2.  Then, go to the **Access Tokens** section and click **Generate New Token**:\n\n[![Access tokens](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-11.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-11.webp)\n\n3.  Enter your comment in the **Comment** field and click **Generate**:\n\n[![Databricks generating new token](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-12.webp)](https://www.rudderstack.com/docs/images/dw-integrations/delta-lake-12.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Keep the **Lifetime (days)** field blank. If you enter a number, your access token will expire after that number of days.\n\n4.  Finally, copy the access token as it will be used during the Delta Lake destination setup in RudderStack.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### How does RudderStack handle deduplication in Databricks?\n\nRudderStack takes the staging table and runs `MERGE` queries against the target Databricks tables to ensure no duplicate data is sent.\n\n#### What are the reserved keys for Delta Lake?\n\nRefer to this [documentation](https://docs.microsoft.com/bs-cyrl-ba/azure/databricks/sql/language-manual/sql-ref-reserved-words) for a complete list of the reserved keywords.\n\n#### Does the Databricks cluster attached to the destination need to be up all time?\n\nNo, your Databricks cluster attached to the destination need not be up all time.\n\n#### What happens if the cluster or the destination service is down? Is there a possibility of data loss?\n\nIf a warehouse destination is down or unavailable, RudderStack will continue to retry sending events (on an exponential backoff basis, for up to 3 hours).\n\nRudderStack stores the syncs as staging files and retries sending them at a later time when the cluster is up again. This allows for a successful delivery without any missing data.\n\nAfter retrying for up to 3 hours, RudderStack marks the syncs as aborted. Once the service is up and running again, you can go to the [Syncs](https://www.rudderstack.com/docs/dashboard-guides/overview/#syncs) tab in the RudderStack dashboard and retry sending the data.\n\n#### Does RudderStack automatically spin the Databricks cluster/SQL endpoint every time it needs to write?\n\nNo, RudderStack does not spin the Databricks cluster or the SQL endpoint on its own every time it needs to write to the cluster.\n\nDatabricks itself starts up the cluster/endpoint when the connection is established. You just need to configure the [automatic termination](https://docs.databricks.com/clusters/clusters-manage.html#automatic-termination-1) settings in the **Autopilot Options** on the cluster creation page:\n\n[![Databricks autopilot options](https://www.rudderstack.com/docs/images/dw-integrations/databricks-autopilot-options.webp)](https://www.rudderstack.com/docs/images/dw-integrations/databricks-autopilot-options.webp)\n\n#### How does RudderStack handle the reserved words in a column, table, or schema?\n\nThere are some limitations when it comes to using reserved words as a schema, table, or column name. If such words are used in event names, traits or properties, they will be prefixed with a `_` when RudderStack creates tables or columns for them in your schema.\n\nAlso, integers are **not** allowed at the start of a schema or table name. Hence, such schema, column, or table names will be prefixed with a `_`. For example, `'25dollarpurchase'` will be changed to `'_25dollarpurchase'`.\n\n#### How can I modify an existing table to a partitioned table?\n\nTo modify an existing table to a partitioned table, follow these steps:\n\n1.  Set an exclusion window (using the **Exclude window** connection setting) so that RudderStack does not process any data while performing the below changes.\n2.  Make the required changes in connection settings of the configured Delta Lake destination.\n3.  Run the following queries in the Databricks Cluster/SQL endpoints to:\n    *   Rename the existing table with `_temp` suffix.\n    *   Add `event_date` column to the `_temp` table.\n    *   Backfill the data into original table.\n\n```\nALTER TABLE x RENAME TO x_temp;\nALTER TABLE x_temp ADD COLUMN TO event_date DATE;\nINSERT INTO x SELECT * FROM x_temp;\n```\n\n#### How can I convert an existing managed or unmanaged table at a location to an unmanaged table at a new location?\n\n1.  Set an exclusion window (using the **Exclude window** connection setting) so that RudderStack does not process any data while performing the below changes.\n2.  Run the following queries in the Databricks Cluster/SQL endpoints to:\n    *   Create a temporary table using the new location.\n    *   Drop the temporary table.\n    *   Drop the original table.\n\n```\nCREATE OR REPLACE TABLE namespace.x_temp DEEP CLONE namespace.x LOCATION '/path/to/new/location/namespace/x';\n// where namespace represents the namespace attached to the destination in RudderStack.\n// where x represents the original table created by RudderStack.\n\nDROP TABLE namespace.x_temp;\nDROP TABLE namespace.x;\n```\n\n3.  Enable the **Enable delta tables creation in an external location** setting in RudderStack dashboard and update the location.\n4.  Remove the exclusion window and make the required changes in connection settings of the configured Delta Lake destination.\n\nRudderStack will create the table again during the subsequent data syncs.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n\n#### How do I convert an existing unmanaged table at a specific location to a managed table (at default location)?\n\n1.  Set an exclusion window (using the **Exclude window** connection setting) so that RudderStack does not process anything while performing the below changes.\n2.  Run the following queries in the Databricks Cluster/SQL Endpoints to:\n    *   Create a temporary table.\n    *   Drop original table.\n    *   Rename temporary table to original table.\n\n```\nCREATE TABLE IF NOT EXISTS namespace.x_temp DEEP CLONE namespace.x;\n// where namespace represents the namespace attached to the destination in RudderStack.\n// where x represents the original table created by RudderStack.\n\nDROP TABLE namespace.x;\nALTER TABLE namespace.x_temp RENAME TO namespace.x;\n```\n\n3.  Remove the exclusion window and make sure the **Enable delta tables creation in an external location** setting is disabled in the RudderStack dashboard.\n\nRudderStack will create the table again during the subsequent data syncs.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Databricks Delta Lake | RudderStack Docs",
  "description": "Sync data from RudderStack to Databricks Delta Lake.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/clickhouse/",
  "markdown": "# ClickHouse destination | RudderStack Docs\n\nSync data from RudderStack to ClickHouse.\n\n* * *\n\n*     5 minute read  \n    \n\n[ClickHouse](https://clickhouse.tech/) is an open-source, column-oriented database management system mainly used for online analytical processing (OLAP). It is fast, and allows for real-time analysis of your data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in ClickHouse.\n\n## Setting user permissions in ClickHouse\n\nMake sure your ClickHouse user has read access to `system.columns` table for fetching the table schemas.\n\nYou also to need to set `date_time_input_format` to `best_effort` for ClickHouse to parse all [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) date and time formats:\n\n```\nset date_time_input_format = 'best_effort';\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack uses the `UInt8` datatype to set Boolean values and map `UInt8`to Boolean internally. So when a schema is fetched from ClickHouse, RudderStack treats `UInt8` as Boolean.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you are creating tables in the same database where RudderStack loads, it is highly recommend to not use `UInt8`as a datatype except for Boolean values (0,1).\n\n## Configuring ClickHouse in RudderStack\n\nTo send event data to ClickHouse, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to ClickHouse via RudderStack.\n\nTo configure ClickHouse as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **ClickHouse** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection Settings\n\n*   **Host**: The host name of your ClickHouse database.\n*   **Port**: The TCP port of your ClickHouse host. If you want the connection to be secure, use the secure TCP port `9440`. Refer to the [ClickHouse guide](https://clickhouse.tech/docs/en/operations/server-configuration-parameters/settings/#server_configuration_parameters-tcp_port) for more information.\n*   **Database**: The database name in your ClickHouse instance where the data gets loaded.\n*   **Cluster**: The name of your ClickHouse cluster. **If you are running a single host ClickHouse cluster, leave this field blank.**\n*   **User**: The name of the user with the required read/write access to the above database.\n*   **Password**: The password for the above user.\n*   **Secure**: Enable this setting to establish a secure connection.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your ClickHouse database.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Advanced settings\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage configuration settings while setting up your ClickHouse destination:\n\n*   **Use RudderStack-managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For [self-hosted data planes](https://www.rudderstack.com/docs/get-started/rudderstack-open-source/data-plane-setup/), you will have to specify your own object storage configuration settings.\n\n*   **Choose your storage provider**: If **Use RudderStack-managed object storage** is **disabled** in the dashboard, select the cloud provider for your object storage and enter the relevant settings:\n    \n    *   [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings)\n    *   [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage)\n    *   [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage)\n    *   [MinIO bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/#setting-up-minio)\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### How does RudderStack de-duplicate the events that are loaded into the warehouse?\n\nRudderStack creates tables with the engine `ReplacingMergeTree order by (received_at, id)` and column `dataType` as `Nullable(dataType)`.[`ReplacingMergeTree`](https://clickhouse.tech/docs/en/engines/table-engines/mergetree-family/replacingmergetree/) replaces the latest event which has the same `received_at, id` while merging. Note that `Nullable` is not applicable for `sortKeys`.\n\n#### How does RudderStack merge the user properties in the user’s table?\n\nFor the user’s table, RudderStack creates a table with an engine `AggregatingMergeTree` ordered by `id` and a column `dataType` as `SimpleAggregateFunction(anyLast, Nullable(dataType))`. Merging the columns with the same`id`picks the last value which is not null. Note that `Nullable` is not applicable for `sortKeys`.\n\n#### How does RudderStack handle cases when loading data into ClickHouse?\n\nRudderStack converts the event keys into the lower case before exporting the data into ClickHouse. This is so that it does not create two tables in case the event name has two different cases.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "ClickHouse destination | RudderStack Docs",
  "description": "Sync data from RudderStack to ClickHouse.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/",
  "markdown": "# Warehouse Destinations | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Warehouse Destinations | RudderStack Docs",
  "description": "Send event data from RudderStack to your specified data warehouse platforms.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/delta-lake/partner-connect/",
  "markdown": "# Databricks Partner Connect | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Databricks Partner Connect | RudderStack Docs",
  "description": "Connect your Databricks cluster to RudderStack and set up your Databricks Delta Lake destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/redshift/",
  "markdown": "# Amazon Redshift destination | RudderStack Docs\n\nSync data from RudderStack to Amazon Redshift.\n\n* * *\n\n*     9 minute read  \n    \n\n[Amazon Redshift](https://aws.amazon.com/redshift/) is the world’s fastest cloud data warehouse. It allows you to handle large analytical workloads with best-in-class performance, speed, and efficiency. With Redshift, you don’t have to worry about the scale of your data or the cost of running queries on them.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/rs).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in Redshift.\n\n## Setting up a Redshift cluster\n\nBefore adding Redshift as a destination in RudderStack, it is recommended that you create a new Redshift cluster depending on the type of instance needed.\n\nThe following sections contain step-by-step instructions on setting up a Redshift cluster.\n\n### Choosing the Redshift instance type\n\nAmazon Redshift provides two types of clusters: **Dense Compute** and **Dense Storage** clusters.\n\n*   **Dense Compute** clusters maximize CPU usage, resulting in an increased query performance. However, there is a trade-off with respect to the storage.\n*   **Dense Storage** clusters maximize storage for customers with hundreds of millions of rows of data. However, there is a trade-off in the CPU usage, resulting in a lower query performance.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to this [Redshift guide](https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html#working-with-clusters-overview) for more information on the cluster and node types in Redshift.\n\n### Creating a new Redshift cluster\n\nFollow the steps below to create a new Redshift cluster:\n\n1.  Open the Redshift Console as shown:\n\n[![Redshift Console](https://www.rudderstack.com/docs/images/1%20%283%29.webp)](https://www.rudderstack.com/docs/images/1%20%283%29.webp)\n\nRedshift Console\n\n2.  Click the **Create Cluster** option:\n\n[![Create Cluster](https://www.rudderstack.com/docs/images/2%20%285%29.webp)](https://www.rudderstack.com/docs/images/2%20%285%29.webp)\n\n3.  Enter the cluster details. First, fill in the **Cluster identifier** and choose the instance type:\n\n[![Cluster Identifier](https://www.rudderstack.com/docs/images/3%20%284%29%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/3%20%284%29%20%281%29%20%281%29.webp)\n\nRedshift cluster configuration settings\n\n4.  Enter the number of nodes for your cluster. This will primarily depend on the amount of data you expect to work with.\n\n[![Enter the number of nodes](https://www.rudderstack.com/docs/images/4%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/4%20%281%29%20%281%29.webp)\n\n5.  Enter the database name, and create the admin user with the name of your choice.\n\n[![Add Source](https://www.rudderstack.com/docs/images/5%20%287%29.webp)](https://www.rudderstack.com/docs/images/5%20%287%29.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> For security purposes, it is recommended that you choose a strong password.\n\n6.  Finish creating the cluster by allowing the default options for **Additional Configurations**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> As a part of this setup, you also need to edit the VPC network and configure the security settings. More information on these aspects in available in the following sections.\n\nWith the Redshift cluster now created and ready to use, the next sections cover the necessary steps to set up the necessary user permissions and set up Redshift as a destination in RudderStack.\n\n## Setting user permissions in Redshift\n\nThis section contains the steps to create a new user to access the Redshift cluster and create temporary tables in it.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The username and password provided earlier while creating the Redshift cluster should be strictly used for administration purposes. RudderStack will create a different user to enable access to Redshift. This also helps RudderStack keep the queries separate as well as maintain an audit log.\n\n1.  Click the **Editor** option in the left pane. You can run the queries to create a new user to access the Redshift cluster in the **Query editor**:\n\n[![Query editor](https://www.rudderstack.com/docs/images/6%20%281%29.webp)](https://www.rudderstack.com/docs/images/6%20%281%29.webp)\n\n2.  The queries to create a new user are listed below:\n\n```\n-- create a user named \"rudder\" RudderStack can use to access Redshift\nCREATE USER rudder PASSWORD '<password goes here>';\n\n-- granting schema creation permission to the \"rudder\" user on the database you chose earlier\nGRANT CREATE ON DATABASE \"<database name goes here>\" TO \"rudder\";\n```\n\n3.  Log into the Redshift cluster with the newly created user credentials.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Use the newly-created user credentials while configuring Redshift as a destination in the RudderStack dashboard.\n\n## Setting up network and security access\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> This section is listed for EC2-VPC. However, EC2-Classic works similarly.\n\n### IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n### Adding a security group\n\nFollow these steps to add a security group and assign it to your Redshift cluster:\n\n1.  Go to EC2 from the services on your AWS console:\n\n[![Go to EC2](https://www.rudderstack.com/docs/images/7%20%283%29.webp)](https://www.rudderstack.com/docs/images/7%20%283%29.webp)\n\n2.  Go to **Security Groups** under **Network & Security**, followed by **Create Security Group**.\n\n[![Create Security Group](https://www.rudderstack.com/docs/images/8%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/8%20%281%29%20%281%29.webp)\n\n3.  Enter the details of the security group. The **Security group name** will be used to select the group later.\n\n[![Security group name](https://www.rudderstack.com/docs/images/9%20%281%29.webp)](https://www.rudderstack.com/docs/images/9%20%281%29.webp)\n\n4.  Add an **Inbound rule** with IPs listed above, and enter the Redshift port as `5439` in the **Port range** field:\n\n[![Port range](https://www.rudderstack.com/docs/images/10.webp)](https://www.rudderstack.com/docs/images/10.webp)\n\n5.  Next, go to the Redshift cluster and select **Properties**, where you can modify the network and security rules of the cluster.\n\n[![Properties](https://www.rudderstack.com/docs/images/11.webp)](https://www.rudderstack.com/docs/images/11.webp)\n\n6.  Edit the **Network and security** option and choose the VPC security group that you selected earlier.\n\n[![Network and security](https://www.rudderstack.com/docs/images/12.webp)](https://www.rudderstack.com/docs/images/12.webp)\n\n7.  Finally, click **Modify cluster** to finish the **Network and Security** setup.\n\n[![Modify cluster](https://www.rudderstack.com/docs/images/13.webp)](https://www.rudderstack.com/docs/images/13.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The Redshift cluster needs to be publicly accessible. Refer to this [Redshift guide](https://aws.amazon.com/premiumsupport/knowledge-center/redshift-cluster-private-public/) for more information on how to set this property.\n\n## Configuring Redshift destination in RudderStack\n\nTo send event data to Redshift, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to Redshift via RudderStack.\n\nTo configure Redshift as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Redshift** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Host**: The host name of your Redshift service.\n*   **Port**: The port number associated with the Redshift database instance.\n*   **Database**: The database name in your Redshift instance where the data will be sent.\n*   **User**: The name of the user with the required read/write access to the above database.\n*   **Password**: The password for the above user.\n*   **Namespace**: Enter the schema name where RudderStack will create all tables. If you don’t specify any namespace, RudderStack will set this to the source name, by default.\n\n### SSH connection\n\nSSH tunneling is a method of transferring data over an encrypted SSH connection. You can use it to add encryption to your legacy applications and achieve compliance with regulations like HIPAA, PCI-DSS, etc., without having to modify the existing applications.\n\nRudderStack lets you connect to your Redshift database securely over an SSH connection by configuring these settings:\n\n[![Redshift edit configuration](https://www.rudderstack.com/docs/images/warehouse-destinations/ssh-connection.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/ssh-connection.webp)\n\n*   **SSH Connection**: Enable this setting to use the SSH connection while connecting to your Redshift database.\n*   **SSH Host**: Enter the IP address of your bastion host.\n*   **SSH Port**: Enter the port for the above host.\n*   **SSH User**: Enter the username you use to access the bastion host.\n*   **SSH Public Key**: Copy the public key provided in this field and add it to the `authorized_keys` file on your bastion host. Rudderstack will use the private key corresponding to this public key to establish the connection successully.\n\nTo enable the SSH connection for an existing Redshift destination, navigate to the destination’s **Configuration** tab, select **Edit configuration** and enable the **SSH connection** setting.\n\n### Sync settings\n\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your Redshift database.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage configuration settings while setting up your Redshift destination:\n\n*   **Use RudderStack-managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For [self-hosted data planes](https://www.rudderstack.com/docs/get-started/rudderstack-open-source/data-plane-setup/), you will have to specify your own object storage configuration settings.\n\n*   **Staging S3 Storage Bucket Name**: If **Use RudderStack-managed object storage** is disabled in the dashboard, enter the relevant [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings).\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n### Advanced settings\n\nRudderStack provides the following advanced settings:\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n*   **JSON Columns**: Lets you ingest semi-structured event data not defined by a fixed schema. You can specify the required JSON column paths in this setting in dot notation, separated by commas. **This option applies to all incoming `track` events for this destination**. See [JSON Column Support](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/) for more information.\n\n## S3 Permissions\n\nThe alternative to providing AWS credentials for S3 access, is to set up permissions for your bucket as specified in the following section:\n\n### RudderStack-hosted data plane\n\nYou need to edit your bucket policy to allow RudderStack to write to your bucket with the following JSON:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::422074288268:user/s3-copy\"\n      },\n      \"Action\": [\n        \"s3:GetObject\",\n        \"s3:PutObject\",\n        \"s3:PutObjectAcl\",\n        \"s3:ListBucket\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::YOUR_BUCKET_NAME/*\",\n        \"arn:aws:s3:::YOUR_BUCKET_NAME\"\n      ]\n    }\n  ]\n}\n```\n\n### Self-hosted data plane\n\n1.  Create an IAM policy with the following JSON:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"*\",\n      \"Resource\": \"arn:aws:s3:::*\"\n    }\n  ]\n}\n```\n\n2.  Create an IAM user with programmatic access keys and attach the above created IAM policy. Copy the ARN of this user.\n3.  Edit your bucket policy to allow the data plane to write to your bucket with the following JSON. Make sure you edit the account id and user ARN with your AWS Account ID and the above created user ARN:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::ACCOUNT_ID:user/USER_ARN\"\n      },\n      \"Action\": [\n        \"s3:GetObject\",\n        \"s3:PutObject\",\n        \"s3:PutObjectAcl\",\n        \"s3:ListBucket\"\n      ],\n      \"Resource\": [\n        \"arn:aws:s3:::YOUR_BUCKET_NAME/*\",\n        \"arn:aws:s3:::YOUR_BUCKET_NAME\"\n      ]\n    }\n  ]\n}\n```\n\n4.  Finally, add the programmatic access credentials to the environment of your data plane:\n\n```\nRUDDER_AWS_S3_COPY_USER_ACCESS_KEY_ID=<above created user access key>\nRUDDER_AWS_S3_COPY_USER_ACCESS_KEY=<above created user access key secret>\n```\n\n## Column compression encoding\n\nCompression encoding specifies the type of compression applied to a column of data values as rows are added to a table.\n\nIf not specified, Redshift automatically assigns [compression encoding](https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html). RudderStack explicitly sets the [runlength](https://docs.aws.amazon.com/redshift/latest/dg/c_Runlength_encoding.html) encoding for Boolean columns.\n\n## FAQ\n\n#### How are reserved words handled by RudderStack?\n\nThere are some limitations when it comes to using [reserved words](http://docs.aws.amazon.com/redshift/latest/dg/r_pg_keywords.html) in a schema, table, or column names. If such words are used in event names, traits or properties, they will be prefixed with a `_`when RudderStack creates tables or columns for them in your schema.\n\nBesides, integers are not allowed at the start of the schema or table name. Hence, such schema, column or table names will be prefixed with a `_`.\n\nFor instance, `'25dollarpurchase`’ will be changed to `'_25dollarpurchase`'.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Amazon Redshift destination | RudderStack Docs",
  "description": "Sync data from RudderStack to Amazon Redshift.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/bigquery/",
  "markdown": "# Google BigQuery destination | RudderStack Docs\n\nSync data from RudderStack to Google BigQuery.\n\n* * *\n\n*     9 minute read  \n    \n\n[Google BigQuery](https://cloud.google.com/bigquery) is an industry-leading, fully-managed cloud data warehouse that lets you efficiently store and analyze petabytes of data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in BigQuery.\n\n## Setting up the BigQuery project\n\nBefore you set up BigQuery as a destination in RudderStack, follow these steps to set up your BigQuery project:\n\n1.  Create a Google Cloud Platform (**GCP**) project if you don’t have one already. For more details, refer to this [BigQuery documentation](https://cloud.google.com/resource-manager/docs/creating-managing-projects?hl=en&ref_topic=6158848&visit_id=637219216155418807-3094012232&rd=1).\n2.  Enable the BigQuery API for your existing project if it’s not done already. For more information, refer to this [BigQuery documentation](https://cloud.google.com/bigquery/docs/quickstarts/quickstart-web-ui).\n3.  Log into your [BigQuery console](https://console.cloud.google.com/). Copy the project **ID** as shown in the following image:\n\n[![Copy the Project ID](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-11.36.30-am.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-11.36.30-am.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This project ID is required for configuring BigQuery as a destination in RudderStack.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To enable RudderStack to load data into your BigQuery cluster, make sure that [billing](https://cloud.google.com/billing/docs/how-to/modify-project) is enabled for the project.\n\n4.  Create a new Google Cloud Storage (**GCS**) bucket or provide an existing one to store files before loading the data into your BigQuery instance.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To make sure that the data loads from GCS to BigQuery, co-locate your GCS storage bucket with BigQuery. For more information, refer to the [BigQuery documentation](https://cloud.google.com/bigquery/docs/loading-data-cloud-storage#data-locations).\n\n## Setting up the service account for RudderStack\n\nFor RudderStack to successfully send events to your BigQuery instance, you also need to set up a service account with the necessary permissions.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure that you create the service account for the same BigQuery project.\n\nFollow the steps below to set up a service account:\n\n1.  Create a new service account by going to **IAM & Admin** > **Service Accounts**.\n2.  Add the service account permissions as specified below:\n\n*   Add the `Storage Object Creator` and `Storage Object Viewer` roles to the account.\n*   Add the `BigQuery Job User` and `BigQuery Data Owner` roles to the account.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If a dataset name (configurable by the setting: **Namespace** in the RudderStack dashboard) already exists, the role of **BigQuery Data Editor** would suffice instead of **BigQuery Data Owner**.\n\n3.  Create a key for the service account with **JSON** as the type and store it.\n\n[![Create a key](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-12.09.07-pm%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-12.09.07-pm%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29%20%281%29.webp)\n\n4.  Create and download the private JSON key required for configuring BigQuery as a destination in RudderStack:\n\n[![JSON key required for the RudderStack UI](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-12.09.32-pm%20%281%29.webp)](https://www.rudderstack.com/docs/images/screenshot-2020-04-08-at-12.09.32-pm%20%281%29.webp)\n\n## IPs to be allowlisted\n\nBy default, you can access BigQuery via the Google APIs, which are publicly accessible. As such, allowlisting any IPs is **not required**. However, if your VPC service restricts the BigQuery APIs, you will need to allowlist the below IPs by [setting up network access control for BigQuery](https://staging.medium.com/setting-up-network-access-control-for-bigquery-3957be554467).\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## Configuring Google BigQuery destination in RudderStack\n\nTo send event data to BigQuery, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to BigQuery via RudderStack.\n\nTo configure BigQuery as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **BigQuery** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Project**: The GCP project ID where the BigQuery database is located.\n*   **Location**: The GCP region for your dataset.\n*   **Staging GCS Storage Bucket Name**: The name of the storage bucket as specified in the [Setting up the BigQuery project](#setting-up-the-bigquery-project) section.\n*   **Prefix**: If specified, RudderStack creates a folder in the bucket with this prefix and pushes all data within that folder.\n*   **Namespace**: Enter the schema name where RudderStack will create all tables. If you don’t specify any namespace, RudderStack will set this to the source name, by default.\n*   **Credentials**: Your GCP service account credentials JSON as created in the [Setting up the service account for RudderStack](#setting-up-the-service-account-for-rudderstack) section.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your BigQuery dataset.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to BigQuery.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Advanced settings\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n*   **JSON Columns**: Use this optional setting to specify the required JSON column paths in dot notation, separated by commas. **This option applies to all incoming `track` events for this destination.**\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> With the JSON columns feature, you can now ingest semi-structured event data not defined by a fixed schema. For more information on this feature, refer to the [JSON Column Support](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/) guide.\n\n## Schema, partitioned tables, views, and deduplication\n\nRudderStack uses the source name (written in snake case, for example, `source_name`) to create a dataset in BigQuery.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more details on the tables and columns created by RudderStack, refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide.\n\nRudderStack supports two modes by which data is ingested into BigQuery:\n\n*   Partitioned tables (default method)\n*   Deduplication\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> By default, RudderStack uses the partitioned tables method to ingest data into BigQuery. Deduplication is disabled.\n\nIf you are using [RudderStack Open Source](https://www.rudderstack.com/docs/get-started/rudderstack-open-source/) or hosting the RudderStack data plane, you can manage these modes via the environment variable `RSERVER_WAREHOUSE_BIGQUERY_IS_DEDUP_ENABLED`, as shown in the following table:\n\n| Ingestion method | `RSERVER_WAREHOUSE_BIGQUERY_IS_DEDUP_ENABLED` |\n| --- | --- |\n| Partitioned tables | `false` |\n| Deduplication | `true` |\n\n### Partitioned tables and views\n\nRudderStack creates ingestion-time partition tables based on the load date, so you can take advantage of it to query a subset of data.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Duplicate data is **not** discarded when loading it into BigQuery.\n\nIn addition to tables, RudderStack creates a **view** (`<table_name>_view`) for every table for de-duplication purposes.\n\nIt is highly recommended that you use the corresponding view (containing the events from the last 60 days) to avoid duplicate events in your query results. Since BigQuery [views](https://cloud.google.com/bigquery/docs/views-intro#view_pricing) are merely logical views and are not cached, you can create a native table from it to save money - by avoiding running the query that defines the view every time.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Users can modify the view query to change the time window of the view. The default value is set to **60 days**.\n\n### Deduplication method\n\nIn this method, RudderStack automatically discards any duplicate events while loading them into the BigQuery tables. To enable this method, set the environment variable `RSERVER_WAREHOUSE_BIGQUERY_IS_DEDUP_ENABLED` in your RudderStack data plane setup to `true`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note the following:\n> \n> *   The RudderStack team handles this setting for the RudderStack Cloud [Growth](https://www.rudderstack.com/pricing/) and [Enterprise](https://www.rudderstack.com/enterprise-quote/) plans.\n> *   Views will **not** be created for the tables if you choose the deduplication method.\n> *   The **querying cost will increase** if you choose this method, as RudderStack removes the duplicates from the tables through sequential scans that happen on every warehouse upload. For example, if your warehouse upload frequency is set to every 30 minutes, RudderStack performs a full scan on the `tracks` table every 30 minutes to upload any new events.\n\n### Switching from deduplication to partitioned tables\n\nYou can easily switch from using the deduplication method to ingest your data in BigQuery to the partitioned tables by setting the environment variable `RSERVER_WAREHOUSE_BIGQUERY_IS_DEDUP_ENABLED` in your RudderStack setup to `false`.\n\nRudderStack then does the following:\n\n*   Creates `users_view` while loading the `users` table, **if not already present**.\n*   Creates the views for the new `track` events.\n*   All the other skipped views are not regenerated. You can either manually create those views or [contact us](https://www.rudderstack.com/contact) to create them.\n\n## FAQ\n\n#### Where do I add the allowlisted IPs in BigQuery?\n\nBy default, BigQuery is accessible via publicly accessible Google APIs. As such, allowlisting any IPs is not required. However, if your VPC service restricts the BigQuery APIs, you will need to [allowlist the IPs](#ips-to-be-allowlisted) by [setting up network access control for BigQuery](https://staging.medium.com/setting-up-network-access-control-for-bigquery-3957be554467).\n\n#### How are reserved words handled by RudderStack?\n\nThere are some limitations when it comes to using [reserved words](https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical#reserved_keywords) in a schema, table, or column names. If such words are used in event names, traits or properties, they will be prefixed with a `_`when RudderStack creates tables or columns for them in your schema.\n\nBesides, integers are not allowed at the start of the schema or table name. Hence, such schema, column or table names will be prefixed with a `_`.\n\nFor instance, `'25dollarpurchase`’ will be changed to `'_25dollarpurchase`'.\n\n#### When sending data into a data warehouse, how can I change the table where this data is sent?\n\nBy default, RudderStack sends the data to the table/dataset based on the source it is connected to. For example, if the source is Google Tag Manager, RudderStack sets the schema name as `gtm_*`. However, you can override this behavior by setting the **Namespace** field in the BigQuery destination settings:\n\n[![Namespace](https://www.rudderstack.com/docs/images/image%20%2879%29.webp)](https://www.rudderstack.com/docs/images/image%20%2879%29.webp)\n\n#### I’m looking to send data to BigQuery through RudderStack and I’m trying to understand what data is populated in each column. How do I go about this?\n\nRefer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) documentation for details on how RudderStack generates the schema in the warehouse and populates the data in each column.\n\n#### I am trying to load data into my BigQuery destination and I get the error “Cannot read and write in different locations”. What should I do?\n\nMake sure that both your BigQuery dataset and the bucket have the same region.\n\n#### When piping data to a BigQuery destination, I can set the bucket but not a folder within the bucket. Is there a way to put RudderStack data in a specific bucket folder?\n\nYes, you can set the desired folder name in the **Prefix** field while setting up your BigQuery destination in RudderStack.\n\n#### Does open source RudderStack support near real-time syncing to BigQuery and event replay?\n\nThe near-realtime BigQuery syncing feature is currently under development and is planned to be released in the coming months. Unfortunately, Event Replay is not a part of open-source RudderStack currently.\n\n#### What is the current sync frequency for BigQuery?\n\nIf you’re using open source RudderStack, the minimum sync frequency is **30 minutes**. If you’re self-hosting the data plane or using RudderStack’s [Enterprise plan](https://www.rudderstack.com/enterprise-quote/), you can assign the required value for sync frequency to the `uploadFreqInS` parameter in `config.yaml` file. Note that the minimum value can be `1800` (30 minutes).\n\nFor more information, refer to this [FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#is-there-a-way-to-force-load-my-data-into-the-warehouse).\n\n#### Do I need to stop the running pipeline to change my sync frequency? Or will the new change be effective even without stopping the pipeline?\n\nTo change the sync frequency, you **need not** stop the pipeline.\n\n#### When configuring the BigQuery destination, where does Google use the credentials JSON from?\n\nBigQuery uses the credentials JSON from the dashboard configuration when setting up the destination. For more information, refer to the [Setting up the service account for RudderStack](#setting-up-the-service-account-for-rudderstack) section.\n\n#### When configuring the BigQuery destination, should the user permissions be set for the specific dataset or the whole project?\n\nYou need to set the user permissions for the whole project. Otherwise, you may encounter issues.\n\n#### How long are the failed syncs retried before being aborted?\n\nRudderStack retries the failed syncs for up to 3 hours before aborting them. For more information, refer to this [FAQ](https://www.rudderstack.com/docs/resources/faq/#how-does-rudderstack-handle-retries-for-failed-events-in-case-of-destination-failure).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google BigQuery destination | RudderStack Docs",
  "description": "Sync data from RudderStack to Google BigQuery.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/",
  "markdown": "# Connection Modes: Cloud, Device, and Hybrid\n\nLearn the difference between cloud mode, device mode, and hybrid mode when sending event data to your destinations.\n\n* * *\n\n*     5 minute read  \n    \n\nThis guide clarifies and details the differences between the two main RudderStack connection modes - **cloud mode** and **device mode**. It also give an overview on **hybrid mode**, which is currently applicable only to a limited number of destinations.\n\n## What are connection modes in RudderStack?\n\nRudderStack’s workflow is simple - it receives the event data from the **sources** and routes this data to the **destinations**. The connection modes determine how RudderStack tracks, transforms, and routes this event data.\n\nThere are primarily two connection modes through which you can send your event data from your source apps to the desired destinations via RudderStack:\n\n*   Cloud mode\n*   Device mode\n\nFor some selective destinations, RudderStack also supports a hybrid mode connection which routes the event through both the cloud and device modes.\n\n## Cloud mode\n\nIn this mode, the SDK sends the event data directly to the RudderStack server. RudderStack then transforms this data and routes it to the desired destination. This transformation is done in the RudderStack backend, using RudderStack’s [Transformer](https://github.com/rudderlabs/rudder-transformer) module.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> When you send events via cloud mode, you also get the flexibility to use [RudderStack Transformations](https://www.rudderstack.com/docs/transformations/overview/) to implement custom logic on the events before forwarding them to the destinations.\n\n### How cloud mode works\n\n1.  The SDK sends the event data directly to the RudderStack server (backend).\n2.  RudderStack transforms the events into a destination-specific format.\n3.  The transformed events are then routed to the destination.\n\nSuppose you want to analyze your website data in Google Analytics. To do so, you can use RudderStack’s [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/).\n\nRudderStack defines a [fixed event structure](https://www.rudderstack.com/docs/event-spec/standard-events/). If you track your events in this format, RudderStack takes care of transforming the events as required by Google Analytics. You can start by [adding a JavaScript source](https://www.rudderstack.com/docs/dashboard-guides/sources/#adding-a-source) and connecting it to the [Google Analytics destination](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-ga/) in your RudderStack dashboard.\n\nThen, enable event tracking on your website by [adding the JavaScript SDK snippet](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/quickstart/#step-1-install-rudderstack-javascript-sdk).\n\nThe SDK will automatically track and send the events to RudderStack. RudderStack then transforms this data into the required format and sends it to Google Analytics.\n\n[![RudderStack Cloud Mode](https://www.rudderstack.com/docs/images/rs-cloud/rudderstack-cloud-mode.webp)](https://www.rudderstack.com/docs/images/rs-cloud/rudderstack-cloud-mode.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   RudderStack’s [warehouse destinations](https://www.rudderstack.com/docs/destinations/warehouse-destinations/) support sending data only through cloud mode.\n> *   All the RudderStack server-side SDKs support sending events only through cloud mode. This is because the server-side SDKs operate in the RudderStack backend and cannot load any additional destination-specific SDKs.\n\n## Device mode\n\nIn device mode, RudderStack sends the event data to the destinations directly from your client (web or mobile app).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack does not support the [Live Events](https://www.rudderstack.com/docs/dashboard-guides/live-events/) functionality in device mode.\n\nThe RudderStack SDKs first load the native client libraries on your website or mobile app. These libraries allow RudderStack to use the data you collect on your device to call the destination APIs - without sending it to the RudderStack servers first.\n\n### How device mode works\n\nSuppose you want to send your event data from your mobile app to Firebase via the RudderStack Android SDK (or any other mobile SDK). You can start by [adding an Android source](https://www.rudderstack.com/docs/dashboard-guides/sources/#adding-a-source) and connecting it to the [Firebase destination](https://www.rudderstack.com/docs/destinations/streaming-destinations/firebase/) in the RudderStack dashboard.\n\nThe RudderStack SDK will first download the Firebase SDK, transform the events natively, and then send them over to Firebase.\n\n[![RudderStack device mode](https://www.rudderstack.com/docs/images/rs-cloud/rudderstack-device-mode.webp)](https://www.rudderstack.com/docs/images/rs-cloud/rudderstack-device-mode.webp)\n\nFor some destinations, you can use the [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/) to send the events via device mode. To do so, enable the **Use native SDK to send events** option under the destination-specific connection settings in the RudderStack dashboard:\n\n[![RudderStack web SDK settings](https://www.rudderstack.com/docs/images/rs-cloud/web-device-mode-settings.webp)](https://www.rudderstack.com/docs/images/rs-cloud/web-device-mode-settings.webp)\n\n## Hybrid mode\n\nIn hybrid mode, RudderStack sends certain event data to the destination directly from your client while routing the remaining events through the RudderStack server.\n\nHybrid mode features include:\n\n*   A singular connection capturing critical event data automatically generated by the native SDKs.\n*   All the benefits of cloud mode like:\n    *   Faster site\n    *   Reliable data collection\n    *   First-party data capture\n\n## FAQ\n\n#### Which connection mode should I choose?\n\n*   Use cloud mode if you wish to run a faster site with reliable data collection and first-party data capture.\n*   If you are planning to work with the destinations that record information directly on your users’ devices, choose device mode. There is a possibility that these destinations might not function correctly if they are not loaded directly on the device.\n\n#### How to check which connection mode is supported by the destination?\n\nThe easiest way to check the connection mode supported by the destination is to go refer to the individual destination’s [documentation](https://www.rudderstack.com/docs/destinations/overview/).\n\nThe supported connection modes are mentioned for every destination in the **Getting Started** section of their respective documentation, as seen below:\n\n[![Getting Started section in destination docs](https://www.rudderstack.com/docs/images/rs-cloud/getting-started-connection-modes.webp)](https://www.rudderstack.com/docs/images/rs-cloud/getting-started-connection-modes.webp)\n\nSome RudderStack destinations support sending events via both the cloud and device mode. Some examples include:\n\n*   [Google Analytics](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-ga/)\n*   [HubSpot](https://www.rudderstack.com/docs/destinations/streaming-destinations/hubspot/)\n*   [Intercom](https://www.rudderstack.com/docs/destinations/streaming-destinations/intercom/)\n*   [Kissmetrics](https://www.rudderstack.com/docs/destinations/streaming-destinations/kissmetrics/)\n*   [Branch.io](https://www.rudderstack.com/docs/destinations/streaming-destinations/branchio/)\n*   [Braze](https://www.rudderstack.com/docs/destinations/streaming-destinations/braze/)\n*   [Customer.io](https://www.rudderstack.com/docs/destinations/streaming-destinations/customer.io/)\n*   [Facebook App Events](https://www.rudderstack.com/docs/destinations/streaming-destinations/facebook-app-events/)\n\n#### What are the benefits of using cloud mode to send events to the destination?\n\nIn cloud mode, the event data is sent from the sources directly to the RudderStack server. RudderStack takes care of the event transformation and ensuring the format matches the destination’s requirements. Since this transformation happens in the RudderStack server itself, your page size as well as the load times are not affected at all.\n\n#### Can I use an event forwarding or data plane proxy in the device mode?\n\nYes, you can use an event forwarding/data plane proxy while sending events to your destinations via device mode. The default vendor API endpoint will still work as expected.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Connection Modes: Cloud, Device, and Hybrid | RudderStack Docs",
  "description": "Learn the difference between cloud mode, device mode, and hybrid mode when sending event data to your destinations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/",
  "markdown": "# Create a RudderStack IAM role for AWS-based destinations\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Create a RudderStack IAM role for AWS-based destinations | RudderStack Docs",
  "description": "Create a RudderStack IAM role for authenticating AWS-based destinations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/streaming-destinations/zapier/",
  "markdown": "# Zapier | RudderStack Docs\n\nSend your event data from RudderStack to Zapier.\n\n* * *\n\n*     2 minute read  \n    \n\n[Zapier](https://zapier.com/) is a powerful automation tool that lets you automate your work across 5000+ applications.\n\nRudderStack supports Zapier as a destination where you can seamlessly send your event data.\n\n## Getting started\n\nBefore configuring Zapier as a destination in RudderStack, verify if the source platform is supported by Zapier by referring to the table below:\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| Device mode | \\-  | \\-  | \\-  |\n| Cloud mode | Supported | Supported | Supported |\n\nOnce you have confirmed that the source platform supports sending events to Zapier, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Zapier**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Zapier as a destination, you will need to configure the following settings:\n\n[![Zapier connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/zapier-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/zapier-connection-settings.webp)\n\n*   **Zap URL**: Enter your Zap URL.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on creating a Zap and obtaining the Zap URL, refer to the [FAQ](#faq) section below.\n\n*   **Mapping Track Events to a particular Zap**: Use this setting to send the `track` events with the specified **Event Name** to the corresponding **Zap URL**.\n*   **Mapping Page/Screen Events to a particular Zap**: Use this setting to send the `page`/`screen` events with the specified **Event Name** to the corresponding **Zap URL**.\n\n## Sending events to Zapier\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports sending only [](https://www.rudderstack.com/docs/event-spec/standard-events/track/), [](https://www.rudderstack.com/docs/event-spec/standard-events/page/), and [](https://www.rudderstack.com/docs/event-spec/standard-events/screen/)events to Zapier.\n\nRudderStack does not transform or map any data before sending it to Zapier. It sends the raw event payloads to the specified **Zap URL** as is, without any modification.\n\nYou can also send specific `track`, `page`, or `screen` events to a particular Zap URL as mentioned in the [Connection settings](#connection-settings) above.\n\n## FAQ\n\n#### Where can I find the Zap URL?\n\nTo get your Zap/Zapier URL, you need to first create a Zap by following these steps:\n\n1.  Log into your [Zapier dashboard](https://zapier.com/app/dashboard) and click **Create Zap**.\n2.  In the **App Events** section, search for webhooks and select **Webhooks by Zapier**.\n3.  Under **Event**, select the **Catch Raw Hook** option and click **Continue**.\n\n[![Zapier connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-1.webp)\n\n4.  In the **Test Trigger** section, you will find your Zap URL or the webhook URL where you can send all requests. Copy and use this URL to set up the Zapier destination in RudderStack.\n\n[![Zapier connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-2.webp)\n\n5.  **Important**: Complete the setup by connecting the trigger to an application, that is, the downstream tool where all data will be sent.\n\n[![Zapier connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/create-zap-3.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Zapier | RudderStack Docs",
  "description": "Send your event data from RudderStack to Zapier.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/gcs-datalake/",
  "markdown": "# Google Cloud Storage data lake\n\nSync data from RudderStack to GCS Data Lake.\n\n* * *\n\n*     5 minute read  \n    \n\nThe [Google Cloud Storage (GCS) data lake](https://cloud.google.com/architecture/build-a-data-lake-on-gcp) leverages [Google Cloud Storage](https://cloud.google.com/storage) for storing and accessing your data in the GCP infrastructure.\n\n## Setting user permissions\n\nTo set up GCS data lake as a destination in RudderStack, you will need to create a new user role and grant the required permissions to create schemas and temporary tables.\n\n### Creating the role and adding permissions\n\n1.  Go to the [Google Cloud IAM Admin console](https://console.cloud.google.com/iam-admin/roles) and click **CREATE ROLE**.\n2.  Then, fill in the details as shown:\n\n[![Role details](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-2.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-2.webp)\n\n3.  Fill the details and click **ADD PERMISSIONS**.\n4.  Under **Filter permissions by role**, select **Storage Object Admin** and grant the required permissions:\n\n[![Setting permissions](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-3.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-3.webp)\n\n5.  The permission required to successfully use the GCS data lake destination is shown:\n\n```\nstorage.objects.create\nstorage.object.get\n```\n\n6.  Then, click **CREATE**. This will successfully create the role.\n\n### Creating the service account and attaching the role\n\n1.  Go to the **Service Accounts** option in the [Google Cloud IAM Admin console](https://console.cloud.google.com/iam-admin/serviceaccounts).\n2.  Then, select the project containing the dataset that you want to use.\n3.  Next, click **CREATE SERVICE ACCOUNT**.\n4.  Fill in the details as shown below and click **CREATE**.\n\n[![Service account details](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-4.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-4.webp)\n\n5.  Then, select the previously created role and click **CONTINUE**.\n\n[![Role details](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-5.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-5.webp)\n\n6.  Finally, click **DONE**.\n\n### Creating and downloading the JSON key\n\n1.  Click the three dots under **Actions** in the service account that you just created and select **Manage keys**:\n\n[![Manage keys option](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-6.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-6.webp)\n\n2.  Click **ADD KEY**, followed by **Create new key**:\n\n[![Creating new key](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-7.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-7.webp)\n\n3.  In the resulting pop-up, select **JSON** and click **CREATE**.\n\n[![Downloading JSON key](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-8.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-8.webp)\n\n4.  Finally, download this JSON file. This file is required while setting up the GCS data lake destination in RudderStack.\n\n## Configuring GCS data lake destination in RudderStack\n\nTo send event data to GCS data lake, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to GCS data lake via RudderStack.\n\nTo configure GCS data lake as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Google Cloud Storage Data Lake** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **GCS Storage Bucket Name**: The name of the GCS bucket used to store data before loading it into the GCS data lake.\n*   **Prefix**: If specified, RudderStack will create a folder in the bucket with this prefix and push all data within that folder. For example, `https://storage.googleapis.com/<bucketName>/<prefix>/`.\n*   **Namespace**: If specified, all data for the destination will be pushed to `https://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>`. If you don’t specify a namespace in the settings, RudderStack sets it to the source name, by default.\n*   **Table Suffix**: This optional setting lets you define a custom path under which your table data is stored. For example, if you set this field to `rs`, your data will be pushed to `https://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/<table-name>/rs`.\n*   **Choose time window layout**: This option lets you set the timestamp-defined layout structure under which the table data will be stored.\n\n[![GCS data lake destination settings in RudderStack](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-time-window-layout.webp)](https://www.rudderstack.com/docs/images/dw-integrations/gcs-datalake-time-window-layout.webp)\n\nFor example, if you choose the option **Upto Hour (year=YYYY/month=MM/day=DD/hour=HH)** and an event called `Product Clicked` is received at `2022-08-06T17:30:00.000T`, then the data will be stored in the following location:\n\n```\nhttps://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/<table_name>/<table_suffix>/year=2022/month=08/day=06/hour=17/\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The default value for this setting is **YYYY/MM/DD/HH**.\n\n*   **Credentials**: Enter the content of the downloaded credentials JSON file in this field.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your GCS data lake.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the data lake.\n\n### Advanced settings\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n## Finding your data in the GCS data lake\n\nRudderStack converts your events into Parquet files and dumps them into the configured GCS bucket. Before dumping the events, RudderStack groups the files by the event name based on the time (in UTC) they were received.\n\nThe folder structure is similar to the following format:\n\n```\nhttps://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/<tableName>/YYYY/MM/DD/HH\n```\n\nAs specified in the [Connection settings](#connection-settings) section above:\n\n*   `<prefix>` is the GCS prefix used while configuring the GCS data lake destination in RudderStack. If not specified, RudderStack will omit this value.\n*   `<namespace>` is the namespace specified in the destination settings. If not specified, RudderStack sets it to the source name.\n*   `<tableName>` is set to the event name.\n*   `YYYY`, `MM`, `DD`, and `HH` are replaced by the actual time values.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> A combination of the `YYYY`, `MM`, `DD`, and `HH` values represents the UTC time.\n\n### Use case\n\nSuppose that RudderStack tracks the following two events:\n\n| Event Name | Timestamp |\n| --- | --- |\n| Product Purchased | `\"2019-10-12T08:40:50.52Z\" UTC` |\n| Cart Viewed | `\"2019-11-12T09:34:50.52Z\" UTC` |\n\nRudderStack then converts these events into Parquet files and dumps them into the following folders:\n\n| Event Name | Folder Location |\n| --- | --- |\n| Product Purchased | `https://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/product_purchased/2019/10/12/08` |\n| Cart Viewed | `https://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/cart_viewed/2019/11/12/09` |\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### What are the files written in the location `<namespace>/rudder-warehouse-staging-logs/`?\n\nRudderStack collects all unprocessed data flowing to the warehouse destinations as staging files. It stores these files in the object storage at the location `https://storage.googleapis.com/rudder-warehouse-staging-logs/`.\n\nOnce the staging files are processed, RudderStack separates them by the event name and sends them to the specified destination in the following format:\n\n`https://storage.googleapis.com/<bucketName>/<prefix>/rudder-datalake/<namespace>/<tableName>`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Google Cloud Storage data lake | RudderStack Docs",
  "description": "Sync data from RudderStack to GCS Data Lake.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/materialize/",
  "markdown": "# Materialize | RudderStack Docs\n\nSend your event data from RudderStack to Materialize.\n\n* * *\n\n*     3 minute read  \n    \n\n[Materialize](https://materialize.com/) is a streaming database used to process data at scale and high speeds without the cost and complexity of the traditional streaming platforms.\n\nYou can set up Materialize as a webhook destination in RudderStack to seamlessly send your event data.\n\n## Prerequisites\n\nBefore you begin, make sure you have created a Materialize cluster and a webhook source in Materialize to ingest data from RudderStack.\n\n### Step 1: Create Materialize cluster\n\nTo create a managed cluster in Materialize, run the following SQL command:\n\n```\nCREATE CLUSTER rudderstack_cluster SIZE = '3xsmall';\n```\n\nSee the Materialize documentation on [creating a cluster](https://materialize.com/docs/sql/create-cluster/) for more information.\n\n### Step 2: Create shared secret\n\nEstablish a shared secret to ensure the authenticity of data sent from RudderStack to Materialize. The following command creates a shared secret that lets RudderStack authenticate each incoming request and ensure data integrity.\n\n```\nCREATE SECRET rudderstack_shared_secret AS '<secret_value>';\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure to change `<secret_value>` to a unique value and store it in a secure location for later reference.\n\n### Step 3: Set up webhook source in Materialize\n\nUse the secret from [Step 2](#step-2-create-shared-secret) to [create a webhook source](https://materialize.com/docs/sql/create-source/webhook/) in Materialize and ingest data coming from RudderStack:\n\n```\nCREATE SOURCE rudderstack_source IN CLUSTER rudderstack_cluster\n  FROM WEBHOOK\n    BODY FORMAT JSON\n    CHECK (\n      WITH (\n        HEADERS,\n        BODY AS request_body,\n        SECRET rudderstack_shared_secret\n      )\n      constant_time_eq(headers->'authorization', rudderstack_shared_secret)\n);\n```\n\n## Set up webhook destination in RudderStack\n\nFollow these steps to set up Materialize as a webhook destination in RudderStack:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), go to **Directory** > **Destinations** > **Cloud Destinations** and search for **Webhook**.\n2.  Select the source from where you want to ingest events and click **Continue**. See [Add a source](https://www.rudderstack.com/docs/dashboard-guides/sources/#add-a-source) for more information.\n\n### Connection settings\n\nConfigure the following settings to set up Ortto as a destination in RudderStack:\n\n*   **Webhook URL**: Define the endpoint used to dispatch the events ingested by RudderStack. The [webhook URL structure](https://materialize.com/docs/sql/create-source/webhook/#webhook-url) is defined as:\n\n```\nhttps://<HOST>/api/webhook/<database>/<schema>/<src_name>\n```\n\n*   **URL Method**: Select the `POST` method from the dropdown used to send events to Materialize.\n    \n*   **Headers**: Specify the headers that are added to every RudderStack request sent to your webhook. Make sure to add the following headers:\n    \n    *   `Content-Type`: `application/json`\n    *   `Authorization`: `<secret_value`\\> obtained in [Step 2: Create shared secret](#step-2-create-shared-secret).\n*   **OneTrust cookie consent settings**: This setting lets you associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/) cookie consent groups to Materialize.\n    \n\n## Monitor incoming data\n\n1.  Log in to the [Materialize console](https://console.materialize.com/).\n2.  Go to the SQL shell.\n3.  Select your cluster.\n4.  Use SQL queries to analyze the incoming data:\n\n```\nSELECT * FROM rudderstack_source;\n```\n\nHere, `rudderstack_source` is the webhook source created in [Step 3: Set up webhook source](#step-3-set-up-webhook-source-in-materialize) to ingest data coming from RudderStack.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you do not see any data, check the [Live Events](https://www.rudderstack.com/docs/dashboard-guides/live-events/) tab to verify if the events are flowing through correctly.\n\n## Parse incoming data\n\nYou can create materialized views to parse any incoming data from RudderStack, depending on your use case. An example is shown below:\n\n```\nCREATE VIEW json_parsed AS\n  SELECT\n    (body -> '_metadata' ->> 'nodeVersion')::text AS nodeVersion,\n    (body ->> 'channel')::text AS channel,\n    (body ->> 'event')::text AS event,\n    (body ->> 'userId')::text AS userId\n  FROM rudderstack_source;\n```\n\nIn the above query, `json_parsed` parses the incoming data and transforms the JSON structure into columns in your Materialize schema like `nodeVersion`, `channel`, `event`, and `userId`.\n\nYou can also use the `DISTINCT` clause to remove any duplicates received due to any issues. For more information, see the [Materialize webhook source documentation](https://materialize.com/docs/sql/create-source/webhook/#handling-duplicated-and-partial-events).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Materialize | RudderStack Docs",
  "description": "Send your event data from RudderStack to Materialize.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/sql-server/",
  "markdown": "# Microsoft SQL Server | RudderStack Docs\n\nSync data from RudderStack to Microsoft SQL Server.\n\n* * *\n\n*     5 minute read  \n    \n\n[Microsoft SQL Server](https://www.microsoft.com/en-in/sql-server/sql-server-downloads) is a popular relational database management system (RDBMS). ideal for a variety of data workloads - from small-scale, single-machine data applications to large data applications with thousands of concurrent users.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the tables in SQL Server.\n\n## Setting user permissions in SQL Server\n\nAfter setting up your SQL Server database, create a user with the necessary privileges to create schemas and temporary tables in this database.\n\nTo create a SQL Server instance on Docker, run the following commands:\n\n```\ndocker run -e \"ACCEPT_EULA=Y\" -e \"SA_PASSWORD=Test@123\" -p 1433:1433 --name rudder_mssql -h rudder_mssql -d mcr.microsoft.com/mssql/server:2019-latest\n```\n\n```\ndocker exec -it rudder_mssql \"bash\" /opt/mssql-tools/bin/sqlcmd -S localhost -U SA [-P \"Test@123\"]\n```\n\nIn the above commands, the user is `SA` (System Admin) and password is `Test@123`.\n\nThe following queries let you create a user and grant the above-mentioned privileges (creating schemas and temporary tables on the database) to that user:\n\n```\nCREATE LOGIN testuser WITH PASSWORD = 'Test@123';\nCREATE USER testuser FOR LOGIN testuser ;\n\nCREATE DATABASE test_db\nUSE test_db\n-- GRANT individual permissions like this or\nGRANT CREATE TABLE TO testuser\n-- Provides owner permissions to user\nEXEC sp_addrolemember N'db_owner', N'testuser'\n```\n\n### Using AWS RDS instance\n\nYou can execute the same commands via Azure Studio or using the **sqlcmd** utility (`cmdline sqlcmd`).\n\n## Configuring SQL Server destination in RudderStack\n\nTo send event data to SQL Server, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to SQL Server via RudderStack.\n\nTo configure SQL Server as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **Microsoft SQL Server** from the list of destinations.\n2.  Assign a name to your destination and then click **Next**.\n\n### Connection settings\n\n*   **Host**: The host name of your SQL Server service.\n*   **Database**: The database name in your SQL Server instance where the data will be sent.\n*   **User**: The name of the user with the required read/write access to the above database.\n*   **Password**: The password for the above user.\n*   **Port**: The port number associated with the SQL Server database instance.\n*   **Namespace**: Enter the schema name where RudderStack will create all tables. If you don’t specify any namespace, RudderStack will set this to the source name, by default.\n*   **SSL Mode**: Choose the SSL mode through which RudderStack will connect to your SQL Server instance. RudderStack provides three options - **disable**, **true**, and **false**.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your SQL Server database.- **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Advanced settings\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage configuration settings while setting up your Microsoft SQL Server destination:\n\n*   **Use RudderStack-managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For self-hosted data planes, you will have to specify your own object storage configuration settings.\n\n*   **Choose your storage provider**: If **Use RudderStack-managed object storage** is **disabled** in the dashboard, select the cloud provider for your object storage and enter the relevant settings:\n    \n    *   [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings)\n    *   [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage)\n    *   [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage)\n    *   [MinIO bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/#setting-up-minio)\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### How does RudderStack handle cases when loading the data into SQL Server?\n\nRudderStack converts the event keys into lower case before exporting the data into SQL Server, so that it does not create two tables if the event name has two different cases.\n\n#### How are reserved words handled by RudderStack?\n\nThere are some limitations when it comes to using [reserved words](https://docs.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver15) in a schema, table, or column names. If such words are used as event names, traits or properties, they will be prefixed with a `_` when RudderStack creates tables or columns for them in your schema.\n\nAlso, it is important to note that integers are not allowed at the start of the schema or table name. Hence, RudderStack prefixes such schema, column or table names with a `_`.\n\nFor instance, `'25dollarpurchase'` will be changed by RudderStack to `'_25dollarpurchase`'.\n\n#### What are the SSL mode options provided by RudderStack?\n\nWhile setting up the SQL Server destination, RudderStack provides the following three SSL options:\n\n*   **disable**: The data sent from RudderStack to your database is not encrypted.\n*   **false**: The data sent from RudderStack to your database is not encrypted beyond the login packet.\n*   **true**: The data sent from RudderStack to your database is encrypted.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Microsoft SQL Server | RudderStack Docs",
  "description": "Sync data from RudderStack to Microsoft SQL Server.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/overview/",
  "markdown": "# Transformations Overview | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Transformations Overview | RudderStack Docs",
  "description": "Transform event data in real-time with custom JavaScript and Python functions.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/usage/",
  "markdown": "# Use Transformations in Cloud, Device, and Hybrid Mode\n\nUse transformations with destinations connected in cloud, device, and device mode.\n\n* * *\n\n*     10 minute read  \n    \n\nThis guide explains how to use transformations with destinations connected in different RudderStack [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/).\n\n## Transform a single event\n\nWhile using a transformation, RudderStack applies the `transformEvent` function on each event that takes the following two arguments:\n\n| Argument | Description |\n| --- | --- |\n| `event` | The input event. |\n| `metadata` | The JavaScript function to access the event’s metadata. See the [Access event metadata](#access-event-metadata) section below for more information. |\n\nAfter the transformation is complete, the `transformEvent` function returns the final event to be sent to the destination.\n\n#### Access event metadata\n\nRudderStack injects a function `metadata(event)` into your transformations as an argument. This lets you access the event metadata variables to customize your transformations.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `metadata()` takes the event as the input and returns the metadata of the event.\n\nThe following properties, if available, are present in the metadata response:\n\n| Property | Description |\n| --- | --- |\n| `sourceId` | The source ID in the [Settings](https://www.rudderstack.com/docs/dashboard-guides/sources/#source-details) tab of your source configured in the RudderStack dashboard. |\n| `sourceName` | The source name set in the RudderStack dashboard. For example, `JavaScript-QA`, `TestJSSource`, etc. |\n| `destinationId` | The destination ID in the [Settings](https://www.rudderstack.com/docs/dashboard-guides/destinations/#destination-details) tab of your destination configured in the RudderStack dashboard. |\n| `messageId` | The unique ID for each event. |\n| `sourceType` | The source type, for example, Android, iOS. |\n| `destinationType` | The destination type where RudderStack sends the transformed event, for example, Snowflake. |\n\nExample transformations using the `metadata` data method are shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const meta = metadata(event);\n  event.sourceId = meta.sourceId;\n\n  return event;\n}\n```\n\n```\ndef transformEvent(event, metadata):\n    meta = metadata(event)\n    event['sourceId'] = meta['sourceId']\n    return event\n```\n\n#### Make external API requests\n\nYou can make any number of external API requests in your transformation functions and use the fetched responses to enrich your events.\n\n##### JavaScript\n\nRudderStack injects an asynchronous `fetch` function in your transformations. It makes an API call to the given URL and returns the response in the JSON format.\n\nYou can use the `fetch` function in your transformations:\n\n```\nexport async function transformEvent(event, metadata) {\n  const res = await fetch(\"post_url\", {\n    method: \"POST\",  // POST, PUT, DELETE, GET, etc.\n    headers: {\n      \"Content-Type\": \"application/json;charset=UTF-8\",\n      Authorization: \"Bearer <authorization_token>\"\n    },\n    body: JSON.stringify(event)\n  });\n  event.response = JSON.stringify(res);\n  return event;\n}\n```\n\nTo see the `fetch` function in action, refer to the [Clearbit enrichment](https://github.com/rudderlabs/sample-user-transformers/blob/sampleTransformationV1/EnrichWithClearbit.js) example.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For improved performance, it is highly recommended to use the `batch` API requests wherever possible instead of a separate API request for each event.\n\n##### Fetch v2\n\n`fetchv2` is a wrapper for the `fetch` call. It enables you to fetch the response properties more efficiently while making the external API calls.\n\nThe `fetchv2` response contains the following properties:\n\n| Property | Description |\n| --- | --- |\n| `status` | Status code of fetch response, for example, `200`. |\n| `url` | The URL of the Fetch API. |\n| `headers` | The response headers |\n| `body` | The response body in JSON or TEXT. By default, it is JSON. |\n\nThe following example highlights the use of the `fetchV2` function in a transformation to capture failure due to a timeout:\n\n```\nexport async function transformEvent(event) {\n  try {\n    const res = await fetchV2(\"url\", { timeout: 1000});\n    if (res.status == 200) {\n      event.response = JSON.stringify(res.body);\n    }\n  } catch (err) {\n    log(err.message);\n  }\n  return event;\n}\n```\n\n#### Python\n\nYou can use Python’s `requests` package to fetch response properties while making the external API calls:\n\n```\nimport requests\n\ndef transformEvent(event, metadata):\n    res = requests.get(\"url\")\n    if res.status_code == 200:\n        event[\"response\"] = res.json();\n    return event\n```\n\n## Transform batch of events\n\nYou can perform any aggregation or roll-up operation on a batch of events using the `transformBatch` function instead of [`transformEvent`](#apply-transformation-on-single-event) function:\n\n```\nexport function transformBatch(events, metadata) {\n    return events;\n}\n```\n\n```\ndef transformBatch(events, metadata):\n    return events\n```\n\n> ![danger](https://www.rudderstack.com/docs/images/danger.svg)\n> \n> To ensure event ordering when using the `transformBatch` function, make sure you pass the `messageId` from the input event to the output event. Without the `messageId`, RudderStack **does not** guarantee event ordering.\n> \n> **It is highly recommended to use `transformEvent` as much as possible, as it ensures event ordering.**\n\n## Cloud mode\n\nWhen you [add a transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) and connect it to a destination in cloud mode, RudderStack does the following:\n\n1.  Tracks and collects events at the source.\n2.  Applies the user transformation logic to your events.\n3.  Transforms the events in the destination-specific format. This is done [internally](https://www.rudderstack.com/docs/resources/rudderstack-architecture/#transformation-module) and requires no user intervention.\n4.  Forwards the transformed events to your destination.\n\n[![Transformations workflow](https://www.rudderstack.com/docs/images/features/transformations-workflow-new.webp)](https://www.rudderstack.com/docs/images/features/transformations-workflow-new.webp)\n\n### Connect cloud mode destination\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can connect only one transformation to a destination. However, one transformation can be used by multiple destinations.\n\nThere are two ways to connect a transformation to a destination:\n\n#### **From transformation**\n\n1.  Click the **Connections** tab of your transformation and click **Connect Destination**. You will see a list of **all** the destinations and the transformations connected to them.\n2.  Scroll to the destination you want to connect to the transformation and click **Connect**.\n\n[![Connecting a transformation to a destination](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-destination.webp)](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-destination.webp)\n\n3.  Enable the **Connect to transformation** toggle and click **Save**.\n\n[![Enable transformation](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)\n\n#### **From destination**\n\n1.  Go to the destination in the dashboard. Click the **Transformation** tab and click **Add a transformation**:\n\n[![Connecting a transformation to existing destination](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-existing-destination-1.webp)](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-existing-destination-1.webp)\n\n2.  Select the transformation to connect to the destination and click **Choose**.\n\n[![Connecting a transformation to existing destination](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-existing-destination-2.webp)](https://www.rudderstack.com/docs/images/features/transformations/adding-transformation-existing-destination-2.webp)\n\n## Device mode\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Device mode transformations is a beta feature and available for the [Enterprise](https://www.rudderstack.com/enterprise-quote/) plan users only.\n\nYou can use transformations with destinations supporting [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode), like Firebase, Hotjar, and so on.\n\nDevice mode transformations leverage our Client Transformation service to transform events, then send the transformed events directly to the device mode destination through their native SDK.\n\n[![Transformations workflow](https://www.rudderstack.com/docs/images/features/device-mode-transformations.webp)](https://www.rudderstack.com/docs/images/features/device-mode-transformations.webp)\n\nLearn more about the architecture in the [Client Transformations Service architecture](#client-transformation-service-architecture) section below.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   Only the [JavaScript](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/), [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/), and [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/) SDKs support device mode transformations.\n> *   You can write device mode transformations only in JavaScript. Python is not supported currently.\n> *   The transformations you use in device mode must adhere to the [RudderStack message schema](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/). Otherwise, the event will be dropped.\n\n### Connect device mode destination\n\nYou can enable device mode transformations only from the **Transformations** tab.\n\n#### **Prerequisites**\n\nBefore you set up a device mode transformation:\n\n*   Choose the connection mode as **Device mode** while configuring your destination.\n\n![Device mode option](https://www.rudderstack.com/docs/images/features/device-mode-setting.webp)\n\n*   In some cases, setting up a device mode destination involves enabling the **Use device mode to send events** toggle while configuring the destination.\n\n![Device mode toggle](https://www.rudderstack.com/docs/images/features/device-mode-toggle.webp)\n\n*   You can also change the connection mode after the destination is set up. Go to the destination’s **Configuration** tab and click **Edit configuration**.\n\n![Edit configuration](https://www.rudderstack.com/docs/images/features/destination-edit-configuration.webp)\n\n*   Some destinations support only device mode. See the [destination-specific documentation](https://www.rudderstack.com/docs/destinations/streaming-destinations/) for the supported connection modes.\n\n#### **Connect transformation to device mode destination**\n\n1.  [Write the transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) to connect to your device mode destination.\n2.  Set up your device mode destination in RudderStack.\n3.  In the [RudderStack dashboard](https://app.rudderstack.com/), go to **Collect** > **Transformations** in the left sidebar. Then, select the transformation to connect to this destination.\n4.  Click the **Connections** tab . If you don’t have any destinations connected to it, click **Connect Destination**. If the transformation already has connected destinations, click **Manage destinations**.\n\n[![Manage destinations button](https://www.rudderstack.com/docs/images/features/transformations/manage-transformations-1.webp)](https://www.rudderstack.com/docs/images/features/transformations/manage-transformations-1.webp)\n\nDepending on whether the destination you set up (in **Step 1**) is already connected to some transformation, there are two ways to add a device mode transformation to it:\n\n*   If your destination is **not connected** to any transformation click **Connect**. You will see a fly window with these options:\n\n[![Device mode transformation options](https://www.rudderstack.com/docs/images/features/device-mode-transformation-1.webp)](https://www.rudderstack.com/docs/images/features/device-mode-transformation-1.webp)\n\n*   If your destination is **already connected** to some other transformation, click the **Edit connections** button to switch your transformation. See [Switch transformation](https://www.rudderstack.com/docs/transformations/manage/#switch-transformation) for more information. Once you switch the transformation, you will see the above options to enable the device mode transformation.\n\n5.  Configure the following settings under **Device Mode**:\n\n*   Enable the **Connect to transformation** toggle.\n*   Enable the **Propagate errors** toggle depending on your requirement.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   Under **Cloud Mode**, the **Connect to transformation** toggle is enabled by default. **Do not** disable this toggle as it will not allow you to configure any device mode transformation settings.\n> *   If **Propagate errors** is enabled, RudderStack sends the events to the destination without transforming the events, for any transformation errors. This is helpful in preventing data loss in case of transformation code or runtime errors.\n> *   If your transformation involves hashing PII, enabling this setting will send the untransformed event data in case of any transformation errors.\n\n6.  Click **Save** to confirm the settings and for the changes to take effect.\n\nTo confirm that the device mode transformation is connected, go to the **Connections** tab of your transformation and check the **Connection Mode** column:\n\n[![Confirm device mode transformation connection](https://www.rudderstack.com/docs/images/features/device-mode-transformation-2.webp)](https://www.rudderstack.com/docs/images/features/device-mode-transformation-2.webp)\n\n### SDK setup\n\nAfter [adding a transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) and [connecting it to a device mode destination](#connect-device-mode-destination), you can connect your SDK source to it.\n\nFollow the below steps for setting up the required SDK:\n\nThe detailed steps to set up the JavaScript SDK are mentioned in the [Quickstart guide](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/quickstart/).\n\nInstall the Android SDK following the detailed steps mentioned in [Installing the Android SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/#installing-the-sdk) section. Additionally, use the following dependency in the Android app level `build.gradle`:\n\n```\nimplementation 'com.rudderstack.android.sdk:core:1.16.0'\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The iOS SDK v2 (beta) does not support device mode transformations. Use the iOS SDK v1 (stable version) instead.\n\nInstall the iOS SDK following the detailed steps mentioned in [Installing the iOS SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/#installing-the-rudderstack-ios-sdk) section. Additionally, use the following dependency in `Podfile`:\n\n### Tokenization\n\nRudderStack provides the tokenization feature in device mode transformations to add an extra layer of security. The token is available as a metadata in the transformation and you can validate it before attaching with the RudderStack SDK.\n\nA sample code to access the token in the transformation:\n\n```\nexport function transformEvent(event, metadata) {\n  const dmtToken = metadata(event)[\"Custom-Authorization\"];\n  //verify the token\n  ...\n  return event;\n}\n```\n\nYou can use the following methods to attach the token (in the string format) to the SDK:\n\n```\nrudderanalytics.setAuthToken(\"my-token\");\n```\n\n```\nRudderClient.putAuthToken(\"my-token\")\n```\n\n```\n[RSClient putAuthToken:@\"my-token\"];\n```\n\nYou can call these methods multiple times.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack clears the token when the user logs out, that is, when the `reset()` API is called.\n\n### Client Transformation service architecture\n\nRudderStack provides the Client Transformation service to facilitate transformations for device mode destinations. It ensures that the event ingestion is unaffected, ensuring minimum response time from the RudderStack backend.\n\n[![Transformations workflow](https://www.rudderstack.com/docs/images/features/device-mode-transformations-workflow-new.webp)](https://www.rudderstack.com/docs/images/features/device-mode-transformations-workflow-new.webp)\n\n#### **Workflow**\n\nWhen you add a transformation and connect it to a device mode destination supporting the [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode):\n\n1.  RudderStack SDK sends the event to the Client Transformation service. It multiplexes the event for different destinations and connects with the transformations attached to these device mode destinations.\n2.  Client Transformation service sends the event to the RudderStack Transformation service to transform the event according to the functions defined in the attached transformations.\n3.  After the transformation is applied, the transformed event is returned to the Client Transformation service.\n4.  Client Transformation service responds to the SDK with the transformed events for all the destinations.\n5.  Finally, the SDK parses the transformed events and forwards them to the specified device-mode destinations.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If the request to the Client Transformation service fails, the RudderStack SDK makes three retry attempts. If it fails, the SDK forwards the untransformed events to the destination or drops them - based on the **Propagate errors** toggle while [configuring the device mode transformation](#connect-device-mode-destination) (see Step 6).\n\n### Debugging\n\nCheck the **Network** tab in the browser’s developer tools for any `transform` network requests to debug errors in your device mode transformations. These requests can help you determine if:\n\n*   The transformation has run as expected.\n*   The responses are as expected, based on the sent batch or otherwise.\n\n[![Debugging device mode transformations](https://www.rudderstack.com/docs/images/features/transformations/dmt-debugging.webp)](https://www.rudderstack.com/docs/images/features/transformations/dmt-debugging.webp)\n\n### Performance considerations\n\nRudderStack makes a network call for each event (in case of JavaScript SDK) or a batch of events (in case of mobile SDKs) when you use transformations with device mode destinations. Hence, there can be an added performance cost.\n\n## Hybrid mode\n\nWhile using transformations with destinations connected in [hybrid mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#hybrid-mode) like [GA4](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-analytics-4/), [Braze](https://www.rudderstack.com/docs/destinations/streaming-destinations/braze/), [Leanplum](https://www.rudderstack.com/docs/destinations/streaming-destinations/leanplum/), or [Rockerbox](https://www.rudderstack.com/docs/destinations/streaming-destinations/rockerbox/), you can choose to transform:\n\n*   **Events sent in both cloud and device mode**: By default, the transformation is applied to both the cloud and device mode events.\n*   **Only device mode events**: Access the `mode` field in your transformation’s [event metadata](https://www.rudderstack.com/docs/transformations/usage/#access-event-metadata) and check if its value is `deviceMode`. Then, specify the transformation logic to be applied to the device mode events:\n\n```\nexport function transformEvent(event, metadata) {\n\n  const mode = metadata(event)[\"mode\"];\n  if(mode === \"deviceMode\") {\n      //some transformation\n      return event;\n    }\n\n    return event;\n}\n```\n\n*   **Only cloud mode events**: Return the device mode events as it is using the `mode` field and specify the transformation logic for the rest of the events (cloud mode events), as shown:\n\n```\nexport function transformEvent(event, metadata) {\n\n  const mode = metadata(event)[\"mode\"];\n  if(mode === \"deviceMode\") {\n      return event;\n    }\n\n    ... //some transformation\n    return event;\n}\n```\n\n## Limitations\n\nA transformation connected in either [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode) or [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode) must follow the below memory and time limits. It fails if these limits are exceeded:\n\n| Parameter | Limit |\n| --- | --- |\n| Memory limit | 128 MB |\n| Execution time limit | 4 seconds |\n\nThe following limitations are applicable when invoking a transformation in device mode:\n\n*   The native destination SDKs might persist some captured data - mainly identifiers and traits. So, in device/hybrid mode, you cannot transform these fields using device mode transformations.\n*   Network unavailability can lead to higher latency than expected while sending the events to the destinations. RudderStack doesn’t lose data due to the network loss and stores the events in the client device until they are successfully delivered to the destination.\n*   The iOS SDK does not support the background processing of an event when the app is closed. However, it sends the pending events the next time the app is opened.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Use Transformations in Cloud, Device, and Hybrid Mode | RudderStack Docs",
  "description": "Use transformations with destinations connected in cloud, device, and device mode.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/create/",
  "markdown": "# Create Transformations | RudderStack Docs\n\nAdd and test a new transformation in RudderStack.\n\n* * *\n\n*     3 minute read  \n    \n\nThis guide will help you add a new transformation in the [RudderStack dashboard](https://app.rudderstack.com/). It also contains the steps to capturing any event-related information in your transformation using the [`log`](#capture-event-information-with-logs) function.\n\n![](https://img.shields.io/badge/Node.js%20Version-18.x-7447fc.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAl8SURBVHgB7Z1NbFzVFcfPfeOAFGR3WpqU4iwmFIli2tSVgHSXaaVK2TQgGhASSG3KKqlUpwvworhxJCyRZJMQJXSXqRSkCBIriQqq5CiZ7JKYxQiBbaoUJlJMRSqBsQMSMDOPe579wsh4PjJ+c979+P8kZ+zxmzzb9zfnfp+rqAPuH9yepyo9FpLKkaJBCsOsfjpLwAlCRSUV0pxSdJECKl4tnSzSbaLavTA3+Hg2qPUM6RvuJkjkGaqs/ymuyWT2zpROlNt6RasLIBSoJyQ6eEem51ArwZqKxVVeWFXH9H+XIwBuocoqDHdcfbdxFZlp9I37Nj05RDU6QYhS4LtkdUj64/fvGaBPP566uNIFK4p136bte3TV9zIB0ARd3eUbyfUdsZakGiUA2mBJrs+0XJeWPf8ti20qukAA3CY6GP26vs11S6zc4NO5TLV6AQ110BmqXM18/cty6fQcfxXETwe1yhCkAp0T5npqPbvjr6KItRitKh8SAKtjrpqpbOSoFUUsXQXuIQBWTzaOWnFVmCcAEiAMaYgfFXqCIGm4hxjo0fU8AZAgYRA+HujQtYUASJJQ5QKlMBcIkkb9giPWIAGQKGE2IACSB2KB7tBDHrKhfz09sc3dPkvhtbdofv5zShMvxerrvYv+svMpcpXxMxdTF8vLqnB+/iZJMj//BfmGn2ItyBb0/E1ZkU3AU7E+F40iMzPXyDe87RXO/u8GSXH9I7l7mYK3Yl2efI+k4Ajpm1zeijX1fpkkuTI5RT7hrVjnzk+SJNIip423YnH1dPltuepw/EyRfMLrKZ0JwaglLXLaeC0WRxHJYYdXXn2DfMFrsTiKFF77F0nBPVFfeofer26QjlqHPYla3ot1/aP/i0atU1pkH6IW1mNpCsffEo1awyNHyXUgFi22tYb/foSk4LYWy+wyEGuJifNXRAv7lVdfd7pKhFh1cGFPz5RJAo6Su4YOOLtWC2LVwYW9c/d+sUjC0zxjB46Ri0CsZXAv8dk/jYrJxb3E4RG59p0UEGsFINfqgVgNiOWSanOxXNuefN6ZBj3EagLL9bunnheb4+M2F8vswmQ1xGoD7i3mt+4SiSYs8zNarrH9BaujF8RqEy7w/NY/R20hiQI/dvzNKHrZuo4LYt0m3BaKBZvu8qpQlvkFfR+OluOWzTF6uRM6CVgw/hh4IEdPPJanB3+ao80PP0TdIBaM2fzIQ/T7bXl69JEB2nDvejIV9ZOfbw/JALhgeOu7zfT1rqUHtWj80dd3F/XrgufneH39qbNFSpoN967T91gX3a+/f3309+PnOKKmHd2MEav47yNGvwNtwgSxvGxj+biBVBpjxJrV7QhXwU7oFJmdlROLJZZcVbCw4OYKhmYYI5b0u1oyd4PUtJBJGCPW9PuyGVkkC5vfNL7lyDJGLMkkHYz0lvfp//h1BpYxYklnZDl3/gpJMiGcKyJtjBpukJwX49Fsl0VOG6PEuvy2bKofaZGRuyEluJ0l+ceX3oLlU3Vo3Mi7ZBRJI5WRL71D48SS3oIumQFGOglJmhg5VyiZOCON6teHqGWkWBy1JAt7+MUjYoXNUevwP14n1zF2dcPYvgJJwT02ycLmZceu9xCNFSvaJby/QFJIF7ZklEwDo9djpVHYUh0HjpKubq9njF/ot3PogGhhSybq4Lakq3lJjReLG7uS292lE3XwnkUX5bJiaXIauRR27paLXC7KZc2ad+lcCpyI7dnn9ojJ7JpcVm2mSCuXgpTMLNczz42SC2vkrdylI1kA0jLzTIDNW+tjrN3+xQXA++e4wCUEixODSBR4vPOZ23m2Rq/MD340MEoWw+NcvNOYj+Pt71/X1m5q3qXTiSB8j4kLk9Fr+T68e7vdn7GTtWYffDgbzS3yz8s7q9vd0BvNRy6ke9i49WIxXOBcePwH5U0ZX335dSTZnXfeseL1nYpVf79YME4M0qrQOxUrhu/B94p/Zv691v0w2/B6E8RyLikI9+b4g0YWE2hwXgPOZxDnhujtXauHEZL5o0fLm5eSg8QRbPPDAzTwwEbq7Vsb5VVIEr7fS0vTXIu/08bofiw1v5H4dzMFY3I3ALdAfizQFSAW6AoQC3QFiAW6AsQCXQFiga4AsUBXgFigKxgz8v7b3zxq1MixzZzT001JzS50ijFi/e2FPyBrckLwqo+0xUJVCLoCxHKQ+ZvpRisGYjlI2tUgA7Ec47oh+fIhlmPMGrKUGWI5hgnVIAOxHMOULDYQyzGkD2JoBMRyjGnhgxEaAbEcgqtBtLFA4ph0GBTEcgje62gKEMsReCu+9EFXzYBYjnBlUva4mFZALEfgpCUmAbEcgHuDpswRxkAsBzAxlxbEshxutJ+CWCBpDhuatxRiWYyp0YqBWBZjarRiIJaljC8lfDMViGUhXAWaNm61HIhlIYejTNFmjVstB2JZhulVYAzEsgiuAl8SPMNxNUAsS2Cp+MSKtNNstwvEsgCWaVd0bqPZ7ap6IJYFjO37Z3RglE1ALMMZfvEonTp7gWzDuZMpXIGrv+GRIzRx3pzlxrcDxDIQbqhzm8q26q8eiGUYLNOuof1WNdRXAmIZROH4m9aMU7UCYhkAV33DI0eN2mWzWiBWynCU4lNibRn4bBeIlRK8AWJsX8HqBnozIJYwLBRHKJeqvZWAWAJwNRetSjhbNCq/QjeBWF2CZeJD0GOZXGtDtQJiJQT37GZmrtElXdVxjirXq7pWGCMWn7zeZ9GRJzyAubDwBc3O3og+9y0itQKHjYOugNUNoCuwWHMEQMJosRTEAokSKioFiqhEACRIENJcEKqaGYnBgTsouhiomjpNACRJjYqKH/WQw6f6IUsArBalyv99542NweLndIgASIKQivwQiVUJKgcJww4gAdZkMnv5MRKrXDo9h6gFVk0YHpopnSjzp7dG3qOopetHAqATtDtretYcjL+8JVYUtWrhDgKgA9idOFoxmfpvfnJjqnz3PQOf6U+3EgBtokLae/Xdk4X65zLLL/rk46lLd68fUHqQK08AtGBJqtHlz2dWulhHriLkAq1QNfrr1fdOvrzi95q98P6fbc+HgTqmW/s5AiBGN9S5TaUjVbHRJZlmr+c21/d+vOlMUKvq6KV+RcBvFM3pqm9fNVPZ8cE74zPNL22T3ODTuUy1MqoF24II5hksVI0OVXoqB3n0oL2XdABXkXqgIq+H77fo/yEbhjRIwA0Uz8AojkylMKxd01XV6WZVXiO+ASW4fHjWfkysAAAAAElFTkSuQmCC&logoColor=&logoWidth=&style=) ![](https://img.shields.io/badge/Python%20Version-3.11-7447fc.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAl8SURBVHgB7Z1NbFzVFcfPfeOAFGR3WpqU4iwmFIli2tSVgHSXaaVK2TQgGhASSG3KKqlUpwvworhxJCyRZJMQJXSXqRSkCBIriQqq5CiZ7JKYxQiBbaoUJlJMRSqBsQMSMDOPe579wsh4PjJ+c979+P8kZ+zxmzzb9zfnfp+rqAPuH9yepyo9FpLKkaJBCsOsfjpLwAlCRSUV0pxSdJECKl4tnSzSbaLavTA3+Hg2qPUM6RvuJkjkGaqs/ymuyWT2zpROlNt6RasLIBSoJyQ6eEem51ArwZqKxVVeWFXH9H+XIwBuocoqDHdcfbdxFZlp9I37Nj05RDU6QYhS4LtkdUj64/fvGaBPP566uNIFK4p136bte3TV9zIB0ARd3eUbyfUdsZakGiUA2mBJrs+0XJeWPf8ti20qukAA3CY6GP26vs11S6zc4NO5TLV6AQ110BmqXM18/cty6fQcfxXETwe1yhCkAp0T5npqPbvjr6KItRitKh8SAKtjrpqpbOSoFUUsXQXuIQBWTzaOWnFVmCcAEiAMaYgfFXqCIGm4hxjo0fU8AZAgYRA+HujQtYUASJJQ5QKlMBcIkkb9giPWIAGQKGE2IACSB2KB7tBDHrKhfz09sc3dPkvhtbdofv5zShMvxerrvYv+svMpcpXxMxdTF8vLqnB+/iZJMj//BfmGn2ItyBb0/E1ZkU3AU7E+F40iMzPXyDe87RXO/u8GSXH9I7l7mYK3Yl2efI+k4Ajpm1zeijX1fpkkuTI5RT7hrVjnzk+SJNIip423YnH1dPltuepw/EyRfMLrKZ0JwaglLXLaeC0WRxHJYYdXXn2DfMFrsTiKFF77F0nBPVFfeofer26QjlqHPYla3ot1/aP/i0atU1pkH6IW1mNpCsffEo1awyNHyXUgFi22tYb/foSk4LYWy+wyEGuJifNXRAv7lVdfd7pKhFh1cGFPz5RJAo6Su4YOOLtWC2LVwYW9c/d+sUjC0zxjB46Ri0CsZXAv8dk/jYrJxb3E4RG59p0UEGsFINfqgVgNiOWSanOxXNuefN6ZBj3EagLL9bunnheb4+M2F8vswmQ1xGoD7i3mt+4SiSYs8zNarrH9BaujF8RqEy7w/NY/R20hiQI/dvzNKHrZuo4LYt0m3BaKBZvu8qpQlvkFfR+OluOWzTF6uRM6CVgw/hh4IEdPPJanB3+ao80PP0TdIBaM2fzIQ/T7bXl69JEB2nDvejIV9ZOfbw/JALhgeOu7zfT1rqUHtWj80dd3F/XrgufneH39qbNFSpoN967T91gX3a+/f3309+PnOKKmHd2MEav47yNGvwNtwgSxvGxj+biBVBpjxJrV7QhXwU7oFJmdlROLJZZcVbCw4OYKhmYYI5b0u1oyd4PUtJBJGCPW9PuyGVkkC5vfNL7lyDJGLMkkHYz0lvfp//h1BpYxYklnZDl3/gpJMiGcKyJtjBpukJwX49Fsl0VOG6PEuvy2bKofaZGRuyEluJ0l+ceX3oLlU3Vo3Mi7ZBRJI5WRL71D48SS3oIumQFGOglJmhg5VyiZOCON6teHqGWkWBy1JAt7+MUjYoXNUevwP14n1zF2dcPYvgJJwT02ycLmZceu9xCNFSvaJby/QFJIF7ZklEwDo9djpVHYUh0HjpKubq9njF/ot3PogGhhSybq4Lakq3lJjReLG7uS292lE3XwnkUX5bJiaXIauRR27paLXC7KZc2ad+lcCpyI7dnn9ojJ7JpcVm2mSCuXgpTMLNczz42SC2vkrdylI1kA0jLzTIDNW+tjrN3+xQXA++e4wCUEixODSBR4vPOZ23m2Rq/MD340MEoWw+NcvNOYj+Pt71/X1m5q3qXTiSB8j4kLk9Fr+T68e7vdn7GTtWYffDgbzS3yz8s7q9vd0BvNRy6ke9i49WIxXOBcePwH5U0ZX335dSTZnXfeseL1nYpVf79YME4M0qrQOxUrhu/B94p/Zv691v0w2/B6E8RyLikI9+b4g0YWE2hwXgPOZxDnhujtXauHEZL5o0fLm5eSg8QRbPPDAzTwwEbq7Vsb5VVIEr7fS0vTXIu/08bofiw1v5H4dzMFY3I3ALdAfizQFSAW6AoQC3QFiAW6AsQCXQFiga4AsUBXgFigKxgz8v7b3zxq1MixzZzT001JzS50ijFi/e2FPyBrckLwqo+0xUJVCLoCxHKQ+ZvpRisGYjlI2tUgA7Ec47oh+fIhlmPMGrKUGWI5hgnVIAOxHMOULDYQyzGkD2JoBMRyjGnhgxEaAbEcgqtBtLFA4ph0GBTEcgje62gKEMsReCu+9EFXzYBYjnBlUva4mFZALEfgpCUmAbEcgHuDpswRxkAsBzAxlxbEshxutJ+CWCBpDhuatxRiWYyp0YqBWBZjarRiIJaljC8lfDMViGUhXAWaNm61HIhlIYejTNFmjVstB2JZhulVYAzEsgiuAl8SPMNxNUAsS2Cp+MSKtNNstwvEsgCWaVd0bqPZ7ap6IJYFjO37Z3RglE1ALMMZfvEonTp7gWzDuZMpXIGrv+GRIzRx3pzlxrcDxDIQbqhzm8q26q8eiGUYLNOuof1WNdRXAmIZROH4m9aMU7UCYhkAV33DI0eN2mWzWiBWynCU4lNibRn4bBeIlRK8AWJsX8HqBnozIJYwLBRHKJeqvZWAWAJwNRetSjhbNCq/QjeBWF2CZeJD0GOZXGtDtQJiJQT37GZmrtElXdVxjirXq7pWGCMWn7zeZ9GRJzyAubDwBc3O3og+9y0itQKHjYOugNUNoCuwWHMEQMJosRTEAokSKioFiqhEACRIENJcEKqaGYnBgTsouhiomjpNACRJjYqKH/WQw6f6IUsArBalyv99542NweLndIgASIKQivwQiVUJKgcJww4gAdZkMnv5MRKrXDo9h6gFVk0YHpopnSjzp7dG3qOopetHAqATtDtretYcjL+8JVYUtWrhDgKgA9idOFoxmfpvfnJjqnz3PQOf6U+3EgBtokLae/Xdk4X65zLLL/rk46lLd68fUHqQK08AtGBJqtHlz2dWulhHriLkAq1QNfrr1fdOvrzi95q98P6fbc+HgTqmW/s5AiBGN9S5TaUjVbHRJZlmr+c21/d+vOlMUKvq6KV+RcBvFM3pqm9fNVPZ8cE74zPNL22T3ODTuUy1MqoF24II5hksVI0OVXoqB3n0oL2XdABXkXqgIq+H77fo/yEbhjRIwA0Uz8AojkylMKxd01XV6WZVXiO+ASW4fHjWfkysAAAAAElFTkSuQmCC&logoColor=&logoWidth=&style=)\n\n## Add new transformation\n\n1.  Log in to the [RudderStack dashboard](https://app.rudderstack.com/).\n2.  Go to **Collect** > **Transformations** and click **Create Transformation**.\n3.  Choose a [transformation template](https://www.rudderstack.com/docs/transformations/templates/) for implementing specific use cases on your event data. To create a transformation from scratch, click **Custom transformation**.\n\n[![Custom transformation option](https://www.rudderstack.com/docs/images/features/transformations/custom-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/custom-transformation.webp)\n\n4.  Name your transformation. It must contain at least 2 characters.\n\n[![Name your  transformation](https://www.rudderstack.com/docs/images/features/transformations/name-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/name-transformation.webp)\n\n5.  In the **Transformation** window, select the language to write your transformation. RudderStack provides two options - **JavaScript** and **Python 3.11**.\n\n[![Select transformation language](https://www.rudderstack.com/docs/images/features/transformations/transformation-language.webp)](https://www.rudderstack.com/docs/images/features/transformations/transformation-language.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack uses [Node.js version 18.x](https://github.com/rudderlabs/rudder-transformer/blob/main/.nvmrc) for JavaScript transformations and libraries.\n> *   Python transformations are available only in the RudderStack Cloud [Growth](https://rudderstack.com/pricing/) and [Enterprise](https://www.rudderstack.com/enterprise-quote/) plans.\n\n5.  Add your transformation function. You can also add other functions and call them from within the [`transformEvent`](https://www.rudderstack.com/docs/transformations/usage/#apply-transformation-on-single%20event) function.\n\n[![Adding a Transformation](https://www.rudderstack.com/docs/images/features/transformations/add-transformation-function.webp)](https://www.rudderstack.com/docs/images/features/transformations/add-transformation-function.webp)\n\n6.  To test your transformation, [import a payload](#import-event-payload) using the **Import event** button. Then, click the **Run Test** button next to it.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you don’t import any event and click **Run Test** directly, RudderStack tests your transformation against a default `track` event payload.\n\n[![Import event and run test](https://www.rudderstack.com/docs/images/features/transformations/import-event-run-test.webp)](https://www.rudderstack.com/docs/images/features/transformations/import-event-run-test.webp)\n\n7.  To save the transformation, click the **Save Transformation** button at the bottom right.\n\n**Optional**: To switch between the portrait and landscape views for better readability, click the button next to **Save Transformation**.\n\n[![Switch between portrait and landscape views](https://www.rudderstack.com/docs/images/features/transformations/switch-view.webp)](https://www.rudderstack.com/docs/images/features/transformations/switch-view.webp)\n\n## Test transformation\n\nRudderStack lets you test your transformations to identify and prevent any transformation errors. With this feature, you can thoroughly test various scenarios and edge cases on your event payloads, and ensure effective event processing within RudderStack.\n\n### Import event payload\n\nTo import a test payload, click the **Import Event** button.\n\n[![Import event and run test](https://www.rudderstack.com/docs/images/features/transformations/import-event-run-test.webp)](https://www.rudderstack.com/docs/images/features/transformations/import-event-run-test.webp)\n\nRudderStack gives you the following options to test your transformations:\n\n*   Use sample/placeholder event data within the **RudderStack Events** tab to test your transformations on default RudderStack event payloads. This is helpful when you don’t have any live events in your workspace.\n*   Edit an event payload and save it as a new event. You can then use it to test your transformation.\n*   Use the **Live Events** feature to test your transformations on live events generated from your source.\n\nYou can select any default RudderStack event to test your transformation. RudderStack provides four sample payloads (`identify`, `track`, `page`, and `screen`) that correspond to common RudderStack events.\n\n![Default RudderStack events](https://www.rudderstack.com/docs/images/features/transformations/import-rudderstack-events.webp)\n\nFrom the dropdown, select the source. Then, send some events from this source - they will appear in this window automatically.\n\n![Import live events](https://www.rudderstack.com/docs/images/features/transformations/import-live-events.webp)\n\nChoose a live event and click **Import**. You can then test your transformation on this payload.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Once you import a live event, all the live events shown in the window are lost. You need to send new events to import a live event again.\n\n### Limitations\n\n*   You cannot import multiple sample events to test your transformation.\n*   The live events contain payloads present at the source. They do not resemble the enriched events you see in the [Live Events](https://www.rudderstack.com/docs/dashboard-guides/live-events/#transformations-live-events) viewer in your transformation.\n\n## Capture event information with logs\n\nOnce you [add a transformation](#adding-a-transformation), you can capture any event-related information in the form of logs while testing it. You can do this by including the `log` function in your transformation code, as shown:\n\n```\nexport function transformEvent(event, metadata) {\n  const meta = metadata(event);\n  event.sourceId = meta.sourceId;\n\n  log(\"Event Name is\", event.event, \";\", \"Message ID is\", event.messageId);\n  log(\"Source ID is\", meta.sourceId);\n\n  return event;\n}\n```\n\n```\ndef transformEvent(event, metadata):\n    meta = metadata(event)\n    event['sourceId'] = meta['sourceId']\n    \n    log(\"Event Name is\", event['event'], \";\", \"Message ID is\", event['messageId'])\n    log(\"Source ID is\", meta['sourceId'])\n    \n    return event\n```\n\nOn adding the above transformation and clicking **Run Test**, you can see the resulting log in the **Logs** section of the dashboard:\n\n[![Transformation log](https://www.rudderstack.com/docs/images/features/transformations/transformation-logs.webp)](https://www.rudderstack.com/docs/images/features/transformations/transformation-logs.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can pass a string, number, or an object as an argument to the `log` function.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Create Transformations | RudderStack Docs",
  "description": "Add and test a new transformation in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/manage/",
  "markdown": "# Manage Transformations | RudderStack Docs\n\nManage your transformations in the RudderStack dashboard.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack provides an intuitive UI to help you manage your transformations. This guide will walk you through the steps to:\n\n*   [Connect a transformation to a destination](#connect-transformation-to-destination)\n*   [Disconnect a transformation](#disconnect-transformation)\n*   [Switch transformation between destinations](#switch-transformation)\n*   [Delete a transformation](#delete-transformation)\n*   [Manage your transformation-destination connections](#manage-connections)\n*   [Manage notifications](#manage-notifications)\n\n## Connect transformation to destination\n\nYou can connect only one transformation to a destination. However, one transformation can be used by multiple destinations.\n\n#### **Connect cloud mode destinations**\n\nRudderStack supports connecting a transformation to a cloud mode destination, that is, destination that supports sending events via [cloud mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#cloud-mode).\n\nSee [Connect transformations to cloud mode destinations](https://www.rudderstack.com/docs/transformations/usage/#connect-cloud-mode-destination) for more information.\n\n#### **Connect device mode destinations**\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   Device mode transformations are currently in beta.\n> *   You can enable device mode transformations only from the **Transformations** tab.\n\nYou can also connect a transformation to a device mode destination, that is, destination that supports sending events via [device mode](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/#device-mode).\n\nSee [Connect transformations to device mode destinations](https://www.rudderstack.com/docs/transformations/usage/#connect-device-mode-destination) for more information.\n\n## Disconnect transformation\n\nThere are two ways to disconnect a transformation from a destination:\n\n#### **From transformation**\n\n1.  Go to the **Connections** tab of your transformation and click **Manage Destinations**.\n2.  Click the **Edit Connection** button.\n3.  Disable the **Connect to transformation** toggle and click **Save**.\n\n[![Disable transformation](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)\n\n4.  Click **Proceed** to confirm.\n\n#### **From destination**\n\n1.  Go to the destination and click the **Transformation** tab. The connected transformation is shown here.\n2.  Click **Remove**.\n3.  Click **Yes, remove** to confirm and disconnect the transformation.\n\n## Switch transformation\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Switching between transformations affects the data sent to the destination.\n\n1.  Click the **Connections** tab of your transformation and click **Manage Destinations**. You will see a list of **all** the destinations and the transformations connected to them.\n\n[![Current transformation](https://www.rudderstack.com/docs/images/features/transformations/current-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/current-transformation.webp)\n\n2.  Suppose you want to switch the transformation from `T2` to `Test Transformation` for the destination `databricks destn-1`. Click the **Edit Connection** option.\n\n[![Switch transformation](https://www.rudderstack.com/docs/images/features/transformations/switch-transformation-1.webp)](https://www.rudderstack.com/docs/images/features/transformations/switch-transformation-1.webp)\n\n3.  Click **Yes** to disconnect the existing transformation and proceed.\n\n[![Save transformation](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/connect-disconnect-transformation.webp)\n\n4.  Click **Save** > **Switch** to confirm switching the transformation.\n\n[![Switch transformation confirmation](https://www.rudderstack.com/docs/images/features/transformations/confirm-switch.webp)](https://www.rudderstack.com/docs/images/features/transformations/confirm-switch.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   You must click the **Save** button for any connection-related changes to take effect.\n> *   The previous transformation will be reconnected to the destination automatically, if you switch a transformation but do not save the changes.\n\n## Delete transformation\n\nTo delete a transformation, go to **Collect** > **Transformations** and click the **Delete** button next to the transformation you want to delete.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You cannot delete a transformation connected to a destination.\n\n[![Delete transformation](https://www.rudderstack.com/docs/images/features/transformations/delete-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/delete-transformation.webp)\n\n## Manage connections\n\nRudderStack gives you clear visibility into which transformation is connected to a destination at a given point. This is helpful in cases where you have many transformations connected to various destinations.\n\nTo manage your transformation-destination connections, go to the **Connections** tab of your transformation and click **Manage Destinations**.\n\n[![Manage destinations button](https://www.rudderstack.com/docs/images/features/transformations/manage-transformations-1.webp)](https://www.rudderstack.com/docs/images/features/transformations/manage-transformations-1.webp)\n\nYou will see a list of **all** the destinations and the transformations connected to them. The transformation you’re currently viewing will be highlighted in bold.\n\n[![Current transformation](https://www.rudderstack.com/docs/images/features/transformations/current-transformation.webp)](https://www.rudderstack.com/docs/images/features/transformations/current-transformation.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Manage Transformations | RudderStack Docs",
  "description": "Manage your transformations in the RudderStack dashboard.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/postgresql/",
  "markdown": "# PostgreSQL destination | RudderStack Docs\n\nSync data from RudderStack to PostgreSQL.\n\n* * *\n\n*     8 minute read  \n    \n\n[PostgreSQL](https://www.postgresql.org/) is an enterprise-grade, open source database management system. It supports both SQL and JSON for relational and non-relational queries respectively. Many companies in the market use PostgreSQL as their low-cost data warehousing solution in order to deliver efficient analytics and user insights.\n\nFind the open source code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/postgres).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for more information on how the events are mapped to the PostgreSQL tables.\n\n## Setting user permissions in PostgreSQL\n\nAfter setting up your PostgreSQL database, create a user with the necessary privileges to create schemas and temporary tables in this database.\n\nRun the following query to create a new user in PostgreSQL:\n\n```\nCREATE USER <username> WITH PASSWORD '<password>';\n```\n\nRun the following query to grant permissions to the user to create new schemas and temporary tables in the database:\n\n```\nGRANT CREATE, TEMPORARY ON DATABASE <databasename> TO <username>;\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must grant the `CREATE, TEMPORARY` privileges to the user. Otherwise, RudderStack will not be able to export the events to PostgreSQL.\n\n## Configuring PostgreSQL destination in RudderStack\n\nTo send event data to PostgreSQL, you first need to add it as a destination in RudderStack and connect it to your data source. Once the destination is enabled, events will automatically start flowing to PostgreSQL via RudderStack.\n\nTo configure PostgreSQL as a destination in RudderStack, follow these steps:\n\n1.  In your [RudderStack dashboard](https://app.rudderstack.com/), set up the data source. Then, select **PostgreSQL** from the list of destinations.\n2.  Assign a name to your destination and click **Next**.\n\n### Connection settings\n\n*   **Host**: Enter the host name of your PostgreSQL service.\n*   **Database**: Enter your PostgreSQL database name where RudderStack will load the data.\n*   **User**: Enter the name of the user created in the [Setting user permissions in PostgreSQL](#setting-user-permissions-in-postgresql) section above.\n*   **Password**: Enter the password you set for the above user.\n*   **Port**: Enter the port number associated with your PostgreSQL instance.\n*   **Namespace**: Enter the schema name where RudderStack will create all tables. If you don’t specify any namespace, RudderStack will set this to the source name, by default.\n\n### SSH connection\n\nSSH tunneling is a method of transferring data over an encrypted SSH connection. You can use it to add encryption to your legacy applications and achieve compliance with regulations like HIPAA, PCI-DSS, etc., without having to modify the existing applications.\n\nRudderStack lets you connect to your PostgreSQL database securely over an SSH connection by configuring these settings:\n\n[![Postgresql edit configuration](https://www.rudderstack.com/docs/images/warehouse-destinations/ssh-connection.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/ssh-connection.webp)\n\n*   **SSH Connection**: Enable this setting to use the SSH connection while connecting to your PostgreSQL database.\n*   **SSH Host**: Enter the IP address of your bastion host.\n*   **SSH Port**: Enter the port for the above host.\n*   **SSH User**: Enter the username you use to access the bastion host.\n*   **SSH Public Key**: Copy the public key provided in this field and add it to the `authorized_keys` file on your bastion host. RudderStack uses the private key corresponding to this public key to establish the connection successfully.\n\nTo enable the SSH connection for an existing PostgreSQL destination, navigate to the destination’s **Configuration** tab, select **Edit configuration** and enable the **SSH connection** setting.\n\n### Sync settings\n\n*   **SSL Mode**: Choose the SSL mode through which RudderStack will connect to your PostgreSQL instance. RudderStack provides three options - **disable**, **require**, and **verify-ca**. For more information on these options, refer to the [SSL Modes](#ssl-modes) section below.\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your PostgreSQL database.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack will **not sync** the data to your database.\n\n### Advanced settings\n\nRudderStack provides the following advanced settings:\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n*   **JSON Columns**: Lets you ingest semi-structured event data not defined by a fixed schema. You can specify the required JSON column paths in this setting in dot notation, separated by commas. **This option applies to all incoming `track` events for this destination**. See [JSON Column Support](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/) for more information.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage configuration settings while setting up your PostgreSQL destination:\n\n*   **Use RudderStack-managed object storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For self-hosted data planes, you will have to specify your own object storage configuration settings.\n\n*   **Choose your storage provider**: If **Use RudderStack-managed object storage** is **disabled** in the dashboard, select the cloud provider for your object storage and enter the relevant settings:\n    \n    *   [Amazon S3 bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#connection-settings)\n    *   [Azure Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage)\n    *   [Google Cloud Storage bucket settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/#setting-up-google-cloud-storage)\n    *   [MinIO bucket storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/#setting-up-minio)\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n## SSL modes\n\nBased on your security preferences, RudderStack lets you specify the SSL mode through which you can send the data to PostgreSQL.\n\nRudderStack supports the following three SSL modes defined by PostgreSQL:\n\n| SSL mode | Eavesdropping protection | MITM (Man in the middle) protection | Description |\n| --- | --- | --- | --- |\n| disable | No  | No  | SSL mode is disabled. Use it in cases where security is not an issue and you don’t want the encryption overhead. |\n| require | Yes | No  | Use this mode when you want to encrypt your data and can deal with the resulting encryption overhead. |\n| verify ca | Yes | Dependent on the CA policy | Use this mode when you want to encrypt your data, can bear the encryption overhead, and want to be sure that you connect to a server you trust. |\n\n### Using verify-ca to configure PostgreSQL destination\n\nTo use verify-ca as the SSL mode while configuring your PostgreSQL destination, you need to copy the contents of the following three files from your SSL certificate:\n\n*   **Client Key Pem File**\n*   **Client Cert Pem File**\n*   **Server CA Pem File**\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Although you can use an existing certificate to obtain the above credentials, it is recommend you create a new SSL certificate to avoid any issues.\n\nThe following steps demonstrate how you can create a new SSL certificate in [Google Cloud SQL](https://cloud.google.com/sql/) and obtain the above-mentioned credentials:\n\n1.  Go to your PostgreSQL instance in your [Cloud SQL console](https://console.cloud.google.com/sql/).\n2.  In the left panel, click **Connections** and go to the **SECURITY** tab.\n3.  Under **Manage client certificates**, click **CREATE CLIENT CERTIFICATE**.\n4.  Assign a unique identifier for your SSL certificate and click **CREATE**. Your new SSL certificate will be created:\n\n[![PostgreSQL SSL certificate contents](https://www.rudderstack.com/docs/images/dw-integrations/postgresql-ssl-pem-contents.webp)](https://www.rudderstack.com/docs/images/dw-integrations/postgresql-ssl-pem-contents.webp)\n\n5.  Finally, copy the contents of the three fields and paste it in the RudderStack dashboard settings as seen below:\n\n[![PostgreSQL verify-ca dashboard settings](https://www.rudderstack.com/docs/images/dw-integrations/postgresql-verify-ca-dashboard.webp)](https://www.rudderstack.com/docs/images/dw-integrations/postgresql-verify-ca-dashboard.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For other cloud providers, this procedure might vary slightly.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### RudderStack does not create the corresponding PostgreSQL tables when I press on ‘sync’. What do I do?\n\n*   Firstly, check the status of your data sync in the [RudderStack dashboard](https://app.rudderstack.com/syncs).\n*   Make sure you have set up the [user permissions](#setting-user-permissions-in-postgresql) for your PostgreSQL instance.\n*   Check if your database is accessible to RudderStack by [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/).\n*   Ensure that all security group policies are appropriately set.\n\n#### How does RudderStack handle reserved words?\n\nThere are some limitations when it comes to using [reserved words](https://www.postgresql.org/docs/current/sql-keywords-appendix.html) in a schema, table, or column names. If such words are used as event names, traits or properties, they will be prefixed with a `_` when RudderStack creates tables or columns for them in your schema.\n\nAlso, it is important to note that integers are not allowed at the start of the schema or table name. Hence, RudderStack prefixes such schema, column or table names with a `_`.\n\nFor instance, `'25dollarpurchase'` will be changed by RudderStack to `'_25dollarpurchase`’.\n\n#### How does RudderStack handle cases when loading data into PostgreSQL?\n\nRudderStack converts the event keys into the lower case before exporting the data into PostgreSQL, so that it does not create multiple tables if the event name is written in different cases.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "PostgreSQL destination | RudderStack Docs",
  "description": "Sync data from RudderStack to PostgreSQL.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/sftp/",
  "markdown": "# SFTP (SSH File Transfer Protocol)\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "SFTP (SSH File Transfer Protocol) | RudderStack Docs",
  "description": "Transfer your warehouse data to downstream apps via RudderStack by leveraging SFTP.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/libraries/",
  "markdown": "# Transformation Libraries | RudderStack Docs\n\nReuse transformation code with transformation libraries.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack’s transformation libraries feature lets you reuse the same code in multiple transformations.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> RudderStack supports writing transformation libraries in Python for the RudderStack Cloud [Growth](https://rudderstack.com/pricing/) and [Enterprise](https://www.rudderstack.com/enterprise-quote/) plans.\n\n![](https://img.shields.io/badge/Node.js%20Version-18.x-7447fc.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAl8SURBVHgB7Z1NbFzVFcfPfeOAFGR3WpqU4iwmFIli2tSVgHSXaaVK2TQgGhASSG3KKqlUpwvworhxJCyRZJMQJXSXqRSkCBIriQqq5CiZ7JKYxQiBbaoUJlJMRSqBsQMSMDOPe579wsh4PjJ+c979+P8kZ+zxmzzb9zfnfp+rqAPuH9yepyo9FpLKkaJBCsOsfjpLwAlCRSUV0pxSdJECKl4tnSzSbaLavTA3+Hg2qPUM6RvuJkjkGaqs/ymuyWT2zpROlNt6RasLIBSoJyQ6eEem51ArwZqKxVVeWFXH9H+XIwBuocoqDHdcfbdxFZlp9I37Nj05RDU6QYhS4LtkdUj64/fvGaBPP566uNIFK4p136bte3TV9zIB0ARd3eUbyfUdsZakGiUA2mBJrs+0XJeWPf8ti20qukAA3CY6GP26vs11S6zc4NO5TLV6AQ110BmqXM18/cty6fQcfxXETwe1yhCkAp0T5npqPbvjr6KItRitKh8SAKtjrpqpbOSoFUUsXQXuIQBWTzaOWnFVmCcAEiAMaYgfFXqCIGm4hxjo0fU8AZAgYRA+HujQtYUASJJQ5QKlMBcIkkb9giPWIAGQKGE2IACSB2KB7tBDHrKhfz09sc3dPkvhtbdofv5zShMvxerrvYv+svMpcpXxMxdTF8vLqnB+/iZJMj//BfmGn2ItyBb0/E1ZkU3AU7E+F40iMzPXyDe87RXO/u8GSXH9I7l7mYK3Yl2efI+k4Ajpm1zeijX1fpkkuTI5RT7hrVjnzk+SJNIip423YnH1dPltuepw/EyRfMLrKZ0JwaglLXLaeC0WRxHJYYdXXn2DfMFrsTiKFF77F0nBPVFfeofer26QjlqHPYla3ot1/aP/i0atU1pkH6IW1mNpCsffEo1awyNHyXUgFi22tYb/foSk4LYWy+wyEGuJifNXRAv7lVdfd7pKhFh1cGFPz5RJAo6Su4YOOLtWC2LVwYW9c/d+sUjC0zxjB46Ri0CsZXAv8dk/jYrJxb3E4RG59p0UEGsFINfqgVgNiOWSanOxXNuefN6ZBj3EagLL9bunnheb4+M2F8vswmQ1xGoD7i3mt+4SiSYs8zNarrH9BaujF8RqEy7w/NY/R20hiQI/dvzNKHrZuo4LYt0m3BaKBZvu8qpQlvkFfR+OluOWzTF6uRM6CVgw/hh4IEdPPJanB3+ao80PP0TdIBaM2fzIQ/T7bXl69JEB2nDvejIV9ZOfbw/JALhgeOu7zfT1rqUHtWj80dd3F/XrgufneH39qbNFSpoN967T91gX3a+/f3309+PnOKKmHd2MEav47yNGvwNtwgSxvGxj+biBVBpjxJrV7QhXwU7oFJmdlROLJZZcVbCw4OYKhmYYI5b0u1oyd4PUtJBJGCPW9PuyGVkkC5vfNL7lyDJGLMkkHYz0lvfp//h1BpYxYklnZDl3/gpJMiGcKyJtjBpukJwX49Fsl0VOG6PEuvy2bKofaZGRuyEluJ0l+ceX3oLlU3Vo3Mi7ZBRJI5WRL71D48SS3oIumQFGOglJmhg5VyiZOCON6teHqGWkWBy1JAt7+MUjYoXNUevwP14n1zF2dcPYvgJJwT02ycLmZceu9xCNFSvaJby/QFJIF7ZklEwDo9djpVHYUh0HjpKubq9njF/ot3PogGhhSybq4Lakq3lJjReLG7uS292lE3XwnkUX5bJiaXIauRR27paLXC7KZc2ad+lcCpyI7dnn9ojJ7JpcVm2mSCuXgpTMLNczz42SC2vkrdylI1kA0jLzTIDNW+tjrN3+xQXA++e4wCUEixODSBR4vPOZ23m2Rq/MD340MEoWw+NcvNOYj+Pt71/X1m5q3qXTiSB8j4kLk9Fr+T68e7vdn7GTtWYffDgbzS3yz8s7q9vd0BvNRy6ke9i49WIxXOBcePwH5U0ZX335dSTZnXfeseL1nYpVf79YME4M0qrQOxUrhu/B94p/Zv691v0w2/B6E8RyLikI9+b4g0YWE2hwXgPOZxDnhujtXauHEZL5o0fLm5eSg8QRbPPDAzTwwEbq7Vsb5VVIEr7fS0vTXIu/08bofiw1v5H4dzMFY3I3ALdAfizQFSAW6AoQC3QFiAW6AsQCXQFiga4AsUBXgFigKxgz8v7b3zxq1MixzZzT001JzS50ijFi/e2FPyBrckLwqo+0xUJVCLoCxHKQ+ZvpRisGYjlI2tUgA7Ec47oh+fIhlmPMGrKUGWI5hgnVIAOxHMOULDYQyzGkD2JoBMRyjGnhgxEaAbEcgqtBtLFA4ph0GBTEcgje62gKEMsReCu+9EFXzYBYjnBlUva4mFZALEfgpCUmAbEcgHuDpswRxkAsBzAxlxbEshxutJ+CWCBpDhuatxRiWYyp0YqBWBZjarRiIJaljC8lfDMViGUhXAWaNm61HIhlIYejTNFmjVstB2JZhulVYAzEsgiuAl8SPMNxNUAsS2Cp+MSKtNNstwvEsgCWaVd0bqPZ7ap6IJYFjO37Z3RglE1ALMMZfvEonTp7gWzDuZMpXIGrv+GRIzRx3pzlxrcDxDIQbqhzm8q26q8eiGUYLNOuof1WNdRXAmIZROH4m9aMU7UCYhkAV33DI0eN2mWzWiBWynCU4lNibRn4bBeIlRK8AWJsX8HqBnozIJYwLBRHKJeqvZWAWAJwNRetSjhbNCq/QjeBWF2CZeJD0GOZXGtDtQJiJQT37GZmrtElXdVxjirXq7pWGCMWn7zeZ9GRJzyAubDwBc3O3og+9y0itQKHjYOugNUNoCuwWHMEQMJosRTEAokSKioFiqhEACRIENJcEKqaGYnBgTsouhiomjpNACRJjYqKH/WQw6f6IUsArBalyv99542NweLndIgASIKQivwQiVUJKgcJww4gAdZkMnv5MRKrXDo9h6gFVk0YHpopnSjzp7dG3qOopetHAqATtDtretYcjL+8JVYUtWrhDgKgA9idOFoxmfpvfnJjqnz3PQOf6U+3EgBtokLae/Xdk4X65zLLL/rk46lLd68fUHqQK08AtGBJqtHlz2dWulhHriLkAq1QNfrr1fdOvrzi95q98P6fbc+HgTqmW/s5AiBGN9S5TaUjVbHRJZlmr+c21/d+vOlMUKvq6KV+RcBvFM3pqm9fNVPZ8cE74zPNL22T3ODTuUy1MqoF24II5hksVI0OVXoqB3n0oL2XdABXkXqgIq+H77fo/yEbhjRIwA0Uz8AojkylMKxd01XV6WZVXiO+ASW4fHjWfkysAAAAAElFTkSuQmCC&logoColor=&logoWidth=&style=) ![](https://img.shields.io/badge/Python%20Version-3.11-7447fc.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAYAAAA8AXHiAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAl8SURBVHgB7Z1NbFzVFcfPfeOAFGR3WpqU4iwmFIli2tSVgHSXaaVK2TQgGhASSG3KKqlUpwvworhxJCyRZJMQJXSXqRSkCBIriQqq5CiZ7JKYxQiBbaoUJlJMRSqBsQMSMDOPe579wsh4PjJ+c979+P8kZ+zxmzzb9zfnfp+rqAPuH9yepyo9FpLKkaJBCsOsfjpLwAlCRSUV0pxSdJECKl4tnSzSbaLavTA3+Hg2qPUM6RvuJkjkGaqs/ymuyWT2zpROlNt6RasLIBSoJyQ6eEem51ArwZqKxVVeWFXH9H+XIwBuocoqDHdcfbdxFZlp9I37Nj05RDU6QYhS4LtkdUj64/fvGaBPP566uNIFK4p136bte3TV9zIB0ARd3eUbyfUdsZakGiUA2mBJrs+0XJeWPf8ti20qukAA3CY6GP26vs11S6zc4NO5TLV6AQ110BmqXM18/cty6fQcfxXETwe1yhCkAp0T5npqPbvjr6KItRitKh8SAKtjrpqpbOSoFUUsXQXuIQBWTzaOWnFVmCcAEiAMaYgfFXqCIGm4hxjo0fU8AZAgYRA+HujQtYUASJJQ5QKlMBcIkkb9giPWIAGQKGE2IACSB2KB7tBDHrKhfz09sc3dPkvhtbdofv5zShMvxerrvYv+svMpcpXxMxdTF8vLqnB+/iZJMj//BfmGn2ItyBb0/E1ZkU3AU7E+F40iMzPXyDe87RXO/u8GSXH9I7l7mYK3Yl2efI+k4Ajpm1zeijX1fpkkuTI5RT7hrVjnzk+SJNIip423YnH1dPltuepw/EyRfMLrKZ0JwaglLXLaeC0WRxHJYYdXXn2DfMFrsTiKFF77F0nBPVFfeofer26QjlqHPYla3ot1/aP/i0atU1pkH6IW1mNpCsffEo1awyNHyXUgFi22tYb/foSk4LYWy+wyEGuJifNXRAv7lVdfd7pKhFh1cGFPz5RJAo6Su4YOOLtWC2LVwYW9c/d+sUjC0zxjB46Ri0CsZXAv8dk/jYrJxb3E4RG59p0UEGsFINfqgVgNiOWSanOxXNuefN6ZBj3EagLL9bunnheb4+M2F8vswmQ1xGoD7i3mt+4SiSYs8zNarrH9BaujF8RqEy7w/NY/R20hiQI/dvzNKHrZuo4LYt0m3BaKBZvu8qpQlvkFfR+OluOWzTF6uRM6CVgw/hh4IEdPPJanB3+ao80PP0TdIBaM2fzIQ/T7bXl69JEB2nDvejIV9ZOfbw/JALhgeOu7zfT1rqUHtWj80dd3F/XrgufneH39qbNFSpoN967T91gX3a+/f3309+PnOKKmHd2MEav47yNGvwNtwgSxvGxj+biBVBpjxJrV7QhXwU7oFJmdlROLJZZcVbCw4OYKhmYYI5b0u1oyd4PUtJBJGCPW9PuyGVkkC5vfNL7lyDJGLMkkHYz0lvfp//h1BpYxYklnZDl3/gpJMiGcKyJtjBpukJwX49Fsl0VOG6PEuvy2bKofaZGRuyEluJ0l+ceX3oLlU3Vo3Mi7ZBRJI5WRL71D48SS3oIumQFGOglJmhg5VyiZOCON6teHqGWkWBy1JAt7+MUjYoXNUevwP14n1zF2dcPYvgJJwT02ycLmZceu9xCNFSvaJby/QFJIF7ZklEwDo9djpVHYUh0HjpKubq9njF/ot3PogGhhSybq4Lakq3lJjReLG7uS292lE3XwnkUX5bJiaXIauRR27paLXC7KZc2ad+lcCpyI7dnn9ojJ7JpcVm2mSCuXgpTMLNczz42SC2vkrdylI1kA0jLzTIDNW+tjrN3+xQXA++e4wCUEixODSBR4vPOZ23m2Rq/MD340MEoWw+NcvNOYj+Pt71/X1m5q3qXTiSB8j4kLk9Fr+T68e7vdn7GTtWYffDgbzS3yz8s7q9vd0BvNRy6ke9i49WIxXOBcePwH5U0ZX335dSTZnXfeseL1nYpVf79YME4M0qrQOxUrhu/B94p/Zv691v0w2/B6E8RyLikI9+b4g0YWE2hwXgPOZxDnhujtXauHEZL5o0fLm5eSg8QRbPPDAzTwwEbq7Vsb5VVIEr7fS0vTXIu/08bofiw1v5H4dzMFY3I3ALdAfizQFSAW6AoQC3QFiAW6AsQCXQFiga4AsUBXgFigKxgz8v7b3zxq1MixzZzT001JzS50ijFi/e2FPyBrckLwqo+0xUJVCLoCxHKQ+ZvpRisGYjlI2tUgA7Ec47oh+fIhlmPMGrKUGWI5hgnVIAOxHMOULDYQyzGkD2JoBMRyjGnhgxEaAbEcgqtBtLFA4ph0GBTEcgje62gKEMsReCu+9EFXzYBYjnBlUva4mFZALEfgpCUmAbEcgHuDpswRxkAsBzAxlxbEshxutJ+CWCBpDhuatxRiWYyp0YqBWBZjarRiIJaljC8lfDMViGUhXAWaNm61HIhlIYejTNFmjVstB2JZhulVYAzEsgiuAl8SPMNxNUAsS2Cp+MSKtNNstwvEsgCWaVd0bqPZ7ap6IJYFjO37Z3RglE1ALMMZfvEonTp7gWzDuZMpXIGrv+GRIzRx3pzlxrcDxDIQbqhzm8q26q8eiGUYLNOuof1WNdRXAmIZROH4m9aMU7UCYhkAV33DI0eN2mWzWiBWynCU4lNibRn4bBeIlRK8AWJsX8HqBnozIJYwLBRHKJeqvZWAWAJwNRetSjhbNCq/QjeBWF2CZeJD0GOZXGtDtQJiJQT37GZmrtElXdVxjirXq7pWGCMWn7zeZ9GRJzyAubDwBc3O3og+9y0itQKHjYOugNUNoCuwWHMEQMJosRTEAokSKioFiqhEACRIENJcEKqaGYnBgTsouhiomjpNACRJjYqKH/WQw6f6IUsArBalyv99542NweLndIgASIKQivwQiVUJKgcJww4gAdZkMnv5MRKrXDo9h6gFVk0YHpopnSjzp7dG3qOopetHAqATtDtretYcjL+8JVYUtWrhDgKgA9idOFoxmfpvfnJjqnz3PQOf6U+3EgBtokLae/Xdk4X65zLLL/rk46lLd68fUHqQK08AtGBJqtHlz2dWulhHriLkAq1QNfrr1fdOvrzi95q98P6fbc+HgTqmW/s5AiBGN9S5TaUjVbHRJZlmr+c21/d+vOlMUKvq6KV+RcBvFM3pqm9fNVPZ8cE74zPNL22T3ODTuUy1MqoF24II5hksVI0OVXoqB3n0oL2XdABXkXqgIq+H77fo/yEbhjRIwA0Uz8AojkylMKxd01XV6WZVXiO+ASW4fHjWfkysAAAAAElFTkSuQmCC&logoColor=&logoWidth=&style=)\n\n## Add transformation library\n\n1.  In the [RudderStack dashboard](https://app.rudderstack.com/), go to **Collect** > **Transformations** and click the **Libraries** tab. Then, click **Create Library**.\n\n[![Adding a library](https://www.rudderstack.com/docs/images/features/transformations/create-library.webp)](https://www.rudderstack.com/docs/images/features/transformations/create-library.webp)\n\n2.  Add the library **Name**, **Description** and select the language to write the library function. You can also add multiple functions in a single library.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack supports Python libraries only in the RudderStack Cloud [Growth](https://rudderstack.com/pricing/) and [Enterprise](https://www.rudderstack.com/enterprise-quote/) plans.\n\n[![Adding a library](https://www.rudderstack.com/docs/images/features/transformations/add-new-library.webp)](https://www.rudderstack.com/docs/images/features/transformations/add-new-library.webp)\n\n3.  Click **Run Test** to ensure the library code has the correct syntax. A **Test Passed** message pops up once the test runs successfully.\n\n[![Library test passed](https://www.rudderstack.com/docs/images/features/transformations/library-test-passed.webp)](https://www.rudderstack.com/docs/images/features/transformations/library-test-passed.webp)\n\n## Use libraries in transformations\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> RudderStack provides some default libraries that you can import in your transformations for implementing various use cases like encrypting, decrypting, or hashing PII, parsing user agent, and using the localized version of Apple’s device mode information in your events.\n> \n> See [Default RudderStack libraries](#default-rudderstack-libraries) for more information.\n\nTo use the libraries in your existing transformations, note the library name listed in the **Import library name** column in the RudderStack dashboard:\n\n[![Using libraries in transformations](https://www.rudderstack.com/docs/images/features/transformations/libraries-in-transformations.webp)](https://www.rudderstack.com/docs/images/features/transformations/libraries-in-transformations.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack converts the library name into **camel case without spaces**; this becomes your **library handle** which you can use across multiple transformations. For example, if your library name is `Sample Transformation Library`, then the library handle would be `sampleTransformationLibrary`.\n\nYou can then use the library in a transformation with a simple `import` statement. Refer to the below use case for more information.\n\n#### **Use case**\n\nSuppose you want to filter the events that don’t contain an email address with the RudderStack domain. To do so, you can import a `rudderEmail` function from the transformation library `isRudderEmail`.\n\nThe `rudderEmail` function containing the filtering logic is shown below:\n\n```\nexport function rudderEmail(email) {\n    return /@(rudderlabs|rudderstack)| \\+ruddertest/.test(email);\n}\n```\n\n```\nimport re\n\ndef rudderEmail(email):\n  match = re.search('@(rudderlabs|rudderstack)|\\+ruddertest', email)\n  if match:\n    return True\n  return False\n```\n\nThe following snippets demonstrate how you can import this function in a transformation:\n\n```\nimport { rudderEmail } from \"isRudderEmail\";\nexport function transformEvent(event) {\n  const email =\n    event.context && event.context.traits && event.context.traits.email;\n  if (email) {\n    if (!rudderEmail(email)) return;\n  }\n  return event;\n}\n```\n\n```\nfrom isRudderEmail import rudderEmail\n\ndef transformEvent(event, metadata):\n    email = event.get(\"context\", {}).get(\"traits\", {}).get(\"email\")\n    if email:\n        if not rudderEmail(email):\n            return\n    return event\n```\n\nOn clicking **Run Test**, a sample event not containing the RudderStack email domain is filtered out:\n\n[![Filtering out events using libraries in transformation](https://www.rudderstack.com/docs/images/features/libraries-in-transformations-run-test.webp)](https://www.rudderstack.com/docs/images/features/libraries-in-transformations-run-test.webp)\n\n## Import multiple functions from single library\n\nThe following snippets highlight how to **correctly** import functions from a library:\n\n```\n// ---------------\nimport { getLoss } from \"getFinanceData\";\n\n// OR\n\nimport { getLoss, getRevenue, getProfit } from \"getFinanceData\";\nimport {\n  getLoss,\n  getRevenue,\n  getProfit\n} from \"getFinanceData\";\n\n// For default getPrice import\nimport getPrice, { getRevenue, getProfit } from \"getFinanceData\";\n\n// alias imports\nimport getPrice as gp, { getRevenue as gr, getProfit } from \"getFinanceData\";\n// usage: gp(event), gr(event), getProfit(ev)\n\nimport * as GFD from \"getFinanceData\";\n// usage: GFD.getRevenue(ev), GFD.getProfit(ev)\n// for default import: GFD.default(ev)\n```\n\n```\nfrom getFinanceData import getRevenue, getProfit\n// usage: getRevenue(event), getProfit(event)\n\nfrom getFinanceData import getRevenue as gr, getProfit\n// usage: gr(event), getProfit(ev)\n\nimport getFinanceData\n// usage: getFinanceData.getRevenue(event), getFinanceData.getProfit(event)\n```\n\nThe following snippets highlight the **incorrect** way of importing the library functions:\n\n```\n// -----------------\nimport * from \"getFinanceData\";\ngetPrice(ev)\n\n// OR\n\nimport getPrice as gp from \"getFinanceData\";\ngetPrice(ev)\n```\n\n```\nimport getRevenue, getProfit from getFinanceData\nimport { getRevenue, getProfit } from getFinanceData\n\nfrom getFinanceData import *\n```\n\n## Delete library\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You cannot delete a library that is referenced or imported in a transformation.\n\nTo delete a library, go to **Collect** > **Transformations** > **Libraries** and click the **Delete** button next to the library that you want to delete.\n\n## Default RudderStack libraries\n\nBy default, RudderStack provides four **predefined** libraries which you can directly import into your transformations. Refer to the [GitHub codebase](https://github.com/rudderlabs/rudder-libraries) for the code and implementation-specific details for these libraries.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Currently, RudderStack libraries are available only for JavaScript. Python support (applicable for [Growth/Enterprise](https://www.rudderstack.com/pricing/) customers) is coming soon.\n\nUse the following structure to import the Rudderstack libraries:\n\nA sample import statement is shown below:\n\n```\nimport { JSEncrypt } from \"@rs/encrypt/v1\";\n```\n\nThe following table lists the default RudderStack libraries and their usage:\n\n| RudderStack library name | Usage |\n| --- | --- |\n| `encrypt` | Used in the [Encryption](https://www.rudderstack.com/docs/transformations/templates/#encryption) / [Decryption](https://www.rudderstack.com/docs/transformations/templates/#decryption) transformation template.<br><br>Lets you encrypt or decrypt PII, including PII stored in cookies. |\n| `hash` | Used in the [Hash PII](https://www.rudderstack.com/docs/transformations/templates/#hash-pii) transformation template.<br><br>Hides sensitive PII like the user’s email, birthday, social security number, etc. You can use either **MD5**, **SHA256**, or **cyrb53** to hash your PII. |\n| `userAgentParser` | Used in the [Parse User Agent](https://www.rudderstack.com/docs/transformations/templates/#parse-user-agent) transformation template.<br><br>Adds the user’s browser, engine, OS, device, and CPU-related information to the events. |\n| `localizeAppleDeviceModel` | Used in the [Localize Apple Device Model](https://www.rudderstack.com/docs/transformations/templates/#localize-apple-device-model) transformation template.<br><br>Lets you use the localized version of Apple’s device model information present in your event’s `context.device.model`. |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Transformation Libraries | RudderStack Docs",
  "description": "Reuse transformation code with transformation libraries.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/sftp/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nSet up and configure SFTP as a destination in RudderStack.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide will help you set up SFTP as a destination in the RudderStack dashboard. It also lists the configuration settings required to correctly send data from the supported sources to your downstream apps via SFTP.\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **SFTP**. Then, click **Continue**.\n\n### Connection settings\n\n| Setting | Description |\n| --- | --- |\n| Name | Assign a name to uniquely identify your destination in RudderStack. |\n| Host | Enter the host name or IP address of the server **without** the port number. |\n| Port | Enter the port number of the server. |\n| User name | Enter the user name. |\n| Authentication | Select the authentication mechanism from the dropdown. RudderStack provides the following options:<br><br>*   **Username + Password**<br>*   **Username + SSH key** |\n| Password | If you have selected **Username + Password**, enter the password for the above user. |\n| Private key | If you have selected **Username + SSH key**, enter the full private key for the user including the header and footer. |\n| File format | Select the file format (CSV or JSON) from the dropdown. |\n| File path | Specify the [path name](#specify-file-path-variables) where RudderStack stores the data. For example:<br><br>`directory/{destinationID}/{jobRunID}/{YYYY}_{MM}_{DD}/file_{timestampInMS}.csv`<br><br>Note that:<br><br>*   The parent directory of the file should already exist.<br>*   RudderStack supports specifying the date, time, and sync metadata variables within curly brackets (`{}`).<br>*   `destinationID` and `jobRunID` are required fields.<br>*   The date and time variables correspond to the upload time. |\n\n## Specify file path variables\n\nWhile specifying the file path where RudderStack stores all the data, you can also specify the date, time, and sync metadata variables within curly brackets (`{}`).\n\nRudderStack supports the following date/time variables:\n\n| Variable | Description |\n| --- | --- |\n| `YYYY` | Year in four digits. For example, `2024`. |\n| `MM` | Month in two digits. For example, `05`. |\n| `DD` | Day in two digits. For example, `09`. |\n| `hh` | Hour in two digits (in 24-hour format). For example, `15`. |\n| `mm` | Minutes in two digits. For example, `56`. |\n| `ss` | Seconds in two digits. For example, `13`. |\n| `ms` | Milliseconds in three digits. For example, `460`. |\n| `timestampInSec` | UNIX timestamp in seconds. |\n| `timestampInMS` | UNIX timestamp in milliseconds. |\n\nYou also need to specify the following sync metadata variables in the path:\n\n| Variable | Description |\n| --- | --- |\n| `destinationID`  <br>Required | The destination ID. |\n| `jobRunID`  <br>Required | Job run ID of a sync. |\n\nSome sample paths specified in the **File path** [connection setting](#connection-settings) are shown below:\n\n*   `directory/{destinationID}/{jobRunID}/file_{timestampInMS}.csv`\n*   `directory/{destinationID}/file_{jobRunID}_{timestampInMS}.csv`\n\n## Next steps\n\n*   [Connect Reverse ETL source to SFTP destination](https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/sftp/connect-retl-source/)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure SFTP as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/snowflake/",
  "markdown": "# Snowflake destination | RudderStack Docs\n\nSync data from RudderStack to Snowflake.\n\n* * *\n\n*     14 minute read  \n    \n\n[Snowflake](https://www.snowflake.com/) is a popular cloud-based data warehouse known for its speed, scalability, and reliability.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Refer to the [Warehouse Schema](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) guide for how events are mapped to Snowflake tables.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> Find the open source code for this destination in the [GitHub](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/snowflake) repository.\n\n## Setting user permissions in Snowflake\n\nTo enable RudderStack access, make sure you have `ACCOUNTADMIN` or an account that has the `MANAGE GRANTS` privilege.\n\nThe following sections illustrate how to set up a virtual warehouse, a database, a role, and an user in Snowflake:\n\n### Creating a virtual warehouse\n\nIn your Snowflake console, create a `X-Small` warehouse:\n\n[![Create a virtual warehouse](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-create-warehouse.webp)](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-create-warehouse.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Set your data warehouse size as per your data volume requirements.\n\nAlternatively, create a new warehouse by running the following SQL commands:\n\n```\nCREATE WAREHOUSE \"RUDDER_WAREHOUSE\"\n  WITH WAREHOUSE_SIZE = 'XSMALL'\n    WAREHOUSE_TYPE = 'STANDARD'\n    AUTO_SUSPEND = 600\n    AUTO_RESUME = TRUE;\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Set `AUTO_SUSPEND` to ~10 mins and enable `AUTO_RESUME` to avoid any extra costs.\n\n### Creating a database\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Create a new database to avoid conflicts with your existing data; RudderStack creates its own tables while storing your events.\n\nThe following image demonstrates the **Create Database** option in Snowflake.\n\n[![Create a database](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-create-database.webp)](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-create-database.webp)\n\nAlternatively, you can create a new database by running the following SQL command:\n\n```\nCREATE DATABASE \"RUDDER_EVENTS\";\n```\n\n### Creating a role for RudderStack\n\nRun the following SQL commands to create a new role with the required permissions to load your data into the newly created warehouse:\n\n1.  Create a new role called `RUDDER`:\n\n2.  Grant access to the warehouse `RUDDER_WAREHOUSE`:\n\n```\nGRANT USAGE ON WAREHOUSE \"RUDDER_WAREHOUSE\" TO ROLE \"RUDDER\";\n```\n\n3.  Grant access to the database `RUDDER_EVENTS`:\n\n```\nGRANT USAGE ON DATABASE \"RUDDER_EVENTS\" TO ROLE \"RUDDER\";\nGRANT CREATE SCHEMA ON DATABASE \"RUDDER_EVENTS\" TO ROLE \"RUDDER\";\nGRANT ALL ON ALL SCHEMAS IN DATABASE \"RUDDER_EVENTS\" TO ROLE \"RUDDER\";\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Alternatively, you can also create up a custom role and specify it in the [dashboard settings](#connection-settings) while setting up the Snowflake destination in RudderStack. Note that this role must have the necessary permissions for RudderStack to load the data into your warehouse.\n\n### Creating a user\n\nFinally, create a user to connect RudderStack to the newly created warehouse using the following SQL query:\n\n```\nCREATE USER \"RUDDER_USER\"\n  MUST_CHANGE_PASSWORD = FALSE\n  DEFAULT_ROLE = \"RUDDER\"\n  PASSWORD = \"<your_password>\";\nGRANT ROLE \"RUDDER\" TO USER \"RUDDER_USER\";\n```\n\n## Configuring Snowflake destination in RudderStack\n\nTo start sending data to Snowflake, you first need to add it as a destination in RudderStack and connect it to a data source. Follow these steps to configure Snowflake as a destination in RudderStack:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), configure the data source. Then, select **Snowflake** from the list of destinations.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\n*   **Account**: Enter the account ID of your Snowflake warehouse. This account ID is part of the Snowflake URL.\n\nThe following examples illustrate the slight differences in the account ID for various cloud providers:\n\n| Account ID example | Corresponding Snowflake URL | Snowflake cloud provider |\n| --- | --- | --- |\n| `qya56091.us-east-1`<br><br>`qya56091.us-east-2.aws` | `https://`**`qya56091.us-east-1`**`.snowflakecomputing.com`<br><br>`https://`**`qya56091.us-east-2.aws`**`.snowflakecomputing.com` | AWS |\n| `rx18795.east-us-2.azure` | `https://`**`rx18795.east-us-2.azure`**`.snowflakecomputing.com` | Microsoft Azure |\n| `ah76025.us-central1.gcp` | `https://`**`ah76025.us-central1.gcp`**`.snowflakecomputing.com` | Google Cloud Platform |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> In case of AWS, `.aws` is present in the account locator of some region’s accounts and must be included in the **Account** field above.\n> \n> For more information on account locator formats depending on your region or cloud provider, refer to the [Snowflake documentation](https://docs.snowflake.com/en/user-guide/admin-account-identifier.html#non-vps-account-locator-formats-by-cloud-platform-and-region).\n\n*   **Database**: Enter the name of the database created in the [Creating a database section](#creating-a-database) above.\n*   **Warehouse**: Enter the name of the warehouse created in the [Creating a virtual warehouse](#creating-a-virtual-warehouse) section above.\n*   **User**: Enter the name of the user created in the [Creating a user](#creating-a-user) section above.\n*   **Role**: Specify the role to be assigned to the above user. If not specified, RudderStack will use the [default role](#creating-a-role-for-rudderstack).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure your role has the necessary permissions for RudderStack to load the data into the warehouse.\n\n*   **Use Key Pair Authentication**: Turn on the toggle to authenticate the user via a [key pair](https://docs.snowflake.com/en/user-guide/key-pair-auth).\n\nIf **Use Key Pair Authentication** is turned on, enter the following settings:\n\n*   **Private Key**: Specify the private key. Make sure to include the delimiters.\n*   **Private Key Passphrase**: Specify the password you set while encrypting the private key. Leave this field blank if your private key is not encrypted.\n\n> ![danger](https://www.rudderstack.com/docs/images/danger.svg)\n> \n> The user authentication will fail if your private key is encrypted and you do not specify the passphrase.\n\n*   **Password**: If **Use Key Pair Authentication** is toggled off, then enter the password for the user specified in the **User** field.\n*   **Namespace**: Enter the schema name for the warehouse where RudderStack will create all tables.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If not specified, RudderStack sets the namespace to the source name by default.\n\n*   **Sync Frequency**: Specify how often RudderStack should sync the data to your Snowflake warehouse.\n*   **Sync Starting At**: This optional setting lets you specify the particular time of the day (in UTC) when you want RudderStack to sync the data to the warehouse.\n*   **Exclude Window**: This optional setting lets you set a time window when RudderStack **will not** sync the data to the warehouse.\n\n### Advanced settings\n\nRudderStack provides the following advanced settings:\n\n*   **Warehouse Append**: This setting is turned on by default - RudderStack appends your incoming Event Stream data to the existing data in your warehouse. Turning it off causes RudderStack to merge your incoming data into your warehouse to ensure 100% non-duplicate data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The append operation helps to achieve faster data syncs while reducing warehouse costs. However, note that it may increase the number of duplicates in the warehouse, especially if the existing data is older than two weeks. A common scenario where duplication might occur is when the SDKs retry sending events in case of failures.\n> \n> A merge strategy ensures deduplication but can lead to longer sync times and increased warehouse costs.\n\n*   **Skip User Table**: Toggle on this setting to send events exclusively to the [`identifies`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table and skip the [`users`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table, eliminating the need for a merge operation on the `users` table.\n*   **Skip Tracks Table**: Toggle on this setting to skip sending events to the [`tracks`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema) table.\n*   **JSON Columns**: Lets you ingest semi-structured event data not defined by a fixed schema. You can specify the required JSON column paths in this setting in dot notation, separated by commas. **This option applies to all incoming `track` events for this destination**. See [JSON Column Support](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/) for more information.\n\n### Configuring the object storage\n\nRudderStack lets you configure the following object storage settings during set up:\n\n*   **Use RudderStack-managed Object Storage**: Enable this setting to use RudderStack-managed buckets for object storage.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> This option is applicable only for RudderStack-hosted data planes. For self-hosted data planes, you will have to specify your own object storage configuration settings.\n\n*   **Choose your Cloud**: Select the cloud provider for your Snowflake instance. Refer to the following settings depending on your cloud provider:\n\n*   **Staging S3 Storage Bucket Name**: Specify the name of your S3 bucket where RudderStack will store the data before loading it into Snowflake.\n*   **Prefix**: If specified, RudderStack will create a folder in the bucket with this prefix and push all data within that folder.\n*   **Storage Integration**: Use this setting to run the COPY command. Refer to the [Configuring cloud storage integration with Snowflake](#configuring-cloud-storage-integration-with-snowflake) section for details.\n*   **Role Based Authentication**: Enable this setting to use the RudderStack IAM role for authentication. For more information on creating an AWS IAM role for RudderStack, refer to [this guide](https://www.rudderstack.com/docs/destinations/aws-iam-role-for-rudderstack/#creating-a-rudderstack-iam-role).\n    *   **IAM Role ARN**: Enter the ARN of the IAM role.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It is highly recommended to enable this setting as the access keys-based authentication method is now deprecated.\n\nIf **Role-based Authentication** is disabled, you need to enter the **AWS Access Key ID** and **AWS Secret Access Key** to authorize RudderStack to write to your S3 bucket. Refer to these [S3 permissions](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/#permissions).\n\n*   **Enable Server-side Encryption for S3**: Toggle on this setting to enable server-side encryption for your S3 bucket.\n\n*   **Staging Azure Blob Storage Container Name**: Specify the name of your Azure container where RudderStack will store the data before loading it into Snowflake.\n*   **Prefix**: If specified, RudderStack will create a folder in the bucket with this prefix and push all data within that folder.\n*   **Storage Integration**: Use this setting to run the COPY command. Refer to the [Configuring cloud storage integration with Snowflake](#configuring-cloud-storage-integration-with-snowflake) section for details.\n*   **Azure Blob Storage Account Name**: Enter the account name for the Azure container.\n*   **Azure Blob Storage Account Key**: Enter the account key for your Azure container. Refer to these [Blob Storage settings](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#setting-up-azure-blob-storage) section for more information.\n\n*   **Staging GCS Object Storage Bucket Name**: Specify the name of your GCS bucket where RudderStack will store the data before loading it into Snowflake.\n*   **Prefix**: If specified, RudderStack will create a folder in the bucket with this prefix and push all data within that folder.\n*   **Storage Integration**: Use this setting to run the COPY command. Refer to the [Configuring cloud storage integration with Snowflake](#configuring-cloud-storage-integration-with-snowflake) section for details.\n*   **Credentials**: Paste the contents of your GCP service account credentials JSON. The service account should have a role with `storage.objectCreator` access.\n\nSee [How RudderStack stores data in an object storage platform](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-does-rudderstack-store-data-in-an-object-storage-platform) for more information.\n\n## Configuring cloud storage integration with Snowflake\n\nStorage integration setting can be used to run the COPY command. This section lists the steps to configure the **Storage Integration** setting specified in the [Configuring the object storage](#configuring-the-object-storage) section above.\n\nIf you have Amazon Web Services (AWS) as your cloud provider and want to use S3 as your object storage, follow the steps below. You can find the detailed instructions in this [Snowflake documentation](https://docs.snowflake.com/en/user-guide/data-load-s3-config.html#option-1-configuring-a-snowflake-storage-integration).\n\n1.  **Create a policy in AWS**: In the following JSON, replace `<bucket_name>` and `<prefix>` with the name of your S3 bucket and the prefix set in the [Configuring the object storage](#configuring-the-object-storage) section above, and create the policy with a name of your choice.\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutObject\",\n        \"s3:GetObject\",\n        \"s3:GetObjectVersion\",\n        \"s3:DeleteObject\",\n        \"s3:DeleteObjectVersion\"\n      ],\n      \"Resource\": \"arn:aws:s3:::<bucket_name>/<prefix>/*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": \"arn:aws:s3:::<bucket_name>\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"s3:prefix\": [\"<prefix>/*\"]\n        }\n      }\n    }\n  ]\n}\n```\n\n2.  **Create a role and attach the above policy in AWS**: Follow the steps listed below:\n    \n    1.  Create a role of type **Another AWS account**.\n    2.  Enter your AWS account ID and enable the **Require External ID** option.\n    3.  For external ID, you can add a placeholder value like `0000`. This can be modified later.\n    4.  Attach the policy created in Step 1. Assign a name to this role and keep the role ARN handy for the next step.\n3.  **Create the cloud storage integration in Snowflake**: Replace `<integration_name>` with the name of your choice and `<iam_role>` with the role ARN obtained in Step 2 and run the following command:\n    \n\n```\nCREATE STORAGE INTEGRATION <integration_name>\n  TYPE = EXTERNAL_STAGE\n  STORAGE_PROVIDER = S3\n  ENABLED = TRUE\n  STORAGE_AWS_ROLE_ARN = '<iam_role>'\n  STORAGE_ALLOWED_LOCATIONS = ('s3://<bucket_name>/<path>/', 's3://<bucket_name>/<path>/')\n  [ STORAGE_BLOCKED_LOCATIONS = ('s3://<bucket_name>/<path>/', 's3://<bucket_name>/<path>/') ]\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Record the value for `<integration_name>`.\n\n4.  Retrieve the AWS IAM user for your Snowflake account as shown:\n\n```\nDESC INTEGRATION <integration_name>;\n```\n\n5.  Grant the IAM user permissions to access the bucket objects in AWS. Choose the role you created in Step 2 and edit the trust relationship as shown in the following JSON:\n\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"<snowflake_user_arn>\"\n      },\n      \"Action\": \"sts:AssumeRole\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"sts:ExternalId\": \"<snowflake_external_id>\"\n        }\n      }\n    }\n  ]\n}\n```\n\nNote that `<snowflake_user_arn>` is the `STORAGE_AWS_ROLE_ARN` option seen in Step 4, whereas `<snowflake_external_id>` is the `STORAGE_AWS_EXTERNAL_ID`.\n\n6.  Grant integration access to the Snowflake role you created in the [Creating a role for RudderStack](#creating-a-role-for-rudderstack) section by running the following command:\n\n```\nGRANT usage ON integration <integration_name> TO ROLE \"RUDDER\";\n```\n\nHere, `<integration_name>` is the name of the integration created in the Step 3.\n\n7.  Set the [**Storage Integration**](#configuring-the-object-storage) dashboard setting to `<integration_name`\\>.\n\nWhile sending the data to Snowflake, RudderStack uses an external location instead of a stage in its queries. Hence, the following command listed in the [Snowflake documentation](https://docs.snowflake.com/en/user-guide/data-load-s3-config-storage-integration.html#step-6-create-an-external-stage) is **not required**:\n\n```\nGRANT CREATE STAGE ON SCHEMA PUBLIC public to role myrole;\n```\n\nTo leverage Azure Blob Storage as your object storage, follow the instructions below. You can find the detailed instructions in this [Snowflake documentation](https://docs.snowflake.com/en/user-guide/data-load-azure-config.html#option-1-configuring-a-snowflake-storage-integration).\n\n1.  **Create a storage account and container in Azure**: First, create a storage account in Azure. Then, navigate to **Storage Explorer** > **Blob Containers** > **Create a Blob Container**.\n2.  Run the following commands to create a cloud storage integration in Snowflake:\n\n```\nCREATE STORAGE INTEGRATION <integration_name>\nTYPE = EXTERNAL_STAGE\nSTORAGE_PROVIDER = AZURE\nENABLED = TRUE\nAZURE_TENANT_ID = '<tenant_id>'\nSTORAGE_ALLOWED_LOCATIONS = ('azure://<account>.blob.core.windows.net/<container>/<path>/', 'azure://<account>.blob.core.windows.net/<container>/<path>/')\n[ STORAGE_BLOCKED_LOCATIONS = ('azure://<account>.blob.core.windows.net/<container>/<path>/', 'azure://<account>.blob.core.windows.net/<container>/<path>/') ]\n```\n\nYou can get your `<tenant_id>` by navigating to **Azure Active Directory** > **Properties** > **Directory ID**.\n\n3.  **Grant Snowflake access to the storage locations**: Run the following command and replace `<integration_name>` with the integration name created in Step 2.\n\n```\nDESC INTEGRATION <integration_name>;\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Record the values for `AZURE_CONSENT_URL` and `AZURE_MULTI_TENANT_APP_NAME`.\n\n4.  Go to the URL obtained in `AZURE_CONSENT_URL` and accept the consent requirements.\n5.  **Grant Snowflake access to the container**: Navigate to **Azure Services** > **Storage Accounts** and select the storage account created in Step 1.\n6.  **Add the role**: Navigate to **Access Control (IAM)** > **Add Role Assignment**. Select either **Storage Blob Data Reader** with **Read** access, or **Storage Blob Data Contributor** with **Read and Write** access.\n7.  **Add Assign Access**: Add **Service Principal** as the security principal type for the role. Search for `AZURE_MULTI_TENANT_APP_NAME` that you obtained in Step 3.\n8.  Grant integration access to the Snowflake role you created in the [Creating a role for RudderStack](#creating-a-role-for-rudderstack) section by running the following command:\n\n```\nGRANT USAGE ON integration <integration_name> to role \"RUDDER\";\n```\n\nHere, `<integration_name>` is the integration you created in Step 2.\n\n9.  Set the [**Storage Integration**](#configuring-the-object-storage) dashboard setting to `<integration_name`\\>.\n\nIf you want to leverage Google Cloud Storage as your object storage, follow the instructions below. You can find the detailed instructions in this [Snowflake documentation](https://docs.snowflake.com/en/user-guide/data-load-gcs-config.html#configuring-an-integration-for-google-cloud-storage).\n\n1.  **Create a Cloud Storage integration in Snowflake**: Run the following command:\n\n```\nCREATE STORAGE INTEGRATION <integration_name>\n  TYPE = EXTERNAL_STAGE\n  STORAGE_PROVIDER = GCS\n  ENABLED = TRUE\n  STORAGE_ALLOWED_LOCATIONS = ('gcs://<bucket>/<path>/', 'gcs://<bucket>/<path>/')\n```\n\nReplace `<integration_name>` with the name of your Cloud Storage integration, `<bucket>` with **Staging GCS Object Storage Bucket Name**, and `<path>` with the prefix set in the [Configuring the object storage](#configuring-the-object-storage) section above.\n\n2.  The following command retrieves the Cloud Storage service account ID created for your Snowflake account, where `<integration_name>` is the integration name you specified in Step 1.\n\n```\nDESC STORAGE INTEGRATION <integration_name>;\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The output of this command will have a property named as `STORAGE_GCP_SERVICE_ACCOUNT`. Retrieve this property value. It should be of the format `service-account-id@UNIQUE_STRING.iam.gserviceaccount.com`.\n\n3.  **Grant service account permissions to access the bucket objects**: Create a custom IAM role with the required permissions to access the bucket and fetch the objects by following these steps:\n    \n    1.  Log into the GCP console as a Project Editor.\n        \n    2.  From the dashboard, go to **IAM & Admin** > **Roles**.\n        \n    3.  Click **CREATE ROLE**.\n        \n    4.  Enter the title and description for the custom role.\n        \n    5.  Click **ADD PERMISSIONS**.\n        \n    6.  Filter the following permissions in the **Enter property name or value** and add them to the list. Then, click **ADD**.\n        \n        *   `storage.buckets.get`\n        *   `storage.objects.get`\n        *   `storage.objects.list`\n        *   `storage.objects.create`\n4.  **Assign the custom role to the Cloud Storage service account**:\n    \n    1.  In your GCP console dashboard, go to **Cloud Storage** > **Browser**.\n    2.  Select the bucket to configure the access.\n    3.  Select **SHOW INFO PANEL** in the upper right corner. The information panel for the bucket will pop out.\n    4.  In the **Add Members** section, get the service account name from the `DESC` command run in Step 2.\n    5.  From the **Select a role** dropdown, select **Storage** > **Custom** > `<role>`, where `<role>` is the custom Cloud Storage role.\n    6.  Click the **ADD** button. The service account name will be added to the **Storage Object Viewer** role dropdown in the information panel.\n5.  Grant integration access to the Snowflake role you created in the [Creating a role for RudderStack](#creating-a-role-for-rudderstack) section by running the following command:\n    \n\n```\nGRANT USAGE ON INTEGRATION <integration_name> TO ROLE \"RUDDER\";\n```\n\nHere, `<integration_name>` is the integration name you set up in Step 1.\n\n6.  Set the [**Storage Integration**](#configuring-the-object-storage) dashboard setting to `<integration_name`\\>.\n\n## IPs to be allowlisted\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## FAQ\n\n#### While configuring the Snowflake destination, what should I enter in the Account field?\n\nWhile configuring Snowflake as a destination in RudderStack, you need to enter your [Snowflake connection credentials](#connection-settings) which include the **Account** field, as shown below:\n\n[![Snowflake account ID example](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-account-id-example.webp)](https://www.rudderstack.com/docs/images/dw-integrations/snowflake-account-id-example.webp)\n\nThe **Account** field corresponds to the account ID of your Snowflake warehouse and is a part of the Snowflake URL.\n\nThe following examples illustrate the slight differences in the Snowflake account ID for various cloud providers:\n\n| Account ID example | Corresponding Snowflake URL | Snowflake cloud provider |\n| --- | --- | --- |\n| `qya56091.us-east-1`<br><br>`qya56091.us-east-2.aws` | `https://`**`qya56091.us-east-1`**`.snowflakecomputing.com`<br><br>`https://`**`qya56091.us-east-2.aws`**`.snowflakecomputing.com` | AWS |\n| `rx18795.east-us-2.azure` | `https://`**`rx18795.east-us-2.azure`**`.snowflakecomputing.com` | Microsoft Azure |\n| `ah76025.us-central1.gcp` | `https://`**`ah76025.us-central1.gcp`**`.snowflakecomputing.com` | Google Cloud Platform |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> In case of AWS, `.aws` is present in the account locator of some region’s accounts and must be included in the **Account** field above.\n> \n> For more information on account locator formats depending on your region or cloud provider, refer to the [Snowflake documentation](https://docs.snowflake.com/en/user-guide/admin-account-identifier.html#non-vps-account-locator-formats-by-cloud-platform-and-region).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Snowflake destination | RudderStack Docs",
  "description": "Sync data from RudderStack to Snowflake.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/",
  "markdown": "# Warehouse Schema | RudderStack Docs\n\nUnderstand the RudderStack schema for warehouse destinations.\n\n* * *\n\n*     14 minute read  \n    \n\nWhen sending your events to a data warehouse via RudderStack, you don’t need to define a schema for your event data. RudderStack automatically does that for you by following a predefined warehouse schema.\n\nThis guide details the structure of this warehouse schema and the columns created in various tables based on different event types.\n\n## Schema\n\nRudderStack uses the source name (written in snake case, for example, `source_name`) to create a schema in your data warehouse.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> RudderStack treats the warehouse schema as the source of truth. If you manually make any changes to the schema, for example, add or modify a column, or update a column’s data type, RudderStack honors the modified schema and sends the data to the warehouse accordingly.\n\nThe following tables are created in your data warehouse for each RudderStack source connected to it:\n\n| Name | Description |\n| --- | --- |\n| `<source_name>.identifies` | Every `identify` call sent from the source is stored in this table, including the properties passed as `traits`. |\n| `<source_name>.users` | RudderStack stores all unique users in this table. Only the latest properties used to identify a user are stored, including the latest `anonymousId`. |\n| `<source_name>.tracks` | Every `track` call sent from the source is stored in this table. It **does not include** the custom properties present in the event’s `properties` but has some standard properties listed in the [Standard properties](#standard-rudderstack-properties) section below such as `received_at`, `anonymous_id`, `context_device_info`, etc. |\n| `<source_name>.<track_event_name>` | All the standard properties and the custom properties for a `track` event are stored in this table. The table name is the event name specified in the `track` call, e.g., `Added to Cart`. |\n| `<source_name>.pages` | Every `page` call sent from the source is stored in this table, including the associated event properties. |\n| `<source_name>.screens` | Every `screen` call sent from the source is stored in this table, including the associated event properties. |\n| `<source_name>.groups` | Every `group` call sent from the source is stored in this table, including the associated event properties. |\n| `<source_name>.aliases` | Every `alias` call sent from the source is stored in this table, including the associated event properties. |\n\nThe following image highlights the warehouse schema and the relationships between the tables:\n\n[![RudderStack warehouse schema](https://www.rudderstack.com/docs/images/warehouse-destinations/warehouse-schema.svg)](https://www.rudderstack.com/docs/images/warehouse-destinations/warehouse-schema.svg)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the event properties are stored as top-level columns in the corresponding table. The nested properties are prefixed with the parent key. For example, an event with properties `{ product: { name: iPhone, version: 11 }}` will result in RudderStack creating the columns `product_name` and `product_version`.\n\n## Standard RudderStack properties\n\nRudderStack sets the following standard properties on all above-mentioned tables:\n\n| Name | Description |\n| --- | --- |\n| `anonymous_id` | The user’s anonymous ID. |\n| `context_<prop>` | The context properties set in the event. |\n| `id` | The unique message ID of the event. Not applicable for the `users` table, as the field be set to the user ID in that case. |\n| `sent_at` | Captures the time when the event was sent from the client to RudderStack. Conforms to the ISO 8601 date format `yyyy-MM-ddTHH:mm:ss.SSSZ`. |\n| `received_at` | Timestamp registered by RudderStack when the event was ingested (received). Conforms to the ISO 8601 date format `yyyy-MM-ddTHH:mm:ss.SSSZ`. |\n| `original_timestamp` | Timestamp registered by the RudderStack SDK when the event call was invoked (event was emitted in the SDK). |\n| `timestamp` | **If not already specified in the payload**, RudderStack calculates this field to account for the client clock skew. The formula used is `timestamp` = `received_at` - (`sent_at` -`original_timestamp`). Make sure it conforms to the ISO 8601 date format `yyyy-MM-ddTHH:mm:ss.SSSZ`. For e.g., `2022-02-01T19:14:18.381Z`. |\n| `event_text` | The name of the event mapped from the `event` key in the `track` event payload. |\n| `event` | The name of the event table in case of the `track` calls. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack automatically converts the property names from camel case to snake case. For more information on the properties captured at the API level, refer to the [RudderStack Event Specification](https://www.rudderstack.com/docs/event-spec/standard-events/common-fields/) guide.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack reserves the above-mentioned standard properties. In case of any conflict, RudderStack automatically discards the properties set by the user.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack drops any non-standard properties declared at the top level of an event.\n\n## Identify\n\nFor every [Identify](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call, RudderStack creates a record in the `identifies` table and upserts the records in the `users` table based on the `userId`.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> In case of Google BigQuery, you can use the views created over the tables to query for unique users in the dataset. Refer to the [BigQuery documentation](https://www.rudderstack.com/docs/destinations/warehouse-destinations/bigquery/#schema-partitioned-tables-views-and-deduplication) for more details.\n\nA sample `identify` call is shown below:\n\n```\nrudderanalytics.identify(\n  \"userId\",\n  {\n    email: \"alex@company.com\",\n    first_name: \"Alex\",\n    last_name: \"Keener\",\n    age: 35,\n  },\n  {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n```\n\nThe corresponding schemas created for the `identifies` and `users` tables are shown in the following sections:\n\n#### Table: `identifies`\n\n| Column | Type | Example value | Note |\n| --- | --- | --- | --- |\n| `id` | String | `4d5a7681-e596-40ea-a81c-bf69f9b297f1` | Unique `messageId` generated by RudderStack. |\n| `user_id` | String | `userId` | The `userId` in the `identify` call. |\n| `anonymous_id` | String | `59b703e3-467a-4a1d-9fe6-da27ed319619` | \\-  |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | \\-  |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | \\-  |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Int | `context_app_version: 1.2.3`, `context_screen_density: 2` | \\-  |\n| `email` | String | `alex@company.com` | \\-  |\n| `first_name` | String | `Alex` | \\-  |\n| `last_name` | String | `Keener` | \\-  |\n| `age` | Int | `35` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n#### Table: `users`\n\n| Column | Type | Value | Note |\n| --- | --- | --- | --- |\n| `id` | String | `userId` | The unique user ID. |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Integer | `context_app_version: 1.2.3`, `context_screen_density: 2` | \\-  |\n| `email` | String | `alex@company.com` | \\-  |\n| `first_name` | String | `Alex` | \\-  |\n| `last_name` | String | `Keener` | \\-  |\n| `age` | Int | `35` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   The `users` table contains the properties from the latest `identify` call made for an user. It only has the `id` column (same as `user_id` in the `identifies` table) and does not have the `anonymous_id` column.\n> *   To obtain a user’s `anonymous_id`, you can query the `identifies` table by grouping on the `user_id` column.\n\n#### Skip sending data to `users` table\n\nYou can skip sending the event data to the `users` table by setting the `skipUsersTable` option to `true`.\n\nFor example, you can add the following transformation that adds an `integrations` object to your event and skips sending the event data to the `users` table:\n\n```\nevent.integrations = {\n    \"DELTALAKE\": {\n        options: {\n            skipUsersTable: true\n        }\n    }\n}\n```\n\nUse the following names for your preferred warehouse destination in the above snippet:\n\n| Warehouse destination | Name |\n| --- | --- |\n| PostgreSQL | `POSTGRES` |\n| Snowflake | `SNOWFLAKE` |\n| Google BigQuery | `BQ` |\n| Microsoft SQL Server | `MSSQL` |\n| Databricks Delta Lake | `DELTALAKE` |\n| ClickHouse | `CLICKHOUSE` |\n| Amazon S3 Data Lake | `S3_DATALAKE` |\n| Google Cloud Storage Data Lake | `GCS_DATALAKE` |\n| Azure Data Lake | `AZURE_DATALAKE` |\n| Amazon Redshift | `RS` |\n| Azure Synapse | `AZURE_SYNAPSE` |\n\n## Track\n\nFor every [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call, RudderStack creates a record in the `tracks` and `<event_name>` table. In addition to the `tracks` table columns, the `<event_name>` table includes the properties set by the user via the `properties` key.\n\nYou can also skip sending the event data to `tracks` table by setting the `skipTracksTable` option to `true`.\n\nA sample `track` event named `Add to Cart` is shown below:\n\n```\nrudderanalytics.track(\n  \"Add to Cart\", {\n    price: 5,\n    currency: \"USD\",\n    product_id: \"P12345\",\n    product_name: \"N95 Mask\",\n  }, {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n```\n\nThe corresponding schemas created for the `tracks` and `add_to_cart` tables are as shown:\n\n#### Table: `tracks`\n\nThe `tracks` table stores contextual information like `ip`, `device`, etc. which helps you to perform analytics-related operations on top of it.\n\n| Column | Type | Example value | Description |\n| --- | --- | --- | --- |\n| `id` | String | `4d5a7681-e596-40ea-a81c-bf69f9b297f1` | Unique `messageId` generated by RudderStack. |\n| `anonymous_id` | String | `59b703e3-467a-4a1d-9fe6-da27ed319619` | The anonymous ID of the user. |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | Timestamp registered by RudderStack when the event was ingested (received). |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | Timestamp set by the SDK when the event was sent from the client to RudderStack. |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | Timestamp registered by the SDK when the event was invoked (event was emitted in the SDK). |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | Calculated by RudderStack to account for the client clock skew. The formula used is: `timestamp` = `received_at` - (`sent_at` - `original_timestamp`). |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Integer | `context_app_version: 1.2.3, context_screen_density: 2` | \\-  |\n| `event` | String | `add_to_cart` | The name of the corresponding event table. |\n| `event_text` | String | `Add to Cart` | The name of the event. |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n#### Skip sending data to `tracks` table\n\nSimilar to [`users`](#skip-sending-data-to-users-table) table, you can skip sending the event data to the `tracks` table by setting `skipTracksTable` to `true`.\n\nThe transformation that adds the `integrations` object to your event and skips sending the event data to the `tracks` table:\n\n```\nevent.integrations = {\n    \"DELTALAKE\": {\n        options: {\n            skipTracksTable: true\n        }\n    }\n}\n```\n\nUse the following names for your preferred warehouse destination in the above snippet:\n\n| Warehouse destination | Name |\n| --- | --- |\n| PostgreSQL | `POSTGRES` |\n| Snowflake | `SNOWFLAKE` |\n| Google BigQuery | `BQ` |\n| Microsoft SQL Server | `MSSQL` |\n| Databricks Delta Lake | `DELTALAKE` |\n| ClickHouse | `CLICKHOUSE` |\n| Amazon S3 Data Lake | `S3_DATALAKE` |\n| Google Cloud Storage Data Lake | `GCS_DATALAKE` |\n| Azure Data Lake | `AZURE_DATALAKE` |\n| Amazon Redshift | `RS` |\n| Azure Synapse | `AZURE_SYNAPSE` |\n\n#### Table: `add_to_cart`\n\nThe `add_to_cart` table has the same columns as the `tracks` table. Additionally, it includes the properties set by the user via the `properties` key.\n\n| Column | Type | Example value | Note |\n| --- | --- | --- | --- |\n| `id` | String | `4d5a7681-e596-40ea-a81c-bf69f9b297f1` | Unique `messageId`generated by RudderStack. |\n| `anonymous_id` | String | `59b703e3-467a-4a1d-9fe6-da27ed319619` | \\-  |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | \\-  |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | \\-  |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Int | `context_app_version: 1.2.3, context_screen_density: 2` | \\-  |\n| `event` | String | `add_to_cart` | The name of the event table. |\n| `event_text` | String | `Add to Cart` | The name of the event. |\n| `price` | Int | `5` | \\-  |\n| `currency` | String | `USD` | \\-  |\n| `product_id` | String | `P12345` | \\-  |\n| `product_name` | String | `N95 Mask` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n## Page/Screen\n\nFor every [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/)/[`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/) call, RudderStack creates a record in the corresponding `pages` or `screens` table.\n\nA sample `page` event is shown below:\n\n```\nrudderanalytics.page(\n  \"Cart\",\n  \"Cart Viewed\",\n  {\n    path: \"/cart\",\n    title: \"Shopping Cart\",\n    url: \"https://rudderstack.com\",\n  },\n  {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n```\n\nThe corresponding schema created for the `pages`/`screens` table is as shown:\n\n#### Table: `pages`/`screens`\n\n| Column | Type | Example value | Note |\n| --- | --- | --- | --- |\n| `id` | String | `4d5a7681-e596-40ea-a81c-bf69f9b297f1` | \\-  |\n| `anonymous_id` | String | `59b703e3-467a-4a1d-9fe6-da27ed319619` | \\-  |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | \\-  |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | \\-  |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Integer | `context_app_version: 1.2.3`, `context_screen_density: 2` | \\-  |\n| `name` | String | `Cart Viewed` | The page name.<br><br>RudderStack sets the value of this field to `null` if you do not explicitly declare it in the `page` event. |\n| `category` | String | `Cart` | The page category. |\n| `path` | String | `/cart` | \\-  |\n| `title` | String | `Shopping Cart` | \\-  |\n| `url` | String | `https://rudderstack.com` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n## Group\n\nFor every [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/) call, RudderStack creates a record in the corresponding `groups` table.\n\nA sample `group` call is shown below:\n\n```\nrudderanalytics.group(\n  \"groupId\", {\n    email: \"alex@keener.com\",\n    first_name: \"Alex\",\n    last_name: \"Keener\",\n    age: 35,\n  }, {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n```\n\nThe corresponding schema created for the `groups` table is as shown:\n\n#### Table: `groups`\n\n| Column | Type | Example value | Note |\n| --- | --- | --- | --- |\n| `id` | String | `4d5a7681-e596-40ea-a81c-bf69f9b297f1` | The group ID associated with the current user. |\n| `anonymous_id` | String | `59b703e3-467a-4a1d-9fe6-da27ed319619` | \\-  |\n| `group_id` | String | `groupId` | \\-  |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | \\-  |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | \\-  |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Integer | `context_app_version: 1.2.3`, `context_screen_density: 2` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n## Alias\n\nFor every [`alias`](https://www.rudderstack.com/docs/event-spec/standard-events/alias/) call, RudderStack creates a record in the corresponding `aliases` table.\n\nA sample `alias` call is shown below:\n\n```\nrudderanalytics.alias(\"9bb5d4c2\", \"e6ab2c5e\")\n```\n\n#### Table: `aliases`\n\n| Column | Type | Example value | Note |\n| --- | --- | --- | --- |\n| `user_id` | String | `9bb5d4c2` | The new ID associated with the user. |\n| `previous_id` | String | `e6ab2c5e` | The previous ID associated with the user. |\n| `received_at` | Timestamp | `2020-04-26 07:00:45.558` | \\-  |\n| `sent_at` | Timestamp | `2020-04-26 07:00:45.124` | \\-  |\n| `original_timestamp` | Timestamp | `2020-04-26 07:00:43.400` | \\-  |\n| `timestamp` | Timestamp | `2020-04-26 07:00:44.834` | \\-  |\n| `context_ip` | String | `0.0.0.0` | \\-  |\n| `context_<prop>` | String, Integer | `context_app_version: 1.2.3`, `context_screen_density: 2` | \\-  |\n| `uuid_ts` | Timestamp | `2020-04-26 07:31:54:735` | Added by RudderStack for debugging purposes. Can be ignored for analytics. |\n\n## Clock skew considerations\n\nRudderStack considers the time at its end to be absolute and assumes any difference on the client-side. Thus, the client clock skew is relative.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If not specified in the payload explicitly, RudderStack calculates `timestamp` based on `originalTimestamp` and `sentAt` to account for the client clock skew.\n\nAs mentioned in the above section:\n\n| Field | Description |\n| --- | --- |\n| `original_timestamp` | Records the actual time when the event occurred at the source. |\n| `sent_at` | Captures the time when the event was sent from the client to RudderStack. |\n| `received_at` | The timestamp when the event is received(ingested) by the RudderStack server. |\n| `timestamp` | Calculated by RudderStack to account for the client clock skew, **IF** the user does not explicitly specify it in the payload. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `sent_at` > `original_timestamp` is **always true**. However, `timestamp` can be more or less than the `original_timestamp`. Refer to the cases below for more details.\n\n### Case 1: `original_timestamp` < `received_at`\n\nThe following table demonstrates an example of `original_timestamp` < `received_at`(when the client-side time is less than the time registered by RudderStack):\n\n| original\\_timestamp | sent\\_at | received\\_at | timestamp = received\\_at - (sent\\_at - original\\_timestamp) |\n| --- | --- | --- | --- |\n| 2020-04-26 07:00:43.400 | 2020-04-26 07:00:45.124 | 2020-04-26 07:00:45.558 | 2020-04-26 07:00:44.834 |\n\nIn this case, `timestamp` will be **greater** than `original_timestamp`.\n\n### Case 2: `original_timestamp` > `received_at`\n\nThe following table demonstrates an example of `original_timestamp` > `received_at`(when the client-side time is more than the time registered by RudderStack):\n\n| original\\_timestamp | sent\\_at | received\\_at | timestamp = received\\_at - (sent\\_at - original\\_timestamp) |\n| --- | --- | --- | --- |\n| 2020-04-26 07:00:45.558 | 2020-04-26 07:00:46.124 | 2020-04-26 07:00:43.400 | 2020-04-26 07:00:42.834 |\n\nIn this case, `timestamp` will be **less** than `original_timestamp`.\n\n## Accepted timestamp formats\n\nRudderStack recognizes only the following subsets of the ISO 8601 timestamp format:\n\n*   `2019-09-26`\n*   `2009-05-19 14:39:22`\n*   `2019-09-26T06:30:12.984Z`\n*   `2020-02-11 04:56:55.175116`\n*   `2019-09-26T06:30:12.984+0530`\n*   `2019-09-26T06:30:12.984+05:30`\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack **does not recognize** any other timestamp format apart from the ones mentioned above.\n\n## Reserved keywords\n\nThere are some limitations when it comes to using the reserved words in a schema, table, or column names. If these words are used in the event names, traits or properties, RudderStack automatically prefixes an underscore(`_`) when creating the tables or columns for them in your schema.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Integers are not allowed at the start of the schema or table name. Such schema, column, or table names will be prefixed with an underscore. For e.g., `25dollarpurchase` will be changed to `_25dollarpurchase`.\n\nThe following table lists the warehouse-specific documentation references for reserved keywords:\n\n| Warehouse | Reference |\n| --- | --- |\n| Amazon Redshift | [Link](https://docs.aws.amazon.com/redshift/latest/dg/r_pg_keywords.html) |\n| Google BigQuery | [Link](https://cloud.google.com/bigquery/docs/reference/standard-sql/lexical#reserved-keywords) |\n| Snowflake | [Link](https://docs.snowflake.net/manuals/sql-reference/reserved-keywords.html) |\n\n## How RudderStack handles data type mismatch\n\nOnce RudderStack recognizes and sets a data type for a table column, it will not accept any values for the column that cannot be cast to the specified data type.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The values which cannot be cast are set as `NULL` in the table and stored in the `rudder_discards` table.\n\nThe `rudder_discards` table schema is shown below:\n\n| Column | Description |\n| --- | --- |\n| `row_id` | The unique identifier (ID) associated with each record in the table. This corresponds to the event’s `messageId` for all tables except for `users` table, where it is `userId`. |\n| `table_name` | The table name where the full record is inserted, like `tracks`, `add_to_cart`, `identifies` , etc. |\n| `column_name` | The column name corresponding to the property to be added. |\n| `column_value` | The discarded column value that caused the data type mismatch. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> `row_id` is the column which users can use to join with original table and update it as required. As mentioned in the above table, it is set to `messageId` for all tables except the `users` table, where it corresponds to `userId`.\n\nThe following snippet highlights a sample event whose properties are discarded due to a data type mismatch:\n\n```\n// intial track call using the RudderStack JavaScript SDK\n\nrudderanalytics.track(\n  \"Add to Cart\",\n  {\n    price: 5, // originally a int value\n    currency: \"USD\",\n    product_id: \"P12345\",\n    product_name: \"N95 Mask\",\n    added_at: \"2020-05-19 14:39:22\", // originally a datetime value\n  },\n  {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n\n// subsequent track call using the RudderStack JavaScript SDK\n\nrudderanalytics.track(\n  \"Add to Cart\",\n  {\n    price: \"NA\", // sent as a string in latest event\n    currency: \"USD\",\n    product_id: 789, // sent as int but can be casted into original string data type\n    product_name: \"N95 Mask\",\n    added_at: \"05/25/2020\", // sent as invalid datetime value\n  },\n  {\n    context: {\n      ip: \"0.0.0.0\",\n    },\n    anonymousId: \"59b703e3-467a-4a1d-9fe6-da27ed319619\",\n  }\n)\n```\n\nThe subsequent records created in the `rudder_discards` table for the discarded properties from the second event shown in the following table:\n\n| Row ID | Table name | Column name | Column value |\n| --- | --- | --- | --- |\n| `a21620be-6502-44d6-941d-78209a386d58` | `add_to_cart` | `price` | `NA` |\n| `1e42b2b3-8b6a-49da-8502-83a8db334375` | `add_to_cart` | `added_at` | `05/25/2020` |\n\n## FAQ\n\n#### Can I change the namespace (schema name) of my data warehouse in RudderStack?\n\nYes, you can. Although the default namespace will be the source name, RudderStack gives you the option to explicitly set the namespace while setting up your warehouse destination. For more information, refer to the [warehouse-specific destination settings](https://www.rudderstack.com/docs/destinations/warehouse-destinations/) for configuring the namespace in the RudderStack dashboard.\n\n#### Why am I not able to see the properties added at the top level of an event in warehouse destination?\n\nRudderStack drops any non-standard properties (properties apart from the [standard properties](#standard-rudderstack-properties)) declared at the top level of an event. However, you can add such properties in the `context` or `properties` section of the event payload.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For a more comprehensive FAQ list, refer to the [Warehouse FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/) guide.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Warehouse Schema | RudderStack Docs",
  "description": "Understand the RudderStack schema for warehouse destinations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/templates/",
  "markdown": "# Transformation Templates | RudderStack Docs\n\nUse prebuilt transformations to implement specific use cases on your event data.\n\n* * *\n\n*     11 minute read  \n    \n\nRudderStack’s transformation templates provide prebuilt JavaScript functions that you can use to create transformations and implement use cases on your event data. These include data cleaning and enrichment, event filtering and sampling, PII management, and more.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> **Currently, transformation templates are available in JavaScript only.**\n> \n> Python support (applicable for [Growth/Enterprise](https://www.rudderstack.com/pricing/) customers) is coming soon.\n\n## Using transformation templates\n\nTo use transformation templates, go to **Collect** > **Transformations** and click **Create Transformation**.\n\nUnder **Transformation templates**, select the prebuilt template depending on your use case. To write a transformation from scratch, click **Custom transformation**.\n\n[![Choose a template](https://www.rudderstack.com/docs/images/features/transformations/transformation-templates-overview.webp)](https://www.rudderstack.com/docs/images/features/transformations/transformation-templates-overview.webp)\n\n## PII management and privacy\n\nUse the following transformation templates to easily apply rules for PII management.\n\n### IP Anonymization\n\nThis transformation changes the last octet of the IP address to zero. For example, the IP `12.214.31.144` is transformed to `12.214.31.0`. This protects the privacy rights of your users and reduces the risk of accidentally disclosing their IP addresses.\n\nThe transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const ip = event.request_ip;\n  if (ip) event.request_ip = ip.replace(/\\d{1,3}$/, \"0\");\n  return event;\n}\n```\n\n### Replace PII\n\nThis transformation replaces or masks sensitive personal data, for example, email, birthday, or social security number, reducing the risk of accidentally disclosing Personally Identifiable Information (PII). You can specify the properties to be masked or replaced and define the masking logic in the code.\n\nThe following transformation masks a social security number with zeros:\n\n```\nexport function transformEvent(event, metadata) {\n  if (event.context?.traits?.ssn) event.context.traits.ssn = \"000-00-000\"; // Change property\n  return event;\n}\n```\n\n### Hash PII\n\nThis transformation hashes any sensitive user information like their email, social security number, etc., using SHA256 encryption.\n\nThe transformation hashing the user’s email is shown below:\n\n```\nimport { sha256 } from \"@rs/hash/v1\";\n\nexport function transformEvent(event, metadata) {\n  const email = event.context?.traits?.email;\n  if (email) event.context.traits.email = sha256(email);\n  return event;\n}\n```\n\nThe following templates leverage the `JSEncrypt` library for encrypting/decrypting PII in your events:\n\n### Encryption\n\nThis transformation encrypts any Personally Identifiable Information (PII) including those stored in the cookies.\n\nThe transformation encrypting the user’s email is shown below:\n\n```\nimport { JSEncrypt } from \"@rs/encrypt/v1\";\n\nconst publicKey = `<RSA_PUBLIC_KEY>` // Add RSA public key\n\nexport function transformEvent(event, metadata) {\n  const email = event.context?.traits?.email;\n  if (email) {\n    const crypt = new JSEncrypt();\n    crypt.setKey(publicKey);\n    event.context.traits.email = crypt.encrypt(email);\n  }\n  return event;\n}\n```\n\n### Decryption\n\nThis transformation decrypts the user’s Personally Identifiable Information (PII).\n\nThe transformation decrypting the user’s email is shown below:\n\n```\nimport { JSEncrypt } from \"@rs/encrypt/v1\";\n\nconst privateKey = `<RSA_PRIVATE_KEY>` // Add RSA private key\n\nexport function transformEvent(event, metadata) {\n  const email = event.context?.traits?.email;\n  if (email) {\n    const crypt = new JSEncrypt();\n    crypt.setKey(privateKey);\n    event.context.traits.email = crypt.decrypt(email);\n  }\n  return event;\n}\n```\n\n## Event filtering and sampling\n\nUse the following templates for your event filtering and sampling use cases.\n\n### Allowlist\n\nThis transformation allows events to reach a downstream destination only if a specific property contains certain values.\n\nSome examples of how you can use this template are:\n\n*   Allow only certain event names, like `Product Added` or `Order Completed`.\n*   Send certain event types to a particular destination, like [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) or [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/).\n*   Send only the events that have a tracking plan linked to the source.\n\nThe allowlist transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const property = event.event; // Edit property; here it is event name\n  const allowlist = [\"<VALUE>\", \"<OTHER_VALUE>\"]; // Edit allowlist contents\n  if (!property || !allowlist.includes(property)) return;\n  return event;\n}\n```\n\n### Denylist\n\nThis transformation blocks the events from reaching a downstream destination if a specific property contains certain values. For example, you can block all `Product Added` and `Order Completed` events or block certain event types (`identify`, `track`, etc.).\n\nThe denylist transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const property = event.event; // Edit property, here it is event name\n  const denylist = [\"<VALUE>\", \"<OTHER_VALUE>\"]; // Edit denylist contents\n  if (property && denylist.includes(property)) return;\n  return event;\n}\n```\n\n### Event Sampling\n\nThis transformation sends only a subset of events to a downstream destination. You can anonymize the events and select a random subset from the anonymous events; this allows you to work with a small, manageable amount of data in the destination.\n\nThe event sampling transformation is shown below:\n\n```\nimport { cyrb53 } from \"@rs/hash/v1\";\n\nexport function transformEvent(event, metadata) {\n  const userId = event.userId;\n  if (userId && parseInt(cyrb53(userId)) % 10 < 5) return;\n  return event;\n}\n```\n\n## Data enrichment\n\nUse the following templates for your data enrichment use cases.\n\n### Geolocation Enrichment\n\nThis transformation enriches events with the geolocation data using an IP-to-geolocation API. This lets you easily query your events based on the geolocation data, for example, country or city.\n\nThe transformation is shown below:\n\n```\nexport async function transformEvent(event, metadata) {\n  if (event.request_ip) {\n    try {\n      const res = await fetchV2(\"<YOUR_API_ENDPOINT>\" + event.request_ip); // Use your paid IP-to-geolocation API endpoint.\n      event.context.geolocation = res.body;\n    } catch {}\n  }\n  return event;\n}\n```\n\n### Parse User Agent\n\nThis transformation lets you add the user’s browser, engine, OS, device, and CPU-related information to the events. Adding this user metadata to your user events is helpful when you want to perform downstream actions later, for example, filter events coming from mobile devices.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This template uses the standard RudderStack library [User Agent Parser](https://www.rudderstack.com/docs/transformations/libraries/#user-agent-parser) which you can use for your custom transformations.\n\nThe transformation is shown below:\n\n```\nimport { UAParser } from \"@rs/userAgentParser/v1\";\n\nexport function transformEvent(event, metadata) {\n  const userAgent = event.context?.userAgent;\n  if (userAgent) {\n    const parser = new UAParser();\n    const parsedUserAgent = parser.setUA(userAgent).getResult();\n    event.context.parsedUserAgent = parsedUserAgent;\n  }\n  return event;\n}\n```\n\n### User Enrichment\n\nThis transformation enriches the events by fetching user data like location, employment, or social media details using the Clearbit API and their email address. It is helpful when sending events with additional user metadata to various downstream destinations.\n\nThe transformation is shown below:\n\n```\nexport async function transformEvent(event) {\n  const email = event.context?.traits?.email;\n  if (email) {\n    const res = await fetch(\"<https://person.clearbit.com/v2/combined/find?email=>\" + email, {\n      headers: {\n        \"Authorization\": \"Bearer <your_clearbit_secure_key\"\n      }\n    });\n    event.context.traits.enrichmentInfo = res;\n  }\n  return event;\n}\n```\n\nThis transformation lets you programmatically extract the query parameters from a URL. For example, in the URL `rudderstack.com/transformations?publish=true`, this transformation identifies the query parameter `publish`.\n\nThe transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const search = event.context?.page?.search;\n  if (search) {\n    event.context.page.parameters = {};\n    search.substring(1).split(\"&\").forEach(parameter => {\n      const [key, value] = parameter.split(\"=\");\n      event.context.page.parameters[key] = value;\n    });\n  }\n  return event;\n}\n```\n\n### Localize Apple Device Model\n\nThis transformation lets you use the localized version of the Apple device model present in your event’s `context.device.model`. It converts the standard Apple device model information (for example, `iPhone 13,1`) into a human-readable format (`iPhone 12 Mini`).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This transformation template uses the `localizeAppleDeviceModel` RudderStack library which leverages the device model mappings based on open source information. If you find any discrepancies, open an issue in the [`rudder-libraries`](https://github.com/rudderlabs/rudder-libraries) GitHub repository.\n\nThe transformation is shown below:\n\n```\nimport { getLocalizedDeviceModel } from \"@rs/localizeAppleDeviceModel/v1\";\n\n export function transformEvent(event, metadata) {\n const localizedDeviceModel = getLocalizedDeviceModel(event);\n  if(localizedDeviceModel && event?.context?.device?.model) {\n    event.context.device.model = localizedDeviceModel;\n  }\n  return event;\n}\n```\n\n## Data cleaning\n\nUse the following templates for your data cleaning use cases.\n\n### Remove Null Properties\n\nThis transformation removes all event properties with null values; this is helpful when you want to reduce the number of unnecessary fields generated in downstream destinations.\n\nThe transformation is shown below:\n\n```\nexport function transformEvent(event) {\n  if (event.properties) {\n    const keys = Object.keys(event.properties);\n    if (keys) {\n      keys.forEach(key => {\n        if (event.properties[key] === null) delete event.properties[key];\n      });\n    }\n  }\n  return event;\n}\n```\n\n### Rename properties\n\nThis transformation renames the properties to conform with the appropriate naming convention expected by the downstream destination, for example, `first_name` to `firstName`.\n\nThe transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const firstName = event.context?.traits?.first_name;\n  if (firstName) {\n    event.context.traits.firstName = firstName;\n    delete event.context.traits.first_name;\n  }\n  return event;\n}\n```\n\n### Clean Auth0 UserID\n\nWhen using the [Auth0 source](https://www.rudderstack.com/docs/sources/event-streams/cloud-apps/auth0/) to generate events from your website, the `userId` is prefixed with characters containing `Auth0` followed by a pipe (`|`). This transformation removes any Auth0 `userId` prefixes.\n\nA sample transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n    if(event.userId){\n        const cleanedUserId = String(event.userId).split(\"|\")[1];\n        event.userId = cleanedUserId ? cleanedUserId : event.userId;\n    }\n    return event;\n}\n```\n\n## Webhooks\n\nUse the following templates to transform events sent to your webhook destinations:\n\nThis transformation sets the HTTP headers for your webhook destinations dynamically. It lets you set the headers based on the values in your data.\n\nThe transformation is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  event.header = {\n    Authorization: \"Basic <credentials>\", // Change headers and values\n    header_2: \"value\"\n  };\n  return event;\n}\n```\n\n### Dynamic Path\n\nThis transformation dynamically appends to the URL specified in your webhook destination configuration. This lets you send events to different paths based on the values in your event data. For example, you can send `identify` events to only to the `/users` URL path and the `group` events only to `/organizations`.\n\nThe following transformation appends a `/search?email=${email}` path to the webhook URL based on the `email` property present in the event:\n\n```\nexport function transformEvent(event, metadata) {\n  const email = event.context?.traits?.email; // Change property\n  if (email) event.appendPath = `/search?email=${email}`; // Change property and appendPath\n  return event;\n}\n```\n\nThe following transformation templates are contributed by the RudderStack community:\n\n### Filter Bot Traffic\n\nThis transformation lets you identify and filter events from potential bots by checking an event’s user agent against a list of known bot user agents obtained from [`crawler-user-agents.json`](https://raw.githubusercontent.com/monperrus/crawler-user-agents/master/crawler-user-agents.json).\n\n```\nexport function transformEvent(event, metadata) {\n  const lower_user_agent = event[\"context\"][\"userAgent\"]\n  const known_bot_filter_list = ['bot', 'crawler', 'spider', 'feedfetcher-google', 'mediapartners-google', 'apis-google', 'slurp', 'python-urllib', 'python-requests', 'aiohttp', 'httpx', 'libwww-perl', 'httpunit', 'nutch', 'go-http-client', 'biglotron', 'teoma', 'convera', 'gigablast', 'ia_archiver', 'webmon ', 'httrack', 'grub.org', 'netresearchserver', 'speedy', 'fluffy', 'findlink', 'panscient', 'ips-agent', 'yanga', 'yandex', 'yadirectfetcher', 'cyberpatrol', 'postrank', 'page2rss', 'linkdex', 'ezooms', 'heritrix', 'findthatfile', 'europarchive.org', 'mappydata', 'eright', 'apercite', 'aboundex', 'summify', 'ec2linkfinder', 'facebookexternalhit', 'yeti', 'retrevopageanalyzer', 'sogou', 'wotbox', 'ichiro', 'drupact', 'coccoc', 'integromedb', 'siteexplorer.info', 'proximic', 'changedetection', 'cc metadata scaper', 'g00g1e.net', 'binlar', 'a6-indexer', 'admantx', 'megaindex', 'ltx71', 'bubing', 'qwantify', 'lipperhey', 'addthis', 'metauri', 'scrapy', 'capsulechecker', 'sonic', 'sysomos', 'trove', 'deadlinkchecker', 'slack-imgproxy', 'embedly', 'iskanie', 'skypeuripreview', 'google-adwords-instant', 'whatsapp', 'electricmonk', 'yahoo link preview', 'xenu link sleuth', 'pcore-http', 'appinsights', 'phantomjs', 'jetslide', 'newsharecounts', 'tineye', 'linkarchiver', 'digg deeper', 'snacktory', 'okhttp', 'nuzzel', 'omgili', 'pocketparser', 'um-ln', 'muckrack', 'netcraftsurveyagent', 'appengine-google', 'jetty', 'upflow', 'thinklab', 'traackr.com', 'twurly', 'mastodon', 'http_get', 'brandverity', 'check_http', 'ezid', 'genieo', 'meltwaternews', 'moreover', 'scoutjet', 'seoscanners', 'hatena', 'google web preview', 'adscanner', 'netvibes', 'baidu-yunguance', 'btwebclient', 'disqus', 'feedly', 'fever', 'flamingo_searchengine', 'flipboardproxy', 'g2 web services', 'vkshare', 'siteimprove.com', 'dareboost', 'feedspot', 'seokicks', 'tracemyfile', 'zgrab', 'pr-cy.ru', 'datafeedwatch', 'zabbix', 'google-xrawler', 'axios', 'amazon cloudfront', 'pulsepoint', 'cloudflare-alwaysonline', 'google-structured-data-testing-tool', 'wordupinfosearch', 'webdatastats', 'httpurlconnection', 'outbrain', 'w3c_validator', 'w3c-checklink', 'w3c-mobileok', 'w3c_i18n-checker', 'feedvalidator', 'w3c_css_validator', 'w3c_unicorn', 'google-physicalweb', 'blackboard', 'bazqux', 'twingly', 'rivva', 'dataprovider.com', 'theoldreader.com', 'anyevent', 'nmap scripting engine', '2ip.ru', 'clickagy', 'google favicon', 'hubspot', 'chrome-lighthouse', 'headlesschrome', 'simplescraper', 'fedoraplanet', 'friendica', 'nextcloud', 'tiny tiny rss', 'datanyze', 'google-site-verification', 'trendsmapresolver', 'tweetedtimes', 'gwene', 'simplepie', 'searchatlas', 'superfeedr', 'freewebmonitoring sitechecker', 'pandalytics', 'seewithkids', 'cincraw', 'freshrss', 'google-certificates-bridge', 'viber', 'evc-batch', 'virustotal', 'uptime-kuma', 'feedbin', 'snap url preview service', 'ruxitsynthetic', 'google-read-aloud', 'mediapartners', 'wget', 'wget', 'ahrefsgot', 'ahrefssiteaudit', 'wesee:search', 'y!j', 'collection@infegy.com', 'deusu', 'bingpreview', 'daum', 'pingdom', 'barkrowler', 'yak', 'ning', 'ahc', 'apache-httpclient', 'buck', 'newspaper', 'sentry', 'fetch', 'miniflux', 'validator.nu', 'grouphigh', 'checkmarknetwork', 'www.uptime.com', 'mixnodecache', 'domains project', 'pagepeeker', 'vigil', 'php-curl-class', 'ptst', 'seostar.co']\n\n  if (known_bot_filter_list.map((bot_name) => lower_user_agent.includes(bot_name)).some((elem) => !!elem)) {\n    return\n  } else {\n    return event\n  }\n}\n```\n\n### Timestamp Conversion\n\nThis template lets you convert an ISO-8601 timestamp into local date and time based on the user’s timezone.\n\n```\nexport function transformEvent(event) {\n\n  const timeZone = event.context?.timezone;\n  const originalTimestamp = event.originalTimestamp;\n  const locale = event.context?.locale || \"en-US\";\n\n  if (timeZone && originalTimestamp) {\n    const date = new Date(originalTimestamp);\n    const localDateTime = date.toLocaleString(locale, {\n      ...options,\n      timeZone\n    });\n    event.localTimestamp = localDateTime;\n  }\n\n  return event;\n}\n\nconst options = {\n  year: \"numeric\",\n  month: \"2-digit\",\n  day: \"numeric\",\n  hour: \"numeric\",\n  minute: \"numeric\",\n  second: \"numeric\"\n}\n```\n\nThis template lets you extract keywords useful for data aggregation and analysis of text-heavy event properties:\n\n```\nexport function transformEvent(event, metadata) {\n  let message = event.properties?.message;\n\n  if (message) {\n    const punctuation = ['\"', \"'\", \"!\", \"?\", \".\", \"-\", \":\", \",\"];\n\n    punctuation.forEach(mark => {\n      message = message.replaceAll(mark, \"\")\n    })\n\n    const stop_words = [\"i\", \"me\", \"my\", \"myself\", \"we\", \"our\", \"ours\", \"ourselves\", \"you\", \"your\", \"yours\", \"yourself\", \"yourselves\", \"he\", \"him\", \"his\", \"himself\", \"she\", \"her\", \"hers\", \"herself\", \"it\", \"its\", \"itself\", \"they\", \"them\", \"their\", \"theirs\", \"themselves\", \"what\", \"which\", \"who\", \"whom\", \"this\", \"that\", \"these\", \"those\", \"am\", \"is\", \"are\", \"was\", \"were\", \"be\", \"been\", \"being\", \"have\", \"has\", \"had\", \"having\", \"do\", \"does\", \"did\", \"doing\", \"a\", \"an\", \"the\", \"and\", \"but\", \"if\", \"or\", \"because\", \"as\", \"until\", \"while\", \"of\", \"at\", \"by\", \"for\", \"with\", \"about\", \"against\", \"between\", \"into\", \"through\", \"during\", \"before\", \"after\", \"above\", \"below\", \"to\", \"from\", \"up\", \"down\", \"in\", \"out\", \"on\", \"off\", \"over\", \"under\", \"again\", \"further\", \"then\", \"once\", \"here\", \"there\", \"when\", \"where\", \"why\", \"how\", \"all\", \"any\", \"both\", \"each\", \"few\", \"more\", \"most\", \"other\", \"some\", \"such\", \"no\", \"nor\", \"not\", \"only\", \"own\", \"same\", \"so\", \"than\", \"too\", \"very\", \"s\", \"t\", \"can\", \"will\", \"just\", \"don\", \"should\", \"now\"]\n\n    const lower_message = message.toLowerCase()\n    const words = lower_message.split(\" \")\n\n    let unigram_counts = {}\n    new Set(words).forEach(word => {\n      if (!stop_words.includes(word)) {\n        unigram_counts = {\n          ...unigram_counts,\n          [word]: lower_message.split(word).length - 1\n        };\n      }\n    })\n    const top_unigrams = Object.fromEntries(Object.entries(unigram_counts).sort(([, a], [, b]) => b - a).slice(0, 5));\n\n\n    let bigrams_counts = {}\n    new Set(words.map((el, index) => {\n      if (words.slice(index, index + 2).map(word => !stop_words.includes(word)).every(elem => !!elem)) {\n        return words.slice(index, index + 2).join(' ')\n      }\n    })).forEach(bigram => {\n      if (bigram) bigrams_counts = {\n        ...bigrams_counts,\n        [bigram]: lower_message.split(bigram).length - 1\n      }\n    })\n    const top_bigrams = Object.fromEntries(Object.entries(bigrams_counts).sort(([, a], [, b]) => b - a).slice(0, 5));\n\n    event[\"properties\"][\"keywords\"] = {\n      \"oneWord\": top_unigrams,\n      \"twoWords\": top_bigrams\n    }\n  }\n\n  return event;\n}\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Transformation Templates | RudderStack Docs",
  "description": "Use prebuilt transformations to implement specific use cases on your event data.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/sftp/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to SFTP Destination\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to SFTP Destination | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your SFTP destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/",
  "markdown": "# JSON Column Support | RudderStack Docs\n\nSend event data that is not defined by a fixed schema.\n\n* * *\n\n*     5 minute read  \n    \n\nWith RudderStack’s JSON column support feature you can:\n\n*   Ingest semi-structured event data not defined by a fixed schema.\n*   Directly store a nested event payload in your warehouse columns without worrying about the length limit.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack supports the JSON column feature for the following warehouse destinations:\n>     \n>     *   [Amazon Redshift](https://www.rudderstack.com/docs/destinations/warehouse-destinations/redshift/)\n>     *   [Google BigQuery](https://www.rudderstack.com/docs/destinations/warehouse-destinations/bigquery/)\n>     *   [PostgreSQL](https://www.rudderstack.com/docs/destinations/warehouse-destinations/postgresql/)\n>     *   [Snowflake](https://www.rudderstack.com/docs/destinations/warehouse-destinations/snowflake/)\n> *   This feature is applicable for all the event types ([`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/), [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/), [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/), [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/), [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/)) and their associated attributes/properties.\n>     \n\n## How to use JSON column feature\n\nYou can use the JSON column feature using any of the following approaches:\n\n### 1\\. At event level\n\nYou can use the SDK’s `integrations: options` parameter to specify the JSON columns at the event level. Follow these steps:\n\n1.  Configure the SDK to load the `options` parameter by default. See the following SDK guides for more information:\n    *   [JavaScript](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#loading-options)\n    *   [Android](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-android-sdk/#1-passing-destinations-while-initializing-the-sdk)\n    *   [iOS](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-ios-sdk/#1-passing-destinations-while-initializing-the-sdk)\n2.  Include the column path from the event payload in the `<destination>.options.jsonPaths` list.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note the following:\n> \n> *   Replace `<destination>` with the destination-specific object name. See [Warehouse names in `integrations` object](#warehouse-names-in-integrations-object) for more information.\n> *   The column path in the event payload must be in the `<event_type>.<full_attribute_path>` format. See [Use case](#use-case) for more information.\n\n#### Use case\n\nConsider the following event payload:\n\n```\n{\n  \"type\": \"track\",\n  \"context\": {\n    \"ctestMap\": {\n      \"cnestedMap\": {\n        \"dynamic_property_1\": \"value_1\",\n        \"dynamic_property_2\": \"value_2\",\n        \"dynamic_property_n\": \"value_n\"\n      }\n    }\n  },\n  \"properties\": {\n    \"testMap\": {\n      \"nestedMap\": {\n          \"dynamic_property_1\": \"value_1\",\n          \"dynamic_property_2\": \"value_2\",\n          \"dynamic_property_n\": \"value_n\"\n      }\n    }\n  }\n}\n```\n\nThe following example shows how to use the `integrationOpts` parameter of the [JavaScript SDK](https://www.rudderstack.com/docs/sources/event-streams/sdks/rudderstack-javascript-sdk/load-js-sdk/#integrationopts) to declare the JSON columns:\n\n```\n\"integrations\": {\n  \"All\": true,\n  \"SNOWFLAKE\": { // Use SNOWFLAKE for Snowflake, RS for Redshift, BQ for BigQuery, POSTGRES for PostgreSQL.\n    \"options\": {\n      \"jsonPaths\": [\"track.properties.testMap.nestedMap\", \"track.context.ctestMap.cnestedMap\"]\n    }\n  }\n}\n```\n\nHere, `nestedMap` and `cnestedMap` are declared as JSON columns.\n\nThe resulting output in the warehouse is shown:\n\n```\n[{\n  \"data\": {\n    \"anonymous_id\": \"e6ab2c5e-2cda-44a9-a962-e2f67df78bca\",\n    ...\n\n    \"context_app_name\": \"RudderLabs JavaScript SDK\",\n    \"context_app_namespace\": \"com.rudderlabs.javascript\",\n    \"context_app_version\": \"1.0.5\",\n    \"context_ctest_map_cnested_map\": \"{\\\"n1\\\":\\\"context nested prop 1\\\"}\",\n    \"context_ip\": \"0.0.0.0\",\n    \"context_library_name\": \"RudderLabs JavaScript SDK\",\n    ...\n\n    \"test_map_nested_map\": \"{\\\"n1\\\":\\\"nested prop 1\\\"}\",\n    \"timestamp\": \"2020-01-24T06:29:02.403Z\",\n    \"user_id\": \"9bb5d4c2-a7aa-4a36-9efb-dd2b1aec5d33\"\n  },\n  \"metadata\": {\n    \"columns\": {\n      \"anonymous_id\": \"string\",\n      \"context_ctest_map_cnested_map\": \"json\",\n      ...\n\n      \"id\": \"string\",\n      \"original_timestamp\": \"datetime\",\n      \"received_at\": \"datetime\",\n      \"revenue\": \"int\",\n      \"sent_at\": \"datetime\",\n      \"test_map_nested_map\": \"json\",\n      \"timestamp\": \"datetime\",\n      \"user_id\": \"string\",\n      \"uuid_ts\": \"datetime\"\n    },\n    \"receivedAt\": \"2020-01-24T11:59:02.403+05:30\",\n    \"table\": \"tracks\"\n  }\n}]\n```\n\n### 2\\. In transformation\n\nYou can also declare the JSON columns in a transformation.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can override the JSON columns declared at the [event level](#1-at-event-level) with the JSON columns declared using a transformation.\n\nThe following transformation applies the JSON column to only `product_clicked` type of `track` events coming from a particular `sourceId`:\n\n```\nexport function transformEvent(event, metadata) {\n  const meta = metadata(event);\n  if (event.event === 'product_clicked' && meta.sourceId === \"source_id\" && meta.destinationType === \"SNOWFLAKE\") { // ex: BQ, POSTGRES, RS\n    if (!event.integrations) event.integrations = {};\n    event.integrations[\"SNOWFLAKE\"] = {\n      options: {\n        jsonPaths: [\"track.properties.testMap.nestedMap\", \"track.context.ctestMap.cnestedMap\"]\n      }\n    }\n  }\n  return event;\n}\n```\n\nAs explained in the above [use case](#use-case), to declare `nestedMap` and `cnestedMap` as JSON columns, add `track.properties.testMap.nestedMap` and `track.context.ctestMap.cnestedMap` in the above `jsonPaths` list.\n\n### 3\\. While configuring warehouse destination\n\nWhile configuring your warehouse destination in RudderStack, pass the required JSON column paths using the dot notation in the **JSON columns** field. You can specify multiple JSON columns separated by a comma.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This setting applies to **all** `track` events sent to the warehouse destination.\n\n[![JSON column setting in RudderStack dashboard](https://www.rudderstack.com/docs/images/dw-integrations/json-column-dashboard-setting.webp)](https://www.rudderstack.com/docs/images/dw-integrations/json-column-dashboard-setting.webp)\n\n### Warehouse names in `integrations` object\n\nUse the following object names for the supported warehouse destinations while declaring the JSON columns:\n\n| Warehouse destination | Object name |\n| --- | --- |\n| Amazon Redshift | `RS` |\n| Google BigQuery | `BQ` |\n| PostgreSQL | `POSTGRES` |\n| Snowflake | `SNOWFLAKE` |\n\n## Semi-structured data usage and limitations\n\nFor more information on working with semi-structured data and the associated limitations in different warehouses, see the following guides:\n\n| Warehouse | Data type | Reference |\n| --- | --- | --- |\n| Redshift | SUPER | [Documentation](https://docs.aws.amazon.com/redshift/latest/dg/r_SUPER_type.html) |\n| BigQuery | STRING<br><br>(More information on how RudderStack treats the JSON columns as strings in this [FAQ](#how-can-i-use-the-json-column-feature-in-bigquery)) | [Documentation](https://cloud.google.com/bigquery/docs/reference/standard-sql/json_functions) |\n| PostgreSQL | JSONB | [Documentation](https://www.postgresql.org/docs/current/datatype-json.html) |\n| Snowflake | VARIANT | [Documentation](https://docs.snowflake.com/en/sql-reference/data-types-semistructured.html#variant) |\n\n## FAQ\n\n#### Which events are supported in the JSON column feature?\n\nThe JSON column feature supports all the event types ([`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/), [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/), [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/), [`screen`](https://www.rudderstack.com/docs/event-spec/standard-events/screen/), [`group`](https://www.rudderstack.com/docs/event-spec/standard-events/group/)) and their associated attributes/properties. It also supports data from the [Cloud Extract](https://www.rudderstack.com/docs/sources/extract/) sources.\n\n#### Which data types are supported in the JSON column feature?\n\nThe JSON data type includes String, Integers, Float, Arrays, Booleans, and Maps.\n\n#### How can I use the JSON column feature in BigQuery?\n\nGoogle BigQuery has released JSON support only as a preview feature. Hence, RudderStack treats the JSON columns as strings and inserts the JSON strings as values. You can then query the semi-structured data using the JSON functions.\n\nFor more information, see [BigQuery documentation](https://cloud.google.com/bigquery/docs/reference/standard-sql/json_functions).\n\n#### How does RudderStack determine the column data type?\n\nRudderStack determines the column data type based on its value in the first event (during the first upload sync).\n\nFor example, suppose `column_x` is received with the value as `1`. RudderStack then sets the data type of this column as `int` in the event table.\n\n#### Can I change an existing data type for a column?\n\nYou can change the column data type in the warehouse at any point. However, RudderStack applies the changes to the events only from the next sync.\n\nTo set your preferred data type for a particular column:\n\n1.  Create a column in the warehouse with a placeholder name and the required data type.\n2.  Cast the data from the original column and load it into the placeholder column.\n3.  Drop the original column.\n4.  Rename the placeholder column to the original column name.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   During steps 3 and 4, the tables will be in a locked state. This might impact realtime data uploads/syncs.\n> *   If the above steps take too long to complete, you can halt the warehouse operations in the interim. For more information, see this [FAQ](https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/#how-do-i-avoid-lags-in-data-syncs-while-heavy-loads-are-running-on-my-data-warehouse).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "JSON Column Support | RudderStack Docs",
  "description": "Send event data that is not defined by a fixed schema.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/warehouse-destinations/faq/",
  "markdown": "# Warehouse destinations FAQ | RudderStack Docs\n\nCommonly-asked questions related to RudderStack data warehouse destinations.\n\n* * *\n\n*     17 minute read  \n    \n\n## IP allowlist\n\n#### Which RudderStack IPs should I allowlist?\n\nTo enable network access to RudderStack, allowlist the following RudderStack IPs depending on your region and [RudderStack Cloud plan](https://www.rudderstack.com/pricing):\n\n| Plan | Region |     |\n| --- | --- | --- |\n|     | **<br><br>US<br><br>** | **<br><br>EU<br><br>** |\n| Free, Starter, and Growth | *   3.216.35.97<br>*   18.214.35.254<br>*   23.20.96.9<br>*   34.198.90.241<br>*   34.211.241.254<br>*   52.38.160.231<br>*   54.147.40.62 | *   3.123.104.182<br>*   3.125.132.33<br>*   18.198.90.215<br>*   18.196.167.201 |\n| Enterprise | *   3.216.35.97<br>*   34.198.90.241<br>*   44.236.60.231<br>*   54.147.40.62<br>*   100.20.239.77 | *   3.66.99.198<br>*   3.64.201.167<br>*   3.123.104.182<br>*   3.125.132.33 |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> All the outbound traffic is routed through these RudderStack IPs.\n\n## Data syncs and retries\n\n#### When does RudderStack load data into the warehouse destination?\n\nRudderStack lets you choose how frequently it should sync the data into the data warehouse. The default time is 30 minutes. However, you can choose to extend this value up to 24 hours. You can also configure the time of the day when RudderStack loads the data.\n\n#### Is there a way to force load my data into the warehouse?\n\nYes, there is - you can configure the below values in your `config.yaml` file:\n\n```\nwarehouseSyncFreqIgnore = true #if set true this will ignore syncFrequency and syncStartingAt values which are configured in UI. By default this is false\nuploadFreqInS=1800 #This field lets you control syncPeriod if above field set to true \n```\n\n#### Where can I view the status of my data sync?\n\nYou can view the warehouse upload status in the [Live Events](https://www.rudderstack.com/docs/dashboard-guides/live-events/#destination-live-events) section of the destination in the RudderStack dashboard.\n\n#### How do I set frequency of syncs for a warehouse destination?\n\n1.  Go to the warehouse destination settings in the [RudderStack dashboard](https://app.rudderstack.com/).\n2.  Look for the **Sync Frequency** option.\n3.  Specify how often RudderStack should sync data to your warehouse destination.\n\nTo set a particular time of the day (in UTC) when RudderStack syncs data to the warehouse, you can specify the **Sync Starting At** option.\n\n#### What happens if the cluster or the destination service is down? Is there a possibility of data loss?\n\nIf a warehouse destination is down or unavailable, RudderStack will continue to retry sending the events (on an exponential backoff basis, for up to 3 hours).\n\nRudderStack stores the syncs as staging files and retries sending them at a later time when the cluster is up again. This allows for a successful delivery without any missing data.\n\n#### Does RudderStack keep retrying sending events indefinitely? How long can a service be down without losing any data?\n\nAfter retrying for up to 3 hours, RudderStack marks the syncs as aborted. Once the service is up and running again, you can go to the [Syncs](https://www.rudderstack.com/docs/dashboard-guides/overview/#syncs) tab in the RudderStack dashboard and retry sending the data.\n\n#### Is there a scenario where I can lose my data without the ability to retry syncs?\n\nRudderStack stores the data in the form of staging files in the object storage associated with the warehouse destination. Usually, the data is stored in the bucket for 30 days. **However, it completely depends on the retention policy you have set for the bucket.**\n\n#### Can I tie a value in the rudder\\_discards table back to the actual event in another table?\n\nYes, you can.\n\nThe [`rudder_discards`](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#how-rudderstack-handles-data-type-mismatch) table contains columns like `row_id` (corresponding to the event’s `messageId`), `table_name`, `column_name`, and `column_value`.\n\nYou can use the `table_name` and map the `row_id` to the `id` column in your event’s table.\n\n#### Will the data syncs run in parallel if I connect two or more sources to a single warehouse destination (having the same namespace/schema name)?\n\nNo, the data syncs run sequentially. This is because some destinations like Amazon Redshift and Databricks do not support writing to the same table concurrently, resulting in aborted syncs.\n\n## Staging and object storage\n\n#### How does RudderStack store data in an object storage platform?\n\nRudderStack stores the data in an object storage platform as follows:\n\n1.  Collects all the events in a single node and writes them into a **staging file** that is created every 30 seconds.\n2.  Collects all the staging files and creates table-specific files every 30 minutes (or user-defined frequency). These files are called the **load files** and RudderStack copies them directly into the warehouse.\n\n#### What is the file storage format for staging and load files in different object storage platforms?\n\n*   The **staging files** store data in the compressed JSON gzip (json.gz) format in all the object storage platforms ([Amazon S3](https://www.rudderstack.com/docs/destinations/streaming-destinations/amazon-s3/), [Azure Blob Storage](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/), [Google Cloud Storage](https://www.rudderstack.com/docs/destinations/streaming-destinations/google-cloud-storage/), [MinIo](https://www.rudderstack.com/docs/destinations/streaming-destinations/minio/), [DigitalOcean Spaces](https://www.rudderstack.com/docs/destinations/streaming-destinations/digitalocean-spaces/)).\n*   The **load files** store data in the following file format:\n\n| Warehouse destination | File format |\n| --- | --- |\n| Amazon S3 data lake  <br>Google Cloud Storage data lake  <br>Azure data lake  <br>Databricks Delta Lake | Parquet (parquet) |\n| Microsoft SQL Server  <br>Azure Synapse  <br>Snowflake  <br>Amazon Redshift  <br>PostgreSQL  <br>ClickHouse | Compressed CSV gzip (csv.gz) |\n| Google BigQuery | Compressed JSON gzip (json.gz) |\n\n#### What are the files written in the location `<namespace>/rudder-warehouse-staging-logs/`?\n\nRudderStack collects all unprocessed data flowing to the warehouse destinations as staging files. It stores these files in the object storage at the location `<namespace>/rudder-warehouse-staging-logs/`.\n\nOnce the staging files are processed, RudderStack separates them by the event name and sends them to the specified destination.\n\n#### How can I delete the staging files in my buckets?\n\nRudderStack loads all events configured with your warehouse into staging buckets. You can set a retention policy to delete these files from the staging bucket after a certain time. If you do not set any retention policy, the files will keep on accumulating.\n\nMake sure that the retention policy duration is longer than the warehouse sync frequency duration so that RudderStack can re-run event uploads for a longer time, if required. It is recommended to set the retention policy duration to **30 days/1 month**.\n\n#### Can I grant RudderStack limited access to the Azure Storage resources?\n\nYes, you can enable the **Use shared access signature (SAS) Tokens** setting while configuring your Blob Storage in the dashboard settings:\n\n[![Azure Blob Storage SAS token](https://www.rudderstack.com/docs/images/dw-integrations/azure-sas-token.webp)](https://www.rudderstack.com/docs/images/dw-integrations/azure-sas-token.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on the shared access signatures (SAS) and setting the required permissions, refer to the [SAS token permissions](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#sas-token-permissions) section.\n\n## Optimizing syncs\n\n#### How do I avoid lags in data syncs while heavy loads are running on my data warehouse?\n\nYou can use either of the following approaches to avoid data sync lags in your warehouse:\n\n*   **Approach 1**: In the warehouse destination connection settings, set an **exclusion window** which lets you set a start and end time when RudderStack will not sync data to your warehouse. You can run heavy loads during this time interval.\n\n[![](https://www.rudderstack.com/docs/images/warehouse-destinations/exclusion-window.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/exclusion-window.webp)\n\n*   **Approach 2**: In the warehouse destination connection settings, your can increase the **sync frequency** interval so that there are lesser number of warehouse syncs throughout the day. You can also run the data syncs during the non-peak hours by setting the **Sync Starting At** time interval.\n\n[![](https://www.rudderstack.com/docs/images/warehouse-destinations/sync-frequency.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/sync-frequency.webp)\n\n*   **Approach 3**: If you are performing only writes/updates on your data warehouse, you can set up a read replica of your database and connect it to your load generation tool. Connect the read/write replica to RudderStack:\n\n[![](https://www.rudderstack.com/docs/images/warehouse-destinations/read-write-database.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/read-write-database.webp)\n\n#### How can I speed up my warehouse uploads?\n\nYou can speed up your warehouse uploads by configuring the following parameters in the `config.yaml` file in your RudderStack setup:\n\n| Parameter | Description | Tip | Default value |\n| --- | --- | --- | --- |\n| `RSERVER_WAREHOUSE_REDSHIFT_MAX_PARALLEL_LOADS` | Defines the number of concurrent tables that are synced to redshift in a given upload. | Increase this as per your infra capability. | `3` |\n| `RSERVER_WAREHOUSE_STAGING_FILES_BATCH_SIZE` | Defines the number of staging files that are batched and synced in a single upload. | Increase this to batch more files together and reduce the number of uploads needed for a given volume of data. | `960` |\n| `RSERVER_WAREHOUSE_NO_OF_WORKERS` | Number of concurrent uploads to a warehouse. For example, 8 uploads to different schemas in Redshift can be done simultaneously. | \\-  | `8` |\n| `RSERVER_WAREHOUSE_NO_OF_SLAVE_WORKER_ROUTINES` | Number of go-routines creating load files in a warehouse slave process. | Increase or decrease this as per memory allocated to the warehouse slave pod. | `4` |\n\n#### What happens if I exceed the table column limit in my warehouse destination?\n\nIf you exceed the permissible table column limit in your warehouse, RudderStack will not sync data to it.\n\n#### How can I handle the column count threshold in my warehouse?\n\nTo avoid exceeding the column count threshold in your warehouse, you can use any one of the following approaches:\n\n*   Go to your warehouse and drop the unwanted table columns. Refer to the following links for managing your warehouse column count:\n    *   [Amazon Redshift](https://docs.aws.amazon.com/redshift/latest/dg/r_ALTER_TABLE_COL_ex-add-drop.html)\n    *   [Google BigQuery](https://cloud.google.com/bigquery/docs/reference/standard-sql/data-definition-language#alter_table_drop_column_statement)\n    *   [Snowflake](https://docs.snowflake.com/en/sql-reference/sql/alter-table.html)\n    *   [Databricks](https://docs.databricks.com/sql/language-manual/sql-ref-syntax-ddl-alter-table.html)\n    *   [PostgreSQL](https://www.postgresql.org/docs/current/ddl-alter.html#DDL-ALTER-REMOVING-A-COLUMN)\n    *   [MySQL](https://dev.mysql.com/doc/refman/8.0/en/alter-table.html)\n\nFor other warehouses, refer to their respective documentation.\n\n*   If you’re syncing semi-structured event data that is not defined by a fixed schema, you can leverage RudderStack’s [JSON Column Support](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/) feature to send the data to your warehouse without worrying about the column count limit.\n\n## Namespace, prefix, and warehouse schema\n\n#### Can I modify the warehouse schema once it is created? Will RudderStack overwrite or discard the changes when updating the schema?\n\nYou can modify the warehouse schema once it is created by adding or altering the columns, or changing the column data type. **RudderStack honors the updated warehouse schema** and sends the incoming data to the warehouse accordingly.\n\nFor example, if you update a column’s data type in the schema, RudderStack will consider the latest, updated column data type and typecast all the incoming data accordingly, before sending it to that column.\n\n#### How is the Namespace field populated for a warehouse destination?\n\nRudderStack sets the **Namespace** field depending on the following conditions:\n\n*   If the **Namespace** and **Database** fields are present in your warehouse configuration:\n    \n    *   For ClickHouse destination, the **Database** field is set as the namespace.\n    *   For all the other destinations, the **Namespace** field is populated as it is.\n*   If `RSERVER_WAREHOUSE_(DEST_TYPE)_CUSTOM_DATA_SET_PREFIX` parameter is present, the namespace is populated as `(CUSTOM_DATA_SET_PREFIX)_(SOURCE_NAME)`. For example:\n    \n\n```\nParameter value:\nRSERVER_WAREHOUSE_SNOWFLAKE_CUSTOM_DATA_SET_PREFIX=\"<some_value>\"\n\nNamespace:\n<some_value>_<source_name>\n```\n\n*   If none of the above fields are specified in the warehouse configuration settings, the source name is populated as the namespace for the first sync and picked up from the cache for all the subsequent syncs. In case the source name is changed, the namespace still remains the same as it is picked from cache.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> To update the namespace as the new source name, you need to configure a new source.\n\n#### Can I change the namespace (schema name) of my data warehouse in RudderStack?\n\nYes, you can. RudderStack lets you change the namespace (schema name) where it loads all the data in your warehouse.\n\nYou can specify your desired schema name in the **Namespace** field while configuring your warehouse destination in RudderStack, as shown:\n\n[![](https://www.rudderstack.com/docs/images/dw-integrations/namespace-example.webp)](https://www.rudderstack.com/docs/images/dw-integrations/namespace-example.webp)\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> If you do not set the **Namespace** field, RudderStack sets the source name as the schema name, with some modifications.\n\n#### How can I add the table prefixes if there are multiple sources connected to a single destination?\n\nYou can use RudderStack’s [Transformations](https://www.rudderstack.com/docs/transformations/overview/) feature to filter the events by the [`sourceID`](https://www.rudderstack.com/docs/dashboard-guides/sources/#source-details) and then update the event name to add a prefix.\n\nA sample transformation logic is shown below:\n\n```\nexport function transformEvent(event, metadata) {\n  const meta = metadata(event);\n  if (meta.sourceId === your_source_id) {\n    event.event = '<prefix>' + event.event;\n  }\n  return event;\n}\n```\n\n#### How does RudderStack configure the schema name before loading the data in the warehouse?\n\nRudderStack configures the schema name based on the values mentioned in the below table. The table columns are defined as follows:\n\n*   **Sync**: Indicates whether RudderStack performs the first data sync after the source is set up or the subsequent syncs.\n*   **Namespace**: The **Namespace** field set by the user while configuring the warehouse destination in the RudderStack dashboard.\n*   **Warehouse.<destType>.customDataset Prefix**: The `RSERVER_WAREHOUSE_(DEST_TYPE)_CUSTOM_DATA_SET_PREFIX` parameter in the `config.yaml` file, in case the user has a RudderStack deployment locally/in their own environment.\n*   **Source name**: Name of the source connected to the warehouse destination.\n\n| Sync | Namespace | `customDataset` Prefix | Source name | Schema name | Notes |\n| --- | --- | --- | --- | --- | --- |\n| First sync | AB  | XY  | S   | AB  | The namespace is given priority over all the other values. |\n| First sync | Not set | XY  | S   | XY\\_S | RudderStack combines the `customDataset` prefix and the source name to set the schema name, if the namespace is absent. |\n| First sync | Not set | Not set | S   | S   | RudderStack sets the source name as the schema name if the namespace and `customDataset` prefix are absent. |\n| First sync | AB  | Not set | S   | AB  | The namespace is given priority over the other values. |\n| Second sync onwards | ABC | XYZ | SS  | ABC | The namespace, source name and the `customDataset` prefix have all been modified. The new namespace is given priority and set as the schema name.<br><br>All the data from the second sync will now be stored in the new schema (ABC) and the original schema (AB) will be left as is. |\n| Second sync onwards | Not set | XYZ | S   | XYZ\\_S | The `customDataset` prefix name has been modified.<br><br>RudderStack combines the `customDataset` prefix and the source name to set the schema name. |\n| Second sync onwards | Not set | XYZ | SS  | XYZ\\_SS | The source name and `customDataset` prefix have been modified.<br><br>RudderStack combines them together to set the schema name. |\n| Second sync onwards | ABC | Not set | SS  | ABC | The namespace and source names have been modified.<br><br>The namespace is given priority and set as the schema name. |\n| Second sync onwards | Not set | Not set | SS  | S   | The source name has been modified. However, it does not impact the schema name and it remains the same as in the first sync. |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> **Key takeaways**:\n> \n> *   The namespace set in the RudderStack dashboard always takes precedence when setting the schema name in the warehouse.\n> *   If the `RSERVER_WAREHOUSE_(DEST_TYPE)_CUSTOM_DATA_SET_PREFIX` parameter is set in the `config.yaml` file of your RudderStack deployment, RudderStack sets the schema name in the `customDataset_sourcename` format, as noted in this [FAQ](#how-is-the-namespace-field-populated-for-a-warehouse-destination).\n> *   If the namespace and `RSERVER_WAREHOUSE_(DEST_TYPE)_CUSTOM_DATA_SET_PREFIX` parameter, both are absent, RudderStack sets the source name as the schema name.\n\n#### How does RudderStack configure the table names?\n\nRudderStack sets the table names by picking up the event names and modifying them to follow the snake case convention (for example, `source name` -> `source_name`).\n\nFor the following sample snippet, RudderStack sets the table name as **product\\_purchased**.\n\n```\n{\n  \"userId\": \"user123\",\n  \"event\": \"Product Purchased\",\n  \"properties\": {\n    \"name\": \"Rubik's Cube\",\n    \"revenue\": 4.99\n  },\n  \"context\": {\n    \"ip\": \"14.5.67.21\"\n  },\n  \"timestamp\": \"2020-02-02T00:23:09.544Z\"\n}\n```\n\nThe table name truncation logic is as follows:\n\n*   For **PostgreSQL**, the table name is truncated after 63 characters.\n*   For **Data Lake** destinations (**S3 Data Lake, GCS Data Lake, Azure Data Lake**), there is no set limit.\n*   For **other** destinations, the table name is truncated after 127 characters.\n\n#### How does RudderStack handle schema data type mismatch when sending events to a warehouse destination?\n\nRudderStack automatically handles the data type conversion in some common scenarios **depending on the warehouse column data type**.\n\n| Scenario | Incoming data type | Warehouse column data type | Notes |\n| --- | --- | --- | --- |\n| 1   | All data types **except** String, Text, or JSON | String or Text | RudderStack automatically stringifies the incoming data. |\n| 2   | Integer  <br>BigInt | Float | \\-  |\n| 3   | Float | Integer  <br>BigInt | \\-  |\n| 4   | Integer  <br>Float  <br>Boolean | JSON | RudderStack automatically stringifies the incoming data. |\n\nIn any scenario other than the ones covered above, that is, when the incoming data **cannot** be typecasted into the warehouse column-specific data type, it is sent to the `rudder_discards` table.\n\n#### Can I change the name of the table in which my events are synced?\n\nYes, you can add a [transformation](https://www.rudderstack.com/docs/transformations/overview/) to change the event name and, consequently, the name of the table in which the events are synced.\n\nAs seen in the above [FAQ](#how-does-rudderstack-configure-the-table-names), RudderStack sets the table names to the event names modified in the snake case.\n\nA sample transformation used to change the event name is as shown:\n\n```\nexport function transformEvent(event, metadata) {    \n  if (event.event.toLowerCase() === '<old_event_name>') {\n      event.event = '<new_event_name>';\n  }\n  return event;\n}\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that this change is applicable to the subsequent events sent to the warehouse destination, after the transformation is applied.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> You can also migrate the previously created table data in the warehouse to the new table.\n\n#### How does RudderStack configure the column names? / How does RudderStack normalize arrays and complex event properties in the warehouse schema?\n\nRudderStack flattens the event properties and converts them into snake case (for example, `source name` -> `source_name`). Further, each of these event properties acts as a warehouse column.\n\n1.  The below example shows how the standard properties are normalized:\n\n```\n{\n  product: {\n    name: \"iPhone\",\n    version: 11\n  }\n}\n```\n\nNormalized properties (Column names)\n\n```\nproduct_name : \"iPhone\"\nproduct_version : 11\n```\n\n2.  The below example shows how the array properties are normalized:\n\n```\n{\n  products: [\n    {\n      name: \"iPhone\",\n      version: 11\n    },\n    {\n      name: \"Android\",\n      version: 16\n    }\n  ]\n}\n```\n\nNormalized property (Column name)\n\n```\nproducts: \"[{ \\\"name\\\": \\\"iPhone\\\", \\\"version\\\": 11  },  { \\\"name\\\": \\\"Android\\\", \\\"version\\\": 16  }]\"\n```\n\n3.  The below example shows how the complex properties are normalized:\n\n```\n{\n  products: {\n    iPhone: {\n      version: 11\n    },\n    Android: {\n      version: 16\n    }\n  }\n}\n```\n\nNormalized properties (Column names)\n\n```\nproducts_i_phone_version : 11\nproducts_android_version : 16\n```\n\n#### How does RudderStack determine the column data type? Can I change an existing data type for a column?\n\nRudderStack determines the data type of a column based on its value in the first event (during the first upload sync).\n\nFor example, suppose `column_x` is received with the value as `1`. RudderStack then sets the data type of this column as `int` in the event table.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Although you can change the columns’ data type in the warehouse any time, the changes will be applicable to the events from the next sync.\n\nTo set your preferred data type for a particular column, it is highly recommended to follow these steps:\n\n1.  Create a column in the warehouse with a placeholder name and the required data type.\n2.  Cast the data from the original column and load it into the placeholder column.\n3.  Drop the original column.\n4.  Rename the placeholder column to the original column name.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> During steps 3 and 4, the tables will be in a locked state. This might impact real-time data uploads/syncs. If the above steps take too long to complete, you can halt the warehouse operations in the interim. For more information, refer to this [FAQ](#how-do-i-avoid-lags-in-data-syncs-while-heavy-loads-are-running-on-my-datawarehous).\n\n#### Why am I not able to see the properties added at the top level of an event in warehouse destination?\n\nRudderStack drops any non-standard properties (properties apart from the [standard properties](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#standard-rudderstack-properties)) declared at the top level of an event. However, you can add such properties in the `context` or `properties` section of the event payload.\n\n#### Which integration options are supported for warehouse destinations?\n\nThe following integration options are supported for the warehouse destinations:\n\n| Integration option | Description |\n| --- | --- |\n| `skipTracksTable` | Skips sending the event data to `tracks` table. [Reference](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#skip-sending-data-to-tracks-table). |\n| `useBlendoCasing` | Retains the Blendo column names when migrating from Blendo to RudderStack. |\n| `jsonPaths` | Declares given path columns as JSON fields in warehouse. [Reference](https://www.rudderstack.com/docs/destinations/warehouse-destinations/json-column-support/). |\n\n## Warehouse-specific settings\n\n#### While configuring the Snowflake destination, what should I enter in the Account field?\n\nWhile configuring Snowflake as a destination in RudderStack, you need to enter your [Snowflake connection credentials](https://www.rudderstack.com/docs/destinations/warehouse-destinations/snowflake/#connection-settings) which includes the **Account** field, as shown below:\n\n[![Snowflake account ID example](https://www.rudderstack.com/docs/images/warehouse-destinations/exclusion-window.webp)](https://www.rudderstack.com/docs/images/warehouse-destinations/exclusion-window.webp)\n\nThe **Account** field corresponds to your Snowflake account ID and is a part of the Snowflake URL.\n\nThe following examples illustrate the slight differences in the Snowflake account ID for various cloud providers:\n\n| Account ID example | Corresponding Snowflake URL | Snowflake cloud provider |\n| --- | --- | --- |\n| `qya56091.us-east-1`<br><br>`qya56091.us-east-2.aws` | `https://`**`qya56091.us-east-1`**`.snowflakecomputing.com`<br><br>`https://`**`qya56091.us-east-2.aws`**`.snowflakecomputing.com` | AWS |\n| `rx18795.east-us-2.azure` | `https://`**`rx18795.east-us-2.azure`**`.snowflakecomputing.com` | Microsoft Azure |\n| `ah76025.us-central1.gcp` | `https://`**`ah76025.us-central1.gcp`**`.snowflakecomputing.com` | Google Cloud Platform |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> In case of AWS, `.aws` is present in the account locator of some region accounts and hence must be included in the **Account** field above.\n> \n> For more information on the different account locator formats depending on your region or cloud provider, refer to the [Snowflake documentation](https://docs.snowflake.com/en/user-guide/admin-account-identifier.html#non-vps-account-locator-formats-by-cloud-platform-and-region).\n\n#### What are the SAS token permissions required for the warehouse destinations?\n\nIf you’re using Azure Blob Storage as an intermediate object storage for your data warehouse destinations, you will need to assign the following permissions for your SAS token:\n\n| Warehouse destination | Minimum required permissions |\n| --- | --- |\n| Azure Data Lake | Read, Write |\n| Azure Synapse | Read, Write |\n| Clickhouse | Read, Write |\n| Databricks Delta Lake | Read, Write |\n| Microsoft SQL Server | Read, Write |\n| PostgreSQL | Read, Write |\n| Snowflake | Read, Write |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For more information on the shared access signatures (SAS) and setting the required permissions, refer to the [SAS token permissions](https://www.rudderstack.com/docs/destinations/streaming-destinations/microsoft-azure-blob-storage/#sas-token-permissions) section.\n\n## Event deduplication\n\n#### What is event duplication?\n\nAs RudderStack receives events from different sources, sometimes there is a likelyhood of the response (ACK) is missed due to some network issue. In this case, although RudderStack receives and persists an event as a job, the client doesn’t know if that’s the case and it retries sending the event. This leads to event duplication.\n\n#### How does RudderStack handle deduplication in different warehouses?\n\nFor warehouse destinations, RudderStack relies on the event’s `messageId` for deduplication. For cloud sources, instead of `messageId`, RudderStack uses a property called `recordId` for deduplicating events in the warehouse destination.\n\nOnce RudderStack has the dedup key(`messageId`/`recordId`), it deduplicates events as below:\n\n**For Snowflake and Delta Lake** RudderStack loads all the data into a staging table and uses a merge query to push all data from this table.\n\n**For PostgreSQL, MySQL, Azure Synapse, and Redshift** RudderStack uses `DELETE` to remove the duplicated events in the staging table before inserting them into the main table.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack does not support deduplication in the data lake destinations.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Warehouse destinations FAQ | RudderStack Docs",
  "description": "Commonly-asked questions related to RudderStack data warehouse destinations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/klaviyo-bulk-upload/",
  "markdown": "# Klaviyo Bulk Upload | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Klaviyo Bulk Upload | RudderStack Docs",
  "description": "Send your event data from RudderStack to Klaviyo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/debugging-errors/",
  "markdown": "# Debugging Transformation Errors | RudderStack Docs\n\nDebug various transformation and library errors.\n\n* * *\n\n*     5 minute read  \n    \n\nThis guide lists the different errors you might encounter while using transformations and libraries, and how to fix them.\n\n## JavaScript\n\n#### **ReferenceError**\n\nThis error occurs when a non-existent variable is referenced somewhere in the transformation.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| export function transformEvent(event, metadata) {  <br>   event.someValue = value;   <br>   return event;  <br>}<br><br>  <br>**Error**:<br><br>“ReferenceError: value is not defined \\\\n”  <br>at transformEvent (base transformation: 2:25) | Make sure variable is declared and available in the scope. You can also use an optional check:  <br><br>if(value) {  <br>  event.someValue = value;  <br>} |\n| Library code:<br><br>// jslibsub  <br>export function sub(a,b) {  <br>  return a-b-c;  <br>}<br><br>Transformation code:<br><br>import { sub } from ‘jslibsub’;<br><br>export function transformEvent(event, metadata) {  <br>  event.sub = sub(1, 2)  <br>  return event;  <br>}<br><br>  <br>**Error**:<br><br>ReferenceError: c is not defined  <br>  at sub (library jslibsub:2:14)  <br>  at transformEvent (base transformation:4:17) | Make sure variable is declared and available in the scope.<br><br>See [Error message format](#transformation-referencing-a-library) for more context on the error message. |\n\n#### **TypeError**\n\nThis error occurs when a property is read or function is called on an undefined variable.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| export function transformEvent(event, metadata) {  <br>   event\\[‘val’\\]=event.context.traits.obj.val1;   <br>   return event;  <br>}<br><br>  <br>**Error**:<br><br>“TypeError: Cannot read properties of”  <br>undefined (reading ‘val1’)\\\\n   <br>at transformEvent (base transformation:2:43) | Use [optional chaining](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining) when accessing nested fields.  <br><br>event.val = event.context?.traits?.obj?.val1; |\n\n#### **SyntaxError**\n\nThis error occurs when you run a syntactically invalid code, that is, it does not conform to the language syntax. For example, `SyntaxError: Unexpected identifier`, `SyntaxError: Unexpected token`.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| export function transformEvent(event, metadata) {  <br> returns event;   <br>}<br><br>  <br>**Error**:<br><br>SyntaxError: Unexpected identifier  <br>\\[base transformation:2:13\\] | Check your code for any misspelt keywords and missing operators/commas. |\n\n#### **Expected…Found error**\n\nThis error occurs when you specify a transformation function other than `transformEvent` or `transformBatch`.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| export function transformEvent2(event, metadata) {  <br>   return event;   <br>}<br><br>  <br>**Error**:<br><br>Error: Expected one of transformEvent,transformBatch.   <br>Found | Verify that the transformation function is either `transformEvent` or `transformBatch`. |\n\n#### **Import error**\n\nThis error occurs when the module you are tring to import from a library does not exist.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| import {add} from ‘jsLib’;   <br>export function transformEvent(event, metadata) {  <br>   return event;   <br>}<br><br>  <br>**Error**:<br><br>Error: import from jsLib failed. Module not found. | Verify that the module you are trying to import exists in the transformation library. |\n\n## Python\n\n#### **NameError**\n\nThis error occurs when when the transformation tries to access or use a variable that has not been defined or assigned a value.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| def transformEvent(event, metadata):  <br>   event\\[‘some\\_value’\\]=value  <br>   return event<br><br>  <br>**Error**:<br><br>NameError(“name ‘value’ is not defined”)  <br>  at transformEvent (base transformation: line 2)  <br>  event\\[‘some\\_value’\\]=value | Make sure variable is declared and available in the scope. You can also use an optional check:  <br><br>if(value):  <br>  event.someValue = value; |\n| Library code:<br><br>def sub(a, b):  <br>  return a-b-c<br><br>Transformation code:<br><br>from pylibsub import sub<br><br>def transformEvent(event, metadata):  <br>  event\\[‘sub’\\] = sub(1,2)  <br>  return event<br><br>  <br>**Error**:<br><br>NameError(\"name ‘c’ is not defined\")  <br>  at sub (library pylibsub: line 2)  <br>   return a-b-c  <br>  at transformEvent (base transformation: line 4)  <br>  event\\[‘sub’\\] = sub(1,2) | Make sure variable is declared and available in the scope.<br><br>See [Error message format](#transformation-referencing-a-library) for more context on the error message. |\n\n#### **ZeroDivisionError**\n\nThis error occurs when when the transformation attempts to divide a number by zero.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| def transformEvent(event, metadata):  <br>   event\\[‘value’\\]=0/0  <br>   return event<br><br>  <br>**Error**:<br><br>ZeroDivisionError(‘division by zero’)  <br>   at transformEvent (base transformation: line 2)  <br>   event\\[‘val’\\]=0/0 | Verify your transformation logic. |\n\n#### **KeyError**\n\nThis error occurs when the transformation attempts to access a dictionary item that does not exist.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| def transformEvent(event, metadata):  <br>   event\\[‘val’\\]=event\\[‘context’\\]\\[’traits’\\]\\[‘obj’\\]\\[‘val1’\\]  <br>   return event<br><br>  <br>**Error**:<br><br>KeyError(‘obj’)  <br>   at transformEvent (base transformation: line 2)  <br>   event\\[‘val’\\]=event \\[‘context’\\]\\[’traits’\\]\\[‘obj’\\]\\[‘val1’\\] | Verify the key that transformation is attempting to access exists in the dictionary. You can also set a optional chaining event like:  <br><br>event\\[‘val’\\] = event.get(‘context’).get(  <br>‘traits’,{}).get(‘obj’, {}).get(‘val1’) |\n\n#### **BadCodeError**\n\nThis error occurs when the transformation contains syntactically invalid code or is trying to import an unsupported module/package.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| def transformEvent(event, metadata):  <br>   returns event<br><br>  <br>**Error**:<br><br>BadCodeError(‘invalid syntax (, line 2)’) | Verify the syntax of your transformation code. |\n| from pyLib2 import add  <br>def transformEvent(event, metadata):  <br>   return event<br><br>  <br>**Error**:<br><br>BadCodeError(“Unpermitted import(s). Supported modules /  <br>packages for import: {‘sampleTransformationLibrary’,  <br>‘time’, ‘random’, ‘base64’, ‘string’, ‘dateutil’,  <br>‘hashlib’, ‘uuid’, ‘urllib’, ’re’, ‘rudderEmail’,  <br>‘json’, ‘collections’, ‘datetime’, ‘ast’, ‘requests’,  <br>‘math’, ‘user\\_transformation’, ‘hmac’}”) | Verify that the library imports one of the supported built-in packages and user-written libraries only. |\n\n#### **Exception error**\n\nThis error occurs when you specify a transformation function other than `transformEvent` or `transformBatch`.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| def transformEvent2(event, metadata):  <br>   return event<br><br>  <br>**Error**:<br><br>Exception(“Expected one of \\[’transformEvent’, ’transformBatch’\\].  <br>Found \\[\\]”) | Verify that the transformation function is either `transformEvent` or `transformBatch`. |\n\n#### **ImportError**\n\nThis error occurs when the module you are tring to import from a library does not exist or is not found.\n\n| Sample code and error | Possible solution |\n| --- | --- |\n| from pyLib1 import adds  <br>def transformEvent(event, metadata):  <br>   return event<br><br>  <br>**Error**:<br><br>ImportError(“cannot import name ‘adds’   <br>from ‘pyLib1’ <redacted\\_path\\_to\\_pyLib1>”) | Verify that the module you are trying to import exists in the transformation library. |\n\n## Error message format\n\n#### **Standalone transformation**\n\nA typical JavaScript transformation error is shown:\n\n```\nReferenceError: c is not defined\n    at sub (library jssublib:2:14)\n    at transformEvent (base transformation:4:22)\n```\n\nYou can interpret the above error as follows:\n\n*   `ReferenceError: c is not defined`: The actual error message.\n*   `at sub (library jssublib:2:14)`: Module in which the error occurs (`line: position`).\n*   `at transformEvent (base transformation:4:22)`: Depicts where the module is referenced in the transformation (`line: position`).\n\n#### **Transformation referencing a library**\n\nA typical Python transformation error is shown:\n\n```\nNameError(\\\"name 'c' is not defined\\\")\n    at sub (library pylibsub: line 2)\n    return a-b-c\n    at transformEvent (base transformation: line 4)\n    event['sub'] = sub(1,2)\n```\n\nYou can interpret the above error as follows:\n\n*   `NameError(\"name 'c' is not defined\")`: The actual error message.\n*   `at sub (library pylibsub: line 2)`: Line at which error occurred in the library.\n*   `return a-b-c`: Line where the error occurred.\n*   `at transformEvent (base transformation: line 4)`: Line at which library is referenced by the base transformation.\n*   `event['sub'] = sub(1,2)`: Line where `lib` function is called.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Debugging Transformation Errors | RudderStack Docs",
  "description": "Debug various transformation and library errors.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/geolocation-enrichment/",
  "markdown": "# Geolocation Enrichment using Transformations | RudderStack Docs\n\nFetch geolocation information from IP address using RudderStack’s geolocation service.\n\nAvailable Plans\n\n*   growth\n*   enterprise\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack lets you enrich events with users’ geolocation information for a given IP address using a transformation. You can add a geolocation service function (`geolocation`) in your transformation takes the IP address present in the event (`request_ip`) as an argument. Once it runs successfully, it returns the following geolocation data:\n\n*   City\n*   Country\n*   Region\n*   Location\n*   Postal code\n*   Timezone\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack supports both JavaScript and Python transformations for the geolocation enrichment feature.\n> *   If you’re hosting RudderStack on-premise, [contact the Customer Success team](mailto:%20support@rudderstack.com) to enable this feature.\n\n## License\n\nThis product includes GeoLite2 data created by MaxMind, available from [](https://www.maxmind.com/)[https://www.maxmind.com](https://www.maxmind.com/).\n\nFor more information, see [Maxmind license agreement](https://dev.maxmind.com/geoip/geolite2-free-geolocation-data#license).\n\n## Usage\n\nTo use the geolocation service, [add a new transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) as shown:\n\n```\n/***\n * This transformation enriches events with geolocation data using an IP-to-geolocation API powered by Maxmind, available from https://www.maxmind.com.\n * This allows you to easily query events based on geolocation data, e.g., country, city.\n ***/\n\nexport async function transformEvent(event, metadata) {\n  if (event.request_ip) {\n    try {\n      if (!event.context) event.context = {};\n      event.context.geo = await geolocation(event.request_ip);\n    } catch (e) {\n      log(e.message);\n    }\n  }\n\n  return event;\n}\n```\n\n```\ndef transformEvent(event, metadata):\n    try:\n        if event.get('request_ip'):\n            res = geolocation(event[\"request_ip\"])\n            if not event.get('context', None):\n                event['context'] = {}\n            event['context']['geo'] = res\n    except Exception as e:\n        log(str(e))\n    return event\n```\n\nIn the above transformation, the geolocation service function (`geolocation`) takes the IP address present in the event (`request_ip`) as an argument. Once it runs successfully, it returns the following geolocation data:\n\n*   City\n*   Country\n*   Region\n*   Location\n*   Postal code\n*   Timezone\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Note that:\n> \n> *   The geolocation data provided by RudderStack powered by Maxmind is not 100% accurate and varies by country. See the Maxmind website (link: [https://www.maxmind.com/en/geoip2-city-accuracy-comparison](https://www.maxmind.com/en/geoip2-city-accuracy-comparison)) to get the accuracy information by country.\n>     \n> *   RudderStack returns a `400 Bad Request` error if you pass a malformed IP address.\n>     \n> *   If you currently use a [geolocation enrichment template](https://www.rudderstack.com/docs/transformations/templates/#geolocation-enrichment), switching to this transformation will result in some schema changes:\n>     \n>     *   RudderStack creates new columns for the IP addresses in your warehouse.\n>     *   It stores the country code instead of country name.\n\n[![Geolocation information](https://www.rudderstack.com/docs/images/features/rudderstack-geolocation-service.webp)](https://www.rudderstack.com/docs/images/features/rudderstack-geolocation-service.webp)\n\n## FAQ\n\n#### **How is this feature different from the geolocation enrichment transformation template?**\n\nRudderStack’s geolocation service feature lets you enrich events with users’ geolocation information for a given IP address by leveraging the **licensed** GeoLite2 data created by [MaxMind](https://www.maxmind.com/).\n\nOn the other hand, the [geolocation enrichment template](https://www.rudderstack.com/docs/transformations/templates/#geolocation-enrichment) enriches events with geolocation data using an IP-to-geolocation API endpoint that **you need to provide**.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Geolocation Enrichment using Transformations | RudderStack Docs",
  "description": "Fetch geolocation information from IP address using RudderStack's geolocation service.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/observability/",
  "markdown": "# Transformations Observability | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Transformations Observability | RudderStack Docs",
  "description": "Get full visibility into all the metrics for your transformations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/klaviyo-bulk-upload/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Klaviyo Bulk Upload as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/",
  "markdown": "# Reverse ETL Destinations | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Reverse ETL Destinations | RudderStack Docs",
  "description": "Send event data from Reverse ETL sources to downstream tools.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/credentials/",
  "markdown": "# Transformation Credentials | RudderStack Docs\n\nSecurely store configuration data like user secrets and API keys and reuse them in transformations.\n\n* * *\n\n*     3 minute read  \n    \n\nThe credential store is a central repository in the [RudderStack dashboard](https://app.rudderstack.com/) for securely storing and efficiently managing your configuration data.\n\nRudderStack supports two types of credentials - **Secrets** and **Variables**.\n\n| Credential | Description | Examples |\n| --- | --- | --- |\n| [Secret](#create-secrets) | Lets you store sensitive information as encrypted text values and use them as environment variables in your [transformations](https://www.rudderstack.com/docs/transformations/overview/).<br><br>Note that:<br><br>*   You **cannot** see the secrets in the dashboard after setting them.<br>*   RudderStack recommends storing sensitive data as secrets to prevent data leaks. | Passwords, app secrets, API tokens. |\n| [Variable](#create-variables) | Lets you store non-sensitive configuration data as non-encrypted strings. | Application configuration, paths. |\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> By storing secrets and variables in RudderStack’s credential store, you can avoid hardcoding sensitive information in your transformations and avoid any security risks.\n\n## Access credential store\n\nGo to **Settings** > **Workspace** > **Credentials** to access the credential store and create your secrets and variables.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You must have [Admin](https://www.rudderstack.com/docs/dashboard-guides/user-management/#organization-roles) privileges to create, edit, and delete secrets and variables.\n\n[![RudderStack credential store](https://www.rudderstack.com/docs/images/dashboard-guides/credential-store.webp)](https://www.rudderstack.com/docs/images/dashboard-guides/credential-store.webp)\n\n## Create secrets\n\n1.  Go to the **Secrets** tab of the credential store.\n2.  Click **New secret**.\n3.  Enter the secret name and value.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Secret names can contain only alphanumeric characters and underscores and they cannot start with a number.\n\n4.  Click **Add** to save the secret.\n\n[![Create secret in credential store](https://www.rudderstack.com/docs/images/features/transformations/credentials/create-secret.webp)](https://www.rudderstack.com/docs/images/features/transformations/credentials/create-secret.webp)\n\nTo edit a secret, click the edit icon, enter the new secret value, and click **Save**. Note that the previous secret value will **not** be visible.\n\n[![Edit secret in credential store](https://www.rudderstack.com/docs/images/features/transformations/credentials/edit-secret.webp)](https://www.rudderstack.com/docs/images/features/transformations/credentials/edit-secret.webp)\n\n## Create variables\n\n1.  Go to the **Variables** tab of the credential store.\n2.  Click **New variable**.\n3.  Enter the variable name and value.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Variable names must contain only alphanumeric characters and underscores and they cannot start with a number.\n\n4.  Click **Add** to save the variable.\n\n[![Create secret in credential store](https://www.rudderstack.com/docs/images/features/transformations/credentials/create-variable.webp)](https://www.rudderstack.com/docs/images/features/transformations/credentials/create-variable.webp)\n\nTo edit a variable, click the edit icon, enter the new value, and click **Save**.\n\n## Use credentials in transformations\n\nOnce you create the credentials in the credential store, you can easily reuse them by referencing them within the `getCredential()` function in your transformations.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note the following while using credentials in transformations:\n> \n> *   Any workspace member can use the credentials in their transformations.\n> *   You **cannot** use credentials in [transformation libraries](https://www.rudderstack.com/docs/transformations/libraries/).\n> *   `getCredential` is a restricted keyword in transformations and you must not use it for naming functions or variables.\n> *   RudderStack drops the event in case of any error while [using the `getCredential` function](#considerations-for-using-getcredential-function) in a transformation that is connected to a destination.\n\nThe following example shows a custom transformation that:\n\n*   Fetches a variable named `dev_url` from the credential store,\n*   Assigns its value to the event’s `url` field, and\n*   Returns the event.\n\n```\nexport function transformEvent(event, metadata) {\n  try {\n    event.context.url = getCredential('dev_url');\n  } catch (error) {\n    log(error)\n  }\n  return event;\n}\n```\n\n```\ndef transformEvent(event, metadata):\n    try:\n\t    event['context']['url'] = getCredential('dev_url');\n    except Exception as e:\n        log(e)\n    return event\n```\n\nThe following example highlights the usage of credentials within a `fetchV2` function:\n\n```\nexport async function transformEvent(event, metadata) {\n  const url = getCredential('URL'); // Variable named URL\n  const id = getCredential('ID'); // Credential named ID\n  const authToken = getCredential('authToken'); // Secret named authToken\n  const response = await fetchV2(`${url}/${id}`, {\n    headers: {\n      Authorization: \"Bearer \" + authToken\n    }\n  });\n  event.value = response.body\n  return event;\n}\n```\n\n## Considerations for using `getCredential` function\n\nNote the following scenarios and the expected behavior when using the `getCredential` function:\n\n| Scenario | Behavior (JavaScript) | Behavior (Python) |\n| --- | --- | --- |\n| `getCredential` function called without a key | You will get the following error:<br><br>`TypeError: Key should be valid and defined` | You will get the following error:<br><br>`TypeError('Key should be valid and defined')` |\n| `getCredential` function called with multiple arguments | Credential function takes the first argument as the key. | Credential function takes the first argument as the key. |\n| `getCredential` function called with a non-string key (for example, integers, Boolean) | No credential value is passed and the event remains unchanged. | Credential value is passed as `null`. |\n| `getCredential` function called with a non-existent key | Credential value is undefined and is not passed. | Credential value is passed as `null`. |\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Transformation Credentials | RudderStack Docs",
  "description": "Securely store configuration data like user secrets and API keys and reuse them in transformations.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/klaviyo-bulk-upload/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL source to Klaviyo Bulk Upload\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL source to Klaviyo Bulk Upload | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Klaviyo Bulk Upload destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/transformation-action/",
  "markdown": "# Transformation Action | RudderStack Docs\n\nCreate, test, and publish JavaScript/Python transformations and libraries directly from your development repository.\n\n* * *\n\n*     4 minute read  \n    \n\nRudderStack’s Transformation Action lets you create, update, test, and publish transformations and libraries written in JavaScript or Python - directly from your development repository. Internally, this action leverages the [Transformations API](https://www.rudderstack.com/docs/api/transformation-api/).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This action is currently available for GitHub.\n\n## Prerequisites\n\nFor the action to work, you need the **email address** associated with your RudderStack workspace. Also, you need to generate a [personal access token](https://www.rudderstack.com/docs/dashboard-guides/personal-access-token/#generating-a-personal-access-token).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> For security purposes, it is highly recommended to use [GitHub secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets#creating-encrypted-secrets-for-a-repository) for storing your personal access token.\n\n## Usage\n\n```\nname: RudderStack Transformer Test and Publish\nuses: rudderlabs/rudder-transformation-action@<current_action_version>\nwith:\n    metaPath: './code/meta.json'\n    email: 'test@rudderlabs.com'\n    accessToken: ${{ secrets.ACCESS_TOKEN }}\n    uploadTestArtifact: true\n```\n\nSee the [sample workflow](https://github.com/rudderlabs/rudder-transformation-action-code/blob/main/.github/workflows/rudderTransformation.yml) for more information on using this action.\n\nFor more information on how to use `uploadTestArtifact`, see [FAQ](#faq).\n\n## Action fields\n\n| Field | Description |\n| --- | --- |\n| `metapath`  <br>Required | Path to the meta file that:<br><br>*   Lets the action know about what transformations/libraries to test based on the input events and the expected output.<br>*   Publishes the transformations/libraries if the test passes.<br><br>See [Meta file structure](#meta-file-structure) for more information. |\n| `email`  <br>Required | Email address associated with the RudderStack workspace. |\n| `accessToken`  <br>Required | Personal access token generated for the workspace. |\n| `uploadTestArtifact` | Boolean flag that determines:<br><br>*   Whether to upload the individual transformation outputs after running the transformation on the test events.<br>*   The difference from the expected output.<br><br>See [`uploadTestArtifact` parameter](#uploadtestartifact-parameter) for more information.<br><br>**Default value**: False |\n\nAs mentioned above, a meta file lets the transformation action know what transformations or libraries to test depending on the input events and the expected output.\n\nA generic meta file schema is shown below:\n\n```\n// Meta file schema\n{\n  \"transformations\": <array of transformation schema>,\n  \"libraries\": <array of library schema>\n}\n```\n\nA sample meta file is shown below:\n\n```\n // example meta.json\n {\n   \"transformations\": [\n    {\n       \"file\": \"./code/t1.js\",\n       \"name\": \"action-T1\",\n       \"language\": \"javascript\",\n       \"description\": \"action-T1\",\n       \"test-input-file\": \"./code/testevents.json\",\n       \"expected-output\": \"./code/expectedoutput.json\"\n     },\n     {\n       \"file\": \"./code/t2.py\",\n       \"name\": \"action-T2\",\n       \"language\": \"pythonfaas\",\n       \"description\": \"action-T2\",\n       \"test-input-file\": \"./code/events.json\",\n       \"expected-output\": \"./code/expected.json\"\n     }\n   ],\n   \"libraries\": [{\n       \"file\": \"./code/lib1.js\",\n       \"name\": \"lib1\",\n       \"language\": \"javascript\",\n       \"description\": \"action-lib1\"\n     },\n     {\n       \"file\": \"./code/lib2.py\",\n       \"name\": \"getFinanceDataPy\",\n       \"language\": \"pythonfaas\",\n       \"description\": \"Python library to get finance data\"\n     }\n   ]\n }\n```\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The path mentioned in the `file` field should be relative to the base repository path.\n\n### Transformation schema\n\nThe `transformations` parameter in the meta file contains an array of transformation schemas. A single transformation schema contains the following parameters:\n\n| Parameter | Description |\n| --- | --- |\n| `file`  <br>Required | Path to the transformation code. |\n| `name`  <br>Required | Transformation name. |\n| `language`  <br>Required | Transformation language. Permissible values are `javascript` and `pythonfaas`. |\n| `description` | Transformation description. |\n| `test-input-file` | Path to the JSON file containing an array of events to test the transformation. |\n| `expected-output` | Path to the JSON file containing the expected output for the above input, after running the transformation code. |\n\n### Library schema\n\nThe `libraries` parameter in the meta file contains an array of library schemas. A single library schema contains the following parameters:\n\n| Parameter | Description |\n| --- | --- |\n| `file`  <br>Required | Path to the library code. |\n| `name`  <br>Required | Library name that you must specify to import it in any transformation. |\n| `language`  <br>Required | Library language. Permissible values are `javascript` and `pythonfaas`. |\n| `description` | Library description. |\n\n## FAQ\n\n#### **How do I use the `uploadTestArtifact` parameter?**\n\nWhen you set `uploadTestArtifact` to `true` in the transformation action, RudderStack:\n\n1.  Runs the transformation on the test events present in [`test-input-file`](#transformation-schema).\n2.  Generates and stores the output in a **test-outputs** folder contained within a zipped artifact.\n3.  Validates the output against the contents of the file specified in [`expected-output`](#transformation-schema).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   RudderStack stores the output from Step 1 in a `[transformation name in camel case]_output.json` file.\n> *   It stores the validation differences from Step 3 in the respective `[transformation name in camel case]_diff.json` file.\n> *   If you do not set `uploadTestArtifact` to `true` in the transformation action, RudderStack **does not** create the output zip containing the above files.\n> \n> For more context, see the use case below.\n\nConsider the following transformation schema:\n\n```\n// single transformationSchema\n{\n  \"file\": \"./code/t1.js\",\n  \"name\": \"action-T1\",\n  \"language\": \"javascript\",\n  \"description\": \"action-T1\",\n  \"test-input-file\": \"./code/testevents.json\",\n  \"expected-output\": \"./code/expectedoutput.json\"\n}\n```\n\nThe workflow when you set `uploadTestArtifact` to `true` is as follows:\n\n1.  RudderStack runs the transformation `action-T1`(with its code present in `t1.js`) on the `testevents.json` file.\n    \n2.  RudderStack then:\n    \n    1.  Generates and stores the output from Step 1 in a file named `actionT1_output.json`. This file is stored in a **test-outputs** folder contained within a zipped artifact.\n    2.  Validates the output with the contents present in the `expectedoutput.json` file. It stores any differences in a file named `actionT1_diff.json`.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The **test-outputs** folder contains the two files - `actionT1_output.json` and `actionT1_diff.json`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Transformation Action | RudderStack Docs",
  "description": "Create, test, and publish JavaScript/Python transformations and libraries directly from your development repository.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/yandex-metrica-offline-events/",
  "markdown": "# Yandex.Metrica Offline Events Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Yandex.Metrica Offline Events Destination | RudderStack Docs",
  "description": "Send your offline conversions data from RudderStack to Yandex.Metrica.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/webhooks/",
  "markdown": "# Webhooks | RudderStack Docs\n\nSend your event data from RudderStack to your configured webhook endpoint.\n\n* * *\n\n*     7 minute read  \n    \n\nWebhooks let you send the events generated via RudderStack’s [SDKs](https://www.rudderstack.com/docs/sources/event-streams/sdks/), [Cloud Apps](https://www.rudderstack.com/docs/sources/event-streams/cloud-apps/), and [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) sources. It is useful in cases where you want to apply some custom logic on the event payload before sending it to your preferred destination platforms.\n\nOnce webhooks are enabled as a destination in your dashboard, RudderStack forwards the SDK events to your configured webhook endpoint.\n\n## Getting started\n\nBefore configuring your source and destination in the [RudderStack dashboard](https://app.rudderstack.com/), verify if the platform you are working on is supported by the webhook destination by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | **Supported** | **Supported** | **Supported** |\n\nOnce you have confirmed that your platform supports sending events to webhooks, perform the steps below:\n\n1.  Choose a source to which you would like to add your webhook endpoint as a destination.\n2.  Select the destination as **Webhook** to your source. Give your destination a name and then click **Continue**.\n\n### Connection settings\n\nIn the **Connection Settings** page, enter the relevant connection information and click **Next** to complete the destination setup.\n\n[![Webhook connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/webhook-connection-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/webhook-connection-settings.webp)\n\n*   **Webhook URL**: This is the endpoint where RudderStack sends the events. Both `http` and `https` are supported. For `https`, **TLS cert** needs to be **valid** for a successful event delivery.\n*   **URL Method**: This is the HTTP method of the request sent to the configured endpoint. Supported methods are `POST`, `PUT` and `GET`. By default, RudderStack uses the `POST` method to send the events.\n*   **Headers**: Add custom headers for your events via this option. These headers will be added to the request made from RudderStack to your webhook. By default, RudderStack adds the following headers for the `POST` and `PUT` requests:\n\n| Key | Value |\n| --- | --- |\n| `User-Agent` | `RudderLabs` |\n| `Content-Type` | `application/json` |\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack also supports adding a dynamic header to your events through user transformation. For more information, refer to the [Sample RudderStack Transformations](https://github.com/rudderlabs/sample-user-transformers#dynamic-header) repository.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also add a dynamic path to your base URL. For more information, refer to this [user transformation](https://github.com/rudderlabs/sample-user-transformers#dynamic-path).\n\n## Identify\n\nThe [`identify`](https://www.rudderstack.com/docs/event-spec/standard-events/identify/) call is used to associate a user to their actions. Apart from capturing a unique user ID, you can also send optional traits associated with that user, such as name, email, IP address, etc. using the RudderStack SDKs.\n\nA sample `identify` payload is as shown:\n\n```\n{\n  \"channel\": \"web\",\n  \"context\": {\n    \"app\": {\n      \"build\": \"1.0.0\",\n      \"name\": \"RudderLabs JavaScript SDK\",\n      \"namespace\": \"com.rudderlabs.javascript\",\n      \"version\": \"1.1.1-rc.2\"\n    },\n    \"traits\": {\n      \"name\": \"User name\",\n      \"email\": \"user@domain.com\",\n      \"plan\": \"Enterprise\",\n      \"company\": { \"id\": \"company-A\" },\n      \"createdAt\": \"Thu Mar 24 2016 17:46:45 GMT+0000 (UTC)\"\n    },\n    \"library\": { \"name\": \"RudderLabs JavaScript SDK\", \"version\": \"1.1.1-rc.2\" },\n    \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36\",\n    \"locale\": \"en-US\",\n    \"os\": { \"name\": \"\", \"version\": \"\" },\n    \"screen\": { \"density\": 1.600000023841858 },\n    \"page\": {\n      \"path\": \"/tests/html/script-test.html\",\n      \"referrer\": \"http://localhost:1111/tests/html/\",\n      \"search\": \"\",\n      \"title\": \"\",\n      \"url\": \"http://localhost:1111/tests/html/script-test.html\"\n    }\n  },\n  \"type\": \"identify\",\n  \"messageId\": \"508d5e8c-96e4-4301-bd46-1890dba5c866\",\n  \"originalTimestamp\": \"2020-04-22T08:06:20.337Z\",\n  \"anonymousId\": \"21b43de4-3b9b-423f-b51f-794eae31fc03\",\n  \"userId\": \"my-user-id\",\n  \"integrations\": { \"All\": true },\n  \"sentAt\": \"2020-04-22T08:06:20.337Z\"\n}\n```\n\nFor each `identify` call, RudderStack sends the request in the following manner (depending on the URL method configured in the dashboard):\n\n*   **`POST`**: RudderStack sends the whole event payload (as shown above) as the JSON body of the `POST` request.\n*   **`PUT`**: RudderStack sends the whole event payload (as shown above) as the JSON body of the `PUT` request.\n*   **`GET`**: RudderStack sends the traits passed in the `identify` call as the query parameters of the `GET` request. If your traits contain nested values, RudderStack flattens these values and sends them as the query parameters. For example, the company ID specified in the above payload’s `traits` is sent as `\"company.id\": \"company-A\"`.\n\n## Page\n\nThe [`page`](https://www.rudderstack.com/docs/event-spec/standard-events/page/) call lets you record your website’s page views, with any additional relevant information about the viewed page.\n\nA sample `page` payload is as shown:\n\n```\n{\n  \"channel\": \"web\",\n  \"context\": {\n    \"app\": {\n      \"build\": \"1.0.0\",\n      \"name\": \"RudderLabs JavaScript SDK\",\n      \"namespace\": \"com.rudderlabs.javascript\",\n      \"version\": \"1.1.1-rc.2\"\n    },\n    \"traits\": {},\n    \"library\": { \"name\": \"RudderLabs JavaScript SDK\", \"version\": \"1.1.1-rc.2\" },\n    \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36\",\n    \"locale\": \"en-US\",\n    \"os\": { \"name\": \"\", \"version\": \"\" },\n    \"screen\": { \"density\": 1.600000023841858 },\n    \"page\": {\n      \"path\": \"/tests/html/script-test.html\",\n      \"referrer\": \"http://localhost:1111/tests/html/\",\n      \"search\": \"\",\n      \"title\": \"\",\n      \"url\": \"http://localhost:1111/tests/html/script-test.html\"\n    }\n  },\n  \"type\": \"page\",\n  \"messageId\": \"97114191-e2f2-42af-97db-14b358b1cfe1\",\n  \"originalTimestamp\": \"2020-04-22T08:06:20.334Z\",\n  \"anonymousId\": \"57d95a96-61dc-47bf-8f96-5d37543d7438\",\n  \"userId\": \"user@domain.com\",\n  \"properties\": {\n    \"path\": \"/tests/html/script-test.html\",\n    \"referrer\": \"http://localhost:1111/tests/html/\",\n    \"search\": \"\",\n    \"title\": \"\",\n    \"url\": \"http://localhost:1111/tests/html/script-test.html\",\n    \"experiment\": {\"variant\": \"old\"}\n  },\n  \"integrations\": { \"All\": true },\n  \"sentAt\": \"2020-04-22T08:06:20.334Z\"\n}\n```\n\nFor each `page` call, RudderStack sends the request in the following manner(depending on the URL method configured in the dashboard):\n\n*   **`POST`:** RudderStack sends the whole event payload (as shown above) as the JSON body of the `POST` request.\n*   **`PUT`:** RudderStack sends the whole event payload (as shown above) as the JSON body of the `PUT` request.\n*   **`GET`:** RudderStack sends the properties passed in the `page` call as query parameters of the `GET` request. If your properties contain nested values, RudderStack flattens these values and sends them as query parameters. For example, the experiment variant specified in the above payload’s properties is sent as `\"experiment.variant\": \"old\"`.\n\n## Track\n\nThe [`track`](https://www.rudderstack.com/docs/event-spec/standard-events/track/) call captures all activities that the user performs, along with any other properties that are associated with those activities. Each of these activities or actions is considered as an **event**.\n\nA sample `track` payload is as shown:\n\n```\n{\n  \"channel\": \"web\",\n  \"context\": {\n    \"app\": {\n      \"build\": \"1.0.0\",\n      \"name\": \"RudderLabs JavaScript SDK\",\n      \"namespace\": \"com.rudderlabs.javascript\",\n      \"version\": \"1.1.1-rc.2\"\n    },\n    \"traits\": {\n      \"name\": \"User name\",\n      \"email\": \"user@doamin.com\",\n      \"plan\": \"Enterprise\",\n      \"company\": { \"id\": \"comapny-A\" },\n      \"createdAt\": \"Thu Mar 24 2016 17:46:45 GMT+0000 (UTC)\"\n    },\n    \"library\": { \"name\": \"RudderLabs JavaScript SDK\", \"version\": \"1.1.1-rc.2\" },\n    \"userAgent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36\",\n    \"locale\": \"en-US\",\n    \"os\": { \"name\": \"\", \"version\": \"\" },\n    \"screen\": { \"density\": 1.600000023841858 },\n    \"page\": {\n      \"path\": \"/tests/html/script-test.html\",\n      \"referrer\": \"http://localhost:1111/tests/html/\",\n      \"search\": \"\",\n      \"title\": \"\",\n      \"url\": \"http://localhost:1111/tests/html/script-test.html\"\n    }\n  },\n  \"type\": \"track\",\n  \"messageId\": \"04a303b1-a466-4e66-9022-2a24edaca4fc\",\n  \"originalTimestamp\": \"2020-04-22T08:06:20.338Z\",\n  \"anonymousId\": \"21b43de4-3b9b-423f-b51f-794eae31fc03\",\n  \"userId\": \"my-user-id\",\n  \"event\": \"Product Purchased\",\n  \"properties\": {\n    \"order_ID\": \"1\",\n    \"category\": \"boots\",\n    \"product_name\": \"new_boots\",\n    \"price\": 60,\n    \"currency\": \"USD\"\n  },\n  \"integrations\": { \"All\": true },\n  \"sentAt\": \"2020-04-22T08:06:20.338Z\"\n}\n```\n\nTo view the other events and detailed event structure for the types of events being sent, refer to the [RudderStack Event Spec](https://www.rudderstack.com/docs/event-spec/standard-events/) guide.\n\nFor each `track` call, RudderStack sends the request in the following manner(depending on the URL method configured in the dashboard):\n\n*   **`POST`:** RudderStack sends the whole event payload (as shown above) as the JSON body of the `POST` request.\n*   **`PUT`:** RudderStack sends the whole event payload (as shown above) as the JSON body of the `PUT` request.\n*   **`GET`:** RudderStack sends the properties that you pass in the `track` call as query parameters of the `GET` request. If your properties contain nested values, RudderStack will flatten these values before sending them.\n\nIn the settings config, you can set static headers for the webhook call. However, in some cases you may want to dynamically change or add a header to the webhook. This can be done through a top-level object with a key of `header`. This top-level key can be added using a [user transformation](https://www.rudderstack.com/docs/transformations/overview/) and the following line of code `event.header = { \"Authorization\": \"some-auth\" }`. Below is an example of a payload with this feature.\n\n```\n{\n  event: \"some-event-name\",\n  type: \"track\",\n  properties: {\n    color: \"blue\",\n    number: 3,\n    newMember: true\n  },\n  header: {\n    \"Authorization\": \"Bearer 3841718412jhcdskc\"\n  }\n}\n```\n\n## Dynamically appending to the endpoint URL\n\nIn the settings config, you will enter the endpoint that this webhook will be pointed to. There are some use-cases where depending on the event that is going to this destination, the endpoint may need to be changed. RudderStack allows you to append a dynamic string to your webhook endpoint using a top-level key named `appendPath`. This top-level key can be added using a [user transformation](https://www.rudderstack.com/docs/transformations/overview/) and the following line of code `event.appendPath = 'some-path'`.\n\n```\nFixed Endpoint URL From Settings\n--------------------------------\nendpoint: 'https://www.google.com/'\n\nDynamically Append String to Endpoint\n-------------------------------------\nappendPath: 'search?q=cats'\n\nFinal Endpoint\n--------------\nendpoint: 'https://www.google.com/search?q=cats'\n```\n\n## FAQ\n\n#### How do I check if there are any event delivery failures?\n\n1.  Log into your [RudderStack dashboard](https://app.rudderstack.com/).\n2.  Verify that you are sending the events in the **Live Events** tab of your source.\n3.  Check if there are any delivery failures in the **Live Events** tab of your destination. An example of an event failure is as shown:\n\n[![Webhook endpoint](https://www.rudderstack.com/docs/images/event-stream-sources/webhook-endpoint-url.webp)](https://www.rudderstack.com/docs/images/event-stream-sources/webhook-endpoint-url.webp)\n\n![](https://user-images.githubusercontent.com/59817155/125619804-64033117-16f6-44c7-8050-286059ab404d.png)\n\n4.  You can then check the **Error Response** to get more details about the error, including the reason of the failure:\n\n![](https://user-images.githubusercontent.com/59817155/125619922-c68b1c48-50aa-4ce9-8803-8381170e3cc9.png)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Webhooks | RudderStack Docs",
  "description": "Send your event data from RudderStack to your configured webhook endpoint.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-offline-conversions/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Bing Ads Offline Conversions as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/yandex-metrica-offline-events/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Yandex.Metrica as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/transformations/faq/",
  "markdown": "# Transformations FAQ | RudderStack Docs\n\nAnswers to some of the commonly asked questions related to RudderStack’s Transformations feature.\n\n* * *\n\n*     5 minute read  \n    \n\n## Transformations\n\n#### Are there any sample user transformations I can refer to?\n\nSee the [Transformation Templates](https://www.rudderstack.com/docs/transformations/templates/) guide for a list of prebuilt JavaScript functions that you can use to create transformations and implement use cases on your event data.\n\nYou can also check the [Sample RudderStack Transformations](https://github.com/rudderlabs/sample-user-transformers) GitHub repository.\n\n#### Is the transformation connected to a source or destination?\n\nA transformation is always connected to a destination. RudderStack gives you the option to add a transformation while setting up a destination:\n\n[![Connecting a transformation](https://www.rudderstack.com/docs/images/features/connecting-a-transformation.webp)](https://www.rudderstack.com/docs/images/features/connecting-a-transformation.webp)\n\n#### Can I connect multiple transformations to a destination?\n\nNo, it is not possible to connect multiple transformations to a destination. Instead, you can implement multiple use-cases in the same transformation, for example, event filtering followed by cleaning.\n\n#### Can I write a transformation that can be applied to a small batch of events?\n\nYes, you can use the `transformBatch` function to apply a transformation to a batch of events.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n\n#### What is the supported Python version for Python transformations?\n\nRudderStack uses Python 3.11 for Python transformations (available only in the RudderStack Cloud [Growth](https://rudderstack.com/pricing/) and [Enterprise](https://www.rudderstack.com/enterprise-quote/) plans).\n\n#### What is a referenced transformation?\n\nIf a library `L` is [imported by the transformations](https://www.rudderstack.com/docs/transformations/libraries/) `T1`, `T2`, and `T3`, then `T1`, `T2`, and `T3`are called the referenced transformations to `L`.\n\n#### I used to write transformations like `function transform(events) {}`. Why am I not able to create new transformations this way?\n\nBy default, RudderStack supports writing functions that transform a single event instead of a batch of events. You can now define your transformation in the following manner:\n\n```\nexport function transformEvent(event, metadata) {\n    return event;\n}\n```\n\n```\ndef transformEvent(event, metadata):\n    return event\n```\n\n#### Can I update my existing version v0 transformation code to the the latest version?\n\nYou cannot update an existing `Version: V0` transformation to the current version.\n\nInstead, you can [create a new transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) based on the [`transformEvent` function](https://www.rudderstack.com/docs/transformations/usage/#apply-transformation-on-single-event), then reconnect your destinations with this transformation. Finally, delete the existing `Version: V0` transformation.\n\n#### What are transformation and library revisions?\n\nUsing the [Event filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/), you can create and store a transformation or library as a draft without publishing them. These are called revisions.\n\nOnce the revisions meet the test criteria, you can restore and publish them for production use.\n\n## Device mode transformations\n\n#### While sending events in device mode, how should I choose between event filtering and transformations?\n\nYou can choose any based on your requirements:\n\n*   **[Event filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/)**: When you just want to filter out the events based on the event names. The event filtering takes place within the SDK and is **only applicable** for the `track` events.\n*   **Transformations**: Transformations is a generic feature which can be used to manipulate the events, mask data, enrich events, implement specific actions on events. It involves a call to an external RudderStack service.\n\nIn case you plan to use both the above-mentioned features, your events will be filtered (based on the [event filtering](https://www.rudderstack.com/docs/sources/event-streams/sdks/event-filtering/) settings in the RudderStack dashboard) and transformed (based on the applied transformation) before being sent to the destination.\n\n#### Is there any added performance cost to using the transformations in device mode?\n\nYes, RudderStack makes a network call for each event (in case of JavaScript SDK) or a batch of events (in case of mobile SDKs) when the transformations are used in device mode.\n\n#### Can I switch back to the previous version of an SDK while using a transformation in device mode?\n\n*   **For Mobile SDKs**: Yes, you can switch back to the previous SDK version. However, the transformation might not be supported in the previous version.\n*   **For JavaScript SDK**: It depends on the SDK installation method:\n    *   If installed through RudderStack CDN, it’s not possible to downgrade the SDK version.\n    *   If installed through NPM, it’s possible to downgrade the SDK version. However, the transformation might not be supported in the previous version.\n\n#### Will my event be lost in case of a network error while using a transformation in device mode?\n\n**No events are lost in case of mobile SDK’s** as they are saved locally in the database before being sent to the destination. Once sent successfully, they’re removed from the database.\n\nHowever, there is a chance of events getting lost while sending them via JavaScript SDK in case of a network error as they are not persisted. However, the SDK retries multiple times before dropping the event.\n\n## Libraries\n\n#### How does RudderStack test any library updates?\n\nIf you update a library that is referenced in any transformation, RudderStack tests the new library code along with the transformation code against the default event payload. This ensures that the transformation does not break due to any changes in the library.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack currently does not support testing libraries with custom events.\n\n#### Can I test my library with sample events?\n\nRudderStack currently does not support testing libraries with custom events. It provides a default payload against which you can test the library code along with any referenced transformations.\n\n#### Why am I not able to update my library?\n\nIf you update a library, [RudderStack tests the new library code](https://www.rudderstack.com/docs/transformations/faq/#how-does-rudderstack-test-any-library-updates) along with the referenced transformation code. This ensures that the transformation does not break due to any changes in the library.\n\nIf you’re unable to update the library, it is likely that that the transformation is breaking because of the changes. Add the referenced transformation code and test the changes thoroughly.\n\n#### What is a referenced library?\n\nIf a transformation `T` [imports a library](https://www.rudderstack.com/docs/transformations/libraries/) `L` in its code, then `L` is called as a referenced library to `T`.\n\n#### I cannot import libraries into my existing transformations. What should I do?\n\nIf you cannot import libraries into your existing transformations, there is a strong likelihood that your existing transformations are based on the older version (`Version: V0`). To confirm if your transformation is based on an older version, check if your transformation has **Version: V0**:\n\n[![v0 transformations](https://www.rudderstack.com/docs/images/features/older-transformation.webp)](https://www.rudderstack.com/docs/images/features/older-transformation.webp)\n\nTo import the libraries in a transformation, follow these steps:\n\n1.  Create a new transformation by following the steps in the [Adding a transformation](https://www.rudderstack.com/docs/transformations/create/#adding-a-transformation) section.\n2.  Add the updated transformation code as specified in the [`transformEvent` function](https://www.rudderstack.com/docs/transformations/usage/#apply-transformation-on-single-event) section.\n3.  Connect the transformation to your destination. For more information, see [Connecting a transformation to the destination](https://www.rudderstack.com/docs/transformations/manage/#connect-transformation-to-destination) section.\n4.  You can then import libraries in the transformation. For more information, see [Using libraries in transformations](https://www.rudderstack.com/docs/transformations/libraries/).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Transformations FAQ | RudderStack Docs",
  "description": "Answers to some of the commonly asked questions related to RudderStack's Transformations feature.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/yandex-metrica-offline-events/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL source to Yandex.Metrica Offline Events\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL source to Yandex.Metrica Offline Events | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Yandex.Metrica Offline Events destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/overview/",
  "markdown": "# Profiles Overview | RudderStack Docs\n\nCreate unified customer records in your warehouse using RudderStack Profiles.\n\nAvailable Plans\n\n*   enterprise\n\n* * *\n\n*     3 minute read  \n    \n\nModern data teams rely on their warehouse as a single source of truth for customer data. RudderStack’s **Profiles** unifies every user touchpoint and trait into comprehensive customer profiles, establishing the data warehouse as the core of the customer data platform.\n\nWith Profiles, data teams can efficiently resolve identities and create user features to produce a comprehensive customer 360 table.\n\nThe following self-guided tour shows how to use Profiles:\n\n## Highlights\n\nSee the following guides to learn more about Profiles features and their usage:\n\n| Guide | Description |\n| --- | --- |\n| [Quickstart](https://www.rudderstack.com/docs/profiles/get-started/) | Create your first Profiles project using the [RudderStack dashboard](https://www.rudderstack.com/docs/profiles/get-started/quickstart-ui/) or [Profile Builder (PB) CLI tool](https://www.rudderstack.com/docs/profiles/get-started/profile-builder/). |\n| [Identity stitching](https://www.rudderstack.com/docs/profiles/core-concepts/identity-stitching/) | Stitch different identifiers across multiple channels to create a comprehensive user profile. |\n| [Feature development](https://www.rudderstack.com/docs/profiles/core-concepts/feature-development/) | Enhance the unified profiles with additional data points and features. |\n| [Warehouse permissions](https://www.rudderstack.com/docs/profiles/permissions/) | Grant RudderStack the required permissions on your data warehouse. |\n| [Project structure](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/) | Know the detailed project structure of a Profiles project. |\n| [Commands](https://www.rudderstack.com/docs/profiles/cli-user-guide/commands/) | List of commands you can use for the Profiles CLI project. |\n| [Cohorts](https://www.rudderstack.com/docs/profiles/cohorts/) | Build core customer segments and use them for targeted campaigns. |\n| [Activations](https://www.rudderstack.com/docs/profiles/activations/) | Activate your cohorts data in the downstream destinations. |\n| [Predictions](https://www.rudderstack.com/docs/profiles/predictions/) | Create predictive features using the data present in your warehouse. |\n| [Examples](https://www.rudderstack.com/docs/profiles/example/) | Create sample Profiles projects using different model types. |\n| [Glossary](https://www.rudderstack.com/docs/profiles/resources/glossary/) | Commonly used Profiles terminology. |\n\n## Why use Profiles?\n\nData teams often face challenges when building a comprehensive customer view. Maintaining large, complex SQL models or working around the limitations of rigid SaaS platforms is time-consuming and expensive at scale.\n\nProfiles simplifies this process of unifying customer data by automating the manual data engineering and modeling required to build an identity graph, layer new data sources into customer profiles, and compute user features that leverage data from diverse sources.\n\nUsing Profiles, data teams can quickly build and easily maintain a comprehensive customer 360 table and make it available to downstream teams and tools.\n\n#### Move faster with an end-to-end platform\n\nProfiles integrates directly with RudderStack’s other pipelines:\n\n*   [Event Stream](https://www.rudderstack.com/docs/sources/event-streams/) and [Cloud Extract](https://www.rudderstack.com/docs/sources/extract/) (ETL) pipelines have known schemas and unique identifiers through the ingested customer data. Profiles can produce a baseline identity graph, and user features out of the box. Data teams can then augment the graph and features using any other data in their warehouse.\n*   [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) pipeline makes it easy to send data from the customer 360 table directly to the downstream tools used by marketing, customer success, product, and other teams.\n\n#### Enrich user profiles with features\n\nYou can [enhance user profiles](https://www.rudderstack.com/docs/profiles/core-concepts/feature-development/) with additional data points and features. When new data sources are added, discovered, or calculated, data teams can add them to their Profiles configuration without having to clean data and update complex models and dependencies.\n\nThe features/traits can include demographic information, preferences, purchase history, browsing behavior, or other static or computed data points.\n\n#### Unlock deeper insights\n\nProfiles extends its capabilities to support features derived from complex concepts such as funnels, organizational metrics, and machine learning models. You can understand your customer’s journey through your sales funnel or locate each user across the histogram of customer metric values by simply defining a trait.\n\n#### Deliver personalization and recommendations\n\nUsing Profiles, you can ship projects like personalization significantly faster by focusing entirely on activating key user features instead of cleaning and modeling data to build them.\n\n#### Predict user conversions and churn\n\nYou can leverage [Predictions](https://www.rudderstack.com/docs/profiles/predictions/) to build predictive features that help you predict in advance whether a lead is likely to convert, or a customer is likely to churn or make a purchase.\n\n## Who can leverage Profiles?\n\nProfiles is built for data engineers, data scientists, and technical marketers. You can define identity stitching, and user features as configuration files without requiring deep SQL, Python, or technical knowledge.\n\nYou can define the associated properties or attributes that provide detailed information for each new feature. For example, if the feature is `purchase_history`, its properties can include the date of purchase, product category, or order value.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Profiles Overview | RudderStack Docs",
  "description": "Create unified customer records in your warehouse using RudderStack Profiles.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-audience/",
  "markdown": "# Bing Ads Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Bing Ads Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Bing Ads Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-offline-conversions/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL source to Bing Ads Offline Conversions\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL source to Bing Ads Offline Conversions | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Bing Ads Offline Conversions destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/eloqua/",
  "markdown": "# Eloqua | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Eloqua | RudderStack Docs",
  "description": "Send your event data from RudderStack to Eloqua.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-offline-conversions/",
  "markdown": "# Bing Ads Offline Conversions Destination\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Bing Ads Offline Conversions Destination | RudderStack Docs",
  "description": "Send your offline conversions data from RudderStack to Bing Ads.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/how-profiles-works/",
  "markdown": "# How Profiles Works | RudderStack Docs\n\nKnow how Profiles collect, unify, and activate your data to enhance the overall customer experience.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack helps you build a complete CDP on top of your data warehouse in three stages - **Collect**, **Unify**, and **Activate**.\n\nThe following sections highlight RudderStack’s comprehensive solution at every stage to create a complete customer profile.\n\n[![Profiles Overview](https://www.rudderstack.com/docs/images/profiles/profiles-overview.png)](https://www.rudderstack.com/docs/images/profiles/profiles-overview.png)\n\n### Collect\n\nFirst, RudderStack collects and stores all the source data in your warehouse. This includes:\n\n*   Event data, for example, user interaction data from web and mobile apps.\n*   Data from cloud sources, for example, CRM platforms like Salesforce, support tools like Zendesk, etc.\n\n#### Known data\n\nRudderStack collects all the information from:\n\n1.  First-party data: Data collected from the enterprise’s own mobile application, websites, POS systems, etc.\n2.  Third-party apps like SalesForce CRM, Zendesk Support, ecommerce payments via Stripe, etc.\n\nThere is a known ID for all of these by which RudderStack collects the data like email, user ID, etc.\n\n#### Unknown Data\n\nThis includes unknown user attributes like `anonymousId` captured from the RudderStack SDKs on the web/mobile apps. It is helpful in tracking user activities in cases where they are not logged in.\n\nThe difference between known and unknown data is that in the former, we have information about the user. First-party data can be known data if a user is logged in. For example, the data from cloud sources will always be known. However, data from the event stream sources can be known or unknown depending on whether a user had logged in.\n\nAs the data is collected, you can apply relevant transformations to it for compliance/security purposes like data governance, privacy, etc.\n\nThe below image highlights a snapshot of the `identifies` and `tracks` [tables](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/#schema), that RudderStack leverages for unifying the data.\n\n[![Identifies and Tracks tables for stitching](https://www.rudderstack.com/docs/images/profiles/identifies-tracks-stitch.png)](https://www.rudderstack.com/docs/images/profiles/identifies-tracks-stitch.png)\n\n### Unify\n\nAt this stage, Profiles takes over and does the following:\n\n#### ID Stitching\n\nProfiles stitches together all the known and unknown IDs into a single table. The IDs are linked using an autogenerated ID known as `rudderId`, which is akin to a golden record. Imagine a 1-to-many relationship, in which one `rudderId` has multiple values for other IDs like user ID, anonymous ID, email, etc.\n\nWith a `rudderId`, you can easily identify that a customer - who shopped on your website 6 months ago, anonymously browsed from mobile 4 months ago, raised a complaint with the support team 2 months ago - is actually the same customer. RudderStack represents them as different nodes/edges of the ID stitching graph.\n\n[![Identity stitching](https://www.rudderstack.com/docs/images/profiles/identity-stitching.png)](https://www.rudderstack.com/docs/images/profiles/identity-stitching.png)\n\n#### Feature Views\n\nIf the entity features/traits are spread across multiple entity vars and ML models, you can use Feature views to get them together into a single view. These models are usually defined in the `pb_project.yaml` file by creating entries under `feature_views` key with corresponding entity.\n\n[![Features generation](https://www.rudderstack.com/docs/images/profiles/features-generation.png)](https://www.rudderstack.com/docs/images/profiles/features-generation.png)\n\n#### Feature Table\n\nThe entity vars specified in the project are unified into a view. A **Feature Table** is a unified customer profile containing useful information for each customer. Once all the known and unknown identities are stitched together, you can trace back activities for all such identifiers and aggregate them under the common `rudderId`. This is helpful in calculating features across all such interactions.\n\nSome common use cases are computing the customer’s total LTV (lifetime value), purchase history, number of days a customer was active, etc.\n\n### Activate\n\nActivation is a two-step process. In the first step, the user creates the target audience using RudderStack’s [Audiences](https://www.rudderstack.com/docs/data-pipelines/reverse-etl/features/audiences/) feature. They would then use Reverse ETL to route this audience information (also persisted in the same cloud warehouse) to downstream marketing tools like Braze, Mailchimp, etc.\n\n[![Audience Builder / Cohorts](https://www.rudderstack.com/docs/images/profiles/audience-builder-cohorts.png)](https://www.rudderstack.com/docs/images/profiles/audience-builder-cohorts.png)\n\nAdditionally - you can use the feature tables as inputs to ML models for use cases like churn prediction, lifetime value (LTV) prediction, etc. Again, you can route the output of such models to marketing platforms via Reverse ETL.\n\nAs you keep collecting data, Profiles continues to unify and send it for activation.\n\n[![Profiles lifecycle](https://www.rudderstack.com/docs/images/profiles/profiles-life-cycle.png)](https://www.rudderstack.com/docs/images/profiles/profiles-life-cycle.png)\n\nIn this way, you can make informed decisions, run personalized marketing campaigns, and enhance the overall customer experience across multiple platforms.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "How Profiles Works | RudderStack Docs",
  "description": "Know how Profiles collect, unify, and activate your data to enhance the overall customer experience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/eloqua/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Eloqua\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Eloqua | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Eloqua destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-audience/setup-guide/",
  "markdown": "# Set up Bing Ads Audience\n\nSend your event data from RudderStack to Bing Ads Audience.\n\n* * *\n\n*     3 minute read  \n    \n\nRudderStack supports sending event data to Bing Ads Audience via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| Connection Mode | Web | Mobile | Server |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Bing Ads Audience, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Bing Ads Audience**.\n2.  Assign a name to the destination and click **Continue**.\n\n## Connection settings\n\nTo successfully configure Bing Ads Audience as a destination, you need to configure the following settings:\n\n*   **Account Settings**: Click **Create Account** > **Connect with Bing Ads Audience** and give RudderStack the required permissions to access to your Bing Ads account.\n*   **Customer Account ID**: Enter your Bing Ads account identifier.\n*   **Customer ID**: Enter your Bing Ads customer ID.\n*   **Audience ID**: Enter your Bing Ads audience ID for which you want to sync the data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> See [FAQ](#faq) for more information on obtaining these credentials.\n\n*   **Hash Email**: This setting is on by default and hash-encrypts the email present in your event.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Turn off this setting if you are already sending a hashed email in your event.\n\n*   **OneTrust Cookie Categories**: Use this setting to associate [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Bing Ads.\n\n## `audienceList` event structure\n\nYou can add or remove users from an audience by sending the `audienceList` call to Bing Ads.\n\n```\n{\n  \"anonymousId\": \"2234232hK4el9Z\",\n  \"channel\": \"sources\",\n  \"properties\": {\n    \"listData\": {\n      \"add\": [{\n          \"email\": \"alex@example.com\"\n        },\n        {\n          \"email\": \"julie@example.com\"\n        },\n        {\n          \"email\": \"peter@example.com\"\n        },\n        {\n          \"email\": \"russell@example.com\"\n        },\n        {\n          \"email\": \"john@example.com\"\n        }\n      ],\n    }\n  },\n  \"type\": \"audienceList\",\n  \"userId\": \"1hKOmRA4el9Z\"\n}\n```\n\nRudderStack maps the following properties to Bing Ads’ properties:\n\n| RudderStack property | Data type | Bing Ads property |\n| --- | --- | --- |\n| `properties.listData.add[i].email`  <br>Required | String | `email` |\n| `properties.listData.remove[i].email`  <br>Required | String | `email` |\n\n## FAQ\n\n#### Where can I find my Bing Ads customer ID and customer account ID?\n\nTo get your Bing Ads customer ID and account ID, sign in to your Microsoft Advertising web app and click the **Campaigns** tab. The URL contains a `cid` key/value pair in the query string that contains the customer ID and an `aid` key/value pair that identifies your account ID.\n\nA sample URL is shown:\n\n```\nhttps://ui.ads.microsoft.com/campaign/Campaigns.m?cid=<CUSTOMER_ID>&aid=\n<ACCOUNT_ID>#/customer/<CUSTOMER_ID>/account/<ACCOUNT_ID>/campaign.\n```\n\n#### Where can I find the Bing Ads audience ID?\n\nTo get your Bing Ads audience, go to **Tools** > **Audiences**.\n\n[![Audiences option](https://www.rudderstack.com/docs/images/event-stream-destinations/audiences-option.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/audiences-option.webp)\n\nYou will see the list of audiences with their corresponding **Audience ID**.\n\n[![Audience ID](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-audience-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-audience-id.webp)\n\n#### How to create an audience in Bing Ads?\n\n1.  Go to **Tools** > **Audiences**.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-2.webp)\n\n2.  Click **Create** to create the new audience.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-3.webp)\n\n3.  Name the audience, select **Customer match list** as the audience type and click **Next**.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-4.webp)\n\n4.  Choose **hashed file**, download a specimen template and upload the same by clicking on **Browse**.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-5.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-5.webp)\n\n5.  Accept the terms and conditions, choose membership duration as **No expiration** and sharing field according to your access levels.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-6.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-6.webp)\n\n6.  Finally, click **Apply changes** to create the audience successfully.\n\n[![Create BingAds audience](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-7.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/bingads-7.webp)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set up Bing Ads Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Bing Ads Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/eloqua/setup-guide/",
  "markdown": "# Set Up Eloqua | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set Up Eloqua | RudderStack Docs",
  "description": "Send your event data from RudderStack to Eloqua.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/marketo-static-lists/",
  "markdown": "# Marketo Static Lists Destination | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Marketo Static Lists Destination | RudderStack Docs",
  "description": "Send your static lists data from RudderStack to Marketo.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/bing-ads-audience/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Bing Ads Audience\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Bing Ads Audience | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Bing Ads Audience destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/criteo-audience/",
  "markdown": "# Criteo Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Criteo Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Criteo Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/fb-custom-audience/",
  "markdown": "# Facebook Custom Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Facebook Custom Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Facebook Custom Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/criteo-audience/setup-criteo-audience/",
  "markdown": "# Set Up Criteo Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set Up Criteo Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Criteo Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/fb-custom-audience/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Facebook Custom Audience\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Facebook Custom Audience | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Facebook Custom Audience destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/marketo-static-lists/setup-guide/",
  "markdown": "# Setup Guide | RudderStack Docs\n\nSet up and configure Marketo Static Lists as a destination in RudderStack.\n\n* * *\n\n*     2 minute read  \n    \n\nThis guide will help you set up Marketo Static Lists as a destination in RudderStack. It also lists the configuration settings required to correctly send data from the supported sources to Marketo Static Lists.\n\n## Setup\n\nIn your [RudderStack dashboard](https://app.rudderstack.com/), add a source. Then, from the list of destinations, select **Marketo Static Lists**.\n\n### Connection settings\n\n| Setting | Description |\n| --- | --- |\n| Munchkin Account ID | Enter your [Munchkin account ID](#where-can-i-find-my-munchkin-account-id). |\n| Client ID | Enter your [Marketo client ID](#how-do-i-obtain-the-marketo-client-id-and-secret). |\n| Client Secret | Enter the client secret for the above ID. |\n| Static List ID | Enter your [Marketo static list ID](#where-can-i-find-the-marketo-static-list-id). RudderStack uses this ID to add or remove leads from the specific list. |\n\n## Next steps\n\n*   [Connect Reverse ETL source to Marketo Static Lists](https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/marketo-static-lists/connect-retl-source/)\n\n## FAQ\n\n#### Where can I find my Munchkin account ID?\n\n1.  Log in to your Marketo instance.\n2.  Go to **Admin** > **Integration** > **Munchkin**.\n\nYour Munchkin ID is listed on the main screen in the **Tracking Code** section:\n\n[![Marketo Munchkin ID](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-munchkin-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-munchkin-id.webp)\n\nSee the [Marketo documentation](https://nation.marketo.com/t5/knowledgebase/how-to-find-your-munchkin-id-for-a-marketo-instance/ta-p/248432) for more information on the Munchkin ID.\n\n#### How do I obtain the Marketo client ID and secret?\n\nTo set up the Marketo API service and obtain the client ID and secret associated with it, follow these steps:\n\n1.  Log in to your Marketo instance and click the **Admin** tab.\n2.  Select **LaunchPoint**.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-launchpoint.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-launchpoint.webp)\n\n3.  Here, you will see all the installed services used for connecting to Marketo.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-services.webp)\n\n4.  To create a new service, click **New** > **New Service**.\n5.  Enter the **Display Name**. From the **Service** dropdown, select **Custom**.\n6.  Under **Settings**, enter the **Description** and select the **API Only User**. Finally, click **CREATE**.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure the **API Only User** associated with the API service has the necessary permissions to create or update contacts and custom activities.\n\nOnce the setup is complete, you should have the client ID and client secret for the API service.\n\n[![](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-service-details.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-service-details.webp)\n\n#### Where can I find the Marketo static list ID?\n\n1.  Log in to your Marketo instance.\n2.  Go to the **Database** tab.\n3.  Create a new [static list](https://experienceleague.adobe.com/docs/marketo/using/product-docs/core-marketo-concepts/smart-lists-and-static-lists/static-lists/create-a-static-list.html?lang=en).\n4.  Open the static list. You can find the list ID in the resulting URL, as shown:\n\n[![Marketo static list ID](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-static-list-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/marketo-static-list-id.webp)\n\nFor example, if the static list URL is `https://engage-ab.marketo.com/?munchkinId=123-AXP-456#/classic/ST1234A1`, then the static list ID is `1234`.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Setup Guide | RudderStack Docs",
  "description": "Set up and configure Marketo Static Lists as a destination in RudderStack.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/criteo-audience/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Criteo Audience\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Criteo Audience | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Criteo Audience destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/marketo-static-lists/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL source to Marketo Static Lists\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL source to Marketo Static Lists | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Marketo Static Lists destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/fb-custom-audience/setup-fb-custom-audience/",
  "markdown": "# Set Up Facebook Custom Audience\n\nSend your event data from RudderStack to Facebook Custom Audience.\n\n* * *\n\n*     8 minute read  \n    \n\nRudderStack lets you send your customer events for creating custom audiences by leveraging the Facebook Marketing API.\n\nFind the open source transformer code for this destination in the [GitHub repository](https://github.com/rudderlabs/rudder-transformer/tree/master/src/v0/destinations/fb_custom_audience).\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The user information in your events may include email, phone number, gender, etc. For more information on the supported fields, refer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/audiences/guides/custom-audiences#hash).\n\n## Getting started\n\nRudderStack supports sending event data to Facebook Custom Audience via the following [connection modes](https://www.rudderstack.com/docs/destinations/rudderstack-connection-modes/):\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Facebook Custom Audience, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Facebook Custom Audience**.\n2.  Assign a name to your destination and click **Continue**.\n\n### Connection settings\n\nTo add Custom Audience as a destination in RudderStack, you will need to configure the following settings:\n\n*   **Access Token**: Enter the access token of your business application set up for accessing the Facebook Marketing API. For more information on obtaining this token, refer to the [FAQ](#where-can-i-find-the-user-access-token-for-the-application) section.\n*   **App Secret**: Enter your [app secret](https://developers.facebook.com/docs/facebook-login/security/#appsecret) from the basic app settings page of your [Facebook Developer account](https://developers.facebook.com/).\n*   **Audience Batch Size**: Specify the data size you want RudderStack to send to Facebook in a single event. For example, if you want to send a total 1000 user records to Facebook and set the batch size to 50, then RudderStack will send 20 events to Facebook with 50 user records in each event.\n*   **Schema Fields** Choose your schema fields (at least one) from the available options. **This is a mandatory field**. RudderStack expects the user events to consist of **every** schema field that has been chosen in the dashboard.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack ignores any user information which does not adhere to the schema fields specified in the dashboard settings.\n\n*   **Enable Hashing**: Enabled by default, this option lets RudderStack hash encode the user data irrespective of the schema type chosen in the RudderStack dashboard. Facebook expects the user data to be hash encoded using `SHA256`.\n*   **Is The Data Raw**: As RudderStack does not support combinational schema fields, this field is ignored if not enabled.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> It is highly recommended not to exceed the batch size of 100.\n\n*   **Disable Formatting**: Enable this option to **not** format the user data before sending it to Custom Audience. Facebook has fixed data formats for all the allowed schema fields. Refer to the [Explicit formatting feature](##explicit-formatting-feature) section for more information.\n*   **Type**: Specify the type of the custom audience.\n*   **Sub Type**: Specify the sub-type of the custom audience.\n*   **OneTrust consent categories**: Specify the category IDs to associate the [OneTrust](https://www.rudderstack.com/docs/data-governance/consent-management/onetrust/javascript/) cookie consent groups to Facebook. |\n\n#### Cloud SDK settings\n\n*   **Audience ID**: Enter the [custom audience ID](#where-can-i-find-the-custom-audience-id) to which the audiences should be added/removed.\n\n## `audiencelist` event structure\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Facebook Custom Audience destination supports only `audiencelist` calls.\n\nThe `audiencelist` event expects the `add` and `remove` arrays containing the user data objects. These arrays are wrapped inside the `listData` object. The custom audience must have edit permissions to let RudderStack add or remove users from it.\n\n*   **add**: User information that needs to be added to Custom Audience.\n*   **remove**: User information that needs to be deleted from Custom Audience.\n\n## Schema fields mapping\n\nThe following table details the mapping of the schema fields specified in the [RudderStack dashboard](https://app.rudderstack.com/) and the Facebook Marketing API.\n\n| **Dashboard Field Name** | **Marketing API Schema Field (RudderStack Supported Field Name)** | **Field Guidelines** |\n| --- | --- | --- |\n| `EMAIL` | `EMAIL` | Trim any leading or trailing whitespaces and convert all the characters to lower case. |\n| `PHONE` | `PHONE` | Remove symbols, letters, and any leading zeroes. The country code is needed as a prefix, if the `COUNTRY` field is not specified in the dashboard. |\n| `GENDER` | `GEN` | Use these values: `m` or `male` for male and `f` or `female` for female. |\n| `MADID` | `MADID` | Use lowercase and keep the hyphens. This information will not be hashed. |\n| `EXTERN_ID` | `EXTERN_ID` | This information will not be hashed. |\n| `DOB YEAR (YYYY)` | `DOBY` | Use the YYYY format from `1900` to the current year. |\n| `DOB MONTH (MM)` | `DOBM` | Use the MM format from `01` to `12`. |\n| `DOB DATE (DD)` | `DOBD` | Use the DD format from `01` to `31`. |\n| `LAST NAME` | `LN` | Use a-z only. Lower case only, no punctuation. Use special characters in the UTF-8 format. |\n| `FIRST NAME` | `FN` | Use a-z only. Lower case only, no punctuation. Use special characters in the UTF-8 format. |\n| `FIRST NAME INITIAL` | `FI` | Use a-z only. Lower case only. Use special characters in the UTF-8 format. |\n| `CITY` | `CT` | Use a-z only. Lower case only, with no punctuation, no special characters, and no whitespace. |\n| `US STATES` | `ST` | Use the 2-character ANSI abbreviation code in lower case. Normalize the states outside the US in lowercase, with no punctuation, no special characters, and no white space. |\n| `ZIP` | `ZIP` | Use lower case and no white space. For the US, use only the first 5 digits. For the UK, use the Area/District/Sector format. |\n| `COUNTRY` | `COUNTRY` | Use lower case, 2-letter ISO 3166-1 alpha-2 country codes. |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack modifies the schema names visible in the dashboard to ensure better readability. However, during the event call, the field names **must be exactly the same as** the schema names specified by Facebook Marketing API, as mentioned in the table above.\n\n## Explicit formatting feature\n\nIf the **Disable Formatting** option is enabled in the RudderStack dashboard, RudderStack will not format the user data in the format prescribed by the Facebook Marketing API. If it is disabled, RudderStack formats the schema fields input by the user as shown in the table below:\n\n| **Schema Field Name** | **Example Input** | **Formatted Output (Before Hashing)** |\n| --- | --- | --- |\n| `EMAIL` | `ABC@gmail.com` | `abc@gmail.com` |\n| `PHONE` | `0@96346895` | `96346895` |\n| `GEN` | `FEMALE` | `f` |\n| `DOBD` | `2` | `02` |\n| `DOBM` | `1` | `01` |\n| `LN & FN` | `Abc,@` | `abc@` |\n| `FI` | `Mr.` | `mr.` |\n| `CT` | `HN#` | `hn` |\n| `ST` | `? AL ?` | `al` |\n| `ZIP` | `11502 @bc` | `11502@bc` |\n| `COUNTRY` | `IN` | `in` |\n\nThe following code snippet shows an `audiencelist` event with the schema fields (`EMAIL` and `FIRST NAME`) specified in the RudderStack dashboard:\n\n```\n{\n  \"type\": \"audiencelist\",\n  \"properties\": {\n    \"listData\": {\n      \"add\": [{\n          \"EMAIL\": \"name1@abc.com\",\n          \"FN\": \"name1\"\n        },\n        {\n          \"EMAIL\": \"name2@abc.com\",\n          \"FN\": \"name2\"\n        },\n        {\n          \"EMAIL\": \"name3@abc.com\",\n          \"FN\": \"name3\"\n        }\n      ],\n      \"remove\": [{\n          \"EMAIL\": \"name4@abc.com\",\n          \"FN\": \"name4\"\n        },\n        {\n          \"EMAIL\": \"name5@abc.com\",\n          \"FN\": \"name5\"\n        }\n      ]\n    }\n  }\n}\n```\n\n## Facebook Custom Audience payload restrictions\n\n| **Payload Field** | **Transformed?** |\n| --- | --- |\n| Using only `add` | Yes |\n| Using only `remove` | Yes |\n| Using both `add` and `remove` | Yes |\n| Not using both `add` and `remove` | No  |\n\nThe following code snippet shows an `audiencelist` event containing the `add` array with the schema fields (`EMAIL` and `FIRST NAME`) specified in the RudderStack dashboard:\n\n```\n{\n  \"type\": \"audiencelist\",\n  \"properties\": {\n    \"listData\": {\n      \"add\": [{\n          \"EMAIL\": 'name1@abc.com',\n          \"FN\": 'name1'\n        },\n        {\n          \"EMAIL\": 'name2@abc.com',\n          \"FN\": 'name2'\n        }\n      ]\n    }\n  }\n}\n```\n\nSimilarly, you can use `remove` array in order to remove users from a particular custom audience without creating a session.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The event payload must include either `add` or `remove` . Otherwise, the user data won’t be transformed and sent to Custom Audience.\n\n## FAQ\n\n#### What are the prerequisites for creating an audience list?\n\nBefore creating a new audience list, make sure that:\n\n*   You are an [admin system user](https://en-gb.facebook.com/business/help/327596604689624?id=2190812977867143). To check, go to **Users** > **System users** in your [Facebook business](https://business.facebook.com/) account.\n\n[![Facebook Ads system user](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-system-user.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-system-user.webp)\n\n*   The ad account under which the audience list is created should be added as an asset for the system user, with manage permissions.\n*   The app for which you are [creating the access token](#where-can-i-find-the-user-access-token-for-the-application) should be added as an [asset of the system user](#how-do-i-add-an-app-as-a-system-user-asset-with-manage-permissions) with full control.\n\n#### How do I add an app as a system user asset with manage permissions?\n\n1.  Log in to your [Facebook Business Manager](https://business.facebook.com/) account.\n2.  Click **Business settings**.\n\n[![Business Settings](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-business-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-business-settings.webp)\n\n3.  Under **Users**, click **System users**.\n\n[![System users setting](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-system-users.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-system-users.webp)\n\n4.  Choose the system user from the opened list.\n5.  Click **Add Assets** for the above user.\n\n[![Add Assets option](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-add-assets.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-add-assets.webp)\n\n6.  Under **Select asset type**, click **Apps** and choose your app from the **Select assets** tab.\n\n[![Asset type](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-asset-type.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-asset-type.webp)\n\n7.  In the right-most **App** tab, enable the **Manage app** setting. Then, click **Save Changes**.\n\n[![Manage app setting](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-manage-app.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-manage-app.webp)\n\n#### How do I create a new audience list?\n\n1.  Log in to your [Facebook business](https://business.facebook.com/) account.\n2.  Click **All tools** in the left panel.\n\n[![Facebook custom audience creation](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-2.webp)\n\n3.  Hover over **Create Audience** and select **Custom Audience**.\n\n[![Facebook custom audience creation](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-3.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-3.webp)\n\n4.  Select **Customer List** and click **Next**.\n\n[![Facebook custom audience creation](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-4.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-4.webp)\n\n5.  Prepare your customer list by selecting and mapping the identifiers. Make sure you have enough identifiers before uploading the list.\n\n[![Facebook custom audience creation](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-5.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-5.webp)\n\n6.  Upload the CSV file you want to use for your new custom audience. Under the **Does your list include a column for customer value?** setting, make sure to select **No, continue with a customer list that doesn’t include customer value**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can also download the file template CSV and upload it.\n\n[![Facebook custom audience add customer list](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-add-customer-list.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-add-customer-list.webp)\n\n7.  Finally, click **Import and create** to create the audience.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The custom audience you create should have [edit permissions](#how-do-i-check-if-the-custom-audience-has-edit-permissions). Otherwise, RudderStack will not be able to add or remove users from the list.\n\n#### How do I check if the custom audience has edit permissions?\n\nTo check if the audience has edit permissions enabled, go to the **Audiences** tab, select your custom audience, and check the **Actions** dropdown. You should see the **Edit** option as seen below:\n\n[![Customer audience edit permissions](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-edit-permissions.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-edit-permissions.webp)\n\n#### Where can I find the Custom Audience ID?\n\n1.  To get your Custom Audience ID, go to your Facebook Ads Manager account. On the left navigation bar, select **Audiences** and choose the Ad account you have created the custom audience for.\n\n[![Customer audience ID](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-id-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-id-1.webp)\n\n2.  Click **All Audience** and select the specific custom audience from the list.\n3.  Finally, click the **History** tab. Here, you will find the audience ID under the **Item Changed** column:\n\n[![Customer audience ID](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-id-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-id-2.webp)\n\n#### Where can I find the user Access Token for the application?\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> To generate the user access token for your application, you must first [add it as a system user asset](#how-do-i-add-an-app-as-a-system-user-asset-with-manage-permissions) with manage permissions.\n\nFollow these steps to generate a user access token required to use the Facebook Marketing API:\n\n1.  Under the system user, click the **Generate New Token** button and select the app from the dropdown.\n\n[![Generate new token](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-generate-new-token.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-generate-new-token.webp)\n\n[![Select app for the token](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-token-select-app.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-token-select-app.webp)\n\n2.  Choose the **Token expiration** time.\n\n[![Token settings](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-token-settings.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-token-settings.webp)\n\n3.  Under **Available permissions**, select `ads_read` and `ads_management`.\n\n[![Token permissions](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-available-permissions-1.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-available-permissions-1.webp)\n\n[![Token permissions](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-available-permissions-2.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/fb-custom-audience-available-permissions-2.webp)\n\n4.  Click the **Generate Token** button and copy the token credentials.\n\n#### Should I use `sessionIdAdd` or `sessionIdDelete` before adding/removing users in Custom Audience?\n\n`sessionIdAdd` and `sessionIdDelete` helps you track and use a particular session ID while adding or removing users. This is useful when you are sending data in chunks. If you do not include these fields, Facebook creates a session ID itself.\n\nRefer to the [Facebook documentation](https://developers.facebook.com/docs/marketing-api/audiences/guides/custom-audiences#step-2--specify-a-list-of-users) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set Up Facebook Custom Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Facebook Custom Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/google-adwords-remarketing-list/",
  "markdown": "# Google Adwords Remarketing Lists (Customer Match)\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Google Adwords Remarketing Lists (Customer Match) | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Adwords Remarketing Lists.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/google-adwords-remarketing-list/setup-guide/",
  "markdown": "# Set Up Google Adwords Remarketing Lists (Customer Match)\n\nSend your event data from RudderStack to Google Adwords Remarketing Lists.\n\n* * *\n\n*     7 minute read  \n    \n\nBefore configuring Google Adwords Remarketing Lists as a destination in RudderStack, verify if the source platform is supported by referring to the table below:\n\n| **Connection Mode** | **Web** | **Mobile** | **Server** |\n| --- | --- | --- | --- |\n| **Device mode** | \\-  | \\-  | \\-  |\n| **Cloud mode** | \\-  | \\-  | **Supported** |\n\nOnce you have confirmed that the source platform supports sending events to Google Adwords Remarketing Lists, follow these steps:\n\n1.  From your [RudderStack dashboard](https://app.rudderstack.com/), add the source. Then, from the list of destinations, select **Google Adwords Remarketing Lists (Customer Match)**.\n2.  Assign a name to your destination and click **Next**.\n\n## Connection settings\n\nTo successfully configure Google Adwords Remarketing Lists as a destination, first authenticate your account by following the below steps:\n\n1.  Click **Create Account** in the **Account Settings** section.\n2.  From the modal, click the **Sign in with Google** button.\n3.  Choose the required account and grant RudderStack the required permissions.\n4.  Click **Save** to use the specified account:\n\n[![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/account-connect-normal.webp)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you have authenticated multiple accounts, click **Edit Credentials** to select or delete any other authenticated account:\n> \n> ![Google Account authentication](https://www.rudderstack.com/docs/images/event-stream-destinations/edit-account-creds.webp)\n> \n> RudderStack **gives an error** if you try to delete an account used by any other connection set up for the same destination.\n\nNext, configure the following settings:\n\n*   **Customer ID**: Enter the ID associated with your Google Ads account. You can find it by clicking on the **Help** option in your dashboard. For more information on obtaining the customer ID, refer to the [Google Ads Help Center](https://support.google.com/google-ads/answer/1704344?hl=en) page.\n    \n*   **Subaccount**: Enable this setting if you are using a Google Ads subaccount. For more information on subaccounts, refer to the [Google Ads Help Center](https://support.google.com/campaignmanager/answer/2829448?hl=en#zippy=%2Cwhat-are-subaccounts) page.\n    \n    *   **Login-customer-ID**: If **Subaccount** is toggled on, enter the customer ID of the parent account associated with the subaccount. This field is required only when you want to send data to a customer list of a subaccount.\n*   **List type**: Select the type of list you want to create. You can create three types of list via this setting:\n    \n    *   **General**: You can send email, phone number, and address information in this list. RudderStack will hash this data and send it to Google Adwords Remarketing Lists depending on the **Hash Required** setting (enabled by default).\n    *   **UserId**: You can send third party user IDs in this list.\n    *   **Mobile Device ID**: You can send mobile device IDs in this list.\n*   **Specify consent for uploaded users for using their data in Google Advertising Purpose**: Select the required consent setting from the dropdown.\n    \n*   **Specify consent for uploaded users regarding Ads Personalization**: Select the required consent setting from the dropdown.\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack provides four options for the above consent settings - **Unspecified**, **Unknown**, **Granted**, and **Denied**.\n> \n> Also, note that:\n> \n> *   If you do not set these fields, RudderStack sets their value to **Unspecified** by default.\n> *   If you set these fields to any other values except the above-mentioned ones, RudderStack automatically sets their value to **Unknown**.\n\n*   **Hash Required**: This setting is enabled by default and hashes the `email`, `phone`, `firstName`, and `lastName` fields in the SHA-256 format.\n*   **Schema Fields**: If you have selected **General** as the list type, you will need to choose your schema fields (at least one) from the available options. The options are `hashedEmail`, `hashedPhoneNumber`, and `addressInfo`.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack expects the user events to consist of all schema fields listed here.\n\n*   **List ID**: To get your Google Ads list ID, go to your Google Ads account and navigate to **Tools & settings** > **Audience Manager**.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> This setting is only visible when connecting the destination to a non-Reverse ETL source. You can specify whether to [create or use an existing audience](https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/google-adwords-remarketing-list/connect-retl-source/#set-up-the-connection) while setting up the connection with a Reverse ETL source.\n\n## Google Ads permissions\n\nThis integration relies on the authorizing Google Ads user’s [underlying permissions](https://support.google.com/google-ads/answer/9978556) and must be at least **Standard** or **Admin**.\n\nIf you authorize the integration without the **Standard** or **Admin** permissions, the API calls will fail and a “RudderStack Admin” user will disable the integration. If you encounter an entry in your [audit logs](https://www.rudderstack.com/docs/dashboard-guides/audit-logs/) from a `Rudder Admin/admin@rudderstack.com` user, it means that RudderStack disabled the integration on account of insufficient user permissions.\n\nTo avoid this, ensure that the authorizing user has the **Standard** permissions, at minimum.\n\n## `audiencelist` event structure\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   The Google Adwords Remarketing Lists destination supports only `audiencelist` calls. You can send up to 100000 user records in one call.\n> *   RudderStack supports both additions and deletions to a user list.\n\nThe following code snippet shows a sample `audienceList` call:\n\n```\n{\n  \"userId\": \"user1\",\n  \"anonymousId\": \"anon-id-new\",\n  \"event\": \"event1\",\n  \"type\": \"audiencelist\",\n  \"properties\": {\n    \"listData\": {\n      \"add\": [{\n          \"email\": \"alex@example.com\",\n          \"phone\": \"1234567890\",\n          \"firstName\": \"Alex\",\n          \"lastName\": \"Keener\",\n          \"country\": \"USA\",\n          \"postalCode\": \"90001\"\n        },\n        {\n          \"email\": \"emily@example.com\",\n          \"phone\": \"8015550101\",\n          \"firstName\": \"Emily\",\n          \"lastName\": \"Wallace\",\n          \"country\": \"USA\",\n          \"postalCode\": \"90009\"\n        }\n      ],\n      \"remove\": [{\n        \"email\": \"john@example.com\",\n        \"phone\": \"8015550102\",\n        \"firstName\": \"John\",\n        \"lastName\": \"Doe\",\n        \"country\": \"USA\",\n        \"postalCode\": \"90002\"\n      }]\n    },\n    \"enablePartialFailure\": true\n  },\n  \"context\": {\n    \"ip\": \"14.5.67.21\",\n    \"library\": {\n      \"name\": \"http\"\n    }\n  },\n  \"timestamp\": \"2020-02-02T00:23:09.544Z\"\n}\n```\n\n### Supported schema mapping\n\nThe following table details the mapping of the schema fields specified in the RudderStack dashboard and Google Adwords Remarketing Lists, along with the relevant guidelines:\n\n| RudderStack schema field | Google Adwords Remarketing Lists field | Guidelines |\n| --- | --- | --- |\n| `email` | `hashedEmail` | Include a domain name for all email addresses. Remove any spaces in between the addresses. |\n| `phone` | `hashedPhone` | Format the phone number using the [E.164 format](https://en.wikipedia.org/wiki/E.164). Include the country code as well. |\n| `firstName` | `hashedFirstName` | Do not include any prefixes (e.g., `Mrs.`). |\n| `lastName` | `hashedLastName` | Do not include any suffixes (e.g., `Sr.`). |\n| `country` | `countryCode` | Use the ISO two-letter/three-letter [country codes](https://developers.google.com/google-ads/api/reference/data/codes-formats#expandable-16). Include the country code even if all your users belong to the same country. |\n| `postalCode` | `postalCode` | Both the US and international zip and postal codes are allowed. For the US, 5 digit codes followed by 4 digit extensions are also allowed. For the rest of the countries, do not include the postal code extensions. |\n| `mobileId` | `mobileId` | Only include the mobile device ID. No other data types are accepted. |\n| `thirdPartyUserId` | `thirdPartyUserID` | Do not include any numbers. Only a string is accepted. |\n\n## FAQ\n\n#### Where can I find my Google Adwords customer ID?\n\nTo get the customer ID associated with your Google Ads account, click the **Help** option in your Google Ads dashboard. You will find the customer ID in the resulting pop-up:\n\n[![Google Adwords Remarketing Lists (Customer Match) connection settings](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/google-adwords-remarketing-lists-customer-id.webp)\n\n#### Can I set up the Enhanced Conversions and Remarketing Lists destinations using the same Google Ads account?\n\nYes, you can. Both the integrations are the sub-features of Google Ads. Hence, you can use the same Google Ads account to configure both the destinations in RudderStack.\n\n#### How do I create a Google Ads customer list?\n\nTo create a customer list in Google Ads, follow these steps:\n\n1.  Open your Google Ads account.\n2.  Go to **Tools and settings**.\n3.  Under **Shared Library**, go to **Audience Manager**.\n4.  Click the + button and select **Customer list**.\n    *   In **Segment name**, assign a name to the list.\n    *   From the dropdown, select the list type of data to upload.\n    *   Upload the CSV containing the user data. You can also download the template and upload the data.\n    *   Finally, click **UPLOAD AND CREATE**.\n\n#### What are the account permissions required for this integration?\n\nFor the integration to be successful, make sure the customer account used for OAuth verification adheres to Google’s [Customer Match policy](https://support.google.com/google-ads/answer/6299717) and has **Standard** or higher (**Administrative**) access level permissions. For more information on the access level permissions, refer to this [Google Ads support page](https://support.google.com/google-ads/answer/9978556?visit_id=637611563637058259-4176462731&rd=1).\n\nTo set the access level, follow these steps:\n\n1.  Sign into to your Google Ads account and go to **TOOLS AND SETTINGS** > **Access and security**:\n\n[![Access and Security option in Google Ads dashboard](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-access-security.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-access-security.webp)\n\n2.  Enter the email address of the account and from the list of permissions, select **Standard** or **Administrative**. Then, click **SEND INVITATION**:\n\n[![Specifying access levels](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-specify-access-level.webp)](https://www.rudderstack.com/docs/images/event-stream-destinations/gads-specify-access-level.webp)\n\nThe account will have the access level permissions once they accept the invitation.\n\n#### I am getting a 400 Bad Request error message. What should I do?\n\nIf you get a 400 Bad Request error while configuring the destination, make sure your customer account is allow-listed and configured to have **Standard** or **Administrative** access levels in Google Ads. Refer to the above [FAQ](#what-are-the-account-permissions-required-for-this-integration) for steps on setting the access level permissions for the account.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Set Up Google Adwords Remarketing Lists (Customer Match) | RudderStack Docs",
  "description": "Send your event data from RudderStack to Google Adwords Remarketing Lists.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/google-adwords-remarketing-list/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to Google Ads Remarketing Lists (Customer List)\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to Google Ads Remarketing Lists (Customer List) | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your Google Ads Remarketing Lists destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/launchdarkly-segments/",
  "markdown": "# LaunchDarkly Segments | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "LaunchDarkly Segments | RudderStack Docs",
  "description": "Send your event data from RudderStack to LaunchDarkly Segments.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/launchdarkly-segments/connect-retl-source/",
  "markdown": "# Connect a Reverse ETL Source to LaunchDarkly Segments\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Connect a Reverse ETL Source to LaunchDarkly Segments | RudderStack Docs",
  "description": "Configure a Reverse ETL source with your LaunchDarkly Segments destination.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/get-started/",
  "markdown": "# Quickstart | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Quickstart | RudderStack Docs",
  "description": "Know the different ways to create a Profiles project.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/get-started/profile-builder/",
  "markdown": "# Profile Builder CLI | RudderStack Docs\n\nCreate a Profiles project using the Profile Builder (PB) tool.\n\n* * *\n\n*     10 minute read  \n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> While creating a Profiles project, you can choose either of the below:\n> \n> *   **Profile Builder (PB) CLI** which gives you the flexibility to create, develop, and debug your Profiles project using various commands in fine detail. You can explore and implement the exhaustive list of features and functionalities offered by Profiles.\n> *   **Profiles UI** which provides a step-by-step intuitive workflow in the RudderStack dashboard. You can configure your project, schedule its run, explore the outputs and the user profiles.\n\n**Profile Builder (PB)** is a command-line interface (CLI) tool that simplifies data transformation within your warehouse. It generates customer profiles by stitching data together from multiple sources.\n\nThis guide lists the detailed steps to install and use the Profile Builder (PB) tool to create, configure, and run a new project.\n\n## Prerequisites\n\nYou must have:\n\n*   [Python 3](https://www.python.org/downloads/) installed on your machine.\n*   Admin privileges on your machine.\n\n## Steps\n\nTo set up a project using the PB tool, follow these steps:\n\n### 1: Install PB\n\nInstall the Profile Builder tool by running the following command:\n\n```\npip3 install profiles-rudderstack\n```\n\nIf you have already installed PB, use the following command to update its version:\n\n```\npip3 install profiles-rudderstack -U\n```\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack recommends using a Python virtual environment to maintain an isolated and clean environment.\n> \n> ```\n> pipx install profiles-rudderstack\n> ```\n\nValidate Profile Builder’s version after install using:\n\nSee also: [Setup and installation FAQ](https://www.rudderstack.com/docs/profiles/faq/#setup-and-installation)\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> If you are an existing user, migrate your project to the new schema. See [Migrate your existing project](#migrate-your-existing-project) for more information.\n\n### 2: Create warehouse connection\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack supports **Snowflake**, **Redshift**, **BigQuery**, and **Databricks** warehouses for Profiles. You must grant certain [warehouse permissions](https://www.rudderstack.com/docs/profiles/permissions/) to let RudderStack read from schema having the source tables (for example, `tracks` and `identifies` tables generated via Event Stream sources), and write data in a new schema created for Profiles.\n\nCreate a warehouse connection to allow PB to access your data:\n\nThen, follow the prompts to enter details about your warehouse connection.\n\nA sample connection for a Snowflake account is as follows:\n\n```\nEnter Connection Name: test\nEnter target:  (default:dev):  # Press enter, leaving it to default\nEnter account: ina13147.us-east-1\nEnter warehouse: rudder_warehouse\nEnter dbname: your_rudderstack_db \nEnter schema: rs_profiles # A segregated schema for storing tables/views created by Profiles\nEnter user: profiles_test_user\nEnter password: <password>\nEnter role: profiles_role\nAppend to /Users/<user_name>/.pb/siteconfig.yaml? [y/N]\ny\n```\n\n*   **Connection Name**: Name of the connection in the project file.\n*   **Target**: Environment name, such as `dev`, `prod`, `test`, etc. You can specify any target name and create a separate connection for the same.\n*   **Account**: Name of your [Snowflake account](https://docs.snowflake.com/en/user-guide/admin-account-identifier.html). Based on your cloud platform and region, you might need to append `.aws`, `.gcp`, or `.azure` in your account name. See [Snowflake documentation](https://docs.snowflake.com/en/user-guide/admin-account-identifier#non-vps-account-locator-formats-by-cloud-platform-and-region) for more information.\n*   **Warehouse**: Name of the warehouse.\n*   **Database name**: Name of the database inside warehouse where model outputs will be written.\n*   **Schema**: Name of the schema inside database where you’ll store identity stitcher and entity features.\n*   **User**: Name of the user in data warehouse.\n*   **Password**: Password for the above user.\n*   **Role**: Name of the user role.\n\nRudderStack supports various user authentication mechanisms for Redshift:\n\n```\nEnter Connection Name: test\nEnter target:  (default:dev):  # Press enter, leaving it to default\nEnter dbname: your_rudderstack_db \nEnter schema: rs_profiles # A segregated schema for storing tables/views created by Profiles\nEnter user: profiles_test_user\nEnter sslmode: options - [disable require]: disable # Enter \"require\" in case your Redshift connection mandates sslmode. \nHow would you like to authenticate with the warehouse service? Please select your method by entering the corresponding number:\ny\n[1] Warehouse Credentials: Log in using your username and password.\n        Format: [Username, Password]\n[2] AWS Programmatic Credentials: Authenticate using one of the following AWS credentials methods:\n        a) Direct input of AWS Access Key ID, Secret Access Key, and an optional Session Token.\n                Format: [AWS Access Key ID, Secret Access Key, Session Token (Optional)]\n        b) AWS configuration profile stored on your system.\n                Format: [AWS Configuration Profile Name]\n        c) Use an AWS Secrets Manager ARN to securely retrieve credentials.\n                Format: [Secret ARN]\n```\n\n*   **Connection Name**: Name of the connection in the project file.\n*   **Target**: Environment name, such as `dev`, `prod`, `test`, etc. You can specify any target name and create a separate connection for the same.\n*   **Host**: Log in to AWS Console and go to **Clusters** to know about host.\n*   **Port**: Port number to connect to the warehouse.\n*   **Database name**: Name of the database inside warehouse where model outputs will be written.\n*   **Schema**: Name of the schema inside database where you’ll store identity stitcher and entity features.\n*   **User**: Name of the user in data warehouse.\n*   **Password**: Password for the above user.\n\n### Warehouse credentials\n\nIf you choose to use the warehouse credentials (option 1), enter the following details:\n\n```\nEnter host: warehouseabc.us-west-1.redshift.amazonaws.com\nEnter port: 5439\nEnter password: <password>\nEnter tunnel_info: Do you want to use SSH Tunnel to connect with the warehouse? (y/n): y\nEnter ssh user: user\nEnter ssh host: 1234\nEnter ssh port: 12345\nEnter ssh private key file path: /Users/alex/.ssh/id_ed25519.pub\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\n### AWS Programmatic Credentials\n\nIf you choose to use AWS Access Key ID, Secret Access Key, and an optional Session Token from AWS Programmatic Credentials (option 2a), enter the following details:\n\n**For Redshift Cluster**\n\n```\nWhich Redshift Service you want to connect with?\n        [c]Redshift Cluster\n        [s]Redshift Serverless\nc\nEnter Redshift Cluster Identifier: cluster-id\nEnter access_key_id: aid\nEnter secret_access_key: ***\nEnter session_token: If you are using temporary security credentials, please specify the session token, otherwise leave it empty.\nstoken\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\n**For Redshift Serverless**\n\n```\nWhich Redshift Service you want to connect with?\n        [c]Redshift Cluster\n        [s]Redshift Serverless\ns\nEnter Redshift Serverless Workgroup Name: wg-name\nEnter access_key_id: aid\nEnter secret_access_key: ***\nEnter session_token: If you are using temporary security credentials, please specify the session token, otherwise leave it empty.\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\nIf you choose to use AWS configuration profile stored on your system from AWS Programmatic Credentials (option 2b), enter the following details:\n\n**For Redshift Cluster**\n\n```\nWhich Redshift Service you want to connect with?\n        [c]Redshift Cluster\n        [s]Redshift Serverless\nc\nEnter Redshift Cluster Identifier: ci   \nEnter shared_profile: default\nEnter region: us-east-1\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\n**For Redshift Serverless**\n\n```\nWhich Redshift Service you want to connect with?\n        [c]Redshift Cluster\n        [s]Redshift Serverless\ns\nEnter Redshift Serverless Workgroup Name: serverless-wg\nEnter shared_profile: default\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\nIf you choose to use an AWS Secrets Manager ARN to securely retrieve credentials from AWS Programmatic Credentials (option 2c), enter the following details:\n\n**For Redshift Cluster**\n\n```\nWhich Redshift Service you want to connect with?\n        [c]Redshift Cluster\n        [s]Redshift Serverless\nc\nEnter Redshift Cluster Identifier: cluster-identifier\nEnter secrets_arn: ************************\nAppend to /Users/alex/.pb/siteconfig.yaml? [y/N] y\n```\n\nA sample connection for a Databricks account is as follows:\n\n```\nEnter Connection Name: test\nEnter target:  (default:dev):  # Press enter, leaving it to default\nEnter host: a1.8.azuredatabricks.net # The hostname or URL of your Databricks cluster\nEnter port: 443 # The port number used for establishing the connection. Usually it is 443 for https connections.\nEnter http_endpoint: /sql/1.0/warehouses/919uasdn92h # The path or specific endpoint you wish to connect to.\nEnter access_token: <password> # The access token created for authenticating the instance.\nEnter user: profiles_test_user # Username of your Databricks account.\nEnter schema: rs_profiles # A segregated schema for storing tables/views created by Profiles\nEnter catalog: your_rudderstack_db # The database or catalog having data that you’ll be accessing.\nAppend to /Users/<user_name>/.pb/siteconfig.yaml? [y/N]\ny\n```\n\n*   **Connection Name**: Name of the connection in the project file.\n*   **Target**: Environment name, such as `dev`, `prod`, `test`, etc. You can specify any target name and create a separate connection for the same.\n*   **Host**: Host name or URL of your Databricks cluster.\n*   **Port**: Port number for establishing the connection, usually `443` for `https` connections.\n*   **http\\_endpoint**: Path or specific endpoint you wish to connect to.\n*   **access\\_token**: Access token for authenticating the instance.\n*   **User**: Username of your Databricks account.\n*   **Schema**: Name of the schema to store your output tables/views.\n*   **Catalog**: Name of the database or catalog from where you want to access the data.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> RudderStack currently supports Databricks on Azure. To get the Databricks connection details:\n> \n> 1.  Log in to your Azure’s Databricks Web UI.\n> 2.  Click on **SQL Warehouses** on the left.\n> 3.  Select the warehouse to connect to.\n> 4.  Select the **Connection Details** tab.\n\nA sample connection for a BigQuery account is as follows:\n\n```\nEnter Connection Name: test\nEnter target:  (default:dev):  # Press enter, leaving it to default\nEnter credentials: json file path: # File path of your BQ JSON file, for example, /Users/alexm/Downloads/big.json. Entering an incorrect path will exit the program.\nEnter project_id: profiles121\nEnter schema: rs_profiles\nAppend to /Users/<user_name>/.pb/siteconfig.yaml? [y/N]\ny\n```\n\nThis creates a [site configuration file](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/) inside your home directory: `~/.pb/siteconfig.yaml`. If you don’t see the file, enable the **View hidden files** option.\n\n### 3: Create project\n\nRun the following command to create a sample project:\n\n```\npb init pb-project -o MyProfilesProject\n```\n\nThe above command creates a new project in the **MyProfilesProject** folder with the following structure:\n\n[![Project structure](https://www.rudderstack.com/docs/images/profiles/project-structure.webp)](https://www.rudderstack.com/docs/images/profiles/project-structure.webp)\n\nSee [Project structure](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/) for more information on the PB project files.\n\nNavigate to the `pb_project.yaml` file and set the value of `connection:` to the connection name as defined in the previous step.\n\n### 4: Change input sources\n\n*   Navigate to your project and open the `models/inputs.yaml` file. Here, you will see a list of tables/views along with their respective ID types.\n*   Replace the placeholder table names with the actual table names in the `table` field.\n\nSee [Project structure](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/#inputs) for more information on setting these values.\n\n### 5: Validate project\n\nNavigate to your project and validate your warehouse connection and [inputInputs refers to the input data sources used to create the material (output) tables in the warehouse.](https://www.rudderstack.com/docs/resources/glossary/#input) sources:\n\nIf there are no errors, proceed to the next step. In case of errors, check if your warehouse schemas and tables have the [required permissions](https://www.rudderstack.com/docs/profiles/permissions/).\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Currently, this command is not supported for BigQuery warehouse.\n\n### 6: Generate SQL files\n\nCompile the project:\n\nThis generates SQL files in the `output/` folder that you can run directly on the warehouse. In case of any compilation errors, you will see them on your screen and also in the `logs/logfile.log` file.\n\n### 7: Generate output tables\n\nRun the project and generate [material tables](https://www.rudderstack.com/docs/profiles/resources/glossary/#material-tables):\n\nThis command generates and runs the SQL files in the warehouse, creating the material tables.\n\n### 8: View generated tables\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The view `user_default_id_stitcher` will always point to the latest generated ID stitcher and `user_profile` to the latest feature table.\n\nYou can run the `pb show models` command to get the exact name and path of the generated ID stitcher/feature table. See [show](https://www.rudderstack.com/docs/profiles/cli-user-guide/commands/#show) command for more information.\n\nThen, execute the below query to view the generated tables in the warehouse:\n\n```\nselect * from <table_name> limit 10;\n```\n\nHere’s what the columns imply:\n\n![ID Stitcher Table](https://www.rudderstack.com/docs/images/profiles/idstitcher-table.webp)\n\n*   **user\\_main\\_id**: Rudder ID generated by Profile Builder. Think of a 1-to-many relationship, with one Rudder ID connected to different IDs belonging to same user such as User ID, Anonymous ID, Email, Phone number, etc.\n*   **other\\_id**: ID in input source tables that is stitched to a Rudder ID.\n*   **other\\_id\\_type**: Type of the other ID to be stitched (User ID, Anonymous ID, Email, etc).\n*   **valid\\_at**: Date at which the corresponding ID value occurred in the source tables. For example, the date at which a customer was first browsing anonymously, or when they logged into the CRM with their email ID, etc.\n\n![Feature Table](https://www.rudderstack.com/docs/images/profiles/feature-table.webp)\n\n*   **user\\_main\\_id**: Rudder ID generated by Profile Builder.\n*   **valid\\_at**: Date when the feature table entry was created for this record.\n*   **first\\_seen, last\\_seen, country, first\\_name, etc.** - All features for which values are computed.\n\n## See Also\n\n*   [Basic Profiles project](https://github.com/rudderlabs/rudderstack-profiles-basic-example): Get started with RudderStack Profiles by creating a basic project including the identity stitcher and feature table models.\n\n## Migrate your existing project\n\nTo migrate an existing PB project to the [schema version](https://www.rudderstack.com/docs/profiles/resources/glossary/#schema-versions) supported by your PB binary, navigate to your project’s folder. Then, run the following command to replace the contents of the existing folder with the new one:\n\n```\npb migrate auto --inplace\n```\n\nA confirmation message appears on screen indicating that the migration is complete. A sample message for a user migrating their project from version 25 to 44:\n\n```\n2023-10-17T17:48:33.104+0530\tINFO\tmigrate/migrate.go:161\t\nProject migrated from version 25 to version 44\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Profile Builder CLI | RudderStack Docs",
  "description": "Create a Profiles project using the Profile Builder (PB) tool.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/snapchat-custom-audience/",
  "markdown": "# Snapchat Custom Audience | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Snapchat Custom Audience | RudderStack Docs",
  "description": "Send your event data from RudderStack to Snapchat Custom Audience.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/destinations/reverse-etl-destinations/launchdarkly-segments/setup-guide/",
  "markdown": "# Set Up LaunchDarkly Segments | RudderStack Docs\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Set Up LaunchDarkly Segments | RudderStack Docs",
  "description": "Send your event data from RudderStack to LaunchDarkly Segments.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/get-started/quickstart-ui/",
  "markdown": "# Profiles UI | RudderStack Docs\n\nCreate your Profiles project from the RudderStack dashboard.\n\n* * *\n\n*     5 minute read  \n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> While creating a Profiles project, you can choose either of the below:\n> \n> *   **Profile Builder (PB) CLI** which gives you the flexibility to create, develop, and debug your Profiles project using various commands in fine detail. You can explore and implement the exhaustive list of features and functionalities offered by Profiles.\n> *   **Profiles UI** which provides a step-by-step intuitive workflow in the RudderStack dashboard. You can configure your project, schedule its run, explore the outputs and the user profiles.\n\nThis guide lists the detailed steps to create a Profiles project in the RudderStack dashboard.\n\n## Create Profiles project\n\n1.  Log in to the [RudderStack dashboard](https://app.rudderstack.com/) and go to **Unify** > **Profiles** option in the left sidebar.\n2.  Click **Create project**.\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/create-project.webp)](https://www.rudderstack.com/docs/images/profiles/create-project.webp)\n\n3.  Select **Basic Entity Setup** on the next screen.\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/basic-setup-profiles.webp)](https://www.rudderstack.com/docs/images/profiles/basic-setup-profiles.webp)\n\n4.  Enter a unique name and description for your Profiles project.\n5.  Select a data warehouse from the dropdown and the source(s) connected to the warehouse.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> RudderStack currently supports the [Snowflake](https://www.rudderstack.com/docs/destinations/warehouse-destinations/snowflake/), [Redshift](https://www.rudderstack.com/docs/destinations/warehouse-destinations/redshift/), [Databricks](https://www.rudderstack.com/docs/destinations/warehouse-destinations/delta-lake/), and [BigQuery](https://www.rudderstack.com/docs/destinations/warehouse-destinations/bigquery/) warehouses for creating a Profiles project.\n> \n> You must connect an [event stream source](https://www.rudderstack.com/docs/sources/event-streams/) to one of the above warehouses and sync data at least once so that they populate in the dropdown.\n> \n> For example, in the below image, the Node event stream source (_es src_) is connected to the Snowflake warehouse destination (_cohort sample_ ) containing the schema _SAMPLE\\_SHOPIFY\\_DATA_.\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/source.webp)](https://www.rudderstack.com/docs/images/profiles/source.webp)\n\n6.  Click **Add mapping** and provide values to map the existing ID types from the above-selected event stream source:\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> You can see some predefined mappings for the identifiers which comes from the [Profiles library project](https://github.com/rudderlabs/profiles-multieventstream-features/tree/main).\n> \n> Here, **Event** column represents the tables present in the warehouse, **Property** column represents the column name in that table, and **ID type** represents the type of identifier.\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/map-id.webp)](https://www.rudderstack.com/docs/images/profiles/map-id.webp)\n\n7.  Define features either by adding a custom feature or selecting a pre-defined feature as shown:\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/define-features.webp)](https://www.rudderstack.com/docs/images/profiles/define-features.webp)\n\n*   To add a custom feature, click **Add a custom feature** and enter the relevant feature details:\n\n[![Choose predefined template](https://www.rudderstack.com/docs/images/profiles/custom-feature.webp)](https://www.rudderstack.com/docs/images/profiles/custom-feature.webp)\n\n*   To use a pre-defined feature, select the required feature from the **Template features library**.\n\n8.  Select the [schedule type](https://www.rudderstack.com/docs/sources/reverse-etl/sync-schedule-settings/).\n9.  Enter the warehouse details where you want to store this Profiles project.\n10.  Finally, review all the provided details and click **Create Profiles project**.\n\n### Convert to a Git project\n\nOnce you set up a Profiles project in the dashboard, you can convert it to a configuration-based Git repository by [uploading it either to GitHub, GitLab, or Bitbucket](https://www.rudderstack.com/docs/profiles/example/packages/#supported-git-urls):\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> You cannot revert to your UI-based project after Git conversion. Once converted, all the project edits and updates can only be done via Git repository.\n\n1.  Navigate to the **Unify** > **Profiles** option in the left sidebar to view all your Profiles projects.\n2.  Click **Convert to Git** button next to the project you want to convert.\n3.  [Create a new Git repository](https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository).\n4.  Enter the [SSH URL of your Git repository](https://git-scm.com/book/en/v2/Git-on-the-Server-The-Protocols) to be used for your Profiles project and click **Continue**.\n5.  Copy the SSH public key and click **Add deploy key** which will take you to your git repository’s **Deploy keys** section. See deploy keys section in the [GitHub](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/managing-deploy-keys#set-up-deploy-keys), [GitLab](https://docs.gitlab.com/ee/user/project/deploy_keys/), or [Bitbucket](https://bitbucket.org/blog/deployment-keys) documentation for more information.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Make sure your Git repository has at least one commit for successful validation.\n\n7.  Click **Add deploy key**, add a **Title**, paste your SSH public key, and click **Add key**.\n8.  Click **Continue** to let RudderStack verify read access.\n9.  Click **Download project** to download the Profiles project you set up in the dashboard.\n10.  Commit the downloaded project to your Git repository.\n11.  Once the project is committed successfully, return to the dashboard and click **Convert Profiles project**.\n\n## Run project\n\nOnce created, you can run your Profiles project using either of the following ways:\n\n*   Clicking **Run** in the **History** tab of the project.\n*   Programmatically using the [Profiles API](https://www.rudderstack.com/docs/api/profiles-api/).\n\n## Download project\n\nTo download the Profiles project, click the arrow icon corresponding to your Profiles project and click **Download this project**:\n\n[![Activation API](https://www.rudderstack.com/docs/images/profiles/cohorts-view-ui.webp)](https://www.rudderstack.com/docs/images/profiles/cohorts-view-ui.webp)\n\nOnce downloaded, you can view the [project folder structure](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/), modify the files, or run various [commands](https://www.rudderstack.com/docs/profiles/cli-user-guide/commands/) to execute the desired use-cases.\n\n## Project details\n\nTo view the Profile project details, click the arrow icon corresponding to your Profiles project:\n\n| Option | Description |\n| --- | --- |\n| **Entities** | Lists the entities, cohorts, features, activations, etc. for your Profiles project. |\n| **History** | Displays the history of Profile runs. |\n| **Settings** | Displays your profile settings and lets you delete your Profiles project. You can edit the project by clicking the edit icon next to each section. |\n\n### Profile details\n\nYou can also view the details of a specific profile in your Profiles project:\n\n1.  In your Profiles project’s **Entities** tab, click **View** button across the entity for which you want to see the profile:\n    \n    [![Activation API](https://www.rudderstack.com/docs/images/profiles/entity_view.webp)](https://www.rudderstack.com/docs/images/profiles/entity_view.webp)\n    \n2.  Click **Profile Lookup** tab to search a profile record.\n    \n3.  Type an available unique identifier like `email`, `phone number`, `user id`, `anonymous id` etc. and click **Search user profile**.\n    \n    [![Activation API](https://www.rudderstack.com/docs/images/profiles/profiles-lookup.webp)](https://www.rudderstack.com/docs/images/profiles/profiles-lookup.webp)\n    \n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that:\n> \n> *   It can take a few minutes for the data preview to show up in your profile’s **History** tab.\n> *   If you keep getting a blank screen, it may be because you do not have sufficient access. Make sure you have a [Connections Admin](https://www.rudderstack.com/docs/dashboard-guides/user-management/#resource-roles) resource role with [access to PII](https://www.rudderstack.com/docs/dashboard-guides/data-management/#limiting-access-to-pii-related-features). In case the problem persists, contact [RudderStack support](mailto:support@rudderstack.com).\n\n## FAQ\n\n**When trying to fetch data for a lib project, then data/columns are shown as blank. What should I do?**\n\nYou’ll need to sync data from a source to a destination. If data is synced from the source you are using and not from some pre-existing tables in the destination, the missing column/data issues should not occur.\n\n**I am not able to see Unify tab on the web app though I have admin privileges. What should I do?**\n\nDisable any adblockers on your web browser.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Profiles UI | RudderStack Docs",
  "description": "Create your Profiles project from the RudderStack dashboard.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/core-concepts/feature-development/",
  "markdown": "# Feature Development | RudderStack Docs\n\nEnrich unified profiles with the required features/traits to drive targeted campaigns.\n\n* * *\n\n*     3 minute read  \n    \n\nOnce you have [performed identity stitching](https://www.rudderstack.com/docs/profiles/core-concepts/identity-stitching/#how-to-perform-identity-stitching) to map the individual entities to known identifiers, you can use its output to enhance the unified profiles with additional data points and features.\n\nYou can define the features/traits in your warehouse tables and further perform calculations over this data to devise meaningful outcomes, which can help marketing teams to run effective campaigns.\n\n## Define features\n\nYou can use `var_group` to define features. Each `var_group` can have multiple entity vars which can be considered as features for that entity. The Profiles project generates and runs SQL in the background and automatically adds the resulting features to a [feature view](https://www.rudderstack.com/docs/profiles/example/feature-views/).\n\nYou can produce a customer [feature view](https://www.rudderstack.com/docs/profiles/example/feature-views/) or a feature view for specific projects like personalization, recommendations, or analytics.\n\nYou can combine the features to create even more features. You can also use [custom SQL queries](https://www.rudderstack.com/docs/profiles/example/sql-model/) to enrich unified user profiles for advanced use cases.\n\nA sample `pb_project.yaml` file with a definition of a feature\\_view::\n\n```\n...\nentities:\n  - name: user\n    id_types:\n      - main_id\n      - user_id\n    feature_views:\n      using_ids:\n        - id: user_id\n```\n\nA sample configuration file to create `var_groups`:\n\n```\nvar_groups:\n  - name: user_vars\n    entity_key: user\n    vars:\n      - entity_var:\n          name: first_seen\n          select: min(timestamp::date)\n          from: inputs/rsTracks\n          is_feature: false\n      - entity_var:\n          name: last_seen\n          select: max(timestamp::date)\n          from: inputs/rsTracks\n          is_feature: false\n      - entity_var:\n          name: user_lifespan\n          select: '{{user.Var(\"last_seen\")}} - {{user.Var(\"first_seen\")}}'\n          description: Life Time Value of a customer\n      - entity_var:\n          name: days_active\n          select: count(distinct timestamp::date)\n          from: inputs/rsTracks\n          description: No. of days a customer was active\n# ID stitcher\nmodels:\n  - name: domain_profile_id_stitcher\n    model_type: id_stitcher\n    model_spec:\n      validity_time: 24h # 1 day\n      entity_key: user\n      materialization:\n        run_type: incremental\n      edge_sources:\n        - from: inputs/rsIdentifies\n        - from: inputs/rsTracks\n```\n\n## Benefits\n\n*   You can use the output of the identity graph to define or compute features based on given ID types. Feature views creates a view which will have all or a specified set of features on that entity from across the project based on the identifier column provided.\n*   As the number of features/traits increases, Profiles makes the maintenance process much easier by using a configuration file (as opposed to large and complex SQL queries).\n*   Profiles generates highly performant SQL to build feature views, which helps mitigate computing costs and engineering resources when the data sets become large, dependencies become complex, and features require data from multiple sources.\n\n### Use-cases\n\n*   Create analytics queries like demographic views, user activity views, etc.\n*   Send data using a [Reverse ETL](https://www.rudderstack.com/docs/sources/reverse-etl/) pipeline to various cloud destinations.\n*   Use RudderStack Audiences to send customer profiles to marketing tools (available for beta customers).\n*   Define traits/features using `entity_vars` and ML models and unify them using the Feature Views model.\n\n#### See also\n\n*   [Sample feature views project](https://www.rudderstack.com/docs/profiles/example/feature-views/)\n*   [Sample SQL model project](https://www.rudderstack.com/docs/profiles/example/sql-model/)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Feature Development | RudderStack Docs",
  "description": "Enrich unified profiles with the required features/traits to drive targeted campaigns.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/core-concepts/data-modeling/",
  "markdown": "# Data Modeling | RudderStack Docs\n\nModel your unorganized and scattered warehouse data using RudderStack’s Profiles.\n\n* * *\n\n*     3 minute read  \n    \n\nProfiles models your organizational data by analyzing all the data in your warehouse to create unified customer profiles and enrich them with features to help you scale your business efficiently and swiftly.\n\nWhen you run the Profiles project, it creates an identity graph and feature views as outputs. You can augment the graph and create new user features by writing simple definitions in a configuration file or via SQL models.\n\n[![Profiles data modeling](https://www.rudderstack.com/docs/images/profiles/data-modeling.webp)](https://www.rudderstack.com/docs/images/profiles/data-modeling.webp)\n\n## Highlights\n\n*   Flexibility to use event stream, ETL, or any external tools as input sources.\n*   Support to define various entities like user, product, organization, etc.\n*   Intelligent merging of entities with different identifiers, like stitching Salesforce IDs.\n*   Ease of creating features/traits for any entity and using them to deliver personalization.\n*   Support to create core customer segments and activate them in downstream systems.\n*   Deal with advanced use-case scenarios using entity\\_vars/ML models.\n\n## Use varied input sources\n\nRudderStack Profiles gives you the flexibility of using a variety of input sources. These sources are essentially the tables or views which you can create using:\n\n*   [Event Stream](https://www.rudderstack.com/docs/sources/event-streams/) (loaded from event data)\n*   ETL extract (loaded from [Cloud Extract](https://www.rudderstack.com/docs/sources/extract/) (loaded from event data))\n*   Existing tables in the warehouse (generated by external tools like DBT).\n\n## Define entities\n\nEntities refer to an object for which you can create a profile. RudderStack allows you to use the desired object as an entity. For example, user, customer, product, or any other object that requires profiling.\n\nYou can define the entities in `pb_project.yaml` file and use them declaratively while describing the columns of your input sources.\n\n## Unify entities\n\nOnce you define the entities, you can resolve different identities for an entity using the process of [identity stitching](https://www.rudderstack.com/docs/profiles/core-concepts/identity-stitching/). It matches the different identifiers across multiple devices, digital touchpoints, and other data (like offline point-of-sale interactions) to build a comprehensive identity graph. The identity graph includes nodes (identifiers) and their relationships (edges), and it is generated as a transparent table in the warehouse.\n\nFor example, you can stitch Salesforce IDs or other ID types.\n\n## Enrich with features\n\nOnce you map all the available identifiers to an individual user or entity, it is easier to collect their traits and compute the user features you want in your customer 360 table.\n\nUsing the identity graph as a map, the Profiles **entity var** models let you define or perform calculations over the customer data in your warehouse. Each `var` materialises as a column in the `entity_var` table and represents a distinct feature. In addition, ML models can also use the identify graph as well as other entity vars, to create new features. Finally, **feature view** model lets you unify entity vars as well as ML faetures into a single view.\n\nYou don’t need any other tool or deep technical/SQL expertise to create these features. Trait definition is in a single unified framework and there is no need to move data across silos.\n\nTo implement advanced use cases, you can use [custom SQL queries](https://www.rudderstack.com/docs/profiles/example/sql-model/) to define user features.\n\n## Define cohorts\n\nUsing cohorts, you can define core customer segments in the warehouse via a simple YAML config and the entire business can use them as a single source of truth. It is a subset of instances of an entity meeting a specified set of characteristics, behaviours, or attributes. For example, if you have user as an entity, you can define cohorts such as known users, new users, or North American users, etc.\n\nBy leveraging cohorts, you can target specific customer segments by enabling targeted campaigns and analysis. See [Cohorts](https://www.rudderstack.com/docs/sources/event-streams/cloud-apps/auth0/) for more information.\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Data Modeling | RudderStack Docs",
  "description": "Model your unorganized and scattered warehouse data using RudderStack's Profiles.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/get-started/import-from-git/",
  "markdown": "# Import Profiles Project from Git\n\nPrivacy Overview\n\nThis site uses cookies to improve your experience while you navigate through the website. Out of these cookies, the cookies that are categorized as necessary are stored on your browser as they are as essential for the working of basic functionalities of the website. We also use third-party cookies that help us analyze and understand how you use this website. These cookies will be stored in your browser only with your consent. You also have the option to opt-out of these cookies. But opting out of some of these cookies may have an effect on your browsing experience.\n\nNecessary cookies are absolutely essential for the website to function properly. This category only includes cookies that ensures basic functionalities and security features of the website. These cookies do not store any personal information.",
  "title": "Import Profiles Project from Git | RudderStack Docs",
  "description": "Import an existing Profiles project from the Git repository in RudderStack dashboard.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/permissions/",
  "markdown": "# Warehouse Permissions | RudderStack Docs\n\nGrant RudderStack the required permissions on your data warehouse.\n\n* * *\n\n*     7 minute read  \n    \n\nRudderStack supports **Snowflake**, **Redshift**, **Databricks**, and **BigQuery** for creating unified user profiles.\n\nTo read and write data to the warehouse, RudderStack requires specific warehouse permissions as explained in the following sections.\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> Keeping separate schemas for projects running via CLI and web is recommended. This way projects run from the CLI will never risk overwriting your production data.\n\n## Snowflake\n\nSnowflake uses a combination of DAC and RBAC models for [access control](https://docs.snowflake.com/en/user-guide/security-access-control-overview.html). However, RudderStack chooses an RBAC-based access control mechanism as multiple users can launch the [Profile Builder CLI](https://www.rudderstack.com/docs/profiles/get-started/profile-builder/).\n\nAlso, it is not ideal to tie the result of an individual user run with that user. Hence, it is recommended to create a generic role (for example, `PROFILES_ROLE`) with the following privileges:\n\n*   Read access to all the inputs to the model (can be shared in case of multiple schemas/tables).\n*   Write access to the schemas and common tables as the PB project creates material (output) tables.\n\nIf you want to access any material created from the project run, the role (`PROFILES_ROLE`) must also have read access to all of those schemas.\n\nBelow are some sample commands which grant the required privileges to the role (`PROFILES_ROLE`) in a Snowflake warehouse:\n\n```\n-- Create role\nCREATE ROLE PROFILES_ROLE;\nSHOW ROLES; -- To validate\n```\n\n```\n-- Create user\nCREATE USER PROFILES_TEST_USER PASSWORD='<StrongPassword>' DEFAULT_ROLE='PROFILES_ROLE';\nSHOW USERS; -- To validate\n```\n\n```\n-- Grant role to user and database\nGRANT ROLE PROFILES_ROLE TO USER PROFILES_TEST_USER;\nGRANT USAGE ON DATABASE YOUR_RUDDERSTACK_DB TO ROLE PROFILES_ROLE;\n```\n\n```\n-- Create separate schema for Profiles and grant privileges to role\nCREATE SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES;\nGRANT ALL PRIVILEGES ON SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES TO ROLE PROFILES_ROLE;\nGRANT USAGE ON WAREHOUSE RUDDER_WAREHOUSE TO ROLE PROFILES_ROLE;\nGRANT USAGE ON SCHEMA YOUR_RUDDERSTACK_DB.EVENTSSCHEMA TO ROLE PROFILES_ROLE;\n```\n\nFor accessing input sources, you can individually grant select on tables/views, or give blanket grant to all in a schema.\n\n```\n-- Assuming we want read access to tables/views in schema EVENTSSCHEMA\nGRANT SELECT ON ALL TABLES IN SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES TO PROFILES_ROLE;\nGRANT SELECT ON FUTURE TABLES IN SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES TO PROFILES_ROLE;\nGRANT SELECT ON ALL VIEWS IN SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES TO PROFILES_ROLE;\nGRANT SELECT ON FUTURE VIEWS IN SCHEMA YOUR_RUDDERSTACK_DB.RS_PROFILES TO PROFILES_ROLE;\n```\n\n```\n-- Assuming we want read access to tracks and identifies tables in schema EVENTSSCHEMA\nGRANT SELECT ON TABLE YOUR_RUDDERSTACK_DB.RS_PROFILES.TRACKS TO PROFILES_ROLE;\nGRANT SELECT ON TABLE YOUR_RUDDERSTACK_DB.RS_PROFILES.IDENTIFIES TO PROFILES_ROLE;\n```\n\n## Redshift\n\nSuppose the inputs/edge sources are in a single schema `website_eventstream` and the name of the newly created Profiles user is `rudderstack_admin`. In this case, the requirements are as follows:\n\n*   A separate schema `rs_profiles` (to store all the common and output tables).\n*   The `rudderstack_admin` user should have all the privileges on the above schema and the associated tables.\n*   The `rudderstack_admin` user should have `USAGE` privilege on schemas that have the edge sources and input tables (`website_eventstream`) and read (`SELECT`) privileges on specific tables as well. This privilege can extend to the migration schema and other schemas from where data from warehouses comes in.\n*   The `rudderstack_admin` user should have privileges to use `plpythonu` to create some UDFs.\n\nThe sample commands are as follows:\n\n```\nCREATE USER rudderstack_admin WITH PASSWORD '<strong_unique_password>';\nCREATE SCHEMA rs_profiles;\nGRANT ALL ON SCHEMA \"rs_profiles\" TO rudderstack_admin;\nGRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA \"rs_profiles\" TO rudderstack_admin;\nGRANT USAGE ON SCHEMA \"website_eventstream\" TO rudderstack_admin;\nGRANT USAGE ON LANGUAGE plpythonu TO rudderstack_admin;\n```\n\n```\nGRANT SELECT ON ALL TABLES IN SCHEMA \"website_eventstream\" TO rudderstack_admin;\n```\n\nTo give access to only specific input tables/views referred in your Profiles project, use the below command:\n\n```\nGRANT SELECT ON TABLE \"<YOUR_SCHEMA>\".\"<YOUR_TABLE>\" TO rudderstack_admin;\n```\n\n### Supported inputs\n\nRudderStack supports the following input types for Redshift warehouse/serverless:\n\n*   Redshift cluster with DC2 type nodes with following types as inputs:\n    *   Redshift internal tables\n    *   External schema and tables only for inputs (not supported as output)\n    *   CSV files stored on S3 as inputs\n*   Redshift cluster with RA3 type nodes with following types as inputs:\n    *   Redshift internal tables\n    *   External schema and tables only for inputs (not supported as output)\n    *   CSV files stored on S3 as inputs\n    *   Cross DB input tables\n*   Redshift serverless with following types as inputs:\n    *   Redshift internal tables\n    *   External schema and tables (not supported as output)\n    *   CSV files stored on S3 as inputs\n    *   Cross DB input tables RudderStack also supports various authentication mechanisms to authenticate the user running the Profiles project. Refer [Redshift warehouse connection](https://www.rudderstack.com/docs/profiles/get-started/profile-builder/#2-create-warehouse-connection) for more information.\n\n## Databricks\n\n1.  Open the Databricks UI.\n2.  Create a new user.\n3.  Reuse an existing catalog or create a new one by clicking **Create Catalog**.\n4.  Grant `USE SCHEMA` privilege on the catalog.\n5.  Create a separate schema to write objects created by RudderStack Profiles.\n6.  Grant all privileges on this schema.\n7.  Grant privileges to access relevant schemas for the input tables. For example, if an input schema is in a schema named `website_eventstream`, then you can run the following commands to assign a blanket grant to all schemas or only specific tables/views referred in your Profiles project:\n\n```\nCREATE USER rudderstack_admin WITH PASSWORD <strong_unique_password>;\nGRANT USE SCHEMA ON CATALOG <catalog name> TO rudderstack_admin;\nCREATE SCHEMA RS_PROFILES;\nGRANT ALL PRIVILEGES ON SCHEMA RS_PROFILES TO rudderstack_admin;\nGRANT SELECT ON SCHEMA website_eventstream TO rudderstack_admin;\n```\n\n```\nGRANT SELECT ON ALL TABLES IN SCHEMA \"website_eventstream\" TO rudderstack_admin;\n```\n\nTo give access to only specific input tables/views referred in your Profiles project, use the below command:\n\n```\nGRANT SELECT ON TABLE public.input_table TO rudderstack_admin; \n```\n\n## BigQuery\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> For BigQuery, RudderStack recommends you to use a view instead of table for streaming data sets.\n\nYou must first assign the `BigQuery Job User` role to your service account. To do so:\n\n1.  Open the [BigQuery UI](https://console.cloud.google.com/) (Google Cloud Console).\n2.  Select **IAM & Admin** > **IAM** from the left sidebar.\n3.  Click **GRANT ACCESS** to grant permissions to your service account.\n4.  Enter your service account email in the **New principals** field.\n5.  In the **Assign roles** section, select `BigQuery Job User` role from the role list.\n6.  Click **Save**.\n\nAlternatively, you can add the following **IAM Policy Binding**:\n\n```\n{\n  \"bindings\": [\n    {\n      \"role\": \"roles/bigquery.jobUser\",\n      \"members\": [\n        \"serviceAccount:your-service-account@your-project.iam.gserviceaccount.com\"\n      ]\n    }\n  ]\n}\n```\n\nFurther, assign the dataset or project level roles to your service account:\n\n1.  Open the [BigQuery UI](https://console.cloud.google.com/) (Google Cloud Console).\n2.  Select **BigQuery** from the sidebar.\n3.  Select the dataset from your schema to which you want to grant access.\n4.  In the **Dataset info** window, click **SHARING** > **Permissions**.\n5.  Click **Add Principal**.\n6.  Enter the service account email in the **New principals** field.\n7.  In the **Assign roles** section, select the following roles from the role list:\n    *   **BigQuery Data Viewer**: Allows read access to the dataset.\n    *   **BigQuery Data Editor**: Allows read and write access to the dataset.\n\nAlternatively, you can add the following **IAM Policy Binding**:\n\n```\n{\n  \"bindings\": [\n    {\n      \"role\": \"roles/bigquery.dataViewer\",\n      \"members\": [\n        \"serviceAccount:your-service-account@your-project.iam.gserviceaccount.com\"\n      ],\n      \"condition\": {\n        \"title\": \"Access to dataset1\",\n        \"description\": \"Allow data viewing access to dataset1\",\n        \"expression\": \"resource.name.startsWith('projects/your-project-id/datasets/dataset1')\"\n      }\n    },\n    {\n      \"role\": \"roles/bigquery.dataEditor\",\n      \"members\": [\n        \"serviceAccount:your-service-account@your-project.iam.gserviceaccount.com\"\n      ],\n      \"condition\": {\n        \"title\": \"Access to dataset2\",\n        \"description\": \"Allow data editing access to dataset2\",\n        \"expression\": \"resource.name.startsWith('projects/your-project-id/datasets/dataset2')\"\n      }\n    }\n  ]\n}\n```\n\nIf you have input relations in many datasets from a single project, you can assign the required privileges for the complete Google Cloud project. This allows your service account to access the relation from all the datasets of the project.\n\n1.  Open the [BigQuery UI](https://console.cloud.google.com/) (Google Cloud Console).\n2.  Select **IAM & Admin** > **IAM** from the left sidebar.\n3.  Click **GRANT ACCESS** to grant permissions to your service account.\n4.  Enter the service account email in the **New principals** field.\n5.  In the **Assign roles** section, select the following roles from the role list:\n    *   **BigQuery Data Viewer**: Allows read access to the dataset.\n    *   **BigQuery Data Editor**: Allows read and write access to the dataset.\n\nAlternatively, you can add the following **IAM Policy Binding**:\n\n```\n{\n  \"bindings\": [\n    {\n      \"role\": \"roles/bigquery.dataViewer\",\n      \"members\": [\n        \"serviceAccount:your-service-account@your-project.iam.gserviceaccount.com\"\n      ]\n    },\n    {\n      \"role\": \"roles/bigquery.dataEditor\",\n      \"members\": [\n        \"serviceAccount:your-service-account@your-project.iam.gserviceaccount.com\"\n      ]\n    }\n  ]\n}\n```\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Warehouse Permissions | RudderStack Docs",
  "description": "Grant RudderStack the required permissions on your data warehouse.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/core-concepts/identity-stitching/",
  "markdown": "# Identity Stitching | RudderStack Docs\n\nStitch multiple identifiers together to create a unified and comprehensive profile.\n\n* * *\n\n*     4 minute read  \n    \n\nIdentity stitching combines unique identifiers across your digital touchpoints to identify users and create a unified, omnichannel view of your customers. Using this feature, you can:\n\n*   **Understand user behavior**: Consolidate and connect customer data from various sources to better understand customers’ preferences, behaviors, and interactions across multiple touchpoints.\n*   **Provide personalized support**: Deliver personalized marketing messages and experiences to your customers. Ensures that the right message reaches the right person at the right time, increasing the effectiveness of marketing campaigns.\n*   **Enrich user profile with features**: Enhance user profiles with additional data points and features. These features can include demographic information, preferences, purchase history, browsing behavior, or any other static or computed data points.\n\n## Problem of multiple identities\n\nCompanies gather user data across digital touchpoints like websites, mobile apps, enterprise systems like CRMs, marketing platforms, etc. During this process, a single user is identified with multiple identifiers across their product journey, like their email ID, phone number, device ID, anonymous ID, and more. Also, the user information is spread across dozens of devices, accounts, or products as they often change their devices and use work and personal emails together.\n\nThe user data stored in the warehouse contains unstructured objects that represent one or more user (or entity) identities. Competitive businesses need to clarify this mess of data points into an accurate model of customer behavior and build personalized relationships.\n\nTo create a unified user profile, it is essential to correlate all of the different user identifiers into one canonical identifier so that all the data related to a particular user or entity can be associated with that user or entity.\n\nThis unification step, called **Identity Stitching**, ties all the user data from these tables into a unified view, giving you a 360-degree view of the user.\n\n## Perform identity stitching\n\nYou can use the RudderStack’s [identity stitching model](https://www.rudderstack.com/docs/profiles/example/id-stitcher/) to define the identifiers you want to combine together. You can also define the input sources, like [Event Stream](https://www.rudderstack.com/docs/sources/event-streams/), [Cloud Extract](https://www.rudderstack.com/docs/sources/extract/) sources, which automatically produce an identity graph because all the schemas and unique identifiers are known.\n\n## Unify identities across all platforms and devices\n\nIdentity stitching is the process of matching different identifiers across multiple devices, digital touchpoints, and other data (like offline point-of-sale interactions) to build a comprehensive identity graph. This identity graph includes nodes (identifiers) and their relationships (edges), and it is generated as a transparent table in the warehouse.\n\nRudderStack performs identity stitching by mapping all the unique identifiers into a single canonical ID (for example, `rudder_id`), then uses that ID to make user feature development easier (for example, summing the payment events against a single `rudder_id`).\n\n[![single identity created from different identities](https://www.rudderstack.com/docs/images/profiles/id-stitching.webp)](https://www.rudderstack.com/docs/images/profiles/id-stitching.webp)\n\n## Identity graph\n\nIdentity stitching starts with the creation of an identity graph. The identity graph is a database housing the entity identifiers where you can identify and connect details related to your customer journeys. Further, it stitches them together in one customer profile representing their whole identity.\n\nThe most fundamental data in an identity graph is the ID tag associated with a device, account, network, session, transaction, or any other anonymous identifier that can engage with your company. Once you’ve collected this data and associated it with a single customer identity (wherever possible), your customer data becomes more reliable, and you can move on to achieve higher goals.\n\nAn identity graph incorporates models that help it in ingesting new information. As you add a new data point with whatever connections are immediately known, the graph database determines if it fits into any existing customer identifier. If there is a clear link - such as a matching device ID or conclusive biographical data like a credit card number - the graph incorporates the data into a relevant user node.\n\n[![identity graph](https://www.rudderstack.com/docs/images/profiles/identity-graph.webp)](https://www.rudderstack.com/docs/images/profiles/identity-graph.webp)\n\n## Notable features\n\n*   Use different input sources like RudderStack’s [Event Stream](https://www.rudderstack.com/docs/sources/event-streams/), [Cloud Extract](https://www.rudderstack.com/docs/sources/extract/) sources, or any existing tables in the warehouse.\n*   Merge identities for entities like a user, customer, product, business account, etc.\n*   Stitch identities from all the required channels like web, mobile, marketing platforms, etc.\n*   Use identity stitching results to develop user features and deliver personalized campaigns.\n\n#### See also\n\n*   [Sample identity stitching project](https://www.rudderstack.com/docs/profiles/example/id-stitcher/)\n*   [Problem of Identity resolution](https://www.rudderstack.com/blog/the-tale-of-identity-graph-and-identity-resolution/)\n*   [How to achieve ID mapping in a data warehouse](https://www.rudderstack.com/blog/identity-graph-and-identity-resolution-in-sql/)\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Identity Stitching | RudderStack Docs",
  "description": "Stitch multiple identifiers together to create a unified and comprehensive profile.",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/get-started/sample-data/",
  "markdown": "# Snowflake Sample Data | RudderStack Docs\n\nSample data for Snowflake\n\n* * *\n\n*     2 minute read  \n    \n\nRudderStack provides a sample data set for the Snowflake warehouse, available in the [Snowflake marketplace](https://app.snowflake.com/marketplace/listing/GZT0Z856CMJ/rudderstack-inc-rudderstack-event-data-for-quickstart). You can use this data to run the Profiles project and [Predictive features](https://www.rudderstack.com/docs/profiles/predictions/) through the UI or the CLI.\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> The number of columns in this data set are intentionally limited to make the data set easily understandable. Also, all email addresses are generated randomly and no PII is used in the generation of this data set.\n\nThe following tables, properties, and user information is included in the data set:\n\n## Tables\n\nThis data set includes below-mentioned RudderStack event data tables:\n\n*   `PAGES` - Page view events from anonymous and known users.\n*   `TRACKS` - Summarized tracked user actions (like `login`, `signup`, `order_completed`, etc.).\n*   `IDENTIFIES` - Identify calls run when a user provides a unique identifier (i.e., upon `signup`).\n*   `ORDER_COMPLETED` - Detailed payloads from tracked `order_completed` events.\n\nAs of January 2023, here are the approximate number of rows in each table:\n\n*   `PAGES`: ~43k\n*   `TRACKS`: ~14k\n*   `IDENTIFIES`: ~4.8k\n*   `ORDER_COMPLETED`: ~2.2k\n\nThese volumes follow the pattern of a normal eCommerce conversion funnel (pageview, signup, order). Specifically, here’s a rough breakdown of the user journey by volume:\n\n*   30% - Never sign in\n*   10% - Sign in but never add an item to cart\n*   40% - Add to cart and abandon\n*   20% - Make purchases\n\n> ![info](https://www.rudderstack.com/docs/images/info.svg)\n> \n> Note that this data includes _future_ data until Apr 2024, and starts in June 2023. This is to ensure that future users can still run the project with ‘current’ data. RudderStack team will refresh the data periodically throughout the year.\n\n## Properties\n\nThis data set includes a _subset_ of the standard properties found in the [Warehouse schema spec](https://www.rudderstack.com/docs/destinations/warehouse-destinations/warehouse-schema/) for each table. The required columns for running Profiles and Predictions projects are also present.\n\n### User information\n\nThe user data includes a subset of our standard properties for `identify` calls.\n\nThis data set contains a total of ~10k unique users by `anonymousId`. About half of these unique users (~4.8k) are known users (with an associated `identify` call).\n\nQuestions? Contact us by [email](mailto:docs@rudderstack.com) or on [Slack](https://rudderstack.com/join-rudderstack-slack-community)",
  "title": "Snowflake Sample Data | RudderStack Docs",
  "description": "Sample data for Snowflake",
  "languageCode": "en"
},
{
  "url": "https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/",
  "markdown": "# Project Structure | RudderStack Docs\n\nKnow the specifications of a site configuration file, PB project structure, configuration files, and their parameters.\n\n* * *\n\n*     11 minute read  \n    \n\nOnce you complete the [Profile Builder CLI](https://www.rudderstack.com/docs/profiles/get-started/profile-builder/) steps, you will be able to see the Profiles project on your machine.\n\n## Site configuration file\n\nRudderStack creates a site configuration file (`~/.pb/siteconfig.yaml`) while [creating a warehouse connection](https://www.rudderstack.com/docs/profiles/get-started/profile-builder/#2-create-warehouse-connection). It contains the following details including secrets (if any):\n\n*   Warehouse connection details and its credentials.\n*   Git repository connection credentials (if any). See [Associate SSH Key to Git Project](https://www.rudderstack.com/docs/profiles/example/packages/#associate-ssh-key-to-git-project) for more information.\n\n> ![success](https://www.rudderstack.com/docs/images/tick.svg)\n> \n> If you have multiple Profiles projects and they use different warehouse connections, you can store the details for multiple connections in the same site configuration file.\n\nA sample site configuration file containing multiple warehouse connection details is shown below:\n\n```\nconnections:\n  prod-db-profile:\n      target: dev\n      outputs:\n          dev:\n              account: inb828.us-west-3\n              dbname: MAT_STORE\n              password: password\n              role: PROFILES_ROLE\n              schema: AB_SCHEMA\n              type: snowflake\n              user: rik\n              warehouse: PROD_WAREHOUSE\n  test-db-profile:\n      target: test\n      outputs:\n          db:\n              access_token: dabasihasdho\n              catalog: rs_dev\n              host: adb-98.18.azuredatabricks.net\n              http_endpoint: /sql/1.0/warehouses/919uasdn92h\n              port: 443\n              schema: rs_profiles\n              type: databricks\n              user: johndoe@abc.onmicrosoft.com\n          dev:\n              account: uk12.us-west-1\n              dbname: RUDDERSTACK_DB\n              password: password\n              role: RS_ROLE\n              schema: RS_PROFILES\n              type: snowflake\n              user: johndoe\n              warehouse: RS_WAREHOUSE\n          snowflake-keypair: # example of an unencrypted Snowflake key-pair\n              type: snowflake\n              account: vb8.us-east-1\n              dbname: PROD_DB\n              role: PROFILES_ROLE\n              warehouse: RUDDER\n              schema: RS_PROFILES\n              user: PROFILES_USER_UNC\n              useKeyPairAuth: true\n              privateKey: -----BEGIN PRIVATE KEY----- ..keyvalue.. -----END PRIVATE KEY-----\n          snowflake-encrypted-keypair: # example of an encrypted Snowflake key-pair\n              type: snowflake\n              account: vb8.us-east-1\n              dbname: PROD_DB\n              role: PROFILES_ROLE\n              warehouse: RUDDER\n              schema: RS_PROFILES\n              user: PROFILES_USER_EC\n              useKeyPairAuth: true\n              privateKey: -----BEGIN ENCRYPTED PRIVATE KEY----- ..keyvalue.. -----END ENCRYPTED PRIVATE KEY-----\n              privateKeyPassphrase: valuegoeshere!\n          redshift_v1:\n              dbname: warehouse_rs\n              host: warehouse.abc.us-east-3.redshift.amazonaws.com\n              password: password\n              port: 5419\n              schema: rs_profiles\n              type: redshift\n              user: redshift_user\n          redshift_v2:\n              workgroup_name: warehouse_workgroup\n              region: us-east-1\n              driver: v2\n              sslmode: require\n              dbname: warehouse_rs\n              schema: rs_profiles\n              type: redshift\n              access_key_id: ******************\n              secret_access_key: ******************************\n           big:\n              credentials:\n                auth_provider_x509_cert_url: https://www.googleapis.com/oauth2/v1/certs\n                auth_uri: https://accounts.google.com/o/oauth2/auth\n                client_email: johndoe@big-query-integration-poc.iam.gserviceaccount.com\n                client_id: \"123345678909872\"\n                client_x509_cert_url: https://www.googleapis.com/robot/v1/metadata/x509/johndoe%40big-query-integration-poc.iam.gserviceaccount.com\n                private_key: |\n                    -----BEGIN PRIVATE KEY-----                    \n                   ## private key\n                    -----END PRIVATE KEY-----\n                private_key_id: 5271368bhjbd72y278222e233w23e231e\n              project_id: big-query-integration-poc\n                token_uri: https://oauth2.googleapis.com/token\n                type: service_account\n                project_id: rs_profiles\n              schema: rs_profiles\n              type: bigquery\n              user: johndoe@big-query-integration-poc.iam.gserviceaccount.com\ngitcreds:\n - reporegex: \"git@github.com:REPO_OWNER/*\" # in case of ssh url\n   key: |\n       -----BEGIN OPENSSH PRIVATE KEY-----\n       **********************************************************************\n       **********************************************************************\n       **********************************************************************\n       **********************************************************************\n       ****************************************************************\n       -----END OPENSSH PRIVATE KEY-----       \n - reporegex: \"https://github.com/rudderlabs/*\" # https url\n   basic_auth:\n     username: oauth2\n     password: ... # your personal access token with read permission\npy_models:\n    enabled: true # in case you are using Python models in your project, else set it to false\n    python_path: /opt/anaconda3/bin/python # the path where Python is installed (run `which python` to get the full path). If `py_models` is not enabled, set it to `\"\"`. For Windows, you may pass the path value as: python.exe\n    credentials_presets: null\n    allowed_git_urls_regex: \"\"\ncache_dir: /Users/YOURNAME/.pb/WhtGitCache/ # For Windows, the directory path will have forward slash (\\)\nfilepath: /Users/YOURNAME/.pb/siteconfig.yaml # For Windows, the file path will have forward slash (\\)\n```\n\n## Profiles project structure\n\nThe following image shows the folder structure of the project:\n\n[![Project structure](https://www.rudderstack.com/docs/images/profiles/project-structure.webp)](https://www.rudderstack.com/docs/images/profiles/project-structure.webp)\n\n### `pb_project.yaml`\n\nThe `pb_project.yaml` file contains the project details like the name, schema version, warehouse connection, [entityEntity refers to a digital representation of a class of real world distinct objects for which you can create a profile.](https://www.rudderstack.com/docs/resources/glossary/#entity) names along with ID types, etc.\n\nA sample `pb_project.yaml` file with entity type as `user`:\n\n```\n# Project name\nname: sample_attribution\n\n# Project's yaml schema version\nschema_version: 69\n\n# WH Connection to use\nconnection: test\n\n# Model folders to use\nmodel_folders:\n  - models\n\n# Entities in the project and their ids\nentities:\n  - name: user\n    # Change the following to set a custom ID stitcher(optional).\n    # id_stitcher: models/user_id_stitcher\n    id_types:\n      - main_id\n      - user_id\n      - anonymous_id\n      - email\n    # Feature views - to get all features/traits of an entity into a single view (optional)\n    feature_views: \n      using_ids: \n        - id: user_id \n          name: with_user_id\n          \n# lib packages can be imported to signify that this project's properties are inherited\npackages:\n  - name: corelib\n    url: \"https://github.com/rudderlabs/rudderstack-profiles-corelib/tag/schema_{{best_schema_version}}\"\n\n# Profiles can also use certain model types defined in Python.\n# Examples include ML models. Those dependencies are specified here.\npython_requirements:\n  - profiles-pycorelib==0.1.0\n```\n\nThe following table explains the fields used in the above file:\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `name` | String | Name of the project. |\n| `schema_version` | Integer | Project’s YAML version. Each new schema version comes with improvements and added functionalities. |\n| `connection` | String | Connection name from [`siteconfig.yaml`](https://www.rudderstack.com/docs/profiles/cli-user-guide/structure/) used for connecting to the warehouse. |\n| `model_folders` | String | Names of folders where model files are stored. |\n| [`entities`](#entities) | List | Lists all the entities used in the project for which you can define models. Each entry for an entity here is a JSON object specifying entity’s name and attributes. |\n| [`packages`](#packages) | List | List of packages with their name and URL. Optionally, you can also extend ID types filters for including or excluding certain values from this list. |\n\n##### `entities`\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `name` | String | Name of the entity used in the project. |\n| `id_stitcher` | String | (Optional) Reference path of the [custom ID stitcher model](https://www.rudderstack.com/docs/profiles/example/id-stitcher/#sample-project-for-custom-id-stitcher) (for example, `models/name_of_id_stitcher`). |\n| [`id_types`](https://www.rudderstack.com/docs/profiles/example/packages/#modify-existing-id-types) | List | List of all identifier types associated with the current entity. |\n| `feature_views` | List | (Optional) Lists all the view names along with their ID’s being served for [feature views model](https://www.rudderstack.com/docs/profiles/example/feature-views/). |\n\n> ![warning](https://www.rudderstack.com/docs/images/warning.svg)\n> \n> The identifiers listed in `id_types` may have a many-to-one relationship with an entity but each ID must belong to a single entity.\n> \n> For example, a `user` entity might have `id_types` as the `salesforce_id`, `anonymous_id`, `email`, and `session_id` (a user may have many session IDs over time). However, it should not include something like `ip_address`, as a single IP can be used by different users at different times and it is not considered as a user identifier.\n\n##### `packages`\n\nYou can import library packages in a project signifying where the project inherits its properties from.\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `name` | String | Specify a name. |\n| `url` | String | HTTPS URL of the lib package, with a tag for the best schema version. |\n\n### `inputs.yaml`\n\nThe `inputs.yaml` file lists all the input sources which should be used to run [models](#models) and eventually create outputs. You can also define specific constraints on the input sources using the [`contract`](https://www.rudderstack.com/docs/profiles/example/packages/#model-contracts) key.\n\nRudderStack supports the following input sources:\n\n*   **Table**: Specify the table’s name in the `table` key.\n*   **View**: Specify the view’s name in the `view` key.\n*   **S3 bucket**: Specify the path of the CSV file in your bucket in the `s3` key. See [Use Amazon S3 bucket as input](https://www.rudderstack.com/docs/profiles/example/packages/#use-amazon-s3-bucket-as-input) for more information.\n*   **Local CSV file**: Specify the file path in the `csv` key. See [Use CSV file as input](https://www.rudderstack.com/docs/profiles/example/packages/#use-csv-file-as-input) for more information.\n\nYou can also specify the table/view along with the column name and SQL expression for retrieving values. The input specification may also include metadata and the constraints on those columns.\n\nA sample `inputs.yaml` file:\n\n```\ninputs:\n  - name: salesforceTasks\n    contract:\n      is_optional: false\n      is_event_stream: true\n      with_entity_ids:\n        - user\n      with_columns:\n        - name: activitydate\n        - name: whoid\n    app_defaults:\n      table: salesforce.task\n      # For BigQuery, it is recommended to use view (view: _views_<view_name>) instead of table for event streaming data sets.\n      occurred_at_col: activitydate\n      row_identifier:\n        - activitydate\n        - whoid\n      ids:\n        # column name or sql expression\n        - select: \"whoid\" \n          type: salesforce_id\n          entity: user\n          to_default_stitcher: true\n  - name: salesforceContact\n    contract:\n      is_optional: false\n      is_event_stream: true\n      with_entity_ids:\n        - user\n      with_columns:\n        - name: createddate\n        - name: id\n        - name: email\n    app_defaults:\n      table: salesforce.contact\n      # For BigQuery, it is recommended to use view (view: _views_<view_name>) instead of table for event streaming data sets.\n      occurred_at_col: createddate\n      ids:\n        - select: \"id\"\n          type: salesforce_id\n          entity: user\n          to_default_stitcher: true\n        - select: \"case when lower(email) like any ('%gmail%', '%yahoo%') then lower(email)  else split_part(lower(email),'@',2) end\"\n          type: email\n          entity: user\n          to_default_stitcher: true\n  - name: websitePageVisits\n    contract:\n      is_optional: false\n      is_event_stream: true\n      with_entity_ids:\n        - user\n      with_columns:\n        - name: timestamp\n        - name: anonymous_id\n        - name: context_traits_email\n        - name: user_id\n    app_defaults:\n      table: autotrack.pages\n      # For BigQuery, it is recommended to use view (view: _views_<view_name>) instead of table for event streaming data sets.\n      occurred_at_col: timestamp\n      ids:\n        - select: \"anonymous_id\"\n          type: rudder_anon_id\n          entity: user\n          to_default_stitcher: true\n        # below sql expression check the email type, if it is gmail and yahoo return email otherwise spilt email return domain of email.  \n        - select: \"case when lower(coalesce(context_traits_email, user_id)) like any ('%gmail%', '%yahoo%') then lower(coalesce(context_traits_email, user_id))  \\\n              else split_part(lower(coalesce(context_traits_email, user_id)),'@',2) end\"\n          type: email\n          entity: user\n          to_default_stitcher: true\n```\n\nThe following table explains the fields used in the above file:\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `name` | String | Name of the input model. |\n| `contract` | Dictionary | A model contract provides essential information about the model like the necessary columns and entity IDs that it should contain. This is crucial for other models that depend on it, as it helps find errors early and closer to the point of their origin. |\n| `app_defaults` | Dictionary | Values that input defaults to when you run the project directly. For library projects, you can remap the inputs and override the app defaults while importing the library projects. |\n\n##### `contract`\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `is_optional` | Boolean | Whether the model’s existence in the warehouse is mandatory. |\n| `is_event_stream` | Boolean | Whether the table/view is a series/stream of events. A model that has a `timestamp` column is an event stream model. |\n| `with_entity_ids` | List | List of all entities with which the model is related. A model M1 is considered related to model M2 if there is an ID of model M2 in M1’s output columns. |\n| `with_columns` | List | List of all ID columns that this contract is applicable for. |\n\n##### `app_defaults`\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `table`/`view` | String | Name of the warehouse table/view containing the data. You can prefix the table/view with an external schema or database in the same warehouse, if applicable. Note that you can specify either a table or view but not both. |\n| `s3` | String | Name of the CSV file in your Amazon S3 bucket containing the data. |\n| `csv` | String | Name of the CSV file in your local storage containing the data. The file path should be relative to the project folder. |\n| `occurred_at_col` | String | Name of the column in table/view containing the timestamp. |\n| `row_identifier` | String | (Optional) List of all the identifiers whose combination acts as a primary key. If the unique row exists already during the run process while creating a copy of the input table, it is not copied again. |\n| [`ids`](#ids) | List | Specifies the list of all IDs present in the source table along with their column names (or column SQL expressions).<br><br>**Note**: Some input columns may contain IDs of associated entities. By their presence, such ID columns associate the row with the entity of the ID. The ID Stitcher may use these declarations to automatically discover ID-to-ID edges. |\n\n##### `ids`\n\n| Field | Data type | Description |\n| --- | --- | --- |\n| `select` | String | Specifies the column name to be used as the identifier. You can also specify a SQL expression if some transformation is required.<br><br>**Note**: You can also refer table from another Database/Schema in the same data warehouse. For example, `table: <database_name>.<schema_name>.<table_name>`. |\n| `type` | String | Type of identifier. All the ID types of a project are declared in [`pb_project.yaml`](#project-details). You can specify additional filters on the column expression.<br><br>**Note**: Each ID type is linked only with a single entity. |\n| `entity` | String | Entity name defined in the [`pb_project.yaml`](#project-details) file to which the ID belongs. |\n| `to_default_stitcher` | Boolean | Set this **optional** field to `false` for the ID to be excluded from the default ID stitcher. |\n\n### `profiles.yaml`\n\nThe `profiles.yaml` file lists `entity_vars`/`input_vars` used to create the output tables under `var_groups`.\n\nThe following `profiles.yaml` file defines a group of vars named `vars_list`. It also defines two models namely `user_profile`, and `user_python_model`:\n\n```\nvar_groups:\n  name: vars_list\n  entity_key: user # This is the name defined in project file. If we change that, we need to change the name here too.\n  vars:\n    - entity_var:\n        name: is_mql\n        select: max(case when salesForceLeadsTable.mql__c == 'True' then 1 else 0 end)\n        from: inputs/salesForceLeadsTable\n        description: Whether a domain is mql or not\n    - entity_var:\n        name: blacklistFlag\n        select: max(case when exclude_reason is not null then 1 else 0 end)\n        from: inputs/blacklistDomains\n        where: (context_sources_job_run_id = (select top 1 context_sources_job_run_id from blacklistDomains order by timestamp desc))\n        is_feature: false\n    - entity_var:\n        name: ignore_domain\n        select: case when {{user.Var(\"blacklistFlag\")}} = 1 or {{user.Var(\"domainSummary_account_type\")}} like '%free%' then 1 else 0 end\n        description: Whether a domain should be ignored for the analysis\n    - entity_var:\n        name: salesEvents\n        select: json_agg(activitydate, case when (type='Email' or tasksubtype = 'Email') then case when lower(subject) like '%[in]%' then 'sf_inbound_email' \\\n              else 'sf_outbound_email' end when macro(call_conversion) then 'sf_call' else null end as event)\n        from: inputs/salesforceTasks\n        description: Salesforce touches are converted to one of fol